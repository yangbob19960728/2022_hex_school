var zc=Object.defineProperty;var Hc=(t,e,r)=>e in t?zc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dn=(t,e,r)=>(Hc(t,typeof e!="symbol"?e+"":e,r),r),Rl=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var Dr=(t,e,r)=>(Rl(t,e,"read from private field"),r?r.call(t):e.get(t)),ri=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},yi=(t,e,r,_e)=>(Rl(t,e,"write to private field"),_e?_e.call(t,r):e.set(t,r),r),jo=(t,e,r,_e)=>({set _(Se){yi(t,e,Se,r)},get _(){return Dr(t,e,_e)}}),oi=(t,e,r)=>(Rl(t,e,"access private method"),r);function _mergeNamespaces(t,e){for(var r=0;r<e.length;r++){const _e=e[r];if(typeof _e!="string"&&!Array.isArray(_e)){for(const Se in _e)if(Se!=="default"&&!(Se in t)){const Ae=Object.getOwnPropertyDescriptor(_e,Se);Ae&&Object.defineProperty(t,Se,Ae.get?Ae:{enumerable:!0,get:()=>_e[Se]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function makeMap(t,e){const r=Object.create(null),_e=t.split(",");for(let Se=0;Se<_e.length;Se++)r[_e[Se]]=!0;return e?Se=>!!r[Se.toLowerCase()]:Se=>!!r[Se]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function normalizeStyle(t){if(isArray$1(t)){const e={};for(let r=0;r<t.length;r++){const _e=t[r],Se=isString(_e)?parseStringStyle(_e):normalizeStyle(_e);if(Se)for(const Ae in Se)e[Ae]=Se[Ae]}return e}else{if(isString(t))return t;if(isObject$1(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(t){const e={};return t.split(listDelimiterRE).forEach(r=>{if(r){const _e=r.split(propertyDelimiterRE);_e.length>1&&(e[_e[0].trim()]=_e[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray$1(t))for(let r=0;r<t.length;r++){const _e=normalizeClass(t[r]);_e&&(e+=_e+" ")}else if(isObject$1(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const toDisplayString=t=>isString(t)?t:t==null?"":isArray$1(t)||isObject$1(t)&&(t.toString===objectToString||!isFunction(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[_e,Se])=>(r[`${_e} =>`]=Se,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$1(e)&&!isArray$1(e)&&!isPlainObject(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty.call(t,e),isArray$1=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$1=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$1(t)&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis$2;const getGlobalThis=()=>_globalThis$2||(_globalThis$2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let r,_e;for(r=0,_e=this.effects.length;r<_e;r++)this.effects[r].stop();for(r=0,_e=this.cleanups.length;r<_e;r++)this.cleanups[r]();if(this.scopes)for(r=0,_e=this.scopes.length;r<_e;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const Se=this.parent.scopes.pop();Se&&Se!==this&&(this.parent.scopes[this.index]=Se,Se.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let _e=0;_e<e.length;_e++){const Se=e[_e];wasTracked(Se)&&!newTracked(Se)?Se.delete(t):e[r++]=Se,Se.w&=~trackOpBit,Se.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,_e){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,_e)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let _e=targetMap.get(t);_e||targetMap.set(t,_e=new Map);let Se=_e.get(r);Se||_e.set(r,Se=createDep()),trackEffects(Se)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,_e,Se,Ae){const Re=targetMap.get(t);if(!Re)return;let Ee=[];if(e==="clear")Ee=[...Re.values()];else if(r==="length"&&isArray$1(t))Re.forEach((Ce,Te)=>{(Te==="length"||Te>=_e)&&Ee.push(Ce)});else switch(r!==void 0&&Ee.push(Re.get(r)),e){case"add":isArray$1(t)?isIntegerKey(r)&&Ee.push(Re.get("length")):(Ee.push(Re.get(ITERATE_KEY)),isMap(t)&&Ee.push(Re.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(t)||(Ee.push(Re.get(ITERATE_KEY)),isMap(t)&&Ee.push(Re.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&Ee.push(Re.get(ITERATE_KEY));break}if(Ee.length===1)Ee[0]&&triggerEffects(Ee[0]);else{const Ce=[];for(const Te of Ee)Te&&Ce.push(...Te);triggerEffects(createDep(Ce))}}function triggerEffects(t,e){const r=isArray$1(t)?t:[...t];for(const _e of r)_e.computed&&triggerEffect(_e);for(const _e of r)_e.computed||triggerEffect(_e)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const _e=toRaw(this);for(let Ae=0,Re=this.length;Ae<Re;Ae++)track(_e,"get",Ae+"");const Se=_e[e](...r);return Se===-1||Se===!1?_e[e](...r.map(toRaw)):Se}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const _e=toRaw(this)[e].apply(this,r);return resetTracking(),_e}}),t}function createGetter(t=!1,e=!1){return function(_e,Se,Ae){if(Se==="__v_isReactive")return!t;if(Se==="__v_isReadonly")return t;if(Se==="__v_isShallow")return e;if(Se==="__v_raw"&&Ae===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(_e))return _e;const Re=isArray$1(_e);if(!t&&Re&&hasOwn(arrayInstrumentations,Se))return Reflect.get(arrayInstrumentations,Se,Ae);const Ee=Reflect.get(_e,Se,Ae);return(isSymbol(Se)?builtInSymbols.has(Se):isNonTrackableKeys(Se))||(t||track(_e,"get",Se),e)?Ee:isRef(Ee)?Re&&isIntegerKey(Se)?Ee:Ee.value:isObject$1(Ee)?t?readonly(Ee):reactive(Ee):Ee}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(r,_e,Se,Ae){let Re=r[_e];if(isReadonly(Re)&&isRef(Re)&&!isRef(Se))return!1;if(!t&&(!isShallow(Se)&&!isReadonly(Se)&&(Re=toRaw(Re),Se=toRaw(Se)),!isArray$1(r)&&isRef(Re)&&!isRef(Se)))return Re.value=Se,!0;const Ee=isArray$1(r)&&isIntegerKey(_e)?Number(_e)<r.length:hasOwn(r,_e),Ce=Reflect.set(r,_e,Se,Ae);return r===toRaw(Ae)&&(Ee?hasChanged(Se,Re)&&trigger(r,"set",_e,Se):trigger(r,"add",_e,Se)),Ce}}function deleteProperty(t,e){const r=hasOwn(t,e);t[e];const _e=Reflect.deleteProperty(t,e);return _e&&r&&trigger(t,"delete",e,void 0),_e}function has(t,e){const r=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),r}function ownKeys(t){return track(t,"iterate",isArray$1(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1(t,e,r=!1,_e=!1){t=t.__v_raw;const Se=toRaw(t),Ae=toRaw(e);r||(e!==Ae&&track(Se,"get",e),track(Se,"get",Ae));const{has:Re}=getProto(Se),Ee=_e?toShallow:r?toReadonly:toReactive;if(Re.call(Se,e))return Ee(t.get(e));if(Re.call(Se,Ae))return Ee(t.get(Ae));t!==Se&&t.get(e)}function has$1(t,e=!1){const r=this.__v_raw,_e=toRaw(r),Se=toRaw(t);return e||(t!==Se&&track(_e,"has",t),track(_e,"has",Se)),t===Se?r.has(t):r.has(t)||r.has(Se)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1(t,e){e=toRaw(e);const r=toRaw(this),{has:_e,get:Se}=getProto(r);let Ae=_e.call(r,t);Ae||(t=toRaw(t),Ae=_e.call(r,t));const Re=Se.call(r,t);return r.set(t,e),Ae?hasChanged(e,Re)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:_e}=getProto(e);let Se=r.call(e,t);Se||(t=toRaw(t),Se=r.call(e,t)),_e&&_e.call(e,t);const Ae=e.delete(t);return Se&&trigger(e,"delete",t,void 0),Ae}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(_e,Se){const Ae=this,Re=Ae.__v_raw,Ee=toRaw(Re),Ce=e?toShallow:t?toReadonly:toReactive;return!t&&track(Ee,"iterate",ITERATE_KEY),Re.forEach((Te,De)=>_e.call(Se,Ce(Te),Ce(De),Ae))}}function createIterableMethod(t,e,r){return function(..._e){const Se=this.__v_raw,Ae=toRaw(Se),Re=isMap(Ae),Ee=t==="entries"||t===Symbol.iterator&&Re,Ce=t==="keys"&&Re,Te=Se[t](..._e),De=r?toShallow:e?toReadonly:toReactive;return!e&&track(Ae,"iterate",Ce?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ke,done:Pe}=Te.next();return Pe?{value:ke,done:Pe}:{value:Ee?[De(ke[0]),De(ke[1])]:De(ke),done:Pe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(Ae){return get$1(this,Ae)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(Ae){return get$1(this,Ae,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(Ae){return get$1(this,Ae,!0)},get size(){return size(this,!0)},has(Ae){return has$1.call(this,Ae,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},_e={get(Ae){return get$1(this,Ae,!0,!0)},get size(){return size(this,!0)},has(Ae){return has$1.call(this,Ae,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Ae=>{t[Ae]=createIterableMethod(Ae,!1,!1),r[Ae]=createIterableMethod(Ae,!0,!1),e[Ae]=createIterableMethod(Ae,!1,!0),_e[Ae]=createIterableMethod(Ae,!0,!0)}),[t,r,e,_e]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(_e,Se,Ae)=>Se==="__v_isReactive"?!t:Se==="__v_isReadonly"?t:Se==="__v_raw"?_e:Reflect.get(hasOwn(r,Se)&&Se in _e?r:_e,Se,Ae)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,r,_e,Se){if(!isObject$1(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const Ae=Se.get(t);if(Ae)return Ae;const Re=getTargetType(t);if(Re===0)return t;const Ee=new Proxy(t,Re===2?_e:r);return Se.set(t,Ee),Ee}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$1(t)?reactive(t):t,toReadonly=t=>isObject$1(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,_e)=>{const Se=t[e];return isRef(Se)&&!isRef(r)?(Se.value=r,!0):Reflect.set(t,e,r,_e)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class ObjectRefImpl{constructor(e,r,_e){this._object=e,this._key=r,this._defaultValue=_e,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(t,e,r){const _e=t[e];return isRef(_e)?_e:new ObjectRefImpl(t,e,r)}var _a$2;class ComputedRefImpl{constructor(e,r,_e,Se){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$2]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Se,this.__v_isReadonly=_e}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a$2="__v_isReadonly";function computed$1(t,e,r=!1){let _e,Se;const Ae=isFunction(t);return Ae?(_e=t,Se=NOOP):(_e=t.get,Se=t.set),new ComputedRefImpl(_e,Se,Ae||!Se,r)}const stack=[];function warn(t,...e){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,_e=r&&r.appContext.config.warnHandler,Se=getComponentTrace();if(_e)callWithErrorHandling(_e,r,11,[t+e.join(""),r&&r.proxy,Se.map(({vnode:Ae})=>`at <${formatComponentName(r,Ae.type)}>`).join(`
`),Se]);else{const Ae=[`[Vue warn]: ${t}`,...e];Se.length&&Ae.push(`
`,...formatTrace(Se)),console.warn(...Ae)}resetTracking()}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const _e=t.component&&t.component.parent;t=_e&&_e.vnode}return e}function formatTrace(t){const e=[];return t.forEach((r,_e)=>{e.push(..._e===0?[]:[`
`],...formatTraceEntry(r))}),e}function formatTraceEntry({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",_e=t.component?t.component.parent==null:!1,Se=` at <${formatComponentName(t.component,t.type,_e)}`,Ae=">"+r;return t.props?[Se,...formatProps(t.props),Ae]:[Se+Ae]}function formatProps(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(_e=>{e.push(...formatProp(_e,t[_e]))}),r.length>3&&e.push(" ..."),e}function formatProp(t,e,r){return isString(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:isRef(e)?(e=formatProp(t,toRaw(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):isFunction(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),r?e:[`${t}=`,e])}function callWithErrorHandling(t,e,r,_e){let Se;try{Se=_e?t(..._e):t()}catch(Ae){handleError(Ae,e,r)}return Se}function callWithAsyncErrorHandling(t,e,r,_e){if(isFunction(t)){const Ae=callWithErrorHandling(t,e,r,_e);return Ae&&isPromise(Ae)&&Ae.catch(Re=>{handleError(Re,e,r)}),Ae}const Se=[];for(let Ae=0;Ae<t.length;Ae++)Se.push(callWithAsyncErrorHandling(t[Ae],e,r,_e));return Se}function handleError(t,e,r,_e=!0){const Se=e?e.vnode:null;if(e){let Ae=e.parent;const Re=e.proxy,Ee=r;for(;Ae;){const Te=Ae.ec;if(Te){for(let De=0;De<Te.length;De++)if(Te[De](t,Re,Ee)===!1)return}Ae=Ae.parent}const Ce=e.appContext.config.errorHandler;if(Ce){callWithErrorHandling(Ce,null,10,[t,Re,Ee]);return}}logError(t,r,Se,_e)}function logError(t,e,r,_e=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const _e=e+r>>>1;getId(queue[_e])<t?e=_e+1:r=_e}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$1(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,_e)=>getId(r)-getId(_e)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(t,e,...r){if(t.isUnmounted)return;const _e=t.vnode.props||EMPTY_OBJ;let Se=r;const Ae=e.startsWith("update:"),Re=Ae&&e.slice(7);if(Re&&Re in _e){const De=`${Re==="modelValue"?"model":Re}Modifiers`,{number:ke,trim:Pe}=_e[De]||EMPTY_OBJ;Pe&&(Se=r.map(xe=>xe.trim())),ke&&(Se=r.map(toNumber))}let Ee,Ce=_e[Ee=toHandlerKey(e)]||_e[Ee=toHandlerKey(camelize(e))];!Ce&&Ae&&(Ce=_e[Ee=toHandlerKey(hyphenate(e))]),Ce&&callWithAsyncErrorHandling(Ce,t,6,Se);const Te=_e[Ee+"Once"];if(Te){if(!t.emitted)t.emitted={};else if(t.emitted[Ee])return;t.emitted[Ee]=!0,callWithAsyncErrorHandling(Te,t,6,Se)}}function normalizeEmitsOptions(t,e,r=!1){const _e=e.emitsCache,Se=_e.get(t);if(Se!==void 0)return Se;const Ae=t.emits;let Re={},Ee=!1;if(!isFunction(t)){const Ce=Te=>{const De=normalizeEmitsOptions(Te,e,!0);De&&(Ee=!0,extend(Re,De))};!r&&e.mixins.length&&e.mixins.forEach(Ce),t.extends&&Ce(t.extends),t.mixins&&t.mixins.forEach(Ce)}return!Ae&&!Ee?(isObject$1(t)&&_e.set(t,null),null):(isArray$1(Ae)?Ae.forEach(Ce=>Re[Ce]=null):extend(Re,Ae),isObject$1(t)&&_e.set(t,Re),Re)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const _e=(...Se)=>{_e._d&&setBlockTracking(-1);const Ae=setCurrentRenderingInstance(e);let Re;try{Re=t(...Se)}finally{setCurrentRenderingInstance(Ae),_e._d&&setBlockTracking(1)}return Re};return _e._n=!0,_e._c=!0,_e._d=!0,_e}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:_e,withProxy:Se,props:Ae,propsOptions:[Re],slots:Ee,attrs:Ce,emit:Te,render:De,renderCache:ke,data:Pe,setupState:xe,ctx:Fe,inheritAttrs:Ie}=t;let Me,Oe;const Be=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const Ve=Se||_e;Me=normalizeVNode(De.call(Ve,Ve,ke,Ae,xe,Pe,Fe)),Oe=Ce}else{const Ve=e;Me=normalizeVNode(Ve.length>1?Ve(Ae,{attrs:Ce,slots:Ee,emit:Te}):Ve(Ae,null)),Oe=e.props?Ce:getFunctionalFallthrough(Ce)}}catch(Ve){blockStack.length=0,handleError(Ve,t,1),Me=createVNode(Comment)}let je=Me;if(Oe&&Ie!==!1){const Ve=Object.keys(Oe),{shapeFlag:ze}=je;Ve.length&&ze&7&&(Re&&Ve.some(isModelListener)&&(Oe=filterModelListeners(Oe,Re)),je=cloneVNode(je,Oe))}return r.dirs&&(je=cloneVNode(je),je.dirs=je.dirs?je.dirs.concat(r.dirs):r.dirs),r.transition&&(je.transition=r.transition),Me=je,setCurrentRenderingInstance(Be),Me}function filterSingleRoot(t){let e;for(let r=0;r<t.length;r++){const _e=t[r];if(isVNode(_e)){if(_e.type!==Comment||_e.children==="v-if"){if(e)return;e=_e}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const _e in t)(!isModelListener(_e)||!(_e.slice(9)in e))&&(r[_e]=t[_e]);return r};function shouldUpdateComponent(t,e,r){const{props:_e,children:Se,component:Ae}=t,{props:Re,children:Ee,patchFlag:Ce}=e,Te=Ae.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&Ce>=0){if(Ce&1024)return!0;if(Ce&16)return _e?hasPropsChanged(_e,Re,Te):!!Re;if(Ce&8){const De=e.dynamicProps;for(let ke=0;ke<De.length;ke++){const Pe=De[ke];if(Re[Pe]!==_e[Pe]&&!isEmitListener(Te,Pe))return!0}}}else return(Se||Ee)&&(!Ee||!Ee.$stable)?!0:_e===Re?!1:_e?Re?hasPropsChanged(_e,Re,Te):!0:!!Re;return!1}function hasPropsChanged(t,e,r){const _e=Object.keys(e);if(_e.length!==Object.keys(t).length)return!0;for(let Se=0;Se<_e.length;Se++){const Ae=_e[Se];if(e[Ae]!==t[Ae]&&!isEmitListener(r,Ae))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,r,_e,Se,Ae,Re,Ee,Ce,Te){t==null?mountSuspense(e,r,_e,Se,Ae,Re,Ee,Ce,Te):patchSuspense(t,e,r,_e,Se,Re,Ee,Ce,Te)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const r=t.props&&t.props[e];isFunction(r)&&r()}function mountSuspense(t,e,r,_e,Se,Ae,Re,Ee,Ce){const{p:Te,o:{createElement:De}}=Ce,ke=De("div"),Pe=t.suspense=createSuspenseBoundary(t,Se,_e,e,ke,r,Ae,Re,Ee,Ce);Te(null,Pe.pendingBranch=t.ssContent,ke,null,_e,Pe,Ae,Re),Pe.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),Te(null,t.ssFallback,e,r,_e,null,Ae,Re),setActiveBranch(Pe,t.ssFallback)):Pe.resolve()}function patchSuspense(t,e,r,_e,Se,Ae,Re,Ee,{p:Ce,um:Te,o:{createElement:De}}){const ke=e.suspense=t.suspense;ke.vnode=e,e.el=t.el;const Pe=e.ssContent,xe=e.ssFallback,{activeBranch:Fe,pendingBranch:Ie,isInFallback:Me,isHydrating:Oe}=ke;if(Ie)ke.pendingBranch=Pe,isSameVNodeType(Pe,Ie)?(Ce(Ie,Pe,ke.hiddenContainer,null,Se,ke,Ae,Re,Ee),ke.deps<=0?ke.resolve():Me&&(Ce(Fe,xe,r,_e,Se,null,Ae,Re,Ee),setActiveBranch(ke,xe))):(ke.pendingId++,Oe?(ke.isHydrating=!1,ke.activeBranch=Ie):Te(Ie,Se,ke),ke.deps=0,ke.effects.length=0,ke.hiddenContainer=De("div"),Me?(Ce(null,Pe,ke.hiddenContainer,null,Se,ke,Ae,Re,Ee),ke.deps<=0?ke.resolve():(Ce(Fe,xe,r,_e,Se,null,Ae,Re,Ee),setActiveBranch(ke,xe))):Fe&&isSameVNodeType(Pe,Fe)?(Ce(Fe,Pe,r,_e,Se,ke,Ae,Re,Ee),ke.resolve(!0)):(Ce(null,Pe,ke.hiddenContainer,null,Se,ke,Ae,Re,Ee),ke.deps<=0&&ke.resolve()));else if(Fe&&isSameVNodeType(Pe,Fe))Ce(Fe,Pe,r,_e,Se,ke,Ae,Re,Ee),setActiveBranch(ke,Pe);else if(triggerEvent(e,"onPending"),ke.pendingBranch=Pe,ke.pendingId++,Ce(null,Pe,ke.hiddenContainer,null,Se,ke,Ae,Re,Ee),ke.deps<=0)ke.resolve();else{const{timeout:Be,pendingId:je}=ke;Be>0?setTimeout(()=>{ke.pendingId===je&&ke.fallback(xe)},Be):Be===0&&ke.fallback(xe)}}function createSuspenseBoundary(t,e,r,_e,Se,Ae,Re,Ee,Ce,Te,De=!1){const{p:ke,m:Pe,um:xe,n:Fe,o:{parentNode:Ie,remove:Me}}=Te,Oe=toNumber(t.props&&t.props.timeout),Be={vnode:t,parent:e,parentComponent:r,isSVG:Re,container:_e,hiddenContainer:Se,anchor:Ae,deps:0,pendingId:0,timeout:typeof Oe=="number"?Oe:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:De,isUnmounted:!1,effects:[],resolve(je=!1){const{vnode:Ve,activeBranch:ze,pendingBranch:He,pendingId:$e,effects:Ue,parentComponent:Xe,container:nr}=Be;if(Be.isHydrating)Be.isHydrating=!1;else if(!je){const mr=ze&&He.transition&&He.transition.mode==="out-in";mr&&(ze.transition.afterLeave=()=>{$e===Be.pendingId&&Pe(He,nr,pr,0)});let{anchor:pr}=Be;ze&&(pr=Fe(ze),xe(ze,Xe,Be,!0)),mr||Pe(He,nr,pr,0)}setActiveBranch(Be,He),Be.pendingBranch=null,Be.isInFallback=!1;let Ge=Be.parent,St=!1;for(;Ge;){if(Ge.pendingBranch){Ge.effects.push(...Ue),St=!0;break}Ge=Ge.parent}St||queuePostFlushCb(Ue),Be.effects=[],triggerEvent(Ve,"onResolve")},fallback(je){if(!Be.pendingBranch)return;const{vnode:Ve,activeBranch:ze,parentComponent:He,container:$e,isSVG:Ue}=Be;triggerEvent(Ve,"onFallback");const Xe=Fe(ze),nr=()=>{!Be.isInFallback||(ke(null,je,$e,Xe,He,null,Ue,Ee,Ce),setActiveBranch(Be,je))},Ge=je.transition&&je.transition.mode==="out-in";Ge&&(ze.transition.afterLeave=nr),Be.isInFallback=!0,xe(ze,He,null,!0),Ge||nr()},move(je,Ve,ze){Be.activeBranch&&Pe(Be.activeBranch,je,Ve,ze),Be.container=je},next(){return Be.activeBranch&&Fe(Be.activeBranch)},registerDep(je,Ve){const ze=!!Be.pendingBranch;ze&&Be.deps++;const He=je.vnode.el;je.asyncDep.catch($e=>{handleError($e,je,0)}).then($e=>{if(je.isUnmounted||Be.isUnmounted||Be.pendingId!==je.suspenseId)return;je.asyncResolved=!0;const{vnode:Ue}=je;handleSetupResult(je,$e,!1),He&&(Ue.el=He);const Xe=!He&&je.subTree.el;Ve(je,Ue,Ie(He||je.subTree.el),He?null:Fe(je.subTree),Be,Re,Ce),Xe&&Me(Xe),updateHOCHostEl(je,Ue.el),ze&&--Be.deps===0&&Be.resolve()})},unmount(je,Ve){Be.isUnmounted=!0,Be.activeBranch&&xe(Be.activeBranch,r,je,Ve),Be.pendingBranch&&xe(Be.pendingBranch,r,je,Ve)}};return Be}function hydrateSuspense(t,e,r,_e,Se,Ae,Re,Ee,Ce){const Te=e.suspense=createSuspenseBoundary(e,_e,r,t.parentNode,document.createElement("div"),null,Se,Ae,Re,Ee,!0),De=Ce(t,Te.pendingBranch=e.ssContent,r,Te,Ae,Re);return Te.deps===0&&Te.resolve(),De}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:r}=t,_e=e&32;t.ssContent=normalizeSuspenseSlot(_e?r.default:r),t.ssFallback=_e?normalizeSuspenseSlot(r.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction(t)){const r=isBlockTreeEnabled&&t._c;r&&(t._d=!1,openBlock()),t=t(),r&&(t._d=!0,e=currentBlock,closeBlock())}return isArray$1(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$1(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:r,parentComponent:_e}=t,Se=r.el=e.el;_e&&_e.subTree===r&&(_e.vnode.el=Se,updateHOCHostEl(_e,Se))}function provide(t,e){if(currentInstance){let r=currentInstance.provides;const _e=currentInstance.parent&&currentInstance.parent.provides;_e===r&&(r=currentInstance.provides=Object.create(_e)),r[t]=e}}function inject(t,e,r=!1){const _e=currentInstance||currentRenderingInstance;if(_e){const Se=_e.parent==null?_e.vnode.appContext&&_e.vnode.appContext.provides:_e.parent.provides;if(Se&&t in Se)return Se[t];if(arguments.length>1)return r&&isFunction(e)?e.call(_e.proxy):e}}function watchEffect(t,e){return doWatch(t,null,e)}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:_e,flush:Se,onTrack:Ae,onTrigger:Re}=EMPTY_OBJ){const Ee=currentInstance;let Ce,Te=!1,De=!1;if(isRef(t)?(Ce=()=>t.value,Te=isShallow(t)):isReactive(t)?(Ce=()=>t,_e=!0):isArray$1(t)?(De=!0,Te=t.some(Oe=>isReactive(Oe)||isShallow(Oe)),Ce=()=>t.map(Oe=>{if(isRef(Oe))return Oe.value;if(isReactive(Oe))return traverse(Oe);if(isFunction(Oe))return callWithErrorHandling(Oe,Ee,2)})):isFunction(t)?e?Ce=()=>callWithErrorHandling(t,Ee,2):Ce=()=>{if(!(Ee&&Ee.isUnmounted))return ke&&ke(),callWithAsyncErrorHandling(t,Ee,3,[Pe])}:Ce=NOOP,e&&_e){const Oe=Ce;Ce=()=>traverse(Oe())}let ke,Pe=Oe=>{ke=Me.onStop=()=>{callWithErrorHandling(Oe,Ee,4)}};if(isInSSRComponentSetup)return Pe=NOOP,e?r&&callWithAsyncErrorHandling(e,Ee,3,[Ce(),De?[]:void 0,Pe]):Ce(),NOOP;let xe=De?[]:INITIAL_WATCHER_VALUE;const Fe=()=>{if(!!Me.active)if(e){const Oe=Me.run();(_e||Te||(De?Oe.some((Be,je)=>hasChanged(Be,xe[je])):hasChanged(Oe,xe)))&&(ke&&ke(),callWithAsyncErrorHandling(e,Ee,3,[Oe,xe===INITIAL_WATCHER_VALUE?void 0:xe,Pe]),xe=Oe)}else Me.run()};Fe.allowRecurse=!!e;let Ie;Se==="sync"?Ie=Fe:Se==="post"?Ie=()=>queuePostRenderEffect(Fe,Ee&&Ee.suspense):(Fe.pre=!0,Ee&&(Fe.id=Ee.uid),Ie=()=>queueJob(Fe));const Me=new ReactiveEffect(Ce,Ie);return e?r?Fe():xe=Me.run():Se==="post"?queuePostRenderEffect(Me.run.bind(Me),Ee&&Ee.suspense):Me.run(),()=>{Me.stop(),Ee&&Ee.scope&&remove(Ee.scope.effects,Me)}}function instanceWatch(t,e,r){const _e=this.proxy,Se=isString(t)?t.includes(".")?createPathGetter(_e,t):()=>_e[t]:t.bind(_e,_e);let Ae;isFunction(e)?Ae=e:(Ae=e.handler,r=e);const Re=currentInstance;setCurrentInstance(this);const Ee=doWatch(Se,Ae.bind(_e),r);return Re?setCurrentInstance(Re):unsetCurrentInstance(),Ee}function createPathGetter(t,e){const r=e.split(".");return()=>{let _e=t;for(let Se=0;Se<r.length&&_e;Se++)_e=_e[r[Se]];return _e}}function traverse(t,e){if(!isObject$1(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$1(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet(t)||isMap(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject(t))for(const r in t)traverse(t[r],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const r=getCurrentInstance(),_e=useTransitionState();let Se;return()=>{const Ae=e.default&&getTransitionRawChildren(e.default(),!0);if(!Ae||!Ae.length)return;let Re=Ae[0];if(Ae.length>1){for(const Ie of Ae)if(Ie.type!==Comment){Re=Ie;break}}const Ee=toRaw(t),{mode:Ce}=Ee;if(_e.isLeaving)return emptyPlaceholder(Re);const Te=getKeepAliveChild(Re);if(!Te)return emptyPlaceholder(Re);const De=resolveTransitionHooks(Te,Ee,_e,r);setTransitionHooks(Te,De);const ke=r.subTree,Pe=ke&&getKeepAliveChild(ke);let xe=!1;const{getTransitionKey:Fe}=Te.type;if(Fe){const Ie=Fe();Se===void 0?Se=Ie:Ie!==Se&&(Se=Ie,xe=!0)}if(Pe&&Pe.type!==Comment&&(!isSameVNodeType(Te,Pe)||xe)){const Ie=resolveTransitionHooks(Pe,Ee,_e,r);if(setTransitionHooks(Pe,Ie),Ce==="out-in")return _e.isLeaving=!0,Ie.afterLeave=()=>{_e.isLeaving=!1,r.update()},emptyPlaceholder(Re);Ce==="in-out"&&Te.type!==Comment&&(Ie.delayLeave=(Me,Oe,Be)=>{const je=getLeavingNodesForType(_e,Pe);je[String(Pe.key)]=Pe,Me._leaveCb=()=>{Oe(),Me._leaveCb=void 0,delete De.delayedLeave},De.delayedLeave=Be})}return Re}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let _e=r.get(e.type);return _e||(_e=Object.create(null),r.set(e.type,_e)),_e}function resolveTransitionHooks(t,e,r,_e){const{appear:Se,mode:Ae,persisted:Re=!1,onBeforeEnter:Ee,onEnter:Ce,onAfterEnter:Te,onEnterCancelled:De,onBeforeLeave:ke,onLeave:Pe,onAfterLeave:xe,onLeaveCancelled:Fe,onBeforeAppear:Ie,onAppear:Me,onAfterAppear:Oe,onAppearCancelled:Be}=e,je=String(t.key),Ve=getLeavingNodesForType(r,t),ze=(Ue,Xe)=>{Ue&&callWithAsyncErrorHandling(Ue,_e,9,Xe)},He=(Ue,Xe)=>{const nr=Xe[1];ze(Ue,Xe),isArray$1(Ue)?Ue.every(Ge=>Ge.length<=1)&&nr():Ue.length<=1&&nr()},$e={mode:Ae,persisted:Re,beforeEnter(Ue){let Xe=Ee;if(!r.isMounted)if(Se)Xe=Ie||Ee;else return;Ue._leaveCb&&Ue._leaveCb(!0);const nr=Ve[je];nr&&isSameVNodeType(t,nr)&&nr.el._leaveCb&&nr.el._leaveCb(),ze(Xe,[Ue])},enter(Ue){let Xe=Ce,nr=Te,Ge=De;if(!r.isMounted)if(Se)Xe=Me||Ce,nr=Oe||Te,Ge=Be||De;else return;let St=!1;const mr=Ue._enterCb=pr=>{St||(St=!0,pr?ze(Ge,[Ue]):ze(nr,[Ue]),$e.delayedLeave&&$e.delayedLeave(),Ue._enterCb=void 0)};Xe?He(Xe,[Ue,mr]):mr()},leave(Ue,Xe){const nr=String(t.key);if(Ue._enterCb&&Ue._enterCb(!0),r.isUnmounting)return Xe();ze(ke,[Ue]);let Ge=!1;const St=Ue._leaveCb=mr=>{Ge||(Ge=!0,Xe(),mr?ze(Fe,[Ue]):ze(xe,[Ue]),Ue._leaveCb=void 0,Ve[nr]===t&&delete Ve[nr])};Ve[nr]=t,Pe?He(Pe,[Ue,St]):St()},clone(Ue){return resolveTransitionHooks(Ue,e,r,_e)}};return $e}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let _e=[],Se=0;for(let Ae=0;Ae<t.length;Ae++){let Re=t[Ae];const Ee=r==null?Re.key:String(r)+String(Re.key!=null?Re.key:Ae);Re.type===Fragment$1?(Re.patchFlag&128&&Se++,_e=_e.concat(getTransitionRawChildren(Re.children,e,Ee))):(e||Re.type!==Comment)&&_e.push(Ee!=null?cloneVNode(Re,{key:Ee}):Re)}if(Se>1)for(let Ae=0;Ae<_e.length;Ae++)_e[Ae].patchFlag=-2;return _e}function defineComponent(t){return isFunction(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader;function defineAsyncComponent(t){isFunction(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:_e,delay:Se=200,timeout:Ae,suspensible:Re=!0,onError:Ee}=t;let Ce=null,Te,De=0;const ke=()=>(De++,Ce=null,Pe()),Pe=()=>{let xe;return Ce||(xe=Ce=e().catch(Fe=>{if(Fe=Fe instanceof Error?Fe:new Error(String(Fe)),Ee)return new Promise((Ie,Me)=>{Ee(Fe,()=>Ie(ke()),()=>Me(Fe),De+1)});throw Fe}).then(Fe=>xe!==Ce&&Ce?Ce:(Fe&&(Fe.__esModule||Fe[Symbol.toStringTag]==="Module")&&(Fe=Fe.default),Te=Fe,Fe)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:Pe,get __asyncResolved(){return Te},setup(){const xe=currentInstance;if(Te)return()=>createInnerComp(Te,xe);const Fe=Be=>{Ce=null,handleError(Be,xe,13,!_e)};if(Re&&xe.suspense||isInSSRComponentSetup)return Pe().then(Be=>()=>createInnerComp(Be,xe)).catch(Be=>(Fe(Be),()=>_e?createVNode(_e,{error:Be}):null));const Ie=ref(!1),Me=ref(),Oe=ref(!!Se);return Se&&setTimeout(()=>{Oe.value=!1},Se),Ae!=null&&setTimeout(()=>{if(!Ie.value&&!Me.value){const Be=new Error(`Async component timed out after ${Ae}ms.`);Fe(Be),Me.value=Be}},Ae),Pe().then(()=>{Ie.value=!0,xe.parent&&isKeepAlive(xe.parent.vnode)&&queueJob(xe.parent.update)}).catch(Be=>{Fe(Be),Me.value=Be}),()=>{if(Ie.value&&Te)return createInnerComp(Te,xe);if(Me.value&&_e)return createVNode(_e,{error:Me.value});if(r&&!Oe.value)return createVNode(r)}}})}function createInnerComp(t,{vnode:{ref:e,props:r,children:_e,shapeFlag:Se},parent:Ae}){const Re=createVNode(t,r,_e);return Re.ref=e,Re}const isKeepAlive=t=>t.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=getCurrentInstance(),_e=r.ctx;if(!_e.renderer)return()=>{const Be=e.default&&e.default();return Be&&Be.length===1?Be[0]:Be};const Se=new Map,Ae=new Set;let Re=null;const Ee=r.suspense,{renderer:{p:Ce,m:Te,um:De,o:{createElement:ke}}}=_e,Pe=ke("div");_e.activate=(Be,je,Ve,ze,He)=>{const $e=Be.component;Te(Be,je,Ve,0,Ee),Ce($e.vnode,Be,je,Ve,$e,Ee,ze,Be.slotScopeIds,He),queuePostRenderEffect(()=>{$e.isDeactivated=!1,$e.a&&invokeArrayFns($e.a);const Ue=Be.props&&Be.props.onVnodeMounted;Ue&&invokeVNodeHook(Ue,$e.parent,Be)},Ee)},_e.deactivate=Be=>{const je=Be.component;Te(Be,Pe,null,1,Ee),queuePostRenderEffect(()=>{je.da&&invokeArrayFns(je.da);const Ve=Be.props&&Be.props.onVnodeUnmounted;Ve&&invokeVNodeHook(Ve,je.parent,Be),je.isDeactivated=!0},Ee)};function xe(Be){resetShapeFlag(Be),De(Be,r,Ee,!0)}function Fe(Be){Se.forEach((je,Ve)=>{const ze=getComponentName(je.type);ze&&(!Be||!Be(ze))&&Ie(Ve)})}function Ie(Be){const je=Se.get(Be);!Re||je.type!==Re.type?xe(je):Re&&resetShapeFlag(Re),Se.delete(Be),Ae.delete(Be)}watch(()=>[t.include,t.exclude],([Be,je])=>{Be&&Fe(Ve=>matches(Be,Ve)),je&&Fe(Ve=>!matches(je,Ve))},{flush:"post",deep:!0});let Me=null;const Oe=()=>{Me!=null&&Se.set(Me,getInnerChild(r.subTree))};return onMounted(Oe),onUpdated(Oe),onBeforeUnmount(()=>{Se.forEach(Be=>{const{subTree:je,suspense:Ve}=r,ze=getInnerChild(je);if(Be.type===ze.type){resetShapeFlag(ze);const He=ze.component.da;He&&queuePostRenderEffect(He,Ve);return}xe(Be)})}),()=>{if(Me=null,!e.default)return null;const Be=e.default(),je=Be[0];if(Be.length>1)return Re=null,Be;if(!isVNode(je)||!(je.shapeFlag&4)&&!(je.shapeFlag&128))return Re=null,je;let Ve=getInnerChild(je);const ze=Ve.type,He=getComponentName(isAsyncWrapper(Ve)?Ve.type.__asyncResolved||{}:ze),{include:$e,exclude:Ue,max:Xe}=t;if($e&&(!He||!matches($e,He))||Ue&&He&&matches(Ue,He))return Re=Ve,je;const nr=Ve.key==null?ze:Ve.key,Ge=Se.get(nr);return Ve.el&&(Ve=cloneVNode(Ve),je.shapeFlag&128&&(je.ssContent=Ve)),Me=nr,Ge?(Ve.el=Ge.el,Ve.component=Ge.component,Ve.transition&&setTransitionHooks(Ve,Ve.transition),Ve.shapeFlag|=512,Ae.delete(nr),Ae.add(nr)):(Ae.add(nr),Xe&&Ae.size>parseInt(Xe,10)&&Ie(Ae.values().next().value)),Ve.shapeFlag|=256,Re=Ve,isSuspense(je.type)?je:Ve}}},KeepAlive=KeepAliveImpl;function matches(t,e){return isArray$1(t)?t.some(r=>matches(r,e)):isString(t)?t.split(",").includes(e):t.test?t.test(e):!1}function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const _e=t.__wdc||(t.__wdc=()=>{let Se=r;for(;Se;){if(Se.isDeactivated)return;Se=Se.parent}return t()});if(injectHook(e,_e,r),r){let Se=r.parent;for(;Se&&Se.parent;)isKeepAlive(Se.parent.vnode)&&injectToKeepAliveRoot(_e,e,r,Se),Se=Se.parent}}function injectToKeepAliveRoot(t,e,r,_e){const Se=injectHook(e,t,_e,!0);onUnmounted(()=>{remove(_e[e],Se)},r)}function resetShapeFlag(t){let e=t.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),t.shapeFlag=e}function getInnerChild(t){return t.shapeFlag&128?t.ssContent:t}function injectHook(t,e,r=currentInstance,_e=!1){if(r){const Se=r[t]||(r[t]=[]),Ae=e.__weh||(e.__weh=(...Re)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const Ee=callWithAsyncErrorHandling(e,r,t,Re);return unsetCurrentInstance(),resetTracking(),Ee});return _e?Se.unshift(Ae):Se.push(Ae),Ae}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(..._e)=>e(..._e),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const _e=getExposeProxy(r)||r.proxy,Se=t.dirs||(t.dirs=[]);for(let Ae=0;Ae<e.length;Ae++){let[Re,Ee,Ce,Te=EMPTY_OBJ]=e[Ae];isFunction(Re)&&(Re={mounted:Re,updated:Re}),Re.deep&&traverse(Ee),Se.push({dir:Re,instance:_e,value:Ee,oldValue:void 0,arg:Ce,modifiers:Te})}return t}function invokeDirectiveHook(t,e,r,_e){const Se=t.dirs,Ae=e&&e.dirs;for(let Re=0;Re<Se.length;Re++){const Ee=Se[Re];Ae&&(Ee.oldValue=Ae[Re].value);let Ce=Ee.dir[_e];Ce&&(pauseTracking(),callWithAsyncErrorHandling(Ce,r,8,[t.el,Ee,t,e]),resetTracking())}}const COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(t,e,r=!0,_e=!1){const Se=currentRenderingInstance||currentInstance;if(Se){const Ae=Se.type;if(t===COMPONENTS){const Ee=getComponentName(Ae,!1);if(Ee&&(Ee===e||Ee===camelize(e)||Ee===capitalize(camelize(e))))return Ae}const Re=resolve(Se[t]||Ae[t],e)||resolve(Se.appContext[t],e);return!Re&&_e?Ae:Re}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,r,_e){let Se;const Ae=r&&r[_e];if(isArray$1(t)||isString(t)){Se=new Array(t.length);for(let Re=0,Ee=t.length;Re<Ee;Re++)Se[Re]=e(t[Re],Re,void 0,Ae&&Ae[Re])}else if(typeof t=="number"){Se=new Array(t);for(let Re=0;Re<t;Re++)Se[Re]=e(Re+1,Re,void 0,Ae&&Ae[Re])}else if(isObject$1(t))if(t[Symbol.iterator])Se=Array.from(t,(Re,Ee)=>e(Re,Ee,void 0,Ae&&Ae[Ee]));else{const Re=Object.keys(t);Se=new Array(Re.length);for(let Ee=0,Ce=Re.length;Ee<Ce;Ee++){const Te=Re[Ee];Se[Ee]=e(t[Te],Te,Ee,Ae&&Ae[Ee])}}else Se=[];return r&&(r[_e]=Se),Se}function renderSlot(t,e,r={},_e,Se){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",e==="default"?null:{name:e},_e&&_e());let Ae=t[e];Ae&&Ae._c&&(Ae._d=!1),openBlock();const Re=Ae&&ensureValidVNode(Ae(r)),Ee=createBlock(Fragment$1,{key:r.key||Re&&Re.key||`_${e}`},Re||(_e?_e():[]),Re&&t._===1?64:-2);return!Se&&Ee.scopeId&&(Ee.slotScopeIds=[Ee.scopeId+"-s"]),Ae&&Ae._c&&(Ae._d=!0),Ee}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment$1&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:_e,data:Se,props:Ae,accessCache:Re,type:Ee,appContext:Ce}=t;let Te;if(e[0]!=="$"){const xe=Re[e];if(xe!==void 0)switch(xe){case 1:return _e[e];case 2:return Se[e];case 4:return r[e];case 3:return Ae[e]}else{if(_e!==EMPTY_OBJ&&hasOwn(_e,e))return Re[e]=1,_e[e];if(Se!==EMPTY_OBJ&&hasOwn(Se,e))return Re[e]=2,Se[e];if((Te=t.propsOptions[0])&&hasOwn(Te,e))return Re[e]=3,Ae[e];if(r!==EMPTY_OBJ&&hasOwn(r,e))return Re[e]=4,r[e];shouldCacheAccess&&(Re[e]=0)}}const De=publicPropertiesMap[e];let ke,Pe;if(De)return e==="$attrs"&&track(t,"get",e),De(t);if((ke=Ee.__cssModules)&&(ke=ke[e]))return ke;if(r!==EMPTY_OBJ&&hasOwn(r,e))return Re[e]=4,r[e];if(Pe=Ce.config.globalProperties,hasOwn(Pe,e))return Pe[e]},set({_:t},e,r){const{data:_e,setupState:Se,ctx:Ae}=t;return Se!==EMPTY_OBJ&&hasOwn(Se,e)?(Se[e]=r,!0):_e!==EMPTY_OBJ&&hasOwn(_e,e)?(_e[e]=r,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(Ae[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:_e,appContext:Se,propsOptions:Ae}},Re){let Ee;return!!r[Re]||t!==EMPTY_OBJ&&hasOwn(t,Re)||e!==EMPTY_OBJ&&hasOwn(e,Re)||(Ee=Ae[0])&&hasOwn(Ee,Re)||hasOwn(_e,Re)||hasOwn(publicPropertiesMap,Re)||hasOwn(Se.config.globalProperties,Re)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,_e=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:Se,computed:Ae,methods:Re,watch:Ee,provide:Ce,inject:Te,created:De,beforeMount:ke,mounted:Pe,beforeUpdate:xe,updated:Fe,activated:Ie,deactivated:Me,beforeDestroy:Oe,beforeUnmount:Be,destroyed:je,unmounted:Ve,render:ze,renderTracked:He,renderTriggered:$e,errorCaptured:Ue,serverPrefetch:Xe,expose:nr,inheritAttrs:Ge,components:St,directives:mr,filters:pr}=e;if(Te&&resolveInjections(Te,_e,null,t.appContext.config.unwrapInjectedRef),Re)for(const gr in Re){const sr=Re[gr];isFunction(sr)&&(_e[gr]=sr.bind(r))}if(Se){const gr=Se.call(r,r);isObject$1(gr)&&(t.data=reactive(gr))}if(shouldCacheAccess=!0,Ae)for(const gr in Ae){const sr=Ae[gr],tr=isFunction(sr)?sr.bind(r,r):isFunction(sr.get)?sr.get.bind(r,r):NOOP,hr=!isFunction(sr)&&isFunction(sr.set)?sr.set.bind(r):NOOP,Sr=computed({get:tr,set:hr});Object.defineProperty(_e,gr,{enumerable:!0,configurable:!0,get:()=>Sr.value,set:Je=>Sr.value=Je})}if(Ee)for(const gr in Ee)createWatcher(Ee[gr],_e,r,gr);if(Ce){const gr=isFunction(Ce)?Ce.call(r):Ce;Reflect.ownKeys(gr).forEach(sr=>{provide(sr,gr[sr])})}De&&callHook$1(De,t,"c");function dr(gr,sr){isArray$1(sr)?sr.forEach(tr=>gr(tr.bind(r))):sr&&gr(sr.bind(r))}if(dr(onBeforeMount,ke),dr(onMounted,Pe),dr(onBeforeUpdate,xe),dr(onUpdated,Fe),dr(onActivated,Ie),dr(onDeactivated,Me),dr(onErrorCaptured,Ue),dr(onRenderTracked,He),dr(onRenderTriggered,$e),dr(onBeforeUnmount,Be),dr(onUnmounted,Ve),dr(onServerPrefetch,Xe),isArray$1(nr))if(nr.length){const gr=t.exposed||(t.exposed={});nr.forEach(sr=>{Object.defineProperty(gr,sr,{get:()=>r[sr],set:tr=>r[sr]=tr})})}else t.exposed||(t.exposed={});ze&&t.render===NOOP&&(t.render=ze),Ge!=null&&(t.inheritAttrs=Ge),St&&(t.components=St),mr&&(t.directives=mr)}function resolveInjections(t,e,r=NOOP,_e=!1){isArray$1(t)&&(t=normalizeInject(t));for(const Se in t){const Ae=t[Se];let Re;isObject$1(Ae)?"default"in Ae?Re=inject(Ae.from||Se,Ae.default,!0):Re=inject(Ae.from||Se):Re=inject(Ae),isRef(Re)&&_e?Object.defineProperty(e,Se,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Ee=>Re.value=Ee}):e[Se]=Re}}function callHook$1(t,e,r){callWithAsyncErrorHandling(isArray$1(t)?t.map(_e=>_e.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,_e){const Se=_e.includes(".")?createPathGetter(r,_e):()=>r[_e];if(isString(t)){const Ae=e[t];isFunction(Ae)&&watch(Se,Ae)}else if(isFunction(t))watch(Se,t.bind(r));else if(isObject$1(t))if(isArray$1(t))t.forEach(Ae=>createWatcher(Ae,e,r,_e));else{const Ae=isFunction(t.handler)?t.handler.bind(r):e[t.handler];isFunction(Ae)&&watch(Se,Ae,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:_e}=e,{mixins:Se,optionsCache:Ae,config:{optionMergeStrategies:Re}}=t.appContext,Ee=Ae.get(e);let Ce;return Ee?Ce=Ee:!Se.length&&!r&&!_e?Ce=e:(Ce={},Se.length&&Se.forEach(Te=>mergeOptions$1(Ce,Te,Re,!0)),mergeOptions$1(Ce,e,Re)),isObject$1(e)&&Ae.set(e,Ce),Ce}function mergeOptions$1(t,e,r,_e=!1){const{mixins:Se,extends:Ae}=e;Ae&&mergeOptions$1(t,Ae,r,!0),Se&&Se.forEach(Re=>mergeOptions$1(t,Re,r,!0));for(const Re in e)if(!(_e&&Re==="expose")){const Ee=internalOptionMergeStrats[Re]||r&&r[Re];t[Re]=Ee?Ee(t[Re],e[Re]):e[Re]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$1(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend(Object.create(null),t);for(const _e in e)r[_e]=mergeAsArray(t[_e],e[_e]);return r}function initProps(t,e,r,_e=!1){const Se={},Ae={};def(Ae,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,Se,Ae);for(const Re in t.propsOptions[0])Re in Se||(Se[Re]=void 0);r?t.props=_e?Se:shallowReactive(Se):t.type.props?t.props=Se:t.props=Ae,t.attrs=Ae}function updateProps(t,e,r,_e){const{props:Se,attrs:Ae,vnode:{patchFlag:Re}}=t,Ee=toRaw(Se),[Ce]=t.propsOptions;let Te=!1;if((_e||Re>0)&&!(Re&16)){if(Re&8){const De=t.vnode.dynamicProps;for(let ke=0;ke<De.length;ke++){let Pe=De[ke];if(isEmitListener(t.emitsOptions,Pe))continue;const xe=e[Pe];if(Ce)if(hasOwn(Ae,Pe))xe!==Ae[Pe]&&(Ae[Pe]=xe,Te=!0);else{const Fe=camelize(Pe);Se[Fe]=resolvePropValue(Ce,Ee,Fe,xe,t,!1)}else xe!==Ae[Pe]&&(Ae[Pe]=xe,Te=!0)}}}else{setFullProps(t,e,Se,Ae)&&(Te=!0);let De;for(const ke in Ee)(!e||!hasOwn(e,ke)&&((De=hyphenate(ke))===ke||!hasOwn(e,De)))&&(Ce?r&&(r[ke]!==void 0||r[De]!==void 0)&&(Se[ke]=resolvePropValue(Ce,Ee,ke,void 0,t,!0)):delete Se[ke]);if(Ae!==Ee)for(const ke in Ae)(!e||!hasOwn(e,ke)&&!0)&&(delete Ae[ke],Te=!0)}Te&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,_e){const[Se,Ae]=t.propsOptions;let Re=!1,Ee;if(e)for(let Ce in e){if(isReservedProp(Ce))continue;const Te=e[Ce];let De;Se&&hasOwn(Se,De=camelize(Ce))?!Ae||!Ae.includes(De)?r[De]=Te:(Ee||(Ee={}))[De]=Te:isEmitListener(t.emitsOptions,Ce)||(!(Ce in _e)||Te!==_e[Ce])&&(_e[Ce]=Te,Re=!0)}if(Ae){const Ce=toRaw(r),Te=Ee||EMPTY_OBJ;for(let De=0;De<Ae.length;De++){const ke=Ae[De];r[ke]=resolvePropValue(Se,Ce,ke,Te[ke],t,!hasOwn(Te,ke))}}return Re}function resolvePropValue(t,e,r,_e,Se,Ae){const Re=t[r];if(Re!=null){const Ee=hasOwn(Re,"default");if(Ee&&_e===void 0){const Ce=Re.default;if(Re.type!==Function&&isFunction(Ce)){const{propsDefaults:Te}=Se;r in Te?_e=Te[r]:(setCurrentInstance(Se),_e=Te[r]=Ce.call(null,e),unsetCurrentInstance())}else _e=Ce}Re[0]&&(Ae&&!Ee?_e=!1:Re[1]&&(_e===""||_e===hyphenate(r))&&(_e=!0))}return _e}function normalizePropsOptions(t,e,r=!1){const _e=e.propsCache,Se=_e.get(t);if(Se)return Se;const Ae=t.props,Re={},Ee=[];let Ce=!1;if(!isFunction(t)){const De=ke=>{Ce=!0;const[Pe,xe]=normalizePropsOptions(ke,e,!0);extend(Re,Pe),xe&&Ee.push(...xe)};!r&&e.mixins.length&&e.mixins.forEach(De),t.extends&&De(t.extends),t.mixins&&t.mixins.forEach(De)}if(!Ae&&!Ce)return isObject$1(t)&&_e.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$1(Ae))for(let De=0;De<Ae.length;De++){const ke=camelize(Ae[De]);validatePropName(ke)&&(Re[ke]=EMPTY_OBJ)}else if(Ae)for(const De in Ae){const ke=camelize(De);if(validatePropName(ke)){const Pe=Ae[De],xe=Re[ke]=isArray$1(Pe)||isFunction(Pe)?{type:Pe}:Pe;if(xe){const Fe=getTypeIndex(Boolean,xe.type),Ie=getTypeIndex(String,xe.type);xe[0]=Fe>-1,xe[1]=Ie<0||Fe<Ie,(Fe>-1||hasOwn(xe,"default"))&&Ee.push(ke)}}}const Te=[Re,Ee];return isObject$1(t)&&_e.set(t,Te),Te}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$1(e)?e.findIndex(r=>isSameType(r,t)):isFunction(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$1(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,r)=>{if(e._n)return e;const _e=withCtx((...Se)=>normalizeSlotValue(e(...Se)),r);return _e._c=!1,_e},normalizeObjectSlots=(t,e,r)=>{const _e=t._ctx;for(const Se in t){if(isInternalKey(Se))continue;const Ae=t[Se];if(isFunction(Ae))e[Se]=normalizeSlot$1(Se,Ae,_e);else if(Ae!=null){const Re=normalizeSlotValue(Ae);e[Se]=()=>Re}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:_e,slots:Se}=t;let Ae=!0,Re=EMPTY_OBJ;if(_e.shapeFlag&32){const Ee=e._;Ee?r&&Ee===1?Ae=!1:(extend(Se,e),!r&&Ee===1&&delete Se._):(Ae=!e.$stable,normalizeObjectSlots(e,Se)),Re=e}else e&&(normalizeVNodeSlots(t,e),Re={default:1});if(Ae)for(const Ee in Se)!isInternalKey(Ee)&&!(Ee in Re)&&delete Se[Ee]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(_e,Se=null){isFunction(_e)||(_e=Object.assign({},_e)),Se!=null&&!isObject$1(Se)&&(Se=null);const Ae=createAppContext(),Re=new Set;let Ee=!1;const Ce=Ae.app={_uid:uid++,_component:_e,_props:Se,_container:null,_context:Ae,_instance:null,version,get config(){return Ae.config},set config(Te){},use(Te,...De){return Re.has(Te)||(Te&&isFunction(Te.install)?(Re.add(Te),Te.install(Ce,...De)):isFunction(Te)&&(Re.add(Te),Te(Ce,...De))),Ce},mixin(Te){return Ae.mixins.includes(Te)||Ae.mixins.push(Te),Ce},component(Te,De){return De?(Ae.components[Te]=De,Ce):Ae.components[Te]},directive(Te,De){return De?(Ae.directives[Te]=De,Ce):Ae.directives[Te]},mount(Te,De,ke){if(!Ee){const Pe=createVNode(_e,Se);return Pe.appContext=Ae,De&&e?e(Pe,Te):t(Pe,Te,ke),Ee=!0,Ce._container=Te,Te.__vue_app__=Ce,getExposeProxy(Pe.component)||Pe.component.proxy}},unmount(){Ee&&(t(null,Ce._container),delete Ce._container.__vue_app__)},provide(Te,De){return Ae.provides[Te]=De,Ce}};return Ce}}function setRef(t,e,r,_e,Se=!1){if(isArray$1(t)){t.forEach((Pe,xe)=>setRef(Pe,e&&(isArray$1(e)?e[xe]:e),r,_e,Se));return}if(isAsyncWrapper(_e)&&!Se)return;const Ae=_e.shapeFlag&4?getExposeProxy(_e.component)||_e.component.proxy:_e.el,Re=Se?null:Ae,{i:Ee,r:Ce}=t,Te=e&&e.r,De=Ee.refs===EMPTY_OBJ?Ee.refs={}:Ee.refs,ke=Ee.setupState;if(Te!=null&&Te!==Ce&&(isString(Te)?(De[Te]=null,hasOwn(ke,Te)&&(ke[Te]=null)):isRef(Te)&&(Te.value=null)),isFunction(Ce))callWithErrorHandling(Ce,Ee,12,[Re,De]);else{const Pe=isString(Ce),xe=isRef(Ce);if(Pe||xe){const Fe=()=>{if(t.f){const Ie=Pe?hasOwn(ke,Ce)?ke[Ce]:De[Ce]:Ce.value;Se?isArray$1(Ie)&&remove(Ie,Ae):isArray$1(Ie)?Ie.includes(Ae)||Ie.push(Ae):Pe?(De[Ce]=[Ae],hasOwn(ke,Ce)&&(ke[Ce]=De[Ce])):(Ce.value=[Ae],t.k&&(De[t.k]=Ce.value))}else Pe?(De[Ce]=Re,hasOwn(ke,Ce)&&(ke[Ce]=Re)):xe&&(Ce.value=Re,t.k&&(De[t.k]=Re))};Re?(Fe.id=-1,queuePostRenderEffect(Fe,r)):Fe()}}}let hasMismatch=!1;const isSVGContainer=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",isComment=t=>t.nodeType===8;function createHydrationFunctions(t){const{mt:e,p:r,o:{patchProp:_e,createText:Se,nextSibling:Ae,parentNode:Re,remove:Ee,insert:Ce,createComment:Te}}=t,De=(Oe,Be)=>{if(!Be.hasChildNodes()){r(null,Oe,Be),flushPostFlushCbs(),Be._vnode=Oe;return}hasMismatch=!1,ke(Be.firstChild,Oe,null,null,null),flushPostFlushCbs(),Be._vnode=Oe,hasMismatch&&console.error("Hydration completed but contains mismatches.")},ke=(Oe,Be,je,Ve,ze,He=!1)=>{const $e=isComment(Oe)&&Oe.data==="[",Ue=()=>Ie(Oe,Be,je,Ve,ze,$e),{type:Xe,ref:nr,shapeFlag:Ge,patchFlag:St}=Be;let mr=Oe.nodeType;Be.el=Oe,St===-2&&(He=!1,Be.dynamicChildren=null);let pr=null;switch(Xe){case Text:mr!==3?Be.children===""?(Ce(Be.el=Se(""),Re(Oe),Oe),pr=Oe):pr=Ue():(Oe.data!==Be.children&&(hasMismatch=!0,Oe.data=Be.children),pr=Ae(Oe));break;case Comment:mr!==8||$e?pr=Ue():pr=Ae(Oe);break;case Static:if($e&&(Oe=Ae(Oe),mr=Oe.nodeType),mr===1||mr===3){pr=Oe;const vr=!Be.children.length;for(let dr=0;dr<Be.staticCount;dr++)vr&&(Be.children+=pr.nodeType===1?pr.outerHTML:pr.data),dr===Be.staticCount-1&&(Be.anchor=pr),pr=Ae(pr);return $e?Ae(pr):pr}else Ue();break;case Fragment$1:$e?pr=Fe(Oe,Be,je,Ve,ze,He):pr=Ue();break;default:if(Ge&1)mr!==1||Be.type.toLowerCase()!==Oe.tagName.toLowerCase()?pr=Ue():pr=Pe(Oe,Be,je,Ve,ze,He);else if(Ge&6){Be.slotScopeIds=ze;const vr=Re(Oe);if(e(Be,vr,null,je,Ve,isSVGContainer(vr),He),pr=$e?Me(Oe):Ae(Oe),pr&&isComment(pr)&&pr.data==="teleport end"&&(pr=Ae(pr)),isAsyncWrapper(Be)){let dr;$e?(dr=createVNode(Fragment$1),dr.anchor=pr?pr.previousSibling:vr.lastChild):dr=Oe.nodeType===3?createTextVNode(""):createVNode("div"),dr.el=Oe,Be.component.subTree=dr}}else Ge&64?mr!==8?pr=Ue():pr=Be.type.hydrate(Oe,Be,je,Ve,ze,He,t,xe):Ge&128&&(pr=Be.type.hydrate(Oe,Be,je,Ve,isSVGContainer(Re(Oe)),ze,He,t,ke))}return nr!=null&&setRef(nr,null,Ve,Be),pr},Pe=(Oe,Be,je,Ve,ze,He)=>{He=He||!!Be.dynamicChildren;const{type:$e,props:Ue,patchFlag:Xe,shapeFlag:nr,dirs:Ge}=Be,St=$e==="input"&&Ge||$e==="option";if(St||Xe!==-1){if(Ge&&invokeDirectiveHook(Be,null,je,"created"),Ue)if(St||!He||Xe&48)for(const pr in Ue)(St&&pr.endsWith("value")||isOn(pr)&&!isReservedProp(pr))&&_e(Oe,pr,null,Ue[pr],!1,void 0,je);else Ue.onClick&&_e(Oe,"onClick",null,Ue.onClick,!1,void 0,je);let mr;if((mr=Ue&&Ue.onVnodeBeforeMount)&&invokeVNodeHook(mr,je,Be),Ge&&invokeDirectiveHook(Be,null,je,"beforeMount"),((mr=Ue&&Ue.onVnodeMounted)||Ge)&&queueEffectWithSuspense(()=>{mr&&invokeVNodeHook(mr,je,Be),Ge&&invokeDirectiveHook(Be,null,je,"mounted")},Ve),nr&16&&!(Ue&&(Ue.innerHTML||Ue.textContent))){let pr=xe(Oe.firstChild,Be,Oe,je,Ve,ze,He);for(;pr;){hasMismatch=!0;const vr=pr;pr=pr.nextSibling,Ee(vr)}}else nr&8&&Oe.textContent!==Be.children&&(hasMismatch=!0,Oe.textContent=Be.children)}return Oe.nextSibling},xe=(Oe,Be,je,Ve,ze,He,$e)=>{$e=$e||!!Be.dynamicChildren;const Ue=Be.children,Xe=Ue.length;for(let nr=0;nr<Xe;nr++){const Ge=$e?Ue[nr]:Ue[nr]=normalizeVNode(Ue[nr]);if(Oe)Oe=ke(Oe,Ge,Ve,ze,He,$e);else{if(Ge.type===Text&&!Ge.children)continue;hasMismatch=!0,r(null,Ge,je,null,Ve,ze,isSVGContainer(je),He)}}return Oe},Fe=(Oe,Be,je,Ve,ze,He)=>{const{slotScopeIds:$e}=Be;$e&&(ze=ze?ze.concat($e):$e);const Ue=Re(Oe),Xe=xe(Ae(Oe),Be,Ue,je,Ve,ze,He);return Xe&&isComment(Xe)&&Xe.data==="]"?Ae(Be.anchor=Xe):(hasMismatch=!0,Ce(Be.anchor=Te("]"),Ue,Xe),Xe)},Ie=(Oe,Be,je,Ve,ze,He)=>{if(hasMismatch=!0,Be.el=null,He){const Xe=Me(Oe);for(;;){const nr=Ae(Oe);if(nr&&nr!==Xe)Ee(nr);else break}}const $e=Ae(Oe),Ue=Re(Oe);return Ee(Oe),r(null,Be,Ue,$e,je,Ve,isSVGContainer(Ue),ze),$e},Me=Oe=>{let Be=0;for(;Oe;)if(Oe=Ae(Oe),Oe&&isComment(Oe)&&(Oe.data==="["&&Be++,Oe.data==="]")){if(Be===0)return Ae(Oe);Be--}return Oe};return[De,ke]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function createHydrationRenderer(t){return baseCreateRenderer(t,createHydrationFunctions)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:_e,remove:Se,patchProp:Ae,createElement:Re,createText:Ee,createComment:Ce,setText:Te,setElementText:De,parentNode:ke,nextSibling:Pe,setScopeId:xe=NOOP,insertStaticContent:Fe}=t,Ie=(cr,ar,Qe,rr=null,er=null,ur=null,Cr=!1,wr=null,Or=!!ar.dynamicChildren)=>{if(cr===ar)return;cr&&!isSameVNodeType(cr,ar)&&(rr=fr(cr),Je(cr,er,ur,!0),cr=null),ar.patchFlag===-2&&(Or=!1,ar.dynamicChildren=null);const{type:kr,ref:Pr,shapeFlag:Ir}=ar;switch(kr){case Text:Me(cr,ar,Qe,rr);break;case Comment:Oe(cr,ar,Qe,rr);break;case Static:cr==null&&Be(ar,Qe,rr,Cr);break;case Fragment$1:St(cr,ar,Qe,rr,er,ur,Cr,wr,Or);break;default:Ir&1?ze(cr,ar,Qe,rr,er,ur,Cr,wr,Or):Ir&6?mr(cr,ar,Qe,rr,er,ur,Cr,wr,Or):(Ir&64||Ir&128)&&kr.process(cr,ar,Qe,rr,er,ur,Cr,wr,Or,yr)}Pr!=null&&er&&setRef(Pr,cr&&cr.ref,ur,ar||cr,!ar)},Me=(cr,ar,Qe,rr)=>{if(cr==null)_e(ar.el=Ee(ar.children),Qe,rr);else{const er=ar.el=cr.el;ar.children!==cr.children&&Te(er,ar.children)}},Oe=(cr,ar,Qe,rr)=>{cr==null?_e(ar.el=Ce(ar.children||""),Qe,rr):ar.el=cr.el},Be=(cr,ar,Qe,rr)=>{[cr.el,cr.anchor]=Fe(cr.children,ar,Qe,rr,cr.el,cr.anchor)},je=({el:cr,anchor:ar},Qe,rr)=>{let er;for(;cr&&cr!==ar;)er=Pe(cr),_e(cr,Qe,rr),cr=er;_e(ar,Qe,rr)},Ve=({el:cr,anchor:ar})=>{let Qe;for(;cr&&cr!==ar;)Qe=Pe(cr),Se(cr),cr=Qe;Se(ar)},ze=(cr,ar,Qe,rr,er,ur,Cr,wr,Or)=>{Cr=Cr||ar.type==="svg",cr==null?He(ar,Qe,rr,er,ur,Cr,wr,Or):Xe(cr,ar,er,ur,Cr,wr,Or)},He=(cr,ar,Qe,rr,er,ur,Cr,wr)=>{let Or,kr;const{type:Pr,props:Ir,shapeFlag:Vr,transition:zr,dirs:$r}=cr;if(Or=cr.el=Re(cr.type,ur,Ir&&Ir.is,Ir),Vr&8?De(Or,cr.children):Vr&16&&Ue(cr.children,Or,null,rr,er,ur&&Pr!=="foreignObject",Cr,wr),$r&&invokeDirectiveHook(cr,null,rr,"created"),Ir){for(const ii in Ir)ii!=="value"&&!isReservedProp(ii)&&Ae(Or,ii,null,Ir[ii],ur,cr.children,rr,er,or);"value"in Ir&&Ae(Or,"value",null,Ir.value),(kr=Ir.onVnodeBeforeMount)&&invokeVNodeHook(kr,rr,cr)}$e(Or,cr,cr.scopeId,Cr,rr),$r&&invokeDirectiveHook(cr,null,rr,"beforeMount");const Gr=(!er||er&&!er.pendingBranch)&&zr&&!zr.persisted;Gr&&zr.beforeEnter(Or),_e(Or,ar,Qe),((kr=Ir&&Ir.onVnodeMounted)||Gr||$r)&&queuePostRenderEffect(()=>{kr&&invokeVNodeHook(kr,rr,cr),Gr&&zr.enter(Or),$r&&invokeDirectiveHook(cr,null,rr,"mounted")},er)},$e=(cr,ar,Qe,rr,er)=>{if(Qe&&xe(cr,Qe),rr)for(let ur=0;ur<rr.length;ur++)xe(cr,rr[ur]);if(er){let ur=er.subTree;if(ar===ur){const Cr=er.vnode;$e(cr,Cr,Cr.scopeId,Cr.slotScopeIds,er.parent)}}},Ue=(cr,ar,Qe,rr,er,ur,Cr,wr,Or=0)=>{for(let kr=Or;kr<cr.length;kr++){const Pr=cr[kr]=wr?cloneIfMounted(cr[kr]):normalizeVNode(cr[kr]);Ie(null,Pr,ar,Qe,rr,er,ur,Cr,wr)}},Xe=(cr,ar,Qe,rr,er,ur,Cr)=>{const wr=ar.el=cr.el;let{patchFlag:Or,dynamicChildren:kr,dirs:Pr}=ar;Or|=cr.patchFlag&16;const Ir=cr.props||EMPTY_OBJ,Vr=ar.props||EMPTY_OBJ;let zr;Qe&&toggleRecurse(Qe,!1),(zr=Vr.onVnodeBeforeUpdate)&&invokeVNodeHook(zr,Qe,ar,cr),Pr&&invokeDirectiveHook(ar,cr,Qe,"beforeUpdate"),Qe&&toggleRecurse(Qe,!0);const $r=er&&ar.type!=="foreignObject";if(kr?nr(cr.dynamicChildren,kr,wr,Qe,rr,$r,ur):Cr||sr(cr,ar,wr,null,Qe,rr,$r,ur,!1),Or>0){if(Or&16)Ge(wr,ar,Ir,Vr,Qe,rr,er);else if(Or&2&&Ir.class!==Vr.class&&Ae(wr,"class",null,Vr.class,er),Or&4&&Ae(wr,"style",Ir.style,Vr.style,er),Or&8){const Gr=ar.dynamicProps;for(let ii=0;ii<Gr.length;ii++){const Qr=Gr[ii],di=Ir[Qr],Lr=Vr[Qr];(Lr!==di||Qr==="value")&&Ae(wr,Qr,di,Lr,er,cr.children,Qe,rr,or)}}Or&1&&cr.children!==ar.children&&De(wr,ar.children)}else!Cr&&kr==null&&Ge(wr,ar,Ir,Vr,Qe,rr,er);((zr=Vr.onVnodeUpdated)||Pr)&&queuePostRenderEffect(()=>{zr&&invokeVNodeHook(zr,Qe,ar,cr),Pr&&invokeDirectiveHook(ar,cr,Qe,"updated")},rr)},nr=(cr,ar,Qe,rr,er,ur,Cr)=>{for(let wr=0;wr<ar.length;wr++){const Or=cr[wr],kr=ar[wr],Pr=Or.el&&(Or.type===Fragment$1||!isSameVNodeType(Or,kr)||Or.shapeFlag&70)?ke(Or.el):Qe;Ie(Or,kr,Pr,null,rr,er,ur,Cr,!0)}},Ge=(cr,ar,Qe,rr,er,ur,Cr)=>{if(Qe!==rr){if(Qe!==EMPTY_OBJ)for(const wr in Qe)!isReservedProp(wr)&&!(wr in rr)&&Ae(cr,wr,Qe[wr],null,Cr,ar.children,er,ur,or);for(const wr in rr){if(isReservedProp(wr))continue;const Or=rr[wr],kr=Qe[wr];Or!==kr&&wr!=="value"&&Ae(cr,wr,kr,Or,Cr,ar.children,er,ur,or)}"value"in rr&&Ae(cr,"value",Qe.value,rr.value)}},St=(cr,ar,Qe,rr,er,ur,Cr,wr,Or)=>{const kr=ar.el=cr?cr.el:Ee(""),Pr=ar.anchor=cr?cr.anchor:Ee("");let{patchFlag:Ir,dynamicChildren:Vr,slotScopeIds:zr}=ar;zr&&(wr=wr?wr.concat(zr):zr),cr==null?(_e(kr,Qe,rr),_e(Pr,Qe,rr),Ue(ar.children,Qe,Pr,er,ur,Cr,wr,Or)):Ir>0&&Ir&64&&Vr&&cr.dynamicChildren?(nr(cr.dynamicChildren,Vr,Qe,er,ur,Cr,wr),(ar.key!=null||er&&ar===er.subTree)&&traverseStaticChildren(cr,ar,!0)):sr(cr,ar,Qe,Pr,er,ur,Cr,wr,Or)},mr=(cr,ar,Qe,rr,er,ur,Cr,wr,Or)=>{ar.slotScopeIds=wr,cr==null?ar.shapeFlag&512?er.ctx.activate(ar,Qe,rr,Cr,Or):pr(ar,Qe,rr,er,ur,Cr,Or):vr(cr,ar,Or)},pr=(cr,ar,Qe,rr,er,ur,Cr)=>{const wr=cr.component=createComponentInstance(cr,rr,er);if(isKeepAlive(cr)&&(wr.ctx.renderer=yr),setupComponent(wr),wr.asyncDep){if(er&&er.registerDep(wr,dr),!cr.el){const Or=wr.subTree=createVNode(Comment);Oe(null,Or,ar,Qe)}return}dr(wr,cr,ar,Qe,er,ur,Cr)},vr=(cr,ar,Qe)=>{const rr=ar.component=cr.component;if(shouldUpdateComponent(cr,ar,Qe))if(rr.asyncDep&&!rr.asyncResolved){gr(rr,ar,Qe);return}else rr.next=ar,invalidateJob(rr.update),rr.update();else ar.el=cr.el,rr.vnode=ar},dr=(cr,ar,Qe,rr,er,ur,Cr)=>{const wr=()=>{if(cr.isMounted){let{next:Pr,bu:Ir,u:Vr,parent:zr,vnode:$r}=cr,Gr=Pr,ii;toggleRecurse(cr,!1),Pr?(Pr.el=$r.el,gr(cr,Pr,Cr)):Pr=$r,Ir&&invokeArrayFns(Ir),(ii=Pr.props&&Pr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ii,zr,Pr,$r),toggleRecurse(cr,!0);const Qr=renderComponentRoot(cr),di=cr.subTree;cr.subTree=Qr,Ie(di,Qr,ke(di.el),fr(di),cr,er,ur),Pr.el=Qr.el,Gr===null&&updateHOCHostEl(cr,Qr.el),Vr&&queuePostRenderEffect(Vr,er),(ii=Pr.props&&Pr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ii,zr,Pr,$r),er)}else{let Pr;const{el:Ir,props:Vr}=ar,{bm:zr,m:$r,parent:Gr}=cr,ii=isAsyncWrapper(ar);if(toggleRecurse(cr,!1),zr&&invokeArrayFns(zr),!ii&&(Pr=Vr&&Vr.onVnodeBeforeMount)&&invokeVNodeHook(Pr,Gr,ar),toggleRecurse(cr,!0),Ir&&Ar){const Qr=()=>{cr.subTree=renderComponentRoot(cr),Ar(Ir,cr.subTree,cr,er,null)};ii?ar.type.__asyncLoader().then(()=>!cr.isUnmounted&&Qr()):Qr()}else{const Qr=cr.subTree=renderComponentRoot(cr);Ie(null,Qr,Qe,rr,cr,er,ur),ar.el=Qr.el}if($r&&queuePostRenderEffect($r,er),!ii&&(Pr=Vr&&Vr.onVnodeMounted)){const Qr=ar;queuePostRenderEffect(()=>invokeVNodeHook(Pr,Gr,Qr),er)}(ar.shapeFlag&256||Gr&&isAsyncWrapper(Gr.vnode)&&Gr.vnode.shapeFlag&256)&&cr.a&&queuePostRenderEffect(cr.a,er),cr.isMounted=!0,ar=Qe=rr=null}},Or=cr.effect=new ReactiveEffect(wr,()=>queueJob(kr),cr.scope),kr=cr.update=()=>Or.run();kr.id=cr.uid,toggleRecurse(cr,!0),kr()},gr=(cr,ar,Qe)=>{ar.component=cr;const rr=cr.vnode.props;cr.vnode=ar,cr.next=null,updateProps(cr,ar.props,rr,Qe),updateSlots(cr,ar.children,Qe),pauseTracking(),flushPreFlushCbs(),resetTracking()},sr=(cr,ar,Qe,rr,er,ur,Cr,wr,Or=!1)=>{const kr=cr&&cr.children,Pr=cr?cr.shapeFlag:0,Ir=ar.children,{patchFlag:Vr,shapeFlag:zr}=ar;if(Vr>0){if(Vr&128){hr(kr,Ir,Qe,rr,er,ur,Cr,wr,Or);return}else if(Vr&256){tr(kr,Ir,Qe,rr,er,ur,Cr,wr,Or);return}}zr&8?(Pr&16&&or(kr,er,ur),Ir!==kr&&De(Qe,Ir)):Pr&16?zr&16?hr(kr,Ir,Qe,rr,er,ur,Cr,wr,Or):or(kr,er,ur,!0):(Pr&8&&De(Qe,""),zr&16&&Ue(Ir,Qe,rr,er,ur,Cr,wr,Or))},tr=(cr,ar,Qe,rr,er,ur,Cr,wr,Or)=>{cr=cr||EMPTY_ARR,ar=ar||EMPTY_ARR;const kr=cr.length,Pr=ar.length,Ir=Math.min(kr,Pr);let Vr;for(Vr=0;Vr<Ir;Vr++){const zr=ar[Vr]=Or?cloneIfMounted(ar[Vr]):normalizeVNode(ar[Vr]);Ie(cr[Vr],zr,Qe,null,er,ur,Cr,wr,Or)}kr>Pr?or(cr,er,ur,!0,!1,Ir):Ue(ar,Qe,rr,er,ur,Cr,wr,Or,Ir)},hr=(cr,ar,Qe,rr,er,ur,Cr,wr,Or)=>{let kr=0;const Pr=ar.length;let Ir=cr.length-1,Vr=Pr-1;for(;kr<=Ir&&kr<=Vr;){const zr=cr[kr],$r=ar[kr]=Or?cloneIfMounted(ar[kr]):normalizeVNode(ar[kr]);if(isSameVNodeType(zr,$r))Ie(zr,$r,Qe,null,er,ur,Cr,wr,Or);else break;kr++}for(;kr<=Ir&&kr<=Vr;){const zr=cr[Ir],$r=ar[Vr]=Or?cloneIfMounted(ar[Vr]):normalizeVNode(ar[Vr]);if(isSameVNodeType(zr,$r))Ie(zr,$r,Qe,null,er,ur,Cr,wr,Or);else break;Ir--,Vr--}if(kr>Ir){if(kr<=Vr){const zr=Vr+1,$r=zr<Pr?ar[zr].el:rr;for(;kr<=Vr;)Ie(null,ar[kr]=Or?cloneIfMounted(ar[kr]):normalizeVNode(ar[kr]),Qe,$r,er,ur,Cr,wr,Or),kr++}}else if(kr>Vr)for(;kr<=Ir;)Je(cr[kr],er,ur,!0),kr++;else{const zr=kr,$r=kr,Gr=new Map;for(kr=$r;kr<=Vr;kr++){const vi=ar[kr]=Or?cloneIfMounted(ar[kr]):normalizeVNode(ar[kr]);vi.key!=null&&Gr.set(vi.key,kr)}let ii,Qr=0;const di=Vr-$r+1;let Lr=!1,Hr=0;const jr=new Array(di);for(kr=0;kr<di;kr++)jr[kr]=0;for(kr=zr;kr<=Ir;kr++){const vi=cr[kr];if(Qr>=di){Je(vi,er,ur,!0);continue}let qr;if(vi.key!=null)qr=Gr.get(vi.key);else for(ii=$r;ii<=Vr;ii++)if(jr[ii-$r]===0&&isSameVNodeType(vi,ar[ii])){qr=ii;break}qr===void 0?Je(vi,er,ur,!0):(jr[qr-$r]=kr+1,qr>=Hr?Hr=qr:Lr=!0,Ie(vi,ar[qr],Qe,null,er,ur,Cr,wr,Or),Qr++)}const ci=Lr?getSequence(jr):EMPTY_ARR;for(ii=ci.length-1,kr=di-1;kr>=0;kr--){const vi=$r+kr,qr=ar[vi],ni=vi+1<Pr?ar[vi+1].el:rr;jr[kr]===0?Ie(null,qr,Qe,ni,er,ur,Cr,wr,Or):Lr&&(ii<0||kr!==ci[ii]?Sr(qr,Qe,ni,2):ii--)}}},Sr=(cr,ar,Qe,rr,er=null)=>{const{el:ur,type:Cr,transition:wr,children:Or,shapeFlag:kr}=cr;if(kr&6){Sr(cr.component.subTree,ar,Qe,rr);return}if(kr&128){cr.suspense.move(ar,Qe,rr);return}if(kr&64){Cr.move(cr,ar,Qe,yr);return}if(Cr===Fragment$1){_e(ur,ar,Qe);for(let Ir=0;Ir<Or.length;Ir++)Sr(Or[Ir],ar,Qe,rr);_e(cr.anchor,ar,Qe);return}if(Cr===Static){je(cr,ar,Qe);return}if(rr!==2&&kr&1&&wr)if(rr===0)wr.beforeEnter(ur),_e(ur,ar,Qe),queuePostRenderEffect(()=>wr.enter(ur),er);else{const{leave:Ir,delayLeave:Vr,afterLeave:zr}=wr,$r=()=>_e(ur,ar,Qe),Gr=()=>{Ir(ur,()=>{$r(),zr&&zr()})};Vr?Vr(ur,$r,Gr):Gr()}else _e(ur,ar,Qe)},Je=(cr,ar,Qe,rr=!1,er=!1)=>{const{type:ur,props:Cr,ref:wr,children:Or,dynamicChildren:kr,shapeFlag:Pr,patchFlag:Ir,dirs:Vr}=cr;if(wr!=null&&setRef(wr,null,Qe,cr,!0),Pr&256){ar.ctx.deactivate(cr);return}const zr=Pr&1&&Vr,$r=!isAsyncWrapper(cr);let Gr;if($r&&(Gr=Cr&&Cr.onVnodeBeforeUnmount)&&invokeVNodeHook(Gr,ar,cr),Pr&6)We(cr.component,Qe,rr);else{if(Pr&128){cr.suspense.unmount(Qe,rr);return}zr&&invokeDirectiveHook(cr,null,ar,"beforeUnmount"),Pr&64?cr.type.remove(cr,ar,Qe,er,yr,rr):kr&&(ur!==Fragment$1||Ir>0&&Ir&64)?or(kr,ar,Qe,!1,!0):(ur===Fragment$1&&Ir&384||!er&&Pr&16)&&or(Or,ar,Qe),rr&&Ze(cr)}($r&&(Gr=Cr&&Cr.onVnodeUnmounted)||zr)&&queuePostRenderEffect(()=>{Gr&&invokeVNodeHook(Gr,ar,cr),zr&&invokeDirectiveHook(cr,null,ar,"unmounted")},Qe)},Ze=cr=>{const{type:ar,el:Qe,anchor:rr,transition:er}=cr;if(ar===Fragment$1){Ye(Qe,rr);return}if(ar===Static){Ve(cr);return}const ur=()=>{Se(Qe),er&&!er.persisted&&er.afterLeave&&er.afterLeave()};if(cr.shapeFlag&1&&er&&!er.persisted){const{leave:Cr,delayLeave:wr}=er,Or=()=>Cr(Qe,ur);wr?wr(cr.el,ur,Or):Or()}else ur()},Ye=(cr,ar)=>{let Qe;for(;cr!==ar;)Qe=Pe(cr),Se(cr),cr=Qe;Se(ar)},We=(cr,ar,Qe)=>{const{bum:rr,scope:er,update:ur,subTree:Cr,um:wr}=cr;rr&&invokeArrayFns(rr),er.stop(),ur&&(ur.active=!1,Je(Cr,cr,ar,Qe)),wr&&queuePostRenderEffect(wr,ar),queuePostRenderEffect(()=>{cr.isUnmounted=!0},ar),ar&&ar.pendingBranch&&!ar.isUnmounted&&cr.asyncDep&&!cr.asyncResolved&&cr.suspenseId===ar.pendingId&&(ar.deps--,ar.deps===0&&ar.resolve())},or=(cr,ar,Qe,rr=!1,er=!1,ur=0)=>{for(let Cr=ur;Cr<cr.length;Cr++)Je(cr[Cr],ar,Qe,rr,er)},fr=cr=>cr.shapeFlag&6?fr(cr.component.subTree):cr.shapeFlag&128?cr.suspense.next():Pe(cr.anchor||cr.el),_r=(cr,ar,Qe)=>{cr==null?ar._vnode&&Je(ar._vnode,null,null,!0):Ie(ar._vnode||null,cr,ar,null,null,null,Qe),flushPreFlushCbs(),flushPostFlushCbs(),ar._vnode=cr},yr={p:Ie,um:Je,m:Sr,r:Ze,mt:pr,mc:Ue,pc:sr,pbc:nr,n:fr,o:t};let xr,Ar;return e&&([xr,Ar]=e(yr)),{render:_r,hydrate:xr,createApp:createAppAPI(_r,xr)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(t,e,r=!1){const _e=t.children,Se=e.children;if(isArray$1(_e)&&isArray$1(Se))for(let Ae=0;Ae<_e.length;Ae++){const Re=_e[Ae];let Ee=Se[Ae];Ee.shapeFlag&1&&!Ee.dynamicChildren&&((Ee.patchFlag<=0||Ee.patchFlag===32)&&(Ee=Se[Ae]=cloneIfMounted(Se[Ae]),Ee.el=Re.el),r||traverseStaticChildren(Re,Ee))}}function getSequence(t){const e=t.slice(),r=[0];let _e,Se,Ae,Re,Ee;const Ce=t.length;for(_e=0;_e<Ce;_e++){const Te=t[_e];if(Te!==0){if(Se=r[r.length-1],t[Se]<Te){e[_e]=Se,r.push(_e);continue}for(Ae=0,Re=r.length-1;Ae<Re;)Ee=Ae+Re>>1,t[r[Ee]]<Te?Ae=Ee+1:Re=Ee;Te<t[r[Ae]]&&(Ae>0&&(e[_e]=r[Ae-1]),r[Ae]=_e)}}for(Ae=r.length,Re=r[Ae-1];Ae-- >0;)r[Ae]=Re,Re=e[Re];return r}const isTeleport=t=>t.__isTeleport,Fragment$1=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,_e,Se,Ae){return setupBlock(createBaseVNode(t,e,r,_e,Se,Ae,!0))}function createBlock(t,e,r,_e,Se){return setupBlock(createVNode(t,e,r,_e,Se,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>t!=null?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null;function createBaseVNode(t,e=null,r=null,_e=0,Se=null,Ae=t===Fragment$1?0:1,Re=!1,Ee=!1){const Ce={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Ae,patchFlag:_e,dynamicProps:Se,dynamicChildren:null,appContext:null};return Ee?(normalizeChildren(Ce,r),Ae&128&&t.normalize(Ce)):r&&(Ce.shapeFlag|=isString(r)?8:16),isBlockTreeEnabled>0&&!Re&&currentBlock&&(Ce.patchFlag>0||Ae&6)&&Ce.patchFlag!==32&&currentBlock.push(Ce),Ce}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,_e=0,Se=null,Ae=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const Ee=cloneVNode(t,e,!0);return r&&normalizeChildren(Ee,r),isBlockTreeEnabled>0&&!Ae&&currentBlock&&(Ee.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=Ee:currentBlock.push(Ee)),Ee.patchFlag|=-2,Ee}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:Ee,style:Ce}=e;Ee&&!isString(Ee)&&(e.class=normalizeClass(Ee)),isObject$1(Ce)&&(isProxy(Ce)&&!isArray$1(Ce)&&(Ce=extend({},Ce)),e.style=normalizeStyle(Ce))}const Re=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$1(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,r,_e,Se,Re,Ae,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,r=!1){const{props:_e,ref:Se,patchFlag:Ae,children:Re}=t,Ee=e?mergeProps(_e||{},e):_e;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:Ee,key:Ee&&normalizeKey(Ee),ref:e&&e.ref?r&&Se?isArray$1(Se)?Se.concat(normalizeRef(e)):[Se,normalizeRef(e)]:normalizeRef(e):Se,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:Re,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment$1?Ae===-1?16:Ae|16:Ae,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const r=createVNode(Static,null,t);return r.staticCount=e,r}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$1(t)?createVNode(Fragment$1,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:_e}=t;if(e==null)e=null;else if(isArray$1(e))r=16;else if(typeof e=="object")if(_e&65){const Se=e.default;Se&&(Se._c&&(Se._d=!1),normalizeChildren(t,Se()),Se._c&&(Se._d=!0));return}else{r=32;const Se=e._;!Se&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:Se===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),_e&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const _e=t[r];for(const Se in _e)if(Se==="class")e.class!==_e.class&&(e.class=normalizeClass([e.class,_e.class]));else if(Se==="style")e.style=normalizeStyle([e.style,_e.style]);else if(isOn(Se)){const Ae=e[Se],Re=_e[Se];Re&&Ae!==Re&&!(isArray$1(Ae)&&Ae.includes(Re))&&(e[Se]=Ae?[].concat(Ae,Re):Re)}else Se!==""&&(e[Se]=_e[Se])}return e}function invokeVNodeHook(t,e,r,_e=null){callWithAsyncErrorHandling(t,e,7,[r,_e])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,r){const _e=t.type,Se=(e?e.appContext:t.appContext)||emptyAppContext,Ae={uid:uid$1++,vnode:t,type:_e,parent:e,appContext:Se,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(Se.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(_e,Se),emitsOptions:normalizeEmitsOptions(_e,Se),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:_e.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Ae.ctx={_:Ae},Ae.root=e?e.root:Ae,Ae.emit=emit$1.bind(null,Ae),t.ce&&t.ce(Ae),Ae}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:_e}=t.vnode,Se=isStatefulComponent(t);initProps(t,r,Se,e),initSlots(t,_e);const Ae=Se?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,Ae}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:_e}=r;if(_e){const Se=t.setupContext=_e.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const Ae=callWithErrorHandling(_e,t,0,[t.props,Se]);if(resetTracking(),unsetCurrentInstance(),isPromise(Ae)){if(Ae.then(unsetCurrentInstance,unsetCurrentInstance),e)return Ae.then(Re=>{handleSetupResult(t,Re,e)}).catch(Re=>{handleError(Re,t,0)});t.asyncDep=Ae}else handleSetupResult(t,Ae,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$1(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile;function finishComponentSetup(t,e,r){const _e=t.type;if(!t.render){if(!e&&compile&&!_e.render){const Se=_e.template||resolveMergedOptions(t).template;if(Se){const{isCustomElement:Ae,compilerOptions:Re}=t.appContext.config,{delimiters:Ee,compilerOptions:Ce}=_e,Te=extend(extend({isCustomElement:Ae,delimiters:Ee},Re),Ce);_e.render=compile(Se,Te)}}t.render=_e.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}})}function createSetupContext(t){const e=_e=>{t.exposed=_e||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t,e=!0){return isFunction(t)?t.displayName||t.name:t.name||e&&t.__name}function formatComponentName(t,e,r=!1){let _e=getComponentName(e);if(!_e&&e.__file){const Se=e.__file.match(/([^/\\]+)\.\w+$/);Se&&(_e=Se[1])}if(!_e&&t&&t.parent){const Se=Ae=>{for(const Re in Ae)if(Ae[Re]===e)return Re};_e=Se(t.components||t.parent.type.components)||Se(t.appContext.components)}return _e?classify(_e):r?"App":"Anonymous"}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function withAsyncContext(t){const e=getCurrentInstance();let r=t();return unsetCurrentInstance(),isPromise(r)&&(r=r.catch(_e=>{throw setCurrentInstance(e),_e})),[r,()=>setCurrentInstance(e)]}function h$1(t,e,r){const _e=arguments.length;return _e===2?isObject$1(e)&&!isArray$1(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(_e>3?r=Array.prototype.slice.call(arguments,2):_e===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const version="3.2.41",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,_e)=>{const Se=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&_e&&_e.multiple!=null&&Se.setAttribute("multiple",_e.multiple),Se},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,_e,Se,Ae){const Re=r?r.previousSibling:e.lastChild;if(Se&&(Se===Ae||Se.nextSibling))for(;e.insertBefore(Se.cloneNode(!0),r),!(Se===Ae||!(Se=Se.nextSibling)););else{templateContainer.innerHTML=_e?`<svg>${t}</svg>`:t;const Ee=templateContainer.content;if(_e){const Ce=Ee.firstChild;for(;Ce.firstChild;)Ee.appendChild(Ce.firstChild);Ee.removeChild(Ce)}e.insertBefore(Ee,r)}return[Re?Re.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(t,e,r){const _e=t._vtc;_e&&(e=(e?[e,..._e]:[..._e]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,r){const _e=t.style,Se=isString(r);if(r&&!Se){for(const Ae in r)setStyle(_e,Ae,r[Ae]);if(e&&!isString(e))for(const Ae in e)r[Ae]==null&&setStyle(_e,Ae,"")}else{const Ae=_e.display;Se?e!==r&&(_e.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(_e.display=Ae)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$1(r))r.forEach(_e=>setStyle(t,e,_e));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const _e=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(_e),r.replace(importantRE,""),"important"):t[_e]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let _e=camelize(e);if(_e!=="filter"&&_e in t)return prefixCache[e]=_e;_e=capitalize(_e);for(let Se=0;Se<prefixes.length;Se++){const Ae=prefixes[Se]+_e;if(Ae in t)return prefixCache[e]=Ae}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,_e,Se){if(_e&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const Ae=isSpecialBooleanAttr(e);r==null||Ae&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,Ae?"":r)}}function patchDOMProp(t,e,r,_e,Se,Ae,Re){if(e==="innerHTML"||e==="textContent"){_e&&Re(_e,Se,Ae),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const Ce=r==null?"":r;(t.value!==Ce||t.tagName==="OPTION")&&(t.value=Ce),r==null&&t.removeAttribute(e);return}let Ee=!1;if(r===""||r==null){const Ce=typeof t[e];Ce==="boolean"?r=includeBooleanAttr(r):r==null&&Ce==="string"?(r="",Ee=!0):Ce==="number"&&(r=0,Ee=!0)}try{t[e]=r}catch{}Ee&&t.removeAttribute(e)}function addEventListener(t,e,r,_e){t.addEventListener(e,r,_e)}function removeEventListener(t,e,r,_e){t.removeEventListener(e,r,_e)}function patchEvent(t,e,r,_e,Se=null){const Ae=t._vei||(t._vei={}),Re=Ae[e];if(_e&&Re)Re.value=_e;else{const[Ee,Ce]=parseName(e);if(_e){const Te=Ae[e]=createInvoker(_e,Se);addEventListener(t,Ee,Te,Ce)}else Re&&(removeEventListener(t,Ee,Re,Ce),Ae[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let _e;for(;_e=t.match(optionsModifierRE);)t=t.slice(0,t.length-_e[0].length),e[_e[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const r=_e=>{if(!_e._vts)_e._vts=Date.now();else if(_e._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(_e,r.value),e,5,[_e])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$1(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(_e=>Se=>!Se._stopped&&_e&&_e(Se))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,_e,Se=!1,Ae,Re,Ee,Ce)=>{e==="class"?patchClass(t,_e,Se):e==="style"?patchStyle(t,r,_e):isOn(e)?isModelListener(e)||patchEvent(t,e,r,_e,Re):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,_e,Se))?patchDOMProp(t,e,_e,Ae,Re,Ee,Ce):(e==="true-value"?t._trueValue=_e:e==="false-value"&&(t._falseValue=_e),patchAttr(t,e,_e,Se))};function shouldSetAsProp(t,e,r,_e){return _e?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(r)?!1:e in t}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(t,e=[])=>{isArray$1(t)?t.forEach(r=>r(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$1(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const St in t)St in DOMTransitionPropsValidators||(e[St]=t[St]);if(t.css===!1)return e;const{name:r="v",type:_e,duration:Se,enterFromClass:Ae=`${r}-enter-from`,enterActiveClass:Re=`${r}-enter-active`,enterToClass:Ee=`${r}-enter-to`,appearFromClass:Ce=Ae,appearActiveClass:Te=Re,appearToClass:De=Ee,leaveFromClass:ke=`${r}-leave-from`,leaveActiveClass:Pe=`${r}-leave-active`,leaveToClass:xe=`${r}-leave-to`}=t,Fe=normalizeDuration(Se),Ie=Fe&&Fe[0],Me=Fe&&Fe[1],{onBeforeEnter:Oe,onEnter:Be,onEnterCancelled:je,onLeave:Ve,onLeaveCancelled:ze,onBeforeAppear:He=Oe,onAppear:$e=Be,onAppearCancelled:Ue=je}=e,Xe=(St,mr,pr)=>{removeTransitionClass(St,mr?De:Ee),removeTransitionClass(St,mr?Te:Re),pr&&pr()},nr=(St,mr)=>{St._isLeaving=!1,removeTransitionClass(St,ke),removeTransitionClass(St,xe),removeTransitionClass(St,Pe),mr&&mr()},Ge=St=>(mr,pr)=>{const vr=St?$e:Be,dr=()=>Xe(mr,St,pr);callHook(vr,[mr,dr]),nextFrame(()=>{removeTransitionClass(mr,St?Ce:Ae),addTransitionClass(mr,St?De:Ee),hasExplicitCallback(vr)||whenTransitionEnds(mr,_e,Ie,dr)})};return extend(e,{onBeforeEnter(St){callHook(Oe,[St]),addTransitionClass(St,Ae),addTransitionClass(St,Re)},onBeforeAppear(St){callHook(He,[St]),addTransitionClass(St,Ce),addTransitionClass(St,Te)},onEnter:Ge(!1),onAppear:Ge(!0),onLeave(St,mr){St._isLeaving=!0;const pr=()=>nr(St,mr);addTransitionClass(St,ke),forceReflow(),addTransitionClass(St,Pe),nextFrame(()=>{!St._isLeaving||(removeTransitionClass(St,ke),addTransitionClass(St,xe),hasExplicitCallback(Ve)||whenTransitionEnds(St,_e,Me,pr))}),callHook(Ve,[St,pr])},onEnterCancelled(St){Xe(St,!1),callHook(je,[St])},onAppearCancelled(St){Xe(St,!0),callHook(Ue,[St])},onLeaveCancelled(St){nr(St),callHook(ze,[St])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$1(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(_e=>_e&&t.classList.remove(_e));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,r,_e){const Se=t._endId=++endId,Ae=()=>{Se===t._endId&&_e()};if(r)return setTimeout(Ae,r);const{type:Re,timeout:Ee,propCount:Ce}=getTransitionInfo(t,e);if(!Re)return _e();const Te=Re+"end";let De=0;const ke=()=>{t.removeEventListener(Te,Pe),Ae()},Pe=xe=>{xe.target===t&&++De>=Ce&&ke()};setTimeout(()=>{De<Ce&&ke()},Ee+1),t.addEventListener(Te,Pe)}function getTransitionInfo(t,e){const r=window.getComputedStyle(t),_e=Fe=>(r[Fe]||"").split(", "),Se=_e(TRANSITION+"Delay"),Ae=_e(TRANSITION+"Duration"),Re=getTimeout(Se,Ae),Ee=_e(ANIMATION+"Delay"),Ce=_e(ANIMATION+"Duration"),Te=getTimeout(Ee,Ce);let De=null,ke=0,Pe=0;e===TRANSITION?Re>0&&(De=TRANSITION,ke=Re,Pe=Ae.length):e===ANIMATION?Te>0&&(De=ANIMATION,ke=Te,Pe=Ce.length):(ke=Math.max(Re,Te),De=ke>0?Re>Te?TRANSITION:ANIMATION:null,Pe=De?De===TRANSITION?Ae.length:Ce.length:0);const xe=De===TRANSITION&&/\b(transform|all)(,|$)/.test(r[TRANSITION+"Property"]);return{type:De,timeout:ke,propCount:Pe,hasTransform:xe}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,_e)=>toMs(r)+toMs(t[_e])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const vShow={beforeMount(t,{value:e},{transition:r}){t._vod=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:_e}){!e!=!r&&(_e?e?(_e.beforeEnter(t),setDisplay(t,!0),_e.enter(t)):_e.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=_e=>{const Se=normalizeContainer(_e);if(!Se)return;const Ae=e._component;!isFunction(Ae)&&!Ae.render&&!Ae.template&&(Ae.template=Se.innerHTML),Se.innerHTML="";const Re=r(Se,!1,Se instanceof SVGElement);return Se instanceof Element&&(Se.removeAttribute("v-cloak"),Se.setAttribute("data-v-app","")),Re},e},createSSRApp=(...t)=>{const e=ensureHydrationRenderer().createApp(...t),{mount:r}=e;return e.mount=_e=>{const Se=normalizeContainer(_e);if(Se)return r(Se,!0,Se instanceof SVGElement)},e};function normalizeContainer(t){return isString(t)?document.querySelector(t):t}const suspectProtoRx=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^["{[]|^-?[0-9][0-9.]{0,14}$/;function jsonParseTransform(t,e){if(!(t==="__proto__"||t==="constructor"))return e}function destr(t,e={}){if(typeof t!="string")return t;const r=t.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="null")return null;if(r==="nan")return NaN;if(r==="infinity")return 1/0;if(r!=="undefined"){if(!JsonSigRx.test(t)){if(e.strict)throw new SyntaxError("Invalid JSON");return t}try{return suspectProtoRx.test(t)||suspectConstructorRx.test(t)?JSON.parse(t,jsonParseTransform):JSON.parse(t)}catch(_e){if(e.strict)throw _e;return t}}}const HASH_RE$1=/#/g,AMPERSAND_RE$1=/&/g,EQUAL_RE$1=/=/g,PLUS_RE$1=/\+/g,ENC_BRACKET_OPEN_RE$1=/%5B/gi,ENC_BRACKET_CLOSE_RE$1=/%5D/gi,ENC_CARET_RE$1=/%5E/gi,ENC_BACKTICK_RE$1=/%60/gi,ENC_CURLY_OPEN_RE$1=/%7B/gi,ENC_PIPE_RE$1=/%7C/gi,ENC_CURLY_CLOSE_RE$1=/%7D/gi,ENC_SPACE_RE$1=/%20/gi;function encode(t){return encodeURI(""+t).replace(ENC_PIPE_RE$1,"|").replace(ENC_BRACKET_OPEN_RE$1,"[").replace(ENC_BRACKET_CLOSE_RE$1,"]")}function encodeQueryValue$1(t){return encode(t).replace(PLUS_RE$1,"%2B").replace(ENC_SPACE_RE$1,"+").replace(HASH_RE$1,"%23").replace(AMPERSAND_RE$1,"%26").replace(ENC_BACKTICK_RE$1,"`").replace(ENC_CURLY_OPEN_RE$1,"{").replace(ENC_CURLY_CLOSE_RE$1,"}").replace(ENC_CARET_RE$1,"^")}function encodeQueryKey$1(t){return encodeQueryValue$1(t).replace(EQUAL_RE$1,"%3D")}function decode$1(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function decodeQueryValue(t){return decode$1(t.replace(PLUS_RE$1," "))}function parseQuery$1(t=""){const e={};t[0]==="?"&&(t=t.substr(1));for(const r of t.split("&")){const _e=r.match(/([^=]+)=?(.*)/)||[];if(_e.length<2)continue;const Se=decode$1(_e[1]);if(Se==="__proto__"||Se==="constructor")continue;const Ae=decodeQueryValue(_e[2]||"");e[Se]?Array.isArray(e[Se])?e[Se].push(Ae):e[Se]=[e[Se],Ae]:e[Se]=Ae}return e}function encodeQueryItem(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${encodeQueryKey$1(t)}=${encodeQueryValue$1(r)}`).join("&"):`${encodeQueryKey$1(t)}=${encodeQueryValue$1(e)}`:encodeQueryKey$1(t)}function stringifyQuery$1(t){return Object.keys(t).map(e=>encodeQueryItem(e,t[e])).join("&")}const PROTOCOL_REGEX=/^\w+:(\/\/)?/,PROTOCOL_RELATIVE_REGEX=/^\/\/[^/]+/;function hasProtocol(t,e=!1){return PROTOCOL_REGEX.test(t)||e&&PROTOCOL_RELATIVE_REGEX.test(t)}const TRAILING_SLASH_RE$1=/\/$|\/\?/;function hasTrailingSlash(t="",e=!1){return e?TRAILING_SLASH_RE$1.test(t):t.endsWith("/")}function withoutTrailingSlash(t="",e=!1){if(!e)return(hasTrailingSlash(t)?t.slice(0,-1):t)||"/";if(!hasTrailingSlash(t,!0))return t||"/";const[r,..._e]=t.split("?");return(r.slice(0,-1)||"/")+(_e.length?`?${_e.join("?")}`:"")}function withTrailingSlash(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(hasTrailingSlash(t,!0))return t||"/";const[r,..._e]=t.split("?");return r+"/"+(_e.length?`?${_e.join("?")}`:"")}function hasLeadingSlash(t=""){return t.startsWith("/")}function withoutLeadingSlash(t=""){return(hasLeadingSlash(t)?t.substr(1):t)||"/"}function withBase(t,e){if(isEmptyURL(e)||hasProtocol(t))return t;const r=withoutTrailingSlash(e);return t.startsWith(r)?t:joinURL(r,t)}function withoutBase(t,e){if(isEmptyURL(e))return t;const r=withoutTrailingSlash(e);if(!t.startsWith(r))return t;const _e=t.substring(r.length);return _e[0]==="/"?_e:"/"+_e}function withQuery(t,e){const r=parseURL$1(t),_e={...parseQuery$1(r.search),...e};return r.search=stringifyQuery$1(_e),stringifyParsedURL(r)}function isEmptyURL(t){return!t||t==="/"}function isNonEmptyURL(t){return t&&t!=="/"}function joinURL(t,...e){let r=t||"";for(const _e of e.filter(isNonEmptyURL))r=r?withTrailingSlash(r)+withoutLeadingSlash(_e):_e;return r}function parseURL$1(t="",e){if(!hasProtocol(t,!0))return e?parseURL$1(e+t):parsePath(t);const[r="",_e,Se=""]=(t.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[Ae="",Re=""]=(Se.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:Ee,search:Ce,hash:Te}=parsePath(Re);return{protocol:r,auth:_e?_e.substr(0,_e.length-1):"",host:Ae,pathname:Ee,search:Ce,hash:Te}}function parsePath(t=""){const[e="",r="",_e=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:_e}}function stringifyParsedURL(t){const e=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+e:e}class FetchError extends Error{constructor(){super(...arguments),this.name="FetchError"}}function createFetchError(t,e,r){let _e="";t&&r&&(_e=`${r.status} ${r.statusText} (${t.toString()})`),e&&(_e=`${e.message} (${_e})`);const Se=new FetchError(_e);return Object.defineProperty(Se,"request",{get(){return t}}),Object.defineProperty(Se,"response",{get(){return r}}),Object.defineProperty(Se,"data",{get(){return r&&r._data}}),Se}const payloadMethods=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(t="GET"){return payloadMethods.has(t.toUpperCase())}function isJSONSerializable(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const textTypes=new Set(["image/svg","application/xml","application/xhtml","application/html"]),JSON_RE=/^application\/(?:[\w!#$%&*`\-.^~]*\+)?json(;.+)?$/i;function detectResponseType(t=""){if(!t)return"json";const e=t.split(";").shift();return JSON_RE.test(e)?"json":textTypes.has(e)||e.startsWith("text/")?"text":"blob"}const retryStatusCodes=new Set([408,409,425,429,500,502,503,504]);function createFetch(t){const{fetch:e,Headers:r}=t;function _e(Re){const Ee=Re.error&&Re.error.name==="AbortError"||!1;if(Re.options.retry!==!1&&!Ee){const Te=typeof Re.options.retry=="number"?Re.options.retry:isPayloadMethod(Re.options.method)?0:1,De=Re.response&&Re.response.status||500;if(Te>0&&retryStatusCodes.has(De))return Se(Re.request,{...Re.options,retry:Te-1})}const Ce=createFetchError(Re.request,Re.error,Re.response);throw Error.captureStackTrace&&Error.captureStackTrace(Ce,Se),Ce}const Se=async function(Ee,Ce={}){const Te={request:Ee,options:{...t.defaults,...Ce},response:void 0,error:void 0};Te.options.onRequest&&await Te.options.onRequest(Te),typeof Te.request=="string"&&(Te.options.baseURL&&(Te.request=withBase(Te.request,Te.options.baseURL)),(Te.options.query||Te.options.params)&&(Te.request=withQuery(Te.request,{...Te.options.params,...Te.options.query})),Te.options.body&&isPayloadMethod(Te.options.method)&&isJSONSerializable(Te.options.body)&&(Te.options.body=typeof Te.options.body=="string"?Te.options.body:JSON.stringify(Te.options.body),Te.options.headers=new r(Te.options.headers),Te.options.headers.has("content-type")||Te.options.headers.set("content-type","application/json"),Te.options.headers.has("accept")||Te.options.headers.set("accept","application/json"))),Te.response=await e(Te.request,Te.options).catch(async ke=>(Te.error=ke,Te.options.onRequestError&&await Te.options.onRequestError(Te),_e(Te)));const De=(Te.options.parseResponse?"json":Te.options.responseType)||detectResponseType(Te.response.headers.get("content-type")||"");if(De==="json"){const ke=await Te.response.text(),Pe=Te.options.parseResponse||destr;Te.response._data=Pe(ke)}else De==="stream"?Te.response._data=Te.response.body:Te.response._data=await Te.response[De]();return Te.options.onResponse&&await Te.options.onResponse(Te),Te.response.ok||Te.options.onResponseError&&await Te.options.onResponseError(Te),Te.response.ok?Te.response:_e(Te)},Ae=function(Ee,Ce){return Se(Ee,Ce).then(Te=>Te._data)};return Ae.raw=Se,Ae.create=(Re={})=>createFetch({...t,defaults:{...t.defaults,...Re}}),Ae}const _globalThis$1=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),fetch$1=_globalThis$1.fetch||(()=>Promise.reject(new Error("[ohmyfetch] global.fetch is not supported!"))),Headers$1=_globalThis$1.Headers,$fetch=createFetch({fetch:fetch$1,Headers:Headers$1}),useRuntimeConfig$1=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},appConfig=useRuntimeConfig$1().app,baseURL=()=>appConfig.baseURL,buildAssetsDir=()=>appConfig.buildAssetsDir,buildAssetsURL=(...t)=>joinURL(publicAssetsURL(),buildAssetsDir(),...t),publicAssetsURL=(...t)=>{const e=appConfig.cdnURL||appConfig.baseURL;return t.length?joinURL(e,...t):e};globalThis.__buildAssetsURL=buildAssetsURL,globalThis.__publicAssetsURL=publicAssetsURL;function flatHooks(t,e={},r){for(const _e in t){const Se=t[_e],Ae=r?`${r}:${_e}`:_e;typeof Se=="object"&&Se!==null?flatHooks(Se,e,Ae):typeof Se=="function"&&(e[Ae]=Se)}return e}function serialCaller(t,e){return t.reduce((r,_e)=>r.then(()=>_e.apply(void 0,e)),Promise.resolve(null))}function parallelCaller(t,e){return Promise.all(t.map(r=>r.apply(void 0,e)))}function callEachWith(t,e){for(const r of t)r(e)}class Hookable{constructor(){this._hooks={},this._before=null,this._after=null,this._deprecatedMessages=null,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,r,_e={}){if(!e||typeof r!="function")return()=>{};const Se=e;let Ae;for(;this._deprecatedHooks[e];)Ae=this._deprecatedHooks[e],e=Ae.to;if(Ae&&!_e.allowDeprecated){let Re=Ae.message;Re||(Re=`${Se} hook has been deprecated`+(Ae.to?`, please use ${Ae.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(Re)||(console.warn(Re),this._deprecatedMessages.add(Re))}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(r),()=>{r&&(this.removeHook(e,r),r=null)}}hookOnce(e,r){let _e,Se=(...Ae)=>(_e(),_e=null,Se=null,r(...Ae));return _e=this.hook(e,Se),_e}removeHook(e,r){if(this._hooks[e]){const _e=this._hooks[e].indexOf(r);_e!==-1&&this._hooks[e].splice(_e,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,r){this._deprecatedHooks[e]=typeof r=="string"?{to:r}:r;const _e=this._hooks[e]||[];this._hooks[e]=void 0;for(const Se of _e)this.hook(e,Se)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const r in e)this.deprecateHook(r,e[r])}addHooks(e){const r=flatHooks(e),_e=Object.keys(r).map(Se=>this.hook(Se,r[Se]));return()=>{_e.splice(0,_e.length).forEach(Se=>Se())}}removeHooks(e){const r=flatHooks(e);for(const _e in r)this.removeHook(_e,r[_e])}callHook(e,...r){return this.callHookWith(serialCaller,e,...r)}callHookParallel(e,...r){return this.callHookWith(parallelCaller,e,...r)}callHookWith(e,r,..._e){const Se=this._before||this._after?{name:r,args:_e,context:{}}:void 0;this._before&&callEachWith(this._before,Se);const Ae=e(this._hooks[r]||[],_e);return Ae instanceof Promise?Ae.finally(()=>{this._after&&Se&&callEachWith(this._after,Se)}):(this._after&&Se&&callEachWith(this._after,Se),Ae)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{const r=this._before.indexOf(e);r!==-1&&this._before.splice(r,1)}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{const r=this._after.indexOf(e);r!==-1&&this._after.splice(r,1)}}}function createHooks(){return new Hookable}function createContext(){let t=null,e=!1;const r=_e=>{if(t&&t!==_e)throw new Error("Context conflict")};return{use:()=>{if(t==null)throw new Error("Context is not available");return t},tryUse:()=>t,set:(_e,Se)=>{Se||r(_e),t=_e,e=!0},unset:()=>{t=null,e=!1},call:(_e,Se)=>{r(_e),t=_e;try{return Se()}finally{e||(t=null)}},async callAsync(_e,Se){t=_e;const Ae=()=>{t=_e},Re=()=>t===_e?Ae:void 0;asyncHandlers.add(Re);try{const Ee=Se();return e||(t=null),await Ee}finally{asyncHandlers.delete(Re)}}}}function createNamespace(){const t={};return{get(e){return t[e]||(t[e]=createContext()),t[e],t[e]}}}const _globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},globalKey="__unctx__",defaultNamespace=_globalThis[globalKey]||(_globalThis[globalKey]=createNamespace()),getContext=t=>defaultNamespace.get(t),asyncHandlersKey="__unctx_async_handlers__",asyncHandlers=_globalThis[asyncHandlersKey]||(_globalThis[asyncHandlersKey]=new Set);function executeAsync(t){const e=[];for(const Se of asyncHandlers){const Ae=Se();Ae&&e.push(Ae)}const r=()=>{for(const Se of e)Se()};let _e=t();return"catch"in _e&&(_e=_e.catch(Se=>{throw r(),Se})),[_e,r]}const nuxtAppCtx=getContext("nuxt-app"),NuxtPluginIndicator="__nuxt_plugin";function createNuxtApp(t){let e=0;const r={provide:void 0,globalName:"nuxt",payload:reactive({data:{},state:{},_errors:{},...window.__NUXT__}),isHydrating:!0,deferHydration(){if(!r.isHydrating)return()=>{};e++;let Ae=!1;return()=>{if(!Ae&&(Ae=!0,e--,e===0))return r.isHydrating=!1,r.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},...t};r.hooks=createHooks(),r.hook=r.hooks.hook,r.callHook=r.hooks.callHook,r.provide=(Ae,Re)=>{const Ee="$"+Ae;defineGetter(r,Ee,Re),defineGetter(r.vueApp.config.globalProperties,Ee,Re)},defineGetter(r.vueApp,"$nuxt",r),defineGetter(r.vueApp.config.globalProperties,"$nuxt",r);const _e=reactive(r.payload.config),Se=new Proxy(_e,{get(Ae,Re){var Ee;return Re==="public"?Ae.public:(Ee=Ae[Re])!=null?Ee:Ae.public[Re]},set(Ae,Re,Ee){return Re==="public"||Re==="app"?!1:(Ae[Re]=Ee,Ae.public[Re]=Ee,!0)}});return r.provide("config",Se),r}async function applyPlugin(t,e){if(typeof e!="function")return;const{provide:r}=await callWithNuxt(t,e,[t])||{};if(r&&typeof r=="object")for(const _e in r)t.provide(_e,r[_e])}async function applyPlugins(t,e){for(const r of e)await applyPlugin(t,r)}function normalizePlugins(t){return t.map(r=>typeof r!="function"?null:r.length>1?_e=>r(_e,_e.provide):r).filter(Boolean)}function defineNuxtPlugin(t){return t[NuxtPluginIndicator]=!0,t}function callWithNuxt(t,e,r){const _e=()=>r?e(...r):e();return nuxtAppCtx.set(t),_e()}function useNuxtApp(){const t=nuxtAppCtx.tryUse();if(!t){const e=getCurrentInstance();if(!e)throw new Error("nuxt instance unavailable");return e.appContext.app.$nuxt}return t}function useRuntimeConfig(){return useNuxtApp().$config}function defineGetter(t,e,r){Object.defineProperty(t,e,{get:()=>r})}function defineAppConfig(t){return t}class H3Error extends Error{constructor(){super(...arguments),this.statusCode=500,this.fatal=!1,this.unhandled=!1,this.statusMessage=void 0}toJSON(){const e={message:this.message,statusCode:this.statusCode};return this.statusMessage&&(e.statusMessage=this.statusMessage),this.data!==void 0&&(e.data=this.data),e}}H3Error.__h3_error__=!0;function createError$1(t){var r;if(typeof t=="string")return new H3Error(t);if(isError(t))return t;const e=new H3Error((r=t.message)!=null?r:t.statusMessage,t.cause?{cause:t.cause}:void 0);if("stack"in t)try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}return t.data&&(e.data=t.data),t.statusCode?e.statusCode=t.statusCode:t.status&&(e.statusCode=t.status),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function isError(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}typeof setImmediate<"u"&&setImmediate;const useError=()=>toRef(useNuxtApp().payload,"error"),showError=t=>{const e=createError(t);try{useNuxtApp().callHook("app:error",e);const _e=useError();_e.value=_e.value||e}catch{throw e}return e},clearError=async(t={})=>{const e=useNuxtApp(),r=useError();e.callHook("app:error:cleared",t),t.redirect&&await e.$router.replace(t.redirect),r.value=null},isNuxtError=t=>!!(t&&typeof t=="object"&&"__nuxt_error"in t),createError=t=>{const e=createError$1(t);return e.__nuxt_error=!0,e};function useState(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[r,_e]=t;if(!r||typeof r!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+r);if(_e!==void 0&&typeof _e!="function")throw new Error("[nuxt] [useState] init must be a function: "+_e);const Se="$s"+r,Ae=useNuxtApp(),Re=toRef(Ae.payload.state,Se);if(Re.value===void 0&&_e){const Ee=_e();if(isRef(Ee))return Ae.payload.state[Se]=Ee,Ee;Re.value=Ee}return Re}const useRouter=()=>{var t;return(t=useNuxtApp())==null?void 0:t.$router},useRoute$1=()=>getCurrentInstance()?inject("_route",useNuxtApp()._route):useNuxtApp()._route,defineNuxtRouteMiddleware=t=>t,isProcessingMiddleware=()=>{try{if(useNuxtApp()._processingMiddleware)return!0}catch{return!0}return!1},navigateTo=(t,e)=>{t||(t="/");const r=typeof t=="string"?t:t.path||"/",_e=hasProtocol(r,!0);if(_e&&!(e!=null&&e.external))throw new Error("Navigating to external URL is not allowed by default. Use `nagivateTo (url, { external: true })`.");if(_e&&parseURL$1(r).protocol==="script:")throw new Error("Cannot navigate to an URL with script protocol.");if(!_e&&isProcessingMiddleware())return t;const Se=useRouter();return _e?(e!=null&&e.replace?location.replace(r):location.href=r,Promise.resolve()):e!=null&&e.replace?Se.replace(t):Se.push(t)};async function preloadRouteComponents(t,e=useRouter()){if(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(t))return;e._routePreloaded.add(t);const r=e._preloadPromises||(e._preloadPromises=[]);if(r.length>4)return Promise.all(r).then(()=>preloadRouteComponents(t,e));const _e=e.resolve(t).matched.map(Se=>{var Ae;return(Ae=Se.components)==null?void 0:Ae.default}).filter(Se=>typeof Se=="function");for(const Se of _e){const Ae=Promise.resolve(Se()).catch(()=>{}).finally(()=>r.splice(r.indexOf(Ae)));r.push(Ae)}await Promise.all(r)}const scriptRel="modulepreload",assetsURL=function(t,e){return new URL(t,e).href},seen={},__vitePreload=function(e,r,_e){return!r||r.length===0?e():Promise.all(r.map(Se=>{if(Se=assetsURL(Se,_e),Se in seen)return;seen[Se]=!0;const Ae=Se.endsWith(".css"),Re=Ae?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Se}"]${Re}`))return;const Ee=document.createElement("link");if(Ee.rel=Ae?"stylesheet":scriptRel,Ae||(Ee.as="script",Ee.crossOrigin=""),Ee.href=Se,document.head.appendChild(Ee),Ae)return new Promise((Ce,Te)=>{Ee.addEventListener("load",Ce),Ee.addEventListener("error",()=>Te(new Error(`Unable to preload CSS for ${Se}`)))})})).then(()=>e())},firstNonUndefined=(...t)=>t.find(e=>e!==void 0),DEFAULT_EXTERNAL_REL_ATTRIBUTE="noopener noreferrer",requestIdleCallback=globalThis.requestIdleCallback||(t=>{const e=Date.now(),r={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(r)},1)}),cancelIdleCallback=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)});function defineNuxtLink(t){const e=t.componentName||"NuxtLink";return defineComponent({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},setup(r,{slots:_e}){const Se=useRouter(),Ae=computed(()=>r.to||r.href||""),Re=computed(()=>r.external||r.target&&r.target!=="_self"?!0:typeof Ae.value=="object"?!1:Ae.value===""||hasProtocol(Ae.value,!0)),Ee=ref(!1),Ce=ref(null);if(r.prefetch!==!1&&r.noPrefetch!==!0&&typeof Ae.value=="string"&&r.target!=="_blank"&&!isSlowConnection()){const De=useNuxtApp(),ke=useObserver();let Pe,xe=null;onMounted(()=>{Pe=requestIdleCallback(()=>{var Fe;(Fe=Ce==null?void 0:Ce.value)!=null&&Fe.tagName&&(xe=ke.observe(Ce.value,async()=>{xe==null||xe(),xe=null,await Promise.all([De.hooks.callHook("link:prefetch",Ae.value).catch(()=>{}),!Re.value&&preloadRouteComponents(Ae.value,Se).catch(()=>{})]),Ee.value=!0}))})}),onBeforeUnmount(()=>{Pe&&cancelIdleCallback(Pe),xe==null||xe(),xe=null})}return()=>{var xe,Fe,Ie;if(!Re.value)return h$1(resolveComponent("RouterLink"),{ref:Me=>{Ce.value=Me==null?void 0:Me.$el},to:Ae.value,...Ee.value&&!r.custom?{class:r.prefetchedClass||t.prefetchedClass}:{},activeClass:r.activeClass||t.activeClass,exactActiveClass:r.exactActiveClass||t.exactActiveClass,replace:r.replace,ariaCurrentValue:r.ariaCurrentValue,custom:r.custom},_e.default);const Te=typeof Ae.value=="object"?(Fe=(xe=Se.resolve(Ae.value))==null?void 0:xe.href)!=null?Fe:null:Ae.value||null,De=r.target||null,ke=r.noRel?null:firstNonUndefined(r.rel,t.externalRelAttribute,Te?DEFAULT_EXTERNAL_REL_ATTRIBUTE:"")||null,Pe=()=>navigateTo(Te,{replace:r.replace});return r.custom?_e.default?_e.default({href:Te,navigate:Pe,route:Se.resolve(Te),rel:ke,target:De,isActive:!1,isExactActive:!1}):null:h$1("a",{ref:Ce,href:Te,rel:ke,target:De},(Ie=_e.default)==null?void 0:Ie.call(_e))}}})}const __nuxt_component_0$1=defineNuxtLink({componentName:"NuxtLink"});function useObserver(){const t=useNuxtApp();if(t._observer)return t._observer;let e=null;const r=new Map,_e=(Ae,Re)=>(e||(e=new IntersectionObserver(Ee=>{for(const Ce of Ee){const Te=r.get(Ce.target);(Ce.isIntersecting||Ce.intersectionRatio>0)&&Te&&Te()}})),r.set(Ae,Re),e.observe(Ae),()=>{r.delete(Ae),e.unobserve(Ae),r.size===0&&(e.disconnect(),e=null)});return t._observer={observe:_e}}function isSlowConnection(){const t=navigator.connection;return!!(t&&(t.saveData||/2g/.test(t.effectiveType)))}function isObject(t){return t!==null&&typeof t=="object"}function _defu(t,e,r=".",_e){if(!isObject(e))return _defu(t,{},r,_e);const Se=Object.assign({},e);for(const Ae in t){if(Ae==="__proto__"||Ae==="constructor")continue;const Re=t[Ae];Re!=null&&(_e&&_e(Se,Ae,Re,r)||(Array.isArray(Re)&&Array.isArray(Se[Ae])?Se[Ae]=Re.concat(Se[Ae]):isObject(Re)&&isObject(Se[Ae])?Se[Ae]=_defu(Re,Se[Ae],(r?`${r}.`:"")+Ae.toString(),_e):Se[Ae]=Re))}return Se}function createDefu(t){return(...e)=>e.reduce((r,_e)=>_defu(r,_e,"",t),{})}const defuFn=createDefu((t,e,r,_e)=>{if(typeof t[e]<"u"&&typeof r=="function")return t[e]=r(t[e]),!0}),cfg0={title:"Hello Nuxt",theme:{dark:!0,colors:{primary:"#ff0000"}}},inlineConfig={},__appConfig=defuFn(cfg0,inlineConfig);function useAppConfig(){const t=useNuxtApp();return t._appConfig||(t._appConfig=reactive(__appConfig)),t._appConfig}function useHead(t){useNuxtApp()._useHead(t)}const main="",components={},_nuxt_components_plugin_mjs_KR1HBZs4kY=defineNuxtPlugin(t=>{for(const e in components)t.vueApp.component(e,components[e]),t.vueApp.component("Lazy"+e,components[e])});var _a$1;const isClient=typeof window<"u";isClient&&((_a$1=window==null?void 0:window.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(t){return typeof t=="function"?t():unref(t)}var PROVIDE_KEY="usehead",HEAD_COUNT_KEY="head:count",HEAD_ATTRS_KEY="data-head-attrs",BODY_TAG_ATTR_NAME="data-meta-body",resolveHeadEntries=(t,e)=>t.map(r=>(r.input&&(e||!r.resolved)&&(r.input=resolveUnrefHeadInput(r.input)),r)),sortTags=(t,e)=>{const r=_e=>{var Se;if((Se=_e.options)!=null&&Se.renderPriority)return _e.options.renderPriority;switch(_e.tag){case"base":return-1;case"meta":return _e.props.charset?-2:_e.props["http-equiv"]==="content-security-policy"?0:10;default:return 10}};return r(t)-r(e)},tagDedupeKey=t=>{const{props:e,tag:r,options:_e}=t;if(["base","title","titleTemplate","bodyAttrs","htmlAttrs"].includes(r))return r;if(r==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(_e!=null&&_e.key)return`${r}:${_e.key}`;const Se=["id"];r==="meta"&&Se.push("name","property","http-equiv");for(const Ae of Se)if(typeof e[Ae]<"u")return`${r}:${Ae}:${e[Ae]}`;return t.runtime.position};function resolveUnrefHeadInput(t){const e=resolveUnref(t);return!t||!e?e:Array.isArray(e)?e.map(resolveUnrefHeadInput):typeof e=="object"?Object.fromEntries(Object.entries(e).map(([r,_e])=>r==="titleTemplate"?[r,unref(_e)]:[r,resolveUnrefHeadInput(_e)])):e}var resolveTag=(t,e,r)=>{var _e;e={...e};const Se={tag:t,props:{},runtime:{entryId:r.id},options:{...r.options}};return["hid","vmid","key"].forEach(Ae=>{e[Ae]&&(Se.options.key=e[Ae],delete e[Ae])}),["children","innerHTML","textContent"].forEach(Ae=>{typeof e[Ae]<"u"&&(Se.children=e[Ae],delete e[Ae])}),["body","renderPriority"].forEach(Ae=>{typeof e[Ae]<"u"&&(Se.options[Ae]=e[Ae],delete e[Ae])}),(_e=Se.options)!=null&&_e.body&&(e[BODY_TAG_ATTR_NAME]=!0),Se.props=e,Se},headInputToTags=t=>Object.entries(t.input).filter(([,e])=>typeof e<"u").map(([e,r])=>(Array.isArray(r)?r:[r]).map(_e=>{switch(e){case"title":case"titleTemplate":return{tag:e,children:_e,props:{},runtime:{entryId:t.id},options:t.options};case"base":case"meta":case"link":case"style":case"script":case"noscript":case"htmlAttrs":case"bodyAttrs":return resolveTag(e,_e,t);default:return!1}})).flat().filter(e=>!!e),renderTitleTemplate=(t,e)=>t==null?e||null:typeof t=="function"?t(e):t.replace("%s",e!=null?e:""),resolveHeadEntriesToTags=t=>{const e={};resolveHeadEntries(t).forEach((Re,Ee)=>{headInputToTags(Re).forEach((Te,De)=>{Te.runtime=Te.runtime||{},Te.runtime.position=Ee*1e4+De,e[tagDedupeKey(Te)]=Te})});let _e=Object.values(e).sort((Re,Ee)=>Re.runtime.position-Ee.runtime.position).sort(sortTags);const Se=_e.findIndex(Re=>Re.tag==="titleTemplate"),Ae=_e.findIndex(Re=>Re.tag==="title");if(Ae!==-1&&Se!==-1){const Re=renderTitleTemplate(_e[Se].children,_e[Ae].children);Re!==null?_e[Ae].children=Re||_e[Ae].children:_e=_e.filter((Ee,Ce)=>Ce!==Ae),_e=_e.filter((Ee,Ce)=>Ce!==Se)}else if(Se!==-1){const Re=renderTitleTemplate(_e[Se].children);Re!==null?(_e[Se].children=Re,_e[Se].tag="title"):_e=_e.filter((Ee,Ce)=>Ce!==Se)}return _e};function isEqualNode(t,e){if(t instanceof HTMLElement&&e instanceof HTMLElement){const r=e.getAttribute("nonce");if(r&&!t.getAttribute("nonce")){const _e=e.cloneNode(!0);return _e.setAttribute("nonce",""),_e.nonce=r,r===t.nonce&&t.isEqualNode(_e)}}return t.isEqualNode(e)}var setAttrs=(t,e)=>{const r=t.getAttribute(HEAD_ATTRS_KEY);if(r)for(const Se of r.split(","))Se in e||t.removeAttribute(Se);const _e=[];for(const Se in e){const Ae=e[Se];Ae!=null&&(Ae===!1?t.removeAttribute(Se):t.setAttribute(Se,Ae),_e.push(Se))}_e.length?t.setAttribute(HEAD_ATTRS_KEY,_e.join(",")):t.removeAttribute(HEAD_ATTRS_KEY)},createElement=(t,e)=>{var r;const _e=e.createElement(t.tag);return Object.entries(t.props).forEach(([Se,Ae])=>{Ae!==!1&&_e.setAttribute(Se,Ae===!0?"":String(Ae))}),t.children&&((r=t.options)!=null&&r.safe?t.tag!=="script"&&(_e.textContent=t.children):_e.innerHTML=t.children),_e},updateElements=(t=window.document,e,r)=>{var _e,Se;const Ae=t.head,Re=t.body;let Ee=Ae.querySelector(`meta[name="${HEAD_COUNT_KEY}"]`);const Ce=Re.querySelectorAll(`[${BODY_TAG_ATTR_NAME}]`),Te=Ee?Number(Ee.getAttribute("content")):0,De=[],ke=[];if(Ce)for(let xe=0;xe<Ce.length;xe++)Ce[xe]&&((_e=Ce[xe].tagName)==null?void 0:_e.toLowerCase())===e&&ke.push(Ce[xe]);if(Ee)for(let xe=0,Fe=Ee.previousElementSibling;xe<Te;xe++,Fe=(Fe==null?void 0:Fe.previousElementSibling)||null)((Se=Fe==null?void 0:Fe.tagName)==null?void 0:Se.toLowerCase())===e&&De.push(Fe);else Ee=t.createElement("meta"),Ee.setAttribute("name",HEAD_COUNT_KEY),Ee.setAttribute("content","0"),Ae.append(Ee);let Pe=r.map(xe=>{var Ie;var Fe;return{element:createElement(xe,t),body:(Ie=(Fe=xe.options)==null?void 0:Fe.body)!=null?Ie:!1}});Pe=Pe.filter(xe=>{for(let Fe=0;Fe<De.length;Fe++){const Ie=De[Fe];if(isEqualNode(Ie,xe.element))return De.splice(Fe,1),!1}for(let Fe=0;Fe<ke.length;Fe++){const Ie=ke[Fe];if(isEqualNode(Ie,xe.element))return ke.splice(Fe,1),!1}return!0}),ke.forEach(xe=>{var Fe;return(Fe=xe.parentNode)==null?void 0:Fe.removeChild(xe)}),De.forEach(xe=>{var Fe;return(Fe=xe.parentNode)==null?void 0:Fe.removeChild(xe)}),Pe.forEach(xe=>{xe.body?Re.insertAdjacentElement("beforeend",xe.element):Ae.insertBefore(xe.element,Ee)}),Ee.setAttribute("content",`${Te-De.length+Pe.filter(xe=>!xe.body).length}`)},updateDOM=async(t,e,r)=>{var _e,Se;const Ae={};r||(r=window.document);for(const Te in t.hooks["before:dom"])if(await t.hooks["before:dom"][Te]()===!1)return;const Re=resolveHeadEntries(t.headEntries);for(const Te in t.hooks["resolved:entries"])await t.hooks["resolved:entries"][Te](Re);const Ee=resolveHeadEntriesToTags(Re);for(const Te in t.hooks["resolved:tags"])await t.hooks["resolved:tags"][Te](Ee);for(const Te of Ee)switch(Te.tag){case"title":typeof Te.children<"u"&&(r.title=Te.children);break;case"base":case"meta":case"link":case"style":case"script":case"noscript":Ae[Te.tag]=Ae[Te.tag]||[],Ae[Te.tag].push(Te);break}setAttrs(r.documentElement,((_e=Ee.find(Te=>Te.tag==="htmlAttrs"))==null?void 0:_e.props)||{}),setAttrs(r.body,((Se=Ee.find(Te=>Te.tag==="bodyAttrs"))==null?void 0:Se.props)||{});const Ce=new Set([...Object.keys(Ae),...e]);for(const Te of Ce)updateElements(r,Te,Ae[Te]||[]);e.clear(),Object.keys(Ae).forEach(Te=>e.add(Te))},IS_BROWSER=typeof window<"u",createHead=t=>{let e=[],r=0;const _e=new Set;let Se=null;const Ae={install(Re){Re.config.globalProperties&&(Re.config.globalProperties.$head=Ae),Re.provide(PROVIDE_KEY,Ae)},hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]},get headEntries(){return e},get headTags(){const Re=resolveHeadEntries(Ae.headEntries);return resolveHeadEntriesToTags(Re)},addHeadObjs(Re,Ee){return Ae.addEntry(Re,Ee)},addEntry(Re,Ee={}){let Ce=!1;Ee!=null&&Ee.resolved&&(Ce=!0,delete Ee.resolved);const Te={id:r++,options:Ee,resolved:Ce,input:Re};return e.push(Te),{remove(){e=e.filter(De=>De.id!==Te.id)},update(De){e=e.map(ke=>(ke.id===Te.id&&(ke.input=De),ke))}}},async updateDOM(Re,Ee){const Ce=()=>(Se=null,updateDOM(Ae,_e,Re));return Ee?Ce():Se=Se||new Promise(Te=>nextTick(()=>Te(Ce())))},addReactiveEntry(Re,Ee={}){let Ce=null;const Te=watchEffect(()=>{const De=resolveUnrefHeadInput(Re);Ce===null?Ce=Ae.addEntry(De,{...Ee,resolved:!0}):Ce.update(De),IS_BROWSER&&Ae.updateDOM()});return()=>{Te(),Ce&&Ce.remove()}}};return t&&Ae.addEntry(t),Ae};const appHead={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"}],link:[{rel:"icon",href:"nuxt/assets/img/favicon.png"}],style:[],script:[],noscript:[],title:"\u516D\u89D2\u5B78\u9662\u6BD4\u8CFD"},appLayoutTransition={name:"layout",mode:"out-in"},appPageTransition={name:"page",mode:"out-in"},appKeepalive=!1,node_modules_nuxt_dist_head_runtime_lib_vueuse_head_plugin_mjs_D7WGfuP1A0=defineNuxtPlugin(t=>{const e=createHead();e.addEntry(appHead,{resolved:!0}),t.vueApp.use(e);{let r=!0;e.hooks["before:dom"].push(()=>!r),t.hooks.hookOnce("app:mounted",()=>{r=!1,e.updateDOM(),useRouter().beforeEach(()=>{r=!0}),useRouter().afterEach(()=>{r&&(r=!1,e.updateDOM())})})}t._useHead=(r,_e)=>{const Se=e.addReactiveEntry(r,_e);!getCurrentInstance()||onBeforeUnmount(()=>{Se(),e.updateDOM()})}}),metaMixin={created(){const t=getCurrentInstance();if(!t)return;const e=t.type;if(!e||!("head"in e))return;const r=useNuxtApp(),_e=typeof e.head=="function"?()=>e.head(r):e.head;useHead(_e)}},node_modules_nuxt_dist_head_runtime_mixin_plugin_mjs_prWV5EzJWI=defineNuxtPlugin(t=>{t.vueApp.mixin(metaMixin)});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(t,e){const r={};for(const _e in e){const Se=e[_e];r[_e]=isArray(Se)?Se.map(t):t(Se)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,r="/"){let _e,Se={},Ae="",Re="";const Ee=e.indexOf("#");let Ce=e.indexOf("?");return Ee<Ce&&Ee>=0&&(Ce=-1),Ce>-1&&(_e=e.slice(0,Ce),Ae=e.slice(Ce+1,Ee>-1?Ee:e.length),Se=t(Ae)),Ee>-1&&(_e=_e||e.slice(0,Ee),Re=e.slice(Ee,e.length)),_e=resolveRelativePath(_e!=null?_e:e,r),{fullPath:_e+(Ae&&"?")+Ae+Re,path:_e,query:Se,hash:Re}}function stringifyURL(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,r){const _e=e.matched.length-1,Se=r.matched.length-1;return _e>-1&&_e===Se&&isSameRouteRecord(e.matched[_e],r.matched[Se])&&isSameRouteLocationParams(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue(t[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray(t)?isEquivalentArray(t,e):isArray(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray(e)?t.length===e.length&&t.every((r,_e)=>r===e[_e]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),_e=t.split("/");let Se=r.length-1,Ae,Re;for(Ae=0;Ae<_e.length;Ae++)if(Re=_e[Ae],Re!==".")if(Re==="..")Se>1&&Se--;else break;return r.slice(0,Se).join("/")+"/"+_e.slice(Ae-(Ae===_e.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const r=document.documentElement.getBoundingClientRect(),_e=t.getBoundingClientRect();return{behavior:e.behavior,left:_e.left-r.left-(e.left||0),top:_e.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const r=t.el,_e=typeof r=="string"&&r.startsWith("#"),Se=typeof r=="string"?_e?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!Se)return;e=getElementPosition(Se,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation$1(t,e){const{pathname:r,search:_e,hash:Se}=e,Ae=t.indexOf("#");if(Ae>-1){let Ee=Se.includes(t.slice(Ae))?t.slice(Ae).length:1,Ce=Se.slice(Ee);return Ce[0]!=="/"&&(Ce="/"+Ce),stripBase(Ce,"")}return stripBase(r,t)+_e+Se}function useHistoryListeners(t,e,r,_e){let Se=[],Ae=[],Re=null;const Ee=({state:Pe})=>{const xe=createCurrentLocation$1(t,location),Fe=r.value,Ie=e.value;let Me=0;if(Pe){if(r.value=xe,e.value=Pe,Re&&Re===Fe){Re=null;return}Me=Ie?Pe.position-Ie.position:0}else _e(xe);Se.forEach(Oe=>{Oe(r.value,Fe,{delta:Me,type:NavigationType.pop,direction:Me?Me>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function Ce(){Re=r.value}function Te(Pe){Se.push(Pe);const xe=()=>{const Fe=Se.indexOf(Pe);Fe>-1&&Se.splice(Fe,1)};return Ae.push(xe),xe}function De(){const{history:Pe}=window;!Pe.state||Pe.replaceState(assign({},Pe.state,{scroll:computeScrollPosition()}),"")}function ke(){for(const Pe of Ae)Pe();Ae=[],window.removeEventListener("popstate",Ee),window.removeEventListener("beforeunload",De)}return window.addEventListener("popstate",Ee),window.addEventListener("beforeunload",De),{pauseListeners:Ce,listen:Te,destroy:ke}}function buildState(t,e,r,_e=!1,Se=!1){return{back:t,current:e,forward:r,replaced:_e,position:window.history.length,scroll:Se?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:r}=window,_e={value:createCurrentLocation$1(t,r)},Se={value:e.state};Se.value||Ae(_e.value,{back:null,current:_e.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function Ae(Ce,Te,De){const ke=t.indexOf("#"),Pe=ke>-1?(r.host&&document.querySelector("base")?t:t.slice(ke))+Ce:createBaseLocation()+t+Ce;try{e[De?"replaceState":"pushState"](Te,"",Pe),Se.value=Te}catch(xe){console.error(xe),r[De?"replace":"assign"](Pe)}}function Re(Ce,Te){const De=assign({},e.state,buildState(Se.value.back,Ce,Se.value.forward,!0),Te,{position:Se.value.position});Ae(Ce,De,!0),_e.value=Ce}function Ee(Ce,Te){const De=assign({},Se.value,e.state,{forward:Ce,scroll:computeScrollPosition()});Ae(De.current,De,!0);const ke=assign({},buildState(_e.value,Ce,null),{position:De.position+1},Te);Ae(Ce,ke,!1),_e.value=Ce}return{location:_e,state:Se,push:Ee,replace:Re}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),r=useHistoryListeners(t,e.state,e.location,e.replace);function _e(Ae,Re=!0){Re||r.pauseListeners(),history.go(Ae)}const Se=assign({location:"",base:t,go:_e,createHref:createHref.bind(null,t)},e,r);return Object.defineProperty(Se,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(Se,"state",{enumerable:!0,get:()=>e.state.value}),Se}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const r=assign({},BASE_PATH_PARSER_OPTIONS,e),_e=[];let Se=r.start?"^":"";const Ae=[];for(const Te of t){const De=Te.length?[]:[90];r.strict&&!Te.length&&(Se+="/");for(let ke=0;ke<Te.length;ke++){const Pe=Te[ke];let xe=40+(r.sensitive?.25:0);if(Pe.type===0)ke||(Se+="/"),Se+=Pe.value.replace(REGEX_CHARS_RE,"\\$&"),xe+=40;else if(Pe.type===1){const{value:Fe,repeatable:Ie,optional:Me,regexp:Oe}=Pe;Ae.push({name:Fe,repeatable:Ie,optional:Me});const Be=Oe||BASE_PARAM_PATTERN;if(Be!==BASE_PARAM_PATTERN){xe+=10;try{new RegExp(`(${Be})`)}catch(Ve){throw new Error(`Invalid custom RegExp for param "${Fe}" (${Be}): `+Ve.message)}}let je=Ie?`((?:${Be})(?:/(?:${Be}))*)`:`(${Be})`;ke||(je=Me&&Te.length<2?`(?:/${je})`:"/"+je),Me&&(je+="?"),Se+=je,xe+=20,Me&&(xe+=-8),Ie&&(xe+=-20),Be===".*"&&(xe+=-50)}De.push(xe)}_e.push(De)}if(r.strict&&r.end){const Te=_e.length-1;_e[Te][_e[Te].length-1]+=.7000000000000001}r.strict||(Se+="/?"),r.end?Se+="$":r.strict&&(Se+="(?:/|$)");const Re=new RegExp(Se,r.sensitive?"":"i");function Ee(Te){const De=Te.match(Re),ke={};if(!De)return null;for(let Pe=1;Pe<De.length;Pe++){const xe=De[Pe]||"",Fe=Ae[Pe-1];ke[Fe.name]=xe&&Fe.repeatable?xe.split("/"):xe}return ke}function Ce(Te){let De="",ke=!1;for(const Pe of t){(!ke||!De.endsWith("/"))&&(De+="/"),ke=!1;for(const xe of Pe)if(xe.type===0)De+=xe.value;else if(xe.type===1){const{value:Fe,repeatable:Ie,optional:Me}=xe,Oe=Fe in Te?Te[Fe]:"";if(isArray(Oe)&&!Ie)throw new Error(`Provided param "${Fe}" is an array but it is not repeatable (* or + modifiers)`);const Be=isArray(Oe)?Oe.join("/"):Oe;if(!Be)if(Me)Pe.length<2&&(De.endsWith("/")?De=De.slice(0,-1):ke=!0);else throw new Error(`Missing required param "${Fe}"`);De+=Be}}return De||"/"}return{re:Re,score:_e,keys:Ae,parse:Ee,stringify:Ce}}function compareScoreArray(t,e){let r=0;for(;r<t.length&&r<e.length;){const _e=e[r]-t[r];if(_e)return _e;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let r=0;const _e=t.score,Se=e.score;for(;r<_e.length&&r<Se.length;){const Ae=compareScoreArray(_e[r],Se[r]);if(Ae)return Ae;r++}if(Math.abs(Se.length-_e.length)===1){if(isLastScoreNegative(_e))return 1;if(isLastScoreNegative(Se))return-1}return Se.length-_e.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(xe){throw new Error(`ERR (${r})/"${Te}": ${xe}`)}let r=0,_e=r;const Se=[];let Ae;function Re(){Ae&&Se.push(Ae),Ae=[]}let Ee=0,Ce,Te="",De="";function ke(){!Te||(r===0?Ae.push({type:0,value:Te}):r===1||r===2||r===3?(Ae.length>1&&(Ce==="*"||Ce==="+")&&e(`A repeatable param (${Te}) must be alone in its segment. eg: '/:ids+.`),Ae.push({type:1,value:Te,regexp:De,repeatable:Ce==="*"||Ce==="+",optional:Ce==="*"||Ce==="?"})):e("Invalid state to consume buffer"),Te="")}function Pe(){Te+=Ce}for(;Ee<t.length;){if(Ce=t[Ee++],Ce==="\\"&&r!==2){_e=r,r=4;continue}switch(r){case 0:Ce==="/"?(Te&&ke(),Re()):Ce===":"?(ke(),r=1):Pe();break;case 4:Pe(),r=_e;break;case 1:Ce==="("?r=2:VALID_PARAM_RE.test(Ce)?Pe():(ke(),r=0,Ce!=="*"&&Ce!=="?"&&Ce!=="+"&&Ee--);break;case 2:Ce===")"?De[De.length-1]=="\\"?De=De.slice(0,-1)+Ce:r=3:De+=Ce;break;case 3:ke(),r=0,Ce!=="*"&&Ce!=="?"&&Ce!=="+"&&Ee--,De="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${Te}"`),ke(),Re(),Se}function createRouteRecordMatcher(t,e,r){const _e=tokensToParser(tokenizePath(t.path),r),Se=assign(_e,{record:t,parent:e,children:[],alias:[]});return e&&!Se.record.aliasOf==!e.record.aliasOf&&e.children.push(Se),Se}function createRouterMatcher(t,e){const r=[],_e=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function Se(De){return _e.get(De)}function Ae(De,ke,Pe){const xe=!Pe,Fe=normalizeRouteRecord(De);Fe.aliasOf=Pe&&Pe.record;const Ie=mergeOptions(e,De),Me=[Fe];if("alias"in De){const je=typeof De.alias=="string"?[De.alias]:De.alias;for(const Ve of je)Me.push(assign({},Fe,{components:Pe?Pe.record.components:Fe.components,path:Ve,aliasOf:Pe?Pe.record:Fe}))}let Oe,Be;for(const je of Me){const{path:Ve}=je;if(ke&&Ve[0]!=="/"){const ze=ke.record.path,He=ze[ze.length-1]==="/"?"":"/";je.path=ke.record.path+(Ve&&He+Ve)}if(Oe=createRouteRecordMatcher(je,ke,Ie),Pe?Pe.alias.push(Oe):(Be=Be||Oe,Be!==Oe&&Be.alias.push(Oe),xe&&De.name&&!isAliasRecord(Oe)&&Re(De.name)),Fe.children){const ze=Fe.children;for(let He=0;He<ze.length;He++)Ae(ze[He],Oe,Pe&&Pe.children[He])}Pe=Pe||Oe,(Oe.record.components&&Object.keys(Oe.record.components).length||Oe.record.name||Oe.record.redirect)&&Ce(Oe)}return Be?()=>{Re(Be)}:noop}function Re(De){if(isRouteName(De)){const ke=_e.get(De);ke&&(_e.delete(De),r.splice(r.indexOf(ke),1),ke.children.forEach(Re),ke.alias.forEach(Re))}else{const ke=r.indexOf(De);ke>-1&&(r.splice(ke,1),De.record.name&&_e.delete(De.record.name),De.children.forEach(Re),De.alias.forEach(Re))}}function Ee(){return r}function Ce(De){let ke=0;for(;ke<r.length&&comparePathParserScore(De,r[ke])>=0&&(De.record.path!==r[ke].record.path||!isRecordChildOf(De,r[ke]));)ke++;r.splice(ke,0,De),De.record.name&&!isAliasRecord(De)&&_e.set(De.record.name,De)}function Te(De,ke){let Pe,xe={},Fe,Ie;if("name"in De&&De.name){if(Pe=_e.get(De.name),!Pe)throw createRouterError(1,{location:De});Ie=Pe.record.name,xe=assign(paramsFromLocation(ke.params,Pe.keys.filter(Be=>!Be.optional).map(Be=>Be.name)),De.params&&paramsFromLocation(De.params,Pe.keys.map(Be=>Be.name))),Fe=Pe.stringify(xe)}else if("path"in De)Fe=De.path,Pe=r.find(Be=>Be.re.test(Fe)),Pe&&(xe=Pe.parse(Fe),Ie=Pe.record.name);else{if(Pe=ke.name?_e.get(ke.name):r.find(Be=>Be.re.test(ke.path)),!Pe)throw createRouterError(1,{location:De,currentLocation:ke});Ie=Pe.record.name,xe=assign({},ke.params,De.params),Fe=Pe.stringify(xe)}const Me=[];let Oe=Pe;for(;Oe;)Me.unshift(Oe.record),Oe=Oe.parent;return{name:Ie,path:Fe,params:xe,matched:Me,meta:mergeMetaFields(Me)}}return t.forEach(De=>Ae(De)),{addRoute:Ae,resolve:Te,removeRoute:Re,getRoutes:Ee,getRecordMatcher:Se}}function paramsFromLocation(t,e){const r={};for(const _e of e)_e in t&&(r[_e]=t[_e]);return r}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const _e in t.components)e[_e]=typeof r=="boolean"?r:r[_e];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,r)=>assign(e,r.meta),{})}function mergeOptions(t,e){const r={};for(const _e in t)r[_e]=_e in e?e[_e]:t[_e];return r}function isRecordChildOf(t,e){return e.children.some(r=>r===t||isRecordChildOf(t,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const _e=(t[0]==="?"?t.slice(1):t).split("&");for(let Se=0;Se<_e.length;++Se){const Ae=_e[Se].replace(PLUS_RE," "),Re=Ae.indexOf("="),Ee=decode(Re<0?Ae:Ae.slice(0,Re)),Ce=Re<0?null:decode(Ae.slice(Re+1));if(Ee in e){let Te=e[Ee];isArray(Te)||(Te=e[Ee]=[Te]),Te.push(Ce)}else e[Ee]=Ce}return e}function stringifyQuery(t){let e="";for(let r in t){const _e=t[r];if(r=encodeQueryKey(r),_e==null){_e!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray(_e)?_e.map(Ae=>Ae&&encodeQueryValue(Ae)):[_e&&encodeQueryValue(_e)]).forEach(Ae=>{Ae!==void 0&&(e+=(e.length?"&":"")+r,Ae!=null&&(e+="="+Ae))})}return e}function normalizeQuery(t){const e={};for(const r in t){const _e=t[r];_e!==void 0&&(e[r]=isArray(_e)?_e.map(Se=>Se==null?null:""+Se):_e==null?_e:""+_e)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(_e){return t.push(_e),()=>{const Se=t.indexOf(_e);Se>-1&&t.splice(Se,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function guardToPromiseFn(t,e,r,_e,Se){const Ae=_e&&(_e.enterCallbacks[Se]=_e.enterCallbacks[Se]||[]);return()=>new Promise((Re,Ee)=>{const Ce=ke=>{ke===!1?Ee(createRouterError(4,{from:r,to:e})):ke instanceof Error?Ee(ke):isRouteLocation(ke)?Ee(createRouterError(2,{from:e,to:ke})):(Ae&&_e.enterCallbacks[Se]===Ae&&typeof ke=="function"&&Ae.push(ke),Re())},Te=t.call(_e&&_e.instances[Se],e,r,Ce);let De=Promise.resolve(Te);t.length<3&&(De=De.then(Ce)),De.catch(ke=>Ee(ke))})}function extractComponentsGuards(t,e,r,_e){const Se=[];for(const Ae of t)for(const Re in Ae.components){let Ee=Ae.components[Re];if(!(e!=="beforeRouteEnter"&&!Ae.instances[Re]))if(isRouteComponent(Ee)){const Te=(Ee.__vccOpts||Ee)[e];Te&&Se.push(guardToPromiseFn(Te,r,_e,Ae,Re))}else{let Ce=Ee();Se.push(()=>Ce.then(Te=>{if(!Te)return Promise.reject(new Error(`Couldn't resolve component "${Re}" at "${Ae.path}"`));const De=isESModule(Te)?Te.default:Te;Ae.components[Re]=De;const Pe=(De.__vccOpts||De)[e];return Pe&&guardToPromiseFn(Pe,r,_e,Ae,Re)()}))}}return Se}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),r=inject(routeLocationKey),_e=computed(()=>e.resolve(unref(t.to))),Se=computed(()=>{const{matched:Ce}=_e.value,{length:Te}=Ce,De=Ce[Te-1],ke=r.matched;if(!De||!ke.length)return-1;const Pe=ke.findIndex(isSameRouteRecord.bind(null,De));if(Pe>-1)return Pe;const xe=getOriginalPath(Ce[Te-2]);return Te>1&&getOriginalPath(De)===xe&&ke[ke.length-1].path!==xe?ke.findIndex(isSameRouteRecord.bind(null,Ce[Te-2])):Pe}),Ae=computed(()=>Se.value>-1&&includesParams(r.params,_e.value.params)),Re=computed(()=>Se.value>-1&&Se.value===r.matched.length-1&&isSameRouteLocationParams(r.params,_e.value.params));function Ee(Ce={}){return guardEvent(Ce)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop):Promise.resolve()}return{route:_e,href:computed(()=>_e.value.href),isActive:Ae,isExactActive:Re,navigate:Ee}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const r=reactive(useLink(t)),{options:_e}=inject(routerKey),Se=computed(()=>({[getLinkClass(t.activeClass,_e.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,_e.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const Ae=e.default&&e.default(r);return t.custom?Ae:h$1("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:Se.value},Ae)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const r in e){const _e=e[r],Se=t[r];if(typeof _e=="string"){if(_e!==Se)return!1}else if(!isArray(Se)||Se.length!==_e.length||_e.some((Ae,Re)=>Ae!==Se[Re]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,r)=>t!=null?t:e!=null?e:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const _e=inject(routerViewLocationKey),Se=computed(()=>t.route||_e.value),Ae=inject(viewDepthKey,0),Re=computed(()=>{let Te=unref(Ae);const{matched:De}=Se.value;let ke;for(;(ke=De[Te])&&!ke.components;)Te++;return Te}),Ee=computed(()=>Se.value.matched[Re.value]);provide(viewDepthKey,computed(()=>Re.value+1)),provide(matchedRouteKey,Ee),provide(routerViewLocationKey,Se);const Ce=ref();return watch(()=>[Ce.value,Ee.value,t.name],([Te,De,ke],[Pe,xe,Fe])=>{De&&(De.instances[ke]=Te,xe&&xe!==De&&Te&&Te===Pe&&(De.leaveGuards.size||(De.leaveGuards=xe.leaveGuards),De.updateGuards.size||(De.updateGuards=xe.updateGuards))),Te&&De&&(!xe||!isSameRouteRecord(De,xe)||!Pe)&&(De.enterCallbacks[ke]||[]).forEach(Ie=>Ie(Te))},{flush:"post"}),()=>{const Te=Se.value,De=t.name,ke=Ee.value,Pe=ke&&ke.components[De];if(!Pe)return normalizeSlot(r.default,{Component:Pe,route:Te});const xe=ke.props[De],Fe=xe?xe===!0?Te.params:typeof xe=="function"?xe(Te):xe:null,Me=h$1(Pe,assign({},Fe,e,{onVnodeUnmounted:Oe=>{Oe.component.isUnmounted&&(ke.instances[De]=null)},ref:Ce}));return normalizeSlot(r.default,{Component:Me,route:Te})||Me}}});function normalizeSlot(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,_e=t.stringifyQuery||stringifyQuery,Se=t.history,Ae=useCallbacks(),Re=useCallbacks(),Ee=useCallbacks(),Ce=shallowRef(START_LOCATION_NORMALIZED);let Te=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const De=applyToParams.bind(null,We=>""+We),ke=applyToParams.bind(null,encodeParam),Pe=applyToParams.bind(null,decode);function xe(We,or){let fr,_r;return isRouteName(We)?(fr=e.getRecordMatcher(We),_r=or):_r=We,e.addRoute(_r,fr)}function Fe(We){const or=e.getRecordMatcher(We);or&&e.removeRoute(or)}function Ie(){return e.getRoutes().map(We=>We.record)}function Me(We){return!!e.getRecordMatcher(We)}function Oe(We,or){if(or=assign({},or||Ce.value),typeof We=="string"){const cr=parseURL(r,We,or.path),ar=e.resolve({path:cr.path},or),Qe=Se.createHref(cr.fullPath);return assign(cr,ar,{params:Pe(ar.params),hash:decode(cr.hash),redirectedFrom:void 0,href:Qe})}let fr;if("path"in We)fr=assign({},We,{path:parseURL(r,We.path,or.path).path});else{const cr=assign({},We.params);for(const ar in cr)cr[ar]==null&&delete cr[ar];fr=assign({},We,{params:ke(We.params)}),or.params=ke(or.params)}const _r=e.resolve(fr,or),yr=We.hash||"";_r.params=De(Pe(_r.params));const xr=stringifyURL(_e,assign({},We,{hash:encodeHash(yr),path:_r.path})),Ar=Se.createHref(xr);return assign({fullPath:xr,hash:yr,query:_e===stringifyQuery?normalizeQuery(We.query):We.query||{}},_r,{redirectedFrom:void 0,href:Ar})}function Be(We){return typeof We=="string"?parseURL(r,We,Ce.value.path):assign({},We)}function je(We,or){if(Te!==We)return createRouterError(8,{from:or,to:We})}function Ve(We){return $e(We)}function ze(We){return Ve(assign(Be(We),{replace:!0}))}function He(We){const or=We.matched[We.matched.length-1];if(or&&or.redirect){const{redirect:fr}=or;let _r=typeof fr=="function"?fr(We):fr;return typeof _r=="string"&&(_r=_r.includes("?")||_r.includes("#")?_r=Be(_r):{path:_r},_r.params={}),assign({query:We.query,hash:We.hash,params:"path"in _r?{}:We.params},_r)}}function $e(We,or){const fr=Te=Oe(We),_r=Ce.value,yr=We.state,xr=We.force,Ar=We.replace===!0,cr=He(fr);if(cr)return $e(assign(Be(cr),{state:typeof cr=="object"?assign({},yr,cr.state):yr,force:xr,replace:Ar}),or||fr);const ar=fr;ar.redirectedFrom=or;let Qe;return!xr&&isSameRouteLocation(_e,_r,fr)&&(Qe=createRouterError(16,{to:ar,from:_r}),hr(_r,_r,!0,!1)),(Qe?Promise.resolve(Qe):Xe(ar,_r)).catch(rr=>isNavigationFailure(rr)?isNavigationFailure(rr,2)?rr:tr(rr):gr(rr,ar,_r)).then(rr=>{if(rr){if(isNavigationFailure(rr,2))return $e(assign({replace:Ar},Be(rr.to),{state:typeof rr.to=="object"?assign({},yr,rr.to.state):yr,force:xr}),or||ar)}else rr=Ge(ar,_r,!0,Ar,yr);return nr(ar,_r,rr),rr})}function Ue(We,or){const fr=je(We,or);return fr?Promise.reject(fr):Promise.resolve()}function Xe(We,or){let fr;const[_r,yr,xr]=extractChangingRecords(We,or);fr=extractComponentsGuards(_r.reverse(),"beforeRouteLeave",We,or);for(const cr of _r)cr.leaveGuards.forEach(ar=>{fr.push(guardToPromiseFn(ar,We,or))});const Ar=Ue.bind(null,We,or);return fr.push(Ar),runGuardQueue(fr).then(()=>{fr=[];for(const cr of Ae.list())fr.push(guardToPromiseFn(cr,We,or));return fr.push(Ar),runGuardQueue(fr)}).then(()=>{fr=extractComponentsGuards(yr,"beforeRouteUpdate",We,or);for(const cr of yr)cr.updateGuards.forEach(ar=>{fr.push(guardToPromiseFn(ar,We,or))});return fr.push(Ar),runGuardQueue(fr)}).then(()=>{fr=[];for(const cr of We.matched)if(cr.beforeEnter&&!or.matched.includes(cr))if(isArray(cr.beforeEnter))for(const ar of cr.beforeEnter)fr.push(guardToPromiseFn(ar,We,or));else fr.push(guardToPromiseFn(cr.beforeEnter,We,or));return fr.push(Ar),runGuardQueue(fr)}).then(()=>(We.matched.forEach(cr=>cr.enterCallbacks={}),fr=extractComponentsGuards(xr,"beforeRouteEnter",We,or),fr.push(Ar),runGuardQueue(fr))).then(()=>{fr=[];for(const cr of Re.list())fr.push(guardToPromiseFn(cr,We,or));return fr.push(Ar),runGuardQueue(fr)}).catch(cr=>isNavigationFailure(cr,8)?cr:Promise.reject(cr))}function nr(We,or,fr){for(const _r of Ee.list())_r(We,or,fr)}function Ge(We,or,fr,_r,yr){const xr=je(We,or);if(xr)return xr;const Ar=or===START_LOCATION_NORMALIZED,cr=isBrowser?history.state:{};fr&&(_r||Ar?Se.replace(We.fullPath,assign({scroll:Ar&&cr&&cr.scroll},yr)):Se.push(We.fullPath,yr)),Ce.value=We,hr(We,or,fr,Ar),tr()}let St;function mr(){St||(St=Se.listen((We,or,fr)=>{if(!Ye.listening)return;const _r=Oe(We),yr=He(_r);if(yr){$e(assign(yr,{replace:!0}),_r).catch(noop);return}Te=_r;const xr=Ce.value;isBrowser&&saveScrollPosition(getScrollKey(xr.fullPath,fr.delta),computeScrollPosition()),Xe(_r,xr).catch(Ar=>isNavigationFailure(Ar,12)?Ar:isNavigationFailure(Ar,2)?($e(Ar.to,_r).then(cr=>{isNavigationFailure(cr,20)&&!fr.delta&&fr.type===NavigationType.pop&&Se.go(-1,!1)}).catch(noop),Promise.reject()):(fr.delta&&Se.go(-fr.delta,!1),gr(Ar,_r,xr))).then(Ar=>{Ar=Ar||Ge(_r,xr,!1),Ar&&(fr.delta&&!isNavigationFailure(Ar,8)?Se.go(-fr.delta,!1):fr.type===NavigationType.pop&&isNavigationFailure(Ar,20)&&Se.go(-1,!1)),nr(_r,xr,Ar)}).catch(noop)}))}let pr=useCallbacks(),vr=useCallbacks(),dr;function gr(We,or,fr){tr(We);const _r=vr.list();return _r.length?_r.forEach(yr=>yr(We,or,fr)):console.error(We),Promise.reject(We)}function sr(){return dr&&Ce.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((We,or)=>{pr.add([We,or])})}function tr(We){return dr||(dr=!We,mr(),pr.list().forEach(([or,fr])=>We?fr(We):or()),pr.reset()),We}function hr(We,or,fr,_r){const{scrollBehavior:yr}=t;if(!isBrowser||!yr)return Promise.resolve();const xr=!fr&&getSavedScrollPosition(getScrollKey(We.fullPath,0))||(_r||!fr)&&history.state&&history.state.scroll||null;return nextTick().then(()=>yr(We,or,xr)).then(Ar=>Ar&&scrollToPosition(Ar)).catch(Ar=>gr(Ar,We,or))}const Sr=We=>Se.go(We);let Je;const Ze=new Set,Ye={currentRoute:Ce,listening:!0,addRoute:xe,removeRoute:Fe,hasRoute:Me,getRoutes:Ie,resolve:Oe,options:t,push:Ve,replace:ze,go:Sr,back:()=>Sr(-1),forward:()=>Sr(1),beforeEach:Ae.add,beforeResolve:Re.add,afterEach:Ee.add,onError:vr.add,isReady:sr,install(We){const or=this;We.component("RouterLink",RouterLink),We.component("RouterView",RouterView),We.config.globalProperties.$router=or,Object.defineProperty(We.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(Ce)}),isBrowser&&!Je&&Ce.value===START_LOCATION_NORMALIZED&&(Je=!0,Ve(Se.location).catch(yr=>{}));const fr={};for(const yr in START_LOCATION_NORMALIZED)fr[yr]=computed(()=>Ce.value[yr]);We.provide(routerKey,or),We.provide(routeLocationKey,reactive(fr)),We.provide(routerViewLocationKey,Ce);const _r=We.unmount;Ze.add(We),We.unmount=function(){Ze.delete(We),Ze.size<1&&(Te=START_LOCATION_NORMALIZED,St&&St(),St=null,Ce.value=START_LOCATION_NORMALIZED,Je=!1,dr=!1),_r()}}};return Ye}function runGuardQueue(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function extractChangingRecords(t,e){const r=[],_e=[],Se=[],Ae=Math.max(e.matched.length,t.matched.length);for(let Re=0;Re<Ae;Re++){const Ee=e.matched[Re];Ee&&(t.matched.find(Te=>isSameRouteRecord(Te,Ee))?_e.push(Ee):r.push(Ee));const Ce=t.matched[Re];Ce&&(e.matched.find(Te=>isSameRouteRecord(Te,Ce))||Se.push(Ce))}return[r,_e,Se]}function useRoute(){return inject(routeLocationKey)}const meta$4=void 0,starCursorEffect_vue_vue_type_style_index_0_scoped_6884269c_lang="",meta$3={layout:"no-layout"},__nuxt_component_1$1=defineComponent({name:"ClientOnly",props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e}){const r=ref(!1);return onMounted(()=>{r.value=!0}),_e=>{var Ee;if(r.value)return(Ee=e.default)==null?void 0:Ee.call(e);const Se=e.fallback||e.placeholder;if(Se)return Se();const Ae=_e.fallback||_e.placeholder||"",Re=_e.fallbackTag||_e.placeholderTag||"span";return createElementBlock(Re,null,Ae)}}}),meta$2={layout:"no-layout"},welcome_vue_vue_type_style_index_0_scoped_25102a06_lang="",meta$1=void 0;var Char=(t=>(t[t.a=0]="a",t[t.b=0]="b",t[t.c=5]="c",t[t.d=Math.random()]="d",t[t.e=3]="e",t))(Char||{});const meta=void 0,_routes=[{name:"about",path:"/about",file:"D:/2023_04_27/2022_hex_school/pages/about.vue",children:[],meta:meta$4,alias:(meta$4==null?void 0:meta$4.alias)||[],redirect:(meta$4==null?void 0:meta$4.redirect)||void 0,component:()=>__vitePreload(()=>import("./about.397fd68e.js"),[],import.meta.url).then(t=>t.default||t)},{name:"hexCompetition1",path:"/hexCompetition1",file:"D:/2023_04_27/2022_hex_school/pages/hexCompetition1.vue",children:[],meta:meta$3,alias:(meta$3==null?void 0:meta$3.alias)||[],redirect:(meta$3==null?void 0:meta$3.redirect)||void 0,component:()=>__vitePreload(()=>import("./hexCompetition1.6a99ab91.js"),["hexCompetition1.6a99ab91.js","hexCompetition1.7593b1c3.css","plugin-vueexport-helper.7fd59842.js"],import.meta.url).then(t=>t.default||t)},{name:"hexCompetition2",path:"/hexCompetition2",file:"D:/2023_04_27/2022_hex_school/pages/hexCompetition2/index.vue",children:[],meta:meta$2,alias:(meta$2==null?void 0:meta$2.alias)||[],redirect:(meta$2==null?void 0:meta$2.redirect)||void 0,component:()=>__vitePreload(()=>import("./index.694fcbab.js"),["index.694fcbab.js","index.4a57a091.css"],import.meta.url).then(t=>t.default||t)},{name:"index",path:"/",file:"D:/2023_04_27/2022_hex_school/pages/index.vue",children:[],meta:meta$1,alias:(meta$1==null?void 0:meta$1.alias)||[],redirect:(meta$1==null?void 0:meta$1.redirect)||void 0,component:()=>__vitePreload(()=>import("./index.b0e1bef9.js"),["index.b0e1bef9.js","plugin-vueexport-helper.7fd59842.js"],import.meta.url).then(t=>t.default||t)},{name:"study",path:"/study",file:"D:/2023_04_27/2022_hex_school/pages/study.vue",children:[],meta,alias:(meta==null?void 0:meta.alias)||[],redirect:(meta==null?void 0:meta.redirect)||void 0,component:()=>__vitePreload(()=>import("./study.f882beed.js"),[],import.meta.url).then(t=>t.default||t)}],configRouterOptions={},routerOptions={...configRouterOptions},validate=defineNuxtRouteMiddleware(async t=>{var Se;let e,r;if(!((Se=t.meta)!=null&&Se.validate))return;const _e=([e,r]=executeAsync(()=>Promise.resolve(t.meta.validate(t))),e=await e,r(),e);return typeof _e=="boolean"?_e:createError(_e)}),index_45global=defineNuxtRouteMiddleware((t,e)=>{}),globalMiddleware=[validate,index_45global],namedMiddleware={};function createCurrentLocation(t,e){const{pathname:r,search:_e,hash:Se}=e,Ae=t.indexOf("#");if(Ae>-1){const Ee=Se.includes(t.slice(Ae))?t.slice(Ae).length:1;let Ce=Se.slice(Ee);return Ce[0]!=="/"&&(Ce="/"+Ce),withoutBase(Ce,"")}return withoutBase(r,t)+_e+Se}const node_modules_nuxt_dist_pages_runtime_router_mjs_qNv5Ky2ZmB=defineNuxtPlugin(async t=>{var Fe,Ie,Me,Oe;let e,r,_e=useRuntimeConfig().app.baseURL;routerOptions.hashMode&&!_e.includes("#")&&(_e+="#");const Se=(Ie=(Fe=routerOptions.history)==null?void 0:Fe.call(routerOptions,_e))!=null?Ie:routerOptions.hashMode?createWebHashHistory(_e):createWebHistory(_e),Ae=(Oe=(Me=routerOptions.routes)==null?void 0:Me.call(routerOptions,_routes))!=null?Oe:_routes,Re=createCurrentLocation(_e,window.location),Ee=createRouter({...routerOptions,history:Se,routes:Ae});t.vueApp.use(Ee);const Ce=shallowRef(Ee.currentRoute.value);Ee.afterEach((Be,je)=>{Ce.value=je}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>Ce.value});const Te=shallowRef(Ee.resolve(Re)),De=()=>{Te.value=Ee.currentRoute.value};t.hook("page:finish",De),Ee.afterEach((Be,je)=>{var Ve,ze,He,$e;((ze=(Ve=Be.matched[0])==null?void 0:Ve.components)==null?void 0:ze.default)===(($e=(He=je.matched[0])==null?void 0:He.components)==null?void 0:$e.default)&&De()});const ke={};for(const Be in Te.value)ke[Be]=computed(()=>Te.value[Be]);t._route=reactive(ke),t._middleware=t._middleware||{global:[],named:{}};const Pe=useError();try{[e,r]=executeAsync(()=>Ee.isReady()),await e,r()}catch(Be){callWithNuxt(t,showError,[Be])}const xe=useState("_layout");return Ee.beforeEach(async(Be,je)=>{var ze,He;Be.meta=reactive(Be.meta),t.isHydrating&&(Be.meta.layout=(ze=xe.value)!=null?ze:Be.meta.layout),t._processingMiddleware=!0;const Ve=new Set([...globalMiddleware,...t._middleware.global]);for(const $e of Be.matched){const Ue=$e.meta.middleware;if(!!Ue)if(Array.isArray(Ue))for(const Xe of Ue)Ve.add(Xe);else Ve.add(Ue)}for(const $e of Ve){const Ue=typeof $e=="string"?t._middleware.named[$e]||await((He=namedMiddleware[$e])==null?void 0:He.call(namedMiddleware).then(nr=>nr.default||nr)):$e;if(!Ue)throw new Error(`Unknown route middleware: '${$e}'.`);const Xe=await callWithNuxt(t,Ue,[Be,je]);if(!t.payload.serverRendered&&t.isHydrating&&(Xe===!1||Xe instanceof Error)){const nr=Xe||createError$1({statusCode:404,statusMessage:`Page Not Found: ${Re}`});return callWithNuxt(t,showError,[nr])}if(Xe||Xe===!1)return Xe}}),Ee.afterEach(async Be=>{delete t._processingMiddleware,!t.isHydrating&&Pe.value&&await callWithNuxt(t,clearError),Be.matched.length===0&&callWithNuxt(t,showError,[createError$1({statusCode:404,fatal:!1,statusMessage:`Page not found: ${Be.fullPath}`})])}),t.hooks.hookOnce("app:created",async()=>{try{await Ee.replace({...Ee.resolve(Re),name:void 0,force:!0})}catch(Be){callWithNuxt(t,showError,[Be])}}),{provide:{router:Ee}}});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(_e){var Se=Object.getOwnPropertyDescriptor(t,_e);Object.defineProperty(r,_e,Se.get?Se:{enumerable:!0,get:function(){return t[_e]}})}),r}var fabric={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var r=require$$5,_e=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=_e.document,e.jsdomImplForWrapper=require$$5.implForWrapper,e.nodeCanvas=require$$5.Canvas,e.window=_e,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function Ee(xe,Fe){if(!!this.__eventListeners[xe]){var Ie=this.__eventListeners[xe];Fe?Ie[Ie.indexOf(Fe)]=!1:e.util.array.fill(Ie,!1)}}function Ce(xe,Fe){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var Ie in xe)this.on(Ie,xe[Ie]);else this.__eventListeners[xe]||(this.__eventListeners[xe]=[]),this.__eventListeners[xe].push(Fe);return this}function Te(xe,Fe){var Ie=function(){Fe.apply(this,arguments),this.off(xe,Ie)}.bind(this);this.on(xe,Ie)}function De(xe,Fe){if(arguments.length===1)for(var Ie in xe)Te.call(this,Ie,xe[Ie]);else Te.call(this,xe,Fe);return this}function ke(xe,Fe){if(!this.__eventListeners)return this;if(arguments.length===0)for(xe in this.__eventListeners)Ee.call(this,xe);else if(arguments.length===1&&typeof arguments[0]=="object")for(var Ie in xe)Ee.call(this,Ie,xe[Ie]);else Ee.call(this,xe,Fe);return this}function Pe(xe,Fe){if(!this.__eventListeners)return this;var Ie=this.__eventListeners[xe];if(!Ie)return this;for(var Me=0,Oe=Ie.length;Me<Oe;Me++)Ie[Me]&&Ie[Me].call(this,Fe||{});return this.__eventListeners[xe]=Ie.filter(function(Be){return Be!==!1}),this}e.Observable={fire:Pe,on:Ce,once:De,off:ke}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var Ee=0,Ce=arguments.length;Ee<Ce;Ee++)this._onObjectAdded(arguments[Ee]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(Ee,Ce,Te){var De=this._objects;return Te?De[Ce]=Ee:De.splice(Ce,0,Ee),this._onObjectAdded&&this._onObjectAdded(Ee),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var Ee=this._objects,Ce,Te=!1,De=0,ke=arguments.length;De<ke;De++)Ce=Ee.indexOf(arguments[De]),Ce!==-1&&(Te=!0,Ee.splice(Ce,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[De]));return this.renderOnAddRemove&&Te&&this.requestRenderAll(),this},forEachObject:function(Ee,Ce){for(var Te=this.getObjects(),De=0,ke=Te.length;De<ke;De++)Ee.call(Ce,Te[De],De,Te);return this},getObjects:function(Ee){return typeof Ee>"u"?this._objects.concat():this._objects.filter(function(Ce){return Ce.type===Ee})},item:function(Ee){return this._objects[Ee]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(Ee,Ce){return this._objects.indexOf(Ee)>-1?!0:Ce?this._objects.some(function(Te){return typeof Te.contains=="function"&&Te.contains(Ee,!0)}):!1},complexity:function(){return this._objects.reduce(function(Ee,Ce){return Ee+=Ce.complexity?Ce.complexity():0,Ee},0)}},e.CommonMethods={_setOptions:function(Ee){for(var Ce in Ee)this.set(Ce,Ee[Ce])},_initGradient:function(Ee,Ce){Ee&&Ee.colorStops&&!(Ee instanceof e.Gradient)&&this.set(Ce,new e.Gradient(Ee))},_initPattern:function(Ee,Ce,Te){Ee&&Ee.source&&!(Ee instanceof e.Pattern)?this.set(Ce,new e.Pattern(Ee,Te)):Te&&Te()},_setObject:function(Ee){for(var Ce in Ee)this._set(Ce,Ee[Ce])},set:function(Ee,Ce){return typeof Ee=="object"?this._setObject(Ee):this._set(Ee,Ce),this},_set:function(Ee,Ce){this[Ee]=Ce},toggle:function(Ee){var Ce=this.get(Ee);return typeof Ce=="boolean"&&this.set(Ee,!Ce),this},get:function(Ee){return this[Ee]}},function(Ee){var Ce=Math.sqrt,Te=Math.atan2,De=Math.pow,ke=Math.PI/180,Pe=Math.PI/2;e.util={cos:function(xe){if(xe===0)return 1;xe<0&&(xe=-xe);var Fe=xe/Pe;switch(Fe){case 1:case 3:return 0;case 2:return-1}return Math.cos(xe)},sin:function(xe){if(xe===0)return 0;var Fe=xe/Pe,Ie=1;switch(xe<0&&(Ie=-1),Fe){case 1:return Ie;case 2:return 0;case 3:return-Ie}return Math.sin(xe)},removeFromArray:function(xe,Fe){var Ie=xe.indexOf(Fe);return Ie!==-1&&xe.splice(Ie,1),xe},getRandomInt:function(xe,Fe){return Math.floor(Math.random()*(Fe-xe+1))+xe},degreesToRadians:function(xe){return xe*ke},radiansToDegrees:function(xe){return xe/ke},rotatePoint:function(xe,Fe,Ie){var Me=new e.Point(xe.x-Fe.x,xe.y-Fe.y),Oe=e.util.rotateVector(Me,Ie);return new e.Point(Oe.x,Oe.y).addEquals(Fe)},rotateVector:function(xe,Fe){var Ie=e.util.sin(Fe),Me=e.util.cos(Fe),Oe=xe.x*Me-xe.y*Ie,Be=xe.x*Ie+xe.y*Me;return{x:Oe,y:Be}},createVector:function(xe,Fe){return new e.Point(Fe.x-xe.x,Fe.y-xe.y)},calcAngleBetweenVectors:function(xe,Fe){return Math.acos((xe.x*Fe.x+xe.y*Fe.y)/(Math.hypot(xe.x,xe.y)*Math.hypot(Fe.x,Fe.y)))},getHatVector:function(xe){return new e.Point(xe.x,xe.y).multiply(1/Math.hypot(xe.x,xe.y))},getBisector:function(xe,Fe,Ie){var Me=e.util.createVector(xe,Fe),Oe=e.util.createVector(xe,Ie),Be=e.util.calcAngleBetweenVectors(Me,Oe),je=e.util.calcAngleBetweenVectors(e.util.rotateVector(Me,Be),Oe),Ve=Be*(je===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(Me,Ve)),angle:Be}},projectStrokeOnPoints:function(xe,Fe,Ie){var Me=[],Oe=Fe.strokeWidth/2,Be=Fe.strokeUniform?new e.Point(1/Fe.scaleX,1/Fe.scaleY):new e.Point(1,1),je=function(Ve){var ze=Oe/Math.hypot(Ve.x,Ve.y);return new e.Point(Ve.x*ze*Be.x,Ve.y*ze*Be.y)};return xe.length<=1||xe.forEach(function(Ve,ze){var He=new e.Point(Ve.x,Ve.y),$e,Ue;ze===0?(Ue=xe[ze+1],$e=Ie?je(e.util.createVector(Ue,He)).addEquals(He):xe[xe.length-1]):ze===xe.length-1?($e=xe[ze-1],Ue=Ie?je(e.util.createVector($e,He)).addEquals(He):xe[0]):($e=xe[ze-1],Ue=xe[ze+1]);var Xe=e.util.getBisector(He,$e,Ue),nr=Xe.vector,Ge=Xe.angle,St,mr;if(Fe.strokeLineJoin==="miter"&&(St=-Oe/Math.sin(Ge/2),mr=new e.Point(nr.x*St*Be.x,nr.y*St*Be.y),Math.hypot(mr.x,mr.y)/Oe<=Fe.strokeMiterLimit)){Me.push(He.add(mr)),Me.push(He.subtract(mr));return}St=-Oe*Math.SQRT2,mr=new e.Point(nr.x*St*Be.x,nr.y*St*Be.y),Me.push(He.add(mr)),Me.push(He.subtract(mr))}),Me},transformPoint:function(xe,Fe,Ie){return Ie?new e.Point(Fe[0]*xe.x+Fe[2]*xe.y,Fe[1]*xe.x+Fe[3]*xe.y):new e.Point(Fe[0]*xe.x+Fe[2]*xe.y+Fe[4],Fe[1]*xe.x+Fe[3]*xe.y+Fe[5])},makeBoundingBoxFromPoints:function(xe,Fe){if(Fe)for(var Ie=0;Ie<xe.length;Ie++)xe[Ie]=e.util.transformPoint(xe[Ie],Fe);var Me=[xe[0].x,xe[1].x,xe[2].x,xe[3].x],Oe=e.util.array.min(Me),Be=e.util.array.max(Me),je=Be-Oe,Ve=[xe[0].y,xe[1].y,xe[2].y,xe[3].y],ze=e.util.array.min(Ve),He=e.util.array.max(Ve),$e=He-ze;return{left:Oe,top:ze,width:je,height:$e}},invertTransform:function(xe){var Fe=1/(xe[0]*xe[3]-xe[1]*xe[2]),Ie=[Fe*xe[3],-Fe*xe[1],-Fe*xe[2],Fe*xe[0]],Me=e.util.transformPoint({x:xe[4],y:xe[5]},Ie,!0);return Ie[4]=-Me.x,Ie[5]=-Me.y,Ie},toFixed:function(xe,Fe){return parseFloat(Number(xe).toFixed(Fe))},parseUnit:function(xe,Fe){var Ie=/\D{0,2}$/.exec(xe),Me=parseFloat(xe);switch(Fe||(Fe=e.Text.DEFAULT_SVG_FONT_SIZE),Ie[0]){case"mm":return Me*e.DPI/25.4;case"cm":return Me*e.DPI/2.54;case"in":return Me*e.DPI;case"pt":return Me*e.DPI/72;case"pc":return Me*e.DPI/72*12;case"em":return Me*Fe;default:return Me}},falseFunction:function(){return!1},getKlass:function(xe,Fe){return xe=e.util.string.camelize(xe.charAt(0).toUpperCase()+xe.slice(1)),e.util.resolveNamespace(Fe)[xe]},getSvgAttributes:function(xe){var Fe=["instantiated_by_use","style","id","class"];switch(xe){case"linearGradient":Fe=Fe.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":Fe=Fe.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":Fe=Fe.concat(["offset","stop-color","stop-opacity"]);break}return Fe},resolveNamespace:function(xe){if(!xe)return e;var Fe=xe.split("."),Ie=Fe.length,Me,Oe=Ee||e.window;for(Me=0;Me<Ie;++Me)Oe=Oe[Fe[Me]];return Oe},loadImage:function(xe,Fe,Ie,Me){if(!xe){Fe&&Fe.call(Ie,xe);return}var Oe=e.util.createImage(),Be=function(){Fe&&Fe.call(Ie,Oe,!1),Oe=Oe.onload=Oe.onerror=null};Oe.onload=Be,Oe.onerror=function(){e.log("Error loading "+Oe.src),Fe&&Fe.call(Ie,null,!0),Oe=Oe.onload=Oe.onerror=null},xe.indexOf("data")!==0&&Me!==void 0&&Me!==null&&(Oe.crossOrigin=Me),xe.substring(0,14)==="data:image/svg"&&(Oe.onload=null,e.util.loadImageInDom(Oe,Be)),Oe.src=xe},loadImageInDom:function(xe,Fe){var Ie=e.document.createElement("div");Ie.style.width=Ie.style.height="1px",Ie.style.left=Ie.style.top="-100%",Ie.style.position="absolute",Ie.appendChild(xe),e.document.querySelector("body").appendChild(Ie),xe.onload=function(){Fe(),Ie.parentNode.removeChild(Ie),Ie=null}},enlivenObjects:function(xe,Fe,Ie,Me){xe=xe||[];var Oe=[],Be=0,je=xe.length;function Ve(){++Be===je&&Fe&&Fe(Oe.filter(function(ze){return ze}))}if(!je){Fe&&Fe(Oe);return}xe.forEach(function(ze,He){if(!ze||!ze.type){Ve();return}var $e=e.util.getKlass(ze.type,Ie);$e.fromObject(ze,function(Ue,Xe){Xe||(Oe[He]=Ue),Me&&Me(ze,Ue,Xe),Ve()})})},enlivenObjectEnlivables:function(xe,Fe,Ie){var Me=e.Object.ENLIVEN_PROPS.filter(function(Oe){return!!xe[Oe]});e.util.enlivenObjects(Me.map(function(Oe){return xe[Oe]}),function(Oe){var Be={};Me.forEach(function(je,Ve){Be[je]=Oe[Ve],Fe&&(Fe[je]=Oe[Ve])}),Ie&&Ie(Be)})},enlivenPatterns:function(xe,Fe){xe=xe||[];function Ie(){++Oe===Be&&Fe&&Fe(Me)}var Me=[],Oe=0,Be=xe.length;if(!Be){Fe&&Fe(Me);return}xe.forEach(function(je,Ve){je&&je.source?new e.Pattern(je,function(ze){Me[Ve]=ze,Ie()}):(Me[Ve]=je,Ie())})},groupSVGElements:function(xe,Fe,Ie){var Me;return xe&&xe.length===1?(typeof Ie<"u"&&(xe[0].sourcePath=Ie),xe[0]):(Fe&&(Fe.width&&Fe.height?Fe.centerPoint={x:Fe.width/2,y:Fe.height/2}:(delete Fe.width,delete Fe.height)),Me=new e.Group(xe,Fe),typeof Ie<"u"&&(Me.sourcePath=Ie),Me)},populateWithProperties:function(xe,Fe,Ie){if(Ie&&Array.isArray(Ie))for(var Me=0,Oe=Ie.length;Me<Oe;Me++)Ie[Me]in xe&&(Fe[Ie[Me]]=xe[Ie[Me]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(xe){var Fe=e.util.createCanvasElement();return Fe.width=xe.width,Fe.height=xe.height,Fe.getContext("2d").drawImage(xe,0,0),Fe},toDataURL:function(xe,Fe,Ie){return xe.toDataURL("image/"+Fe,Ie)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(xe,Fe,Ie){return[xe[0]*Fe[0]+xe[2]*Fe[1],xe[1]*Fe[0]+xe[3]*Fe[1],xe[0]*Fe[2]+xe[2]*Fe[3],xe[1]*Fe[2]+xe[3]*Fe[3],Ie?0:xe[0]*Fe[4]+xe[2]*Fe[5]+xe[4],Ie?0:xe[1]*Fe[4]+xe[3]*Fe[5]+xe[5]]},qrDecompose:function(xe){var Fe=Te(xe[1],xe[0]),Ie=De(xe[0],2)+De(xe[1],2),Me=Ce(Ie),Oe=(xe[0]*xe[3]-xe[2]*xe[1])/Me,Be=Te(xe[0]*xe[2]+xe[1]*xe[3],Ie);return{angle:Fe/ke,scaleX:Me,scaleY:Oe,skewX:Be/ke,skewY:0,translateX:xe[4],translateY:xe[5]}},calcRotateMatrix:function(xe){if(!xe.angle)return e.iMatrix.concat();var Fe=e.util.degreesToRadians(xe.angle),Ie=e.util.cos(Fe),Me=e.util.sin(Fe);return[Ie,Me,-Me,Ie,0,0]},calcDimensionsMatrix:function(xe){var Fe=typeof xe.scaleX>"u"?1:xe.scaleX,Ie=typeof xe.scaleY>"u"?1:xe.scaleY,Me=[xe.flipX?-Fe:Fe,0,0,xe.flipY?-Ie:Ie,0,0],Oe=e.util.multiplyTransformMatrices,Be=e.util.degreesToRadians;return xe.skewX&&(Me=Oe(Me,[1,0,Math.tan(Be(xe.skewX)),1],!0)),xe.skewY&&(Me=Oe(Me,[1,Math.tan(Be(xe.skewY)),0,1],!0)),Me},composeMatrix:function(xe){var Fe=[1,0,0,1,xe.translateX||0,xe.translateY||0],Ie=e.util.multiplyTransformMatrices;return xe.angle&&(Fe=Ie(Fe,e.util.calcRotateMatrix(xe))),(xe.scaleX!==1||xe.scaleY!==1||xe.skewX||xe.skewY||xe.flipX||xe.flipY)&&(Fe=Ie(Fe,e.util.calcDimensionsMatrix(xe))),Fe},resetObjectTransform:function(xe){xe.scaleX=1,xe.scaleY=1,xe.skewX=0,xe.skewY=0,xe.flipX=!1,xe.flipY=!1,xe.rotate(0)},saveObjectTransform:function(xe){return{scaleX:xe.scaleX,scaleY:xe.scaleY,skewX:xe.skewX,skewY:xe.skewY,angle:xe.angle,left:xe.left,flipX:xe.flipX,flipY:xe.flipY,top:xe.top}},isTransparent:function(xe,Fe,Ie,Me){Me>0&&(Fe>Me?Fe-=Me:Fe=0,Ie>Me?Ie-=Me:Ie=0);var Oe=!0,Be,je,Ve=xe.getImageData(Fe,Ie,Me*2||1,Me*2||1),ze=Ve.data.length;for(Be=3;Be<ze&&(je=Ve.data[Be],Oe=je<=0,Oe!==!1);Be+=4);return Ve=null,Oe},parsePreserveAspectRatioAttribute:function(xe){var Fe="meet",Ie="Mid",Me="Mid",Oe=xe.split(" "),Be;return Oe&&Oe.length&&(Fe=Oe.pop(),Fe!=="meet"&&Fe!=="slice"?(Be=Fe,Fe="meet"):Oe.length&&(Be=Oe.pop())),Ie=Be!=="none"?Be.slice(1,4):"none",Me=Be!=="none"?Be.slice(5,8):"none",{meetOrSlice:Fe,alignX:Ie,alignY:Me}},clearFabricFontCache:function(xe){xe=(xe||"").toLowerCase(),xe?e.charWidthsCache[xe]&&delete e.charWidthsCache[xe]:e.charWidthsCache={}},limitDimsByArea:function(xe,Fe){var Ie=Math.sqrt(Fe*xe),Me=Math.floor(Fe/Ie);return{x:Math.floor(Ie),y:Me}},capValue:function(xe,Fe,Ie){return Math.max(xe,Math.min(Fe,Ie))},findScaleToFit:function(xe,Fe){return Math.min(Fe.width/xe.width,Fe.height/xe.height)},findScaleToCover:function(xe,Fe){return Math.max(Fe.width/xe.width,Fe.height/xe.height)},matrixToSVG:function(xe){return"matrix("+xe.map(function(Fe){return e.util.toFixed(Fe,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(xe,Fe){var Ie=e.util.invertTransform(Fe),Me=e.util.multiplyTransformMatrices(Ie,xe.calcOwnMatrix());e.util.applyTransformToObject(xe,Me)},addTransformToObject:function(xe,Fe){e.util.applyTransformToObject(xe,e.util.multiplyTransformMatrices(Fe,xe.calcOwnMatrix()))},applyTransformToObject:function(xe,Fe){var Ie=e.util.qrDecompose(Fe),Me=new e.Point(Ie.translateX,Ie.translateY);xe.flipX=!1,xe.flipY=!1,xe.set("scaleX",Ie.scaleX),xe.set("scaleY",Ie.scaleY),xe.skewX=Ie.skewX,xe.skewY=Ie.skewY,xe.angle=Ie.angle,xe.setPositionByOrigin(Me,"center","center")},sizeAfterTransform:function(xe,Fe,Ie){var Me=xe/2,Oe=Fe/2,Be=[{x:-Me,y:-Oe},{x:Me,y:-Oe},{x:-Me,y:Oe},{x:Me,y:Oe}],je=e.util.calcDimensionsMatrix(Ie),Ve=e.util.makeBoundingBoxFromPoints(Be,je);return{x:Ve.width,y:Ve.height}},mergeClipPaths:function(xe,Fe){var Ie=xe,Me=Fe;Ie.inverted&&!Me.inverted&&(Ie=Fe,Me=xe),e.util.applyTransformToObject(Me,e.util.multiplyTransformMatrices(e.util.invertTransform(Ie.calcTransformMatrix()),Me.calcTransformMatrix()));var Oe=Ie.inverted&&Me.inverted;return Oe&&(Ie.inverted=Me.inverted=!1),new e.Group([Ie],{clipPath:Me,inverted:Oe})},hasStyleChanged:function(xe,Fe,Ie){return Ie=Ie||!1,xe.fill!==Fe.fill||xe.stroke!==Fe.stroke||xe.strokeWidth!==Fe.strokeWidth||xe.fontSize!==Fe.fontSize||xe.fontFamily!==Fe.fontFamily||xe.fontWeight!==Fe.fontWeight||xe.fontStyle!==Fe.fontStyle||xe.textBackgroundColor!==Fe.textBackgroundColor||xe.deltaY!==Fe.deltaY||Ie&&(xe.overline!==Fe.overline||xe.underline!==Fe.underline||xe.linethrough!==Fe.linethrough)},stylesToArray:function(Ie,Fe){for(var Ie=e.util.object.clone(Ie,!0),Me=Fe.split(`
`),Oe=-1,Be={},je=[],Ve=0;Ve<Me.length;Ve++){if(!Ie[Ve]){Oe+=Me[Ve].length;continue}for(var ze=0;ze<Me[Ve].length;ze++){Oe++;var He=Ie[Ve][ze];if(He&&Object.keys(He).length>0){var $e=e.util.hasStyleChanged(Be,He,!0);$e?je.push({start:Oe,end:Oe+1,style:He}):je[je.length-1].end++}Be=He||{}}}return je},stylesFromArray:function(xe,Fe){if(!Array.isArray(xe))return xe;for(var Ie=Fe.split(`
`),Me=-1,Oe=0,Be={},je=0;je<Ie.length;je++)for(var Ve=0;Ve<Ie[je].length;Ve++)Me++,xe[Oe]&&xe[Oe].start<=Me&&Me<xe[Oe].end&&(Be[je]=Be[je]||{},Be[je][Ve]=Object.assign({},xe[Oe].style),Me===xe[Oe].end-1&&Oe++);return Be}}}(t),function(){var Ee=Array.prototype.join,Ce={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Te={m:"l",M:"L"};function De(tr,hr,Sr,Je,Ze,Ye,We,or,fr,_r,yr){var xr=e.util.cos(tr),Ar=e.util.sin(tr),cr=e.util.cos(hr),ar=e.util.sin(hr),Qe=Sr*Ze*cr-Je*Ye*ar+We,rr=Je*Ze*cr+Sr*Ye*ar+or,er=_r+fr*(-Sr*Ze*Ar-Je*Ye*xr),ur=yr+fr*(-Je*Ze*Ar+Sr*Ye*xr),Cr=Qe+fr*(Sr*Ze*ar+Je*Ye*cr),wr=rr+fr*(Je*Ze*ar-Sr*Ye*cr);return["C",er,ur,Cr,wr,Qe,rr]}function ke(tr,hr,Sr,Je,Ze,Ye,We){var or=Math.PI,fr=We*or/180,_r=e.util.sin(fr),yr=e.util.cos(fr),xr=0,Ar=0;Sr=Math.abs(Sr),Je=Math.abs(Je);var cr=-yr*tr*.5-_r*hr*.5,ar=-yr*hr*.5+_r*tr*.5,Qe=Sr*Sr,rr=Je*Je,er=ar*ar,ur=cr*cr,Cr=Qe*rr-Qe*er-rr*ur,wr=0;if(Cr<0){var Or=Math.sqrt(1-Cr/(Qe*rr));Sr*=Or,Je*=Or}else wr=(Ze===Ye?-1:1)*Math.sqrt(Cr/(Qe*er+rr*ur));var kr=wr*Sr*ar/Je,Pr=-wr*Je*cr/Sr,Ir=yr*kr-_r*Pr+tr*.5,Vr=_r*kr+yr*Pr+hr*.5,zr=Pe(1,0,(cr-kr)/Sr,(ar-Pr)/Je),$r=Pe((cr-kr)/Sr,(ar-Pr)/Je,(-cr-kr)/Sr,(-ar-Pr)/Je);Ye===0&&$r>0?$r-=2*or:Ye===1&&$r<0&&($r+=2*or);for(var Gr=Math.ceil(Math.abs($r/or*2)),ii=[],Qr=$r/Gr,di=8/3*Math.sin(Qr/4)*Math.sin(Qr/4)/Math.sin(Qr/2),Lr=zr+Qr,Hr=0;Hr<Gr;Hr++)ii[Hr]=De(zr,Lr,yr,_r,Sr,Je,Ir,Vr,di,xr,Ar),xr=ii[Hr][5],Ar=ii[Hr][6],zr=Lr,Lr+=Qr;return ii}function Pe(tr,hr,Sr,Je){var Ze=Math.atan2(hr,tr),Ye=Math.atan2(Je,Sr);return Ye>=Ze?Ye-Ze:2*Math.PI-(Ze-Ye)}function xe(tr,hr,Sr,Je,Ze,Ye,We,or){var fr;if(e.cachesBoundsOfCurve&&(fr=Ee.call(arguments),e.boundsOfCurveCache[fr]))return e.boundsOfCurveCache[fr];var _r=Math.sqrt,yr=Math.min,xr=Math.max,Ar=Math.abs,cr=[],ar=[[],[]],Qe,rr,er,ur,Cr,wr,Or,kr;rr=6*tr-12*Sr+6*Ze,Qe=-3*tr+9*Sr-9*Ze+3*We,er=3*Sr-3*tr;for(var Pr=0;Pr<2;++Pr){if(Pr>0&&(rr=6*hr-12*Je+6*Ye,Qe=-3*hr+9*Je-9*Ye+3*or,er=3*Je-3*hr),Ar(Qe)<1e-12){if(Ar(rr)<1e-12)continue;ur=-er/rr,0<ur&&ur<1&&cr.push(ur);continue}Or=rr*rr-4*er*Qe,!(Or<0)&&(kr=_r(Or),Cr=(-rr+kr)/(2*Qe),0<Cr&&Cr<1&&cr.push(Cr),wr=(-rr-kr)/(2*Qe),0<wr&&wr<1&&cr.push(wr))}for(var Ir,Vr,zr=cr.length,$r=zr,Gr;zr--;)ur=cr[zr],Gr=1-ur,Ir=Gr*Gr*Gr*tr+3*Gr*Gr*ur*Sr+3*Gr*ur*ur*Ze+ur*ur*ur*We,ar[0][zr]=Ir,Vr=Gr*Gr*Gr*hr+3*Gr*Gr*ur*Je+3*Gr*ur*ur*Ye+ur*ur*ur*or,ar[1][zr]=Vr;ar[0][$r]=tr,ar[1][$r]=hr,ar[0][$r+1]=We,ar[1][$r+1]=or;var ii=[{x:yr.apply(null,ar[0]),y:yr.apply(null,ar[1])},{x:xr.apply(null,ar[0]),y:xr.apply(null,ar[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[fr]=ii),ii}function Fe(tr,hr,Sr){for(var Je=Sr[1],Ze=Sr[2],Ye=Sr[3],We=Sr[4],or=Sr[5],fr=Sr[6],_r=Sr[7],yr=ke(fr-tr,_r-hr,Je,Ze,We,or,Ye),xr=0,Ar=yr.length;xr<Ar;xr++)yr[xr][1]+=tr,yr[xr][2]+=hr,yr[xr][3]+=tr,yr[xr][4]+=hr,yr[xr][5]+=tr,yr[xr][6]+=hr;return yr}function Ie(tr){var hr=0,Sr=0,Je=tr.length,Ze=0,Ye=0,We,or,fr,_r=[],yr,xr,Ar;for(or=0;or<Je;++or){switch(fr=!1,We=tr[or].slice(0),We[0]){case"l":We[0]="L",We[1]+=hr,We[2]+=Sr;case"L":hr=We[1],Sr=We[2];break;case"h":We[1]+=hr;case"H":We[0]="L",We[2]=Sr,hr=We[1];break;case"v":We[1]+=Sr;case"V":We[0]="L",Sr=We[1],We[1]=hr,We[2]=Sr;break;case"m":We[0]="M",We[1]+=hr,We[2]+=Sr;case"M":hr=We[1],Sr=We[2],Ze=We[1],Ye=We[2];break;case"c":We[0]="C",We[1]+=hr,We[2]+=Sr,We[3]+=hr,We[4]+=Sr,We[5]+=hr,We[6]+=Sr;case"C":xr=We[3],Ar=We[4],hr=We[5],Sr=We[6];break;case"s":We[0]="S",We[1]+=hr,We[2]+=Sr,We[3]+=hr,We[4]+=Sr;case"S":yr==="C"?(xr=2*hr-xr,Ar=2*Sr-Ar):(xr=hr,Ar=Sr),hr=We[3],Sr=We[4],We[0]="C",We[5]=We[3],We[6]=We[4],We[3]=We[1],We[4]=We[2],We[1]=xr,We[2]=Ar,xr=We[3],Ar=We[4];break;case"q":We[0]="Q",We[1]+=hr,We[2]+=Sr,We[3]+=hr,We[4]+=Sr;case"Q":xr=We[1],Ar=We[2],hr=We[3],Sr=We[4];break;case"t":We[0]="T",We[1]+=hr,We[2]+=Sr;case"T":yr==="Q"?(xr=2*hr-xr,Ar=2*Sr-Ar):(xr=hr,Ar=Sr),We[0]="Q",hr=We[1],Sr=We[2],We[1]=xr,We[2]=Ar,We[3]=hr,We[4]=Sr;break;case"a":We[0]="A",We[6]+=hr,We[7]+=Sr;case"A":fr=!0,_r=_r.concat(Fe(hr,Sr,We)),hr=We[6],Sr=We[7];break;case"z":case"Z":hr=Ze,Sr=Ye;break}fr||_r.push(We),yr=We[0]}return _r}function Me(tr,hr,Sr,Je){return Math.sqrt((Sr-tr)*(Sr-tr)+(Je-hr)*(Je-hr))}function Oe(tr){return tr*tr*tr}function Be(tr){return 3*tr*tr*(1-tr)}function je(tr){return 3*tr*(1-tr)*(1-tr)}function Ve(tr){return(1-tr)*(1-tr)*(1-tr)}function ze(tr,hr,Sr,Je,Ze,Ye,We,or){return function(fr){var _r=Oe(fr),yr=Be(fr),xr=je(fr),Ar=Ve(fr);return{x:We*_r+Ze*yr+Sr*xr+tr*Ar,y:or*_r+Ye*yr+Je*xr+hr*Ar}}}function He(tr,hr,Sr,Je,Ze,Ye,We,or){return function(fr){var _r=1-fr,yr=3*_r*_r*(Sr-tr)+6*_r*fr*(Ze-Sr)+3*fr*fr*(We-Ze),xr=3*_r*_r*(Je-hr)+6*_r*fr*(Ye-Je)+3*fr*fr*(or-Ye);return Math.atan2(xr,yr)}}function $e(tr){return tr*tr}function Ue(tr){return 2*tr*(1-tr)}function Xe(tr){return(1-tr)*(1-tr)}function nr(tr,hr,Sr,Je,Ze,Ye){return function(We){var or=$e(We),fr=Ue(We),_r=Xe(We);return{x:Ze*or+Sr*fr+tr*_r,y:Ye*or+Je*fr+hr*_r}}}function Ge(tr,hr,Sr,Je,Ze,Ye){return function(We){var or=1-We,fr=2*or*(Sr-tr)+2*We*(Ze-Sr),_r=2*or*(Je-hr)+2*We*(Ye-Je);return Math.atan2(_r,fr)}}function St(tr,hr,Sr){var Je={x:hr,y:Sr},Ze,Ye=0,We;for(We=1;We<=100;We+=1)Ze=tr(We/100),Ye+=Me(Je.x,Je.y,Ze.x,Ze.y),Je=Ze;return Ye}function mr(tr,hr){for(var Sr=0,Je=0,Ze=tr.iterator,Ye={x:tr.x,y:tr.y},We,or,fr=.01,_r=tr.angleFinder,yr;Je<hr&&fr>1e-4;)We=Ze(Sr),yr=Sr,or=Me(Ye.x,Ye.y,We.x,We.y),or+Je>hr?(Sr-=fr,fr/=2):(Ye=We,Sr+=fr,Je+=or);return We.angle=_r(yr),We}function pr(tr){for(var hr=0,Sr=tr.length,Je,Ze=0,Ye=0,We=0,or=0,fr=[],_r,yr,xr,Ar=0;Ar<Sr;Ar++){switch(Je=tr[Ar],yr={x:Ze,y:Ye,command:Je[0]},Je[0]){case"M":yr.length=0,We=Ze=Je[1],or=Ye=Je[2];break;case"L":yr.length=Me(Ze,Ye,Je[1],Je[2]),Ze=Je[1],Ye=Je[2];break;case"C":_r=ze(Ze,Ye,Je[1],Je[2],Je[3],Je[4],Je[5],Je[6]),xr=He(Ze,Ye,Je[1],Je[2],Je[3],Je[4],Je[5],Je[6]),yr.iterator=_r,yr.angleFinder=xr,yr.length=St(_r,Ze,Ye),Ze=Je[5],Ye=Je[6];break;case"Q":_r=nr(Ze,Ye,Je[1],Je[2],Je[3],Je[4]),xr=Ge(Ze,Ye,Je[1],Je[2],Je[3],Je[4]),yr.iterator=_r,yr.angleFinder=xr,yr.length=St(_r,Ze,Ye),Ze=Je[3],Ye=Je[4];break;case"Z":case"z":yr.destX=We,yr.destY=or,yr.length=Me(Ze,Ye,We,or),Ze=We,Ye=or;break}hr+=yr.length,fr.push(yr)}return fr.push({length:hr,x:Ze,y:Ye}),fr}function vr(tr,hr,Sr){Sr||(Sr=pr(tr));for(var Je=0;hr-Sr[Je].length>0&&Je<Sr.length-2;)hr-=Sr[Je].length,Je++;var Ze=Sr[Je],Ye=hr/Ze.length,We=Ze.command,or=tr[Je],fr;switch(We){case"M":return{x:Ze.x,y:Ze.y,angle:0};case"Z":case"z":return fr=new e.Point(Ze.x,Ze.y).lerp(new e.Point(Ze.destX,Ze.destY),Ye),fr.angle=Math.atan2(Ze.destY-Ze.y,Ze.destX-Ze.x),fr;case"L":return fr=new e.Point(Ze.x,Ze.y).lerp(new e.Point(or[1],or[2]),Ye),fr.angle=Math.atan2(or[2]-Ze.y,or[1]-Ze.x),fr;case"C":return mr(Ze,hr);case"Q":return mr(Ze,hr)}}function dr(tr){var hr=[],Sr=[],Je,Ze,Ye=e.rePathCommand,We="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",or="("+We+")"+e.commaWsp,fr="([01])"+e.commaWsp+"?",_r=or+"?"+or+"?"+or+fr+fr+or+"?("+We+")",yr=new RegExp(_r,"g"),xr,Ar,cr;if(!tr||!tr.match)return hr;cr=tr.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ar=0,Qe,rr=cr.length;ar<rr;ar++){Je=cr[ar],Ar=Je.slice(1).trim(),Sr.length=0;var er=Je.charAt(0);if(Qe=[er],er.toLowerCase()==="a")for(var ur;ur=yr.exec(Ar);)for(var Cr=1;Cr<ur.length;Cr++)Sr.push(ur[Cr]);else for(;xr=Ye.exec(Ar);)Sr.push(xr[0]);for(var Cr=0,wr=Sr.length;Cr<wr;Cr++)Ze=parseFloat(Sr[Cr]),isNaN(Ze)||Qe.push(Ze);var Or=Ce[er.toLowerCase()],kr=Te[er]||er;if(Qe.length-1>Or)for(var Pr=1,Ir=Qe.length;Pr<Ir;Pr+=Or)hr.push([er].concat(Qe.slice(Pr,Pr+Or))),er=kr;else hr.push(Qe)}return hr}function gr(tr,hr){var Sr=[],Je,Ze=new e.Point(tr[0].x,tr[0].y),Ye=new e.Point(tr[1].x,tr[1].y),We=tr.length,or=1,fr=0,_r=We>2;for(hr=hr||0,_r&&(or=tr[2].x<Ye.x?-1:tr[2].x===Ye.x?0:1,fr=tr[2].y<Ye.y?-1:tr[2].y===Ye.y?0:1),Sr.push(["M",Ze.x-or*hr,Ze.y-fr*hr]),Je=1;Je<We;Je++){if(!Ze.eq(Ye)){var yr=Ze.midPointFrom(Ye);Sr.push(["Q",Ze.x,Ze.y,yr.x,yr.y])}Ze=tr[Je],Je+1<tr.length&&(Ye=tr[Je+1])}return _r&&(or=Ze.x>tr[Je-2].x?1:Ze.x===tr[Je-2].x?0:-1,fr=Ze.y>tr[Je-2].y?1:Ze.y===tr[Je-2].y?0:-1),Sr.push(["L",Ze.x+or*hr,Ze.y+fr*hr]),Sr}function sr(tr,hr,Sr){return Sr&&(hr=e.util.multiplyTransformMatrices(hr,[1,0,0,1,-Sr.x,-Sr.y])),tr.map(function(Je){for(var Ze=Je.slice(0),Ye={},We=1;We<Je.length-1;We+=2)Ye.x=Je[We],Ye.y=Je[We+1],Ye=e.util.transformPoint(Ye,hr),Ze[We]=Ye.x,Ze[We+1]=Ye.y;return Ze})}e.util.joinPath=function(tr){return tr.map(function(hr){return hr.join(" ")}).join(" ")},e.util.parsePath=dr,e.util.makePathSimpler=Ie,e.util.getSmoothPathFromPoints=gr,e.util.getPathSegmentsInfo=pr,e.util.getBoundsOfCurve=xe,e.util.getPointOnPath=vr,e.util.transformPath=sr}(),function(){var Ee=Array.prototype.slice;function Ce(xe,Fe){for(var Ie=Ee.call(arguments,2),Me=[],Oe=0,Be=xe.length;Oe<Be;Oe++)Me[Oe]=Ie.length?xe[Oe][Fe].apply(xe[Oe],Ie):xe[Oe][Fe].call(xe[Oe]);return Me}function Te(xe,Fe){return Pe(xe,Fe,function(Ie,Me){return Ie>=Me})}function De(xe,Fe){return Pe(xe,Fe,function(Ie,Me){return Ie<Me})}function ke(xe,Fe){for(var Ie=xe.length;Ie--;)xe[Ie]=Fe;return xe}function Pe(xe,Fe,Ie){if(!(!xe||xe.length===0)){var Me=xe.length-1,Oe=Fe?xe[Me][Fe]:xe[Me];if(Fe)for(;Me--;)Ie(xe[Me][Fe],Oe)&&(Oe=xe[Me][Fe]);else for(;Me--;)Ie(xe[Me],Oe)&&(Oe=xe[Me]);return Oe}}e.util.array={fill:ke,invoke:Ce,min:De,max:Te}}(),function(){function Ee(Te,De,ke){if(ke)if(!e.isLikelyNode&&De instanceof Element)Te=De;else if(De instanceof Array){Te=[];for(var Pe=0,xe=De.length;Pe<xe;Pe++)Te[Pe]=Ee({},De[Pe],ke)}else if(De&&typeof De=="object")for(var Fe in De)Fe==="canvas"||Fe==="group"?Te[Fe]=null:De.hasOwnProperty(Fe)&&(Te[Fe]=Ee({},De[Fe],ke));else Te=De;else for(var Fe in De)Te[Fe]=De[Fe];return Te}function Ce(Te,De){return Ee({},Te,De)}e.util.object={extend:Ee,clone:Ce},e.util.object.extend(e.util,e.Observable)}(),function(){function Ee(Pe){return Pe.replace(/-+(.)?/g,function(xe,Fe){return Fe?Fe.toUpperCase():""})}function Ce(Pe,xe){return Pe.charAt(0).toUpperCase()+(xe?Pe.slice(1):Pe.slice(1).toLowerCase())}function Te(Pe){return Pe.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function De(Pe){var xe=0,Fe,Ie=[];for(xe=0,Fe;xe<Pe.length;xe++)(Fe=ke(Pe,xe))!==!1&&Ie.push(Fe);return Ie}function ke(Pe,xe){var Fe=Pe.charCodeAt(xe);if(isNaN(Fe))return"";if(Fe<55296||Fe>57343)return Pe.charAt(xe);if(55296<=Fe&&Fe<=56319){if(Pe.length<=xe+1)throw"High surrogate without following low surrogate";var Ie=Pe.charCodeAt(xe+1);if(56320>Ie||Ie>57343)throw"High surrogate without following low surrogate";return Pe.charAt(xe)+Pe.charAt(xe+1)}if(xe===0)throw"Low surrogate without preceding high surrogate";var Me=Pe.charCodeAt(xe-1);if(55296>Me||Me>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:Ee,capitalize:Ce,escapeXml:Te,graphemeSplit:De}}(),function(){var Ee=Array.prototype.slice,Ce=function(){},Te=function(){for(var Fe in{toString:1})if(Fe==="toString")return!1;return!0}(),De=function(Fe,Ie,Me){for(var Oe in Ie)Oe in Fe.prototype&&typeof Fe.prototype[Oe]=="function"&&(Ie[Oe]+"").indexOf("callSuper")>-1?Fe.prototype[Oe]=function(Be){return function(){var je=this.constructor.superclass;this.constructor.superclass=Me;var Ve=Ie[Be].apply(this,arguments);if(this.constructor.superclass=je,Be!=="initialize")return Ve}}(Oe):Fe.prototype[Oe]=Ie[Oe],Te&&(Ie.toString!==Object.prototype.toString&&(Fe.prototype.toString=Ie.toString),Ie.valueOf!==Object.prototype.valueOf&&(Fe.prototype.valueOf=Ie.valueOf))};function ke(){}function Pe(Fe){for(var Ie=null,Me=this;Me.constructor.superclass;){var Oe=Me.constructor.superclass.prototype[Fe];if(Me[Fe]!==Oe){Ie=Oe;break}Me=Me.constructor.superclass.prototype}return Ie?arguments.length>1?Ie.apply(this,Ee.call(arguments,1)):Ie.call(this):console.log("tried to callSuper "+Fe+", method not found in prototype chain",this)}function xe(){var Fe=null,Ie=Ee.call(arguments,0);typeof Ie[0]=="function"&&(Fe=Ie.shift());function Me(){this.initialize.apply(this,arguments)}Me.superclass=Fe,Me.subclasses=[],Fe&&(ke.prototype=Fe.prototype,Me.prototype=new ke,Fe.subclasses.push(Me));for(var Oe=0,Be=Ie.length;Oe<Be;Oe++)De(Me,Ie[Oe],Fe);return Me.prototype.initialize||(Me.prototype.initialize=Ce),Me.prototype.constructor=Me,Me.prototype.callSuper=Pe,Me}e.util.createClass=xe}(),function(){var Ee=!!e.document.createElement("div").attachEvent,Ce=["touchstart","touchmove","touchend"];e.util.addListener=function(De,ke,Pe,xe){De&&De.addEventListener(ke,Pe,Ee?!1:xe)},e.util.removeListener=function(De,ke,Pe,xe){De&&De.removeEventListener(ke,Pe,Ee?!1:xe)};function Te(De){var ke=De.changedTouches;return ke&&ke[0]?ke[0]:De}e.util.getPointer=function(De){var ke=De.target,Pe=e.util.getScrollLeftTop(ke),xe=Te(De);return{x:xe.clientX+Pe.left,y:xe.clientY+Pe.top}},e.util.isTouchEvent=function(De){return Ce.indexOf(De.type)>-1||De.pointerType==="touch"}}(),function(){function Ee(xe,Fe){var Ie=xe.style;if(!Ie)return xe;if(typeof Fe=="string")return xe.style.cssText+=";"+Fe,Fe.indexOf("opacity")>-1?Pe(xe,Fe.match(/opacity:\s*(\d?\.?\d*)/)[1]):xe;for(var Me in Fe)if(Me==="opacity")Pe(xe,Fe[Me]);else{var Oe=Me==="float"||Me==="cssFloat"?typeof Ie.styleFloat>"u"?"cssFloat":"styleFloat":Me;Ie.setProperty(Oe,Fe[Me])}return xe}var Ce=e.document.createElement("div"),Te=typeof Ce.style.opacity=="string",De=typeof Ce.style.filter=="string",ke=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,Pe=function(xe){return xe};Te?Pe=function(xe,Fe){return xe.style.opacity=Fe,xe}:De&&(Pe=function(xe,Fe){var Ie=xe.style;return xe.currentStyle&&!xe.currentStyle.hasLayout&&(Ie.zoom=1),ke.test(Ie.filter)?(Fe=Fe>=.9999?"":"alpha(opacity="+Fe*100+")",Ie.filter=Ie.filter.replace(ke,Fe)):Ie.filter+=" alpha(opacity="+Fe*100+")",xe}),e.util.setStyle=Ee}(),function(){var Ee=Array.prototype.slice;function Ce(Ve){return typeof Ve=="string"?e.document.getElementById(Ve):Ve}var Te,De=function(Ve){return Ee.call(Ve,0)};try{Te=De(e.document.childNodes)instanceof Array}catch{}Te||(De=function(Ve){for(var ze=new Array(Ve.length),He=Ve.length;He--;)ze[He]=Ve[He];return ze});function ke(Ve,ze){var He=e.document.createElement(Ve);for(var $e in ze)$e==="class"?He.className=ze[$e]:$e==="for"?He.htmlFor=ze[$e]:He.setAttribute($e,ze[$e]);return He}function Pe(Ve,ze){Ve&&(" "+Ve.className+" ").indexOf(" "+ze+" ")===-1&&(Ve.className+=(Ve.className?" ":"")+ze)}function xe(Ve,ze,He){return typeof ze=="string"&&(ze=ke(ze,He)),Ve.parentNode&&Ve.parentNode.replaceChild(ze,Ve),ze.appendChild(Ve),ze}function Fe(Ve){for(var ze=0,He=0,$e=e.document.documentElement,Ue=e.document.body||{scrollLeft:0,scrollTop:0};Ve&&(Ve.parentNode||Ve.host)&&(Ve=Ve.parentNode||Ve.host,Ve===e.document?(ze=Ue.scrollLeft||$e.scrollLeft||0,He=Ue.scrollTop||$e.scrollTop||0):(ze+=Ve.scrollLeft||0,He+=Ve.scrollTop||0),!(Ve.nodeType===1&&Ve.style.position==="fixed")););return{left:ze,top:He}}function Ie(Ve){var ze,He=Ve&&Ve.ownerDocument,$e={left:0,top:0},Ue={left:0,top:0},Xe,nr={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!He)return Ue;for(var Ge in nr)Ue[nr[Ge]]+=parseInt(Me(Ve,Ge),10)||0;return ze=He.documentElement,typeof Ve.getBoundingClientRect<"u"&&($e=Ve.getBoundingClientRect()),Xe=Fe(Ve),{left:$e.left+Xe.left-(ze.clientLeft||0)+Ue.left,top:$e.top+Xe.top-(ze.clientTop||0)+Ue.top}}var Me;e.document.defaultView&&e.document.defaultView.getComputedStyle?Me=function(Ve,ze){var He=e.document.defaultView.getComputedStyle(Ve,null);return He?He[ze]:void 0}:Me=function(Ve,ze){var He=Ve.style[ze];return!He&&Ve.currentStyle&&(He=Ve.currentStyle[ze]),He},function(){var Ve=e.document.documentElement.style,ze="userSelect"in Ve?"userSelect":"MozUserSelect"in Ve?"MozUserSelect":"WebkitUserSelect"in Ve?"WebkitUserSelect":"KhtmlUserSelect"in Ve?"KhtmlUserSelect":"";function He(Ue){return typeof Ue.onselectstart<"u"&&(Ue.onselectstart=e.util.falseFunction),ze?Ue.style[ze]="none":typeof Ue.unselectable=="string"&&(Ue.unselectable="on"),Ue}function $e(Ue){return typeof Ue.onselectstart<"u"&&(Ue.onselectstart=null),ze?Ue.style[ze]="":typeof Ue.unselectable=="string"&&(Ue.unselectable=""),Ue}e.util.makeElementUnselectable=He,e.util.makeElementSelectable=$e}();function Oe(Ve){var ze=e.jsdomImplForWrapper(Ve);return ze._canvas||ze._image}function Be(Ve){if(!!e.isLikelyNode){var ze=e.jsdomImplForWrapper(Ve);ze&&(ze._image=null,ze._canvas=null,ze._currentSrc=null,ze._attributes=null,ze._classList=null)}}function je(Ve,ze){Ve.imageSmoothingEnabled=Ve.imageSmoothingEnabled||Ve.webkitImageSmoothingEnabled||Ve.mozImageSmoothingEnabled||Ve.msImageSmoothingEnabled||Ve.oImageSmoothingEnabled,Ve.imageSmoothingEnabled=ze}e.util.setImageSmoothing=je,e.util.getById=Ce,e.util.toArray=De,e.util.addClass=Pe,e.util.makeElement=ke,e.util.wrapElement=xe,e.util.getScrollLeftTop=Fe,e.util.getElementOffset=Ie,e.util.getNodeCanvas=Oe,e.util.cleanUpJsdomNode=Be}(),function(){function Ee(De,ke){return De+(/\?/.test(De)?"&":"?")+ke}function Ce(){}function Te(De,ke){ke||(ke={});var Pe=ke.method?ke.method.toUpperCase():"GET",xe=ke.onComplete||function(){},Fe=new e.window.XMLHttpRequest,Ie=ke.body||ke.parameters;return Fe.onreadystatechange=function(){Fe.readyState===4&&(xe(Fe),Fe.onreadystatechange=Ce)},Pe==="GET"&&(Ie=null,typeof ke.parameters=="string"&&(De=Ee(De,ke.parameters))),Fe.open(Pe,De,!0),(Pe==="POST"||Pe==="PUT")&&Fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Fe.send(Ie),Fe}e.util.request=Te}(),e.log=console.log,e.warn=console.warn,function(){var Ee=e.util.object.extend,Ce=e.util.object.clone,Te=[];e.util.object.extend(Te,{cancelAll:function(){var Oe=this.splice(0);return Oe.forEach(function(Be){Be.cancel()}),Oe},cancelByCanvas:function(Oe){if(!Oe)return[];var Be=this.filter(function(je){return typeof je.target=="object"&&je.target.canvas===Oe});return Be.forEach(function(je){je.cancel()}),Be},cancelByTarget:function(Oe){var Be=this.findAnimationsByTarget(Oe);return Be.forEach(function(je){je.cancel()}),Be},findAnimationIndex:function(Oe){return this.indexOf(this.findAnimation(Oe))},findAnimation:function(Oe){return this.find(function(Be){return Be.cancel===Oe})},findAnimationsByTarget:function(Oe){return Oe?this.filter(function(Be){return Be.target===Oe}):[]}});function De(){return!1}function ke(Oe,Be,je,Ve){return-je*Math.cos(Oe/Ve*(Math.PI/2))+je+Be}function Pe(Oe){Oe||(Oe={});var Be=!1,je,Ve=function(){var ze=e.runningAnimations.indexOf(je);return ze>-1&&e.runningAnimations.splice(ze,1)[0]};return je=Ee(Ce(Oe),{cancel:function(){return Be=!0,Ve()},currentValue:"startValue"in Oe?Oe.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(je),Ie(function(ze){var He=ze||+new Date,$e=Oe.duration||500,Ue=He+$e,Xe,nr=Oe.onChange||De,Ge=Oe.abort||De,St=Oe.onComplete||De,mr=Oe.easing||ke,pr="startValue"in Oe?Oe.startValue.length>0:!1,vr="startValue"in Oe?Oe.startValue:0,dr="endValue"in Oe?Oe.endValue:100,gr=Oe.byValue||(pr?vr.map(function(sr,tr){return dr[tr]-vr[tr]}):dr-vr);Oe.onStart&&Oe.onStart(),function sr(tr){Xe=tr||+new Date;var hr=Xe>Ue?$e:Xe-He,Sr=hr/$e,Je=pr?vr.map(function(Ye,We){return mr(hr,vr[We],gr[We],$e)}):mr(hr,vr,gr,$e),Ze=Math.abs(pr?(Je[0]-vr[0])/gr[0]:(Je-vr)/gr);if(je.currentValue=pr?Je.slice():Je,je.completionRate=Ze,je.durationRate=Sr,!Be){if(Ge(Je,Ze,Sr)){Ve();return}if(Xe>Ue){je.currentValue=pr?dr.slice():dr,je.completionRate=1,je.durationRate=1,nr(pr?dr.slice():dr,1,1),St(dr,1,1),Ve();return}else nr(Je,Ze,Sr),Ie(sr)}}(He)}),je.cancel}var xe=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(Oe){return e.window.setTimeout(Oe,1e3/60)},Fe=e.window.cancelAnimationFrame||e.window.clearTimeout;function Ie(){return xe.apply(e.window,arguments)}function Me(){return Fe.apply(e.window,arguments)}e.util.animate=Pe,e.util.requestAnimFrame=Ie,e.util.cancelAnimFrame=Me,e.runningAnimations=Te}(),function(){function Ee(Te,De,ke){var Pe="rgba("+parseInt(Te[0]+ke*(De[0]-Te[0]),10)+","+parseInt(Te[1]+ke*(De[1]-Te[1]),10)+","+parseInt(Te[2]+ke*(De[2]-Te[2]),10);return Pe+=","+(Te&&De?parseFloat(Te[3]+ke*(De[3]-Te[3])):1),Pe+=")",Pe}function Ce(Te,De,ke,Pe){var xe=new e.Color(Te).getSource(),Fe=new e.Color(De).getSource(),Ie=Pe.onComplete,Me=Pe.onChange;return Pe=Pe||{},e.util.animate(e.util.object.extend(Pe,{duration:ke||500,startValue:xe,endValue:Fe,byValue:Fe,easing:function(Oe,Be,je,Ve){var ze=Pe.colorEasing?Pe.colorEasing(Oe,Ve):1-Math.cos(Oe/Ve*(Math.PI/2));return Ee(Be,je,ze)},onComplete:function(Oe,Be,je){if(Ie)return Ie(Ee(Fe,Fe,0),Be,je)},onChange:function(Oe,Be,je){if(Me){if(Array.isArray(Oe))return Me(Ee(Oe,Oe,0),Be,je);Me(Oe,Be,je)}}}))}e.util.animateColor=Ce}(),function(){function Ee(tr,hr,Sr,Je){return tr<Math.abs(hr)?(tr=hr,Je=Sr/4):hr===0&&tr===0?Je=Sr/(2*Math.PI)*Math.asin(1):Je=Sr/(2*Math.PI)*Math.asin(hr/tr),{a:tr,c:hr,p:Sr,s:Je}}function Ce(tr,hr,Sr){return tr.a*Math.pow(2,10*(hr-=1))*Math.sin((hr*Sr-tr.s)*(2*Math.PI)/tr.p)}function Te(tr,hr,Sr,Je){return Sr*((tr=tr/Je-1)*tr*tr+1)+hr}function De(tr,hr,Sr,Je){return tr/=Je/2,tr<1?Sr/2*tr*tr*tr+hr:Sr/2*((tr-=2)*tr*tr+2)+hr}function ke(tr,hr,Sr,Je){return Sr*(tr/=Je)*tr*tr*tr+hr}function Pe(tr,hr,Sr,Je){return-Sr*((tr=tr/Je-1)*tr*tr*tr-1)+hr}function xe(tr,hr,Sr,Je){return tr/=Je/2,tr<1?Sr/2*tr*tr*tr*tr+hr:-Sr/2*((tr-=2)*tr*tr*tr-2)+hr}function Fe(tr,hr,Sr,Je){return Sr*(tr/=Je)*tr*tr*tr*tr+hr}function Ie(tr,hr,Sr,Je){return Sr*((tr=tr/Je-1)*tr*tr*tr*tr+1)+hr}function Me(tr,hr,Sr,Je){return tr/=Je/2,tr<1?Sr/2*tr*tr*tr*tr*tr+hr:Sr/2*((tr-=2)*tr*tr*tr*tr+2)+hr}function Oe(tr,hr,Sr,Je){return-Sr*Math.cos(tr/Je*(Math.PI/2))+Sr+hr}function Be(tr,hr,Sr,Je){return Sr*Math.sin(tr/Je*(Math.PI/2))+hr}function je(tr,hr,Sr,Je){return-Sr/2*(Math.cos(Math.PI*tr/Je)-1)+hr}function Ve(tr,hr,Sr,Je){return tr===0?hr:Sr*Math.pow(2,10*(tr/Je-1))+hr}function ze(tr,hr,Sr,Je){return tr===Je?hr+Sr:Sr*(-Math.pow(2,-10*tr/Je)+1)+hr}function He(tr,hr,Sr,Je){return tr===0?hr:tr===Je?hr+Sr:(tr/=Je/2,tr<1?Sr/2*Math.pow(2,10*(tr-1))+hr:Sr/2*(-Math.pow(2,-10*--tr)+2)+hr)}function $e(tr,hr,Sr,Je){return-Sr*(Math.sqrt(1-(tr/=Je)*tr)-1)+hr}function Ue(tr,hr,Sr,Je){return Sr*Math.sqrt(1-(tr=tr/Je-1)*tr)+hr}function Xe(tr,hr,Sr,Je){return tr/=Je/2,tr<1?-Sr/2*(Math.sqrt(1-tr*tr)-1)+hr:Sr/2*(Math.sqrt(1-(tr-=2)*tr)+1)+hr}function nr(tr,hr,Sr,Je){var Ze=1.70158,Ye=0,We=Sr;if(tr===0)return hr;if(tr/=Je,tr===1)return hr+Sr;Ye||(Ye=Je*.3);var or=Ee(We,Sr,Ye,Ze);return-Ce(or,tr,Je)+hr}function Ge(tr,hr,Sr,Je){var Ze=1.70158,Ye=0,We=Sr;if(tr===0)return hr;if(tr/=Je,tr===1)return hr+Sr;Ye||(Ye=Je*.3);var or=Ee(We,Sr,Ye,Ze);return or.a*Math.pow(2,-10*tr)*Math.sin((tr*Je-or.s)*(2*Math.PI)/or.p)+or.c+hr}function St(tr,hr,Sr,Je){var Ze=1.70158,Ye=0,We=Sr;if(tr===0)return hr;if(tr/=Je/2,tr===2)return hr+Sr;Ye||(Ye=Je*(.3*1.5));var or=Ee(We,Sr,Ye,Ze);return tr<1?-.5*Ce(or,tr,Je)+hr:or.a*Math.pow(2,-10*(tr-=1))*Math.sin((tr*Je-or.s)*(2*Math.PI)/or.p)*.5+or.c+hr}function mr(tr,hr,Sr,Je,Ze){return Ze===void 0&&(Ze=1.70158),Sr*(tr/=Je)*tr*((Ze+1)*tr-Ze)+hr}function pr(tr,hr,Sr,Je,Ze){return Ze===void 0&&(Ze=1.70158),Sr*((tr=tr/Je-1)*tr*((Ze+1)*tr+Ze)+1)+hr}function vr(tr,hr,Sr,Je,Ze){return Ze===void 0&&(Ze=1.70158),tr/=Je/2,tr<1?Sr/2*(tr*tr*(((Ze*=1.525)+1)*tr-Ze))+hr:Sr/2*((tr-=2)*tr*(((Ze*=1.525)+1)*tr+Ze)+2)+hr}function dr(tr,hr,Sr,Je){return Sr-gr(Je-tr,0,Sr,Je)+hr}function gr(tr,hr,Sr,Je){return(tr/=Je)<1/2.75?Sr*(7.5625*tr*tr)+hr:tr<2/2.75?Sr*(7.5625*(tr-=1.5/2.75)*tr+.75)+hr:tr<2.5/2.75?Sr*(7.5625*(tr-=2.25/2.75)*tr+.9375)+hr:Sr*(7.5625*(tr-=2.625/2.75)*tr+.984375)+hr}function sr(tr,hr,Sr,Je){return tr<Je/2?dr(tr*2,0,Sr,Je)*.5+hr:gr(tr*2-Je,0,Sr,Je)*.5+Sr*.5+hr}e.util.ease={easeInQuad:function(tr,hr,Sr,Je){return Sr*(tr/=Je)*tr+hr},easeOutQuad:function(tr,hr,Sr,Je){return-Sr*(tr/=Je)*(tr-2)+hr},easeInOutQuad:function(tr,hr,Sr,Je){return tr/=Je/2,tr<1?Sr/2*tr*tr+hr:-Sr/2*(--tr*(tr-2)-1)+hr},easeInCubic:function(tr,hr,Sr,Je){return Sr*(tr/=Je)*tr*tr+hr},easeOutCubic:Te,easeInOutCubic:De,easeInQuart:ke,easeOutQuart:Pe,easeInOutQuart:xe,easeInQuint:Fe,easeOutQuint:Ie,easeInOutQuint:Me,easeInSine:Oe,easeOutSine:Be,easeInOutSine:je,easeInExpo:Ve,easeOutExpo:ze,easeInOutExpo:He,easeInCirc:$e,easeOutCirc:Ue,easeInOutCirc:Xe,easeInElastic:nr,easeOutElastic:Ge,easeInOutElastic:St,easeInBack:mr,easeOutBack:pr,easeInOutBack:vr,easeInBounce:dr,easeOutBounce:gr,easeInOutBounce:sr}}(),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.util.object.clone,ke=Ce.util.toFixed,Pe=Ce.util.parseUnit,xe=Ce.util.multiplyTransformMatrices,Fe=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],Ie=["symbol","image","marker","pattern","view","svg"],Me=["pattern","defs","symbol","metadata","clipPath","mask","desc"],Oe=["symbol","g","a","svg","clipPath","defs"],Be={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},je={stroke:"strokeOpacity",fill:"fillOpacity"},Ve="font-size",ze="clip-path";Ce.svgValidTagNamesRegEx=Ue(Fe),Ce.svgViewBoxElementsRegEx=Ue(Ie),Ce.svgInvalidAncestorsRegEx=Ue(Me),Ce.svgValidParentsRegEx=Ue(Oe),Ce.cssRules={},Ce.gradientDefs={},Ce.clipPaths={};function He(Ye){return Ye in Be?Be[Ye]:Ye}function $e(Ye,We,or,fr){var _r=Array.isArray(We),yr;if((Ye==="fill"||Ye==="stroke")&&We==="none")We="";else{if(Ye==="strokeUniform")return We==="non-scaling-stroke";if(Ye==="strokeDashArray")We==="none"?We=null:We=We.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Ye==="transformMatrix")or&&or.transformMatrix?We=xe(or.transformMatrix,Ce.parseTransformAttribute(We)):We=Ce.parseTransformAttribute(We);else if(Ye==="visible")We=We!=="none"&&We!=="hidden",or&&or.visible===!1&&(We=!1);else if(Ye==="opacity")We=parseFloat(We),or&&typeof or.opacity<"u"&&(We*=or.opacity);else if(Ye==="textAnchor")We=We==="start"?"left":We==="end"?"right":"center";else if(Ye==="charSpacing")yr=Pe(We,fr)/fr*1e3;else if(Ye==="paintFirst"){var xr=We.indexOf("fill"),Ar=We.indexOf("stroke"),We="fill";(xr>-1&&Ar>-1&&Ar<xr||xr===-1&&Ar>-1)&&(We="stroke")}else{if(Ye==="href"||Ye==="xlink:href"||Ye==="font")return We;if(Ye==="imageSmoothing")return We==="optimizeQuality";yr=_r?We.map(Pe):Pe(We,fr)}}return!_r&&isNaN(yr)?We:yr}function Ue(Ye){return new RegExp("^("+Ye.join("|")+")\\b","i")}function Xe(Ye){for(var We in je)if(!(typeof Ye[je[We]]>"u"||Ye[We]==="")){if(typeof Ye[We]>"u"){if(!Ce.Object.prototype[We])continue;Ye[We]=Ce.Object.prototype[We]}if(Ye[We].indexOf("url(")!==0){var or=new Ce.Color(Ye[We]);Ye[We]=or.setAlpha(ke(or.getAlpha()*Ye[je[We]],2)).toRgba()}}return Ye}function nr(Ye,We){var or,fr=[],_r,yr,xr;for(yr=0,xr=We.length;yr<xr;yr++)or=We[yr],_r=Ye.getElementsByTagName(or),fr=fr.concat(Array.prototype.slice.call(_r));return fr}Ce.parseTransformAttribute=function(){function Ye(Pr,Ir){var Vr=Ce.util.cos(Ir[0]),zr=Ce.util.sin(Ir[0]),$r=0,Gr=0;Ir.length===3&&($r=Ir[1],Gr=Ir[2]),Pr[0]=Vr,Pr[1]=zr,Pr[2]=-zr,Pr[3]=Vr,Pr[4]=$r-(Vr*$r-zr*Gr),Pr[5]=Gr-(zr*$r+Vr*Gr)}function We(Pr,Ir){var Vr=Ir[0],zr=Ir.length===2?Ir[1]:Ir[0];Pr[0]=Vr,Pr[3]=zr}function or(Pr,Ir,Vr){Pr[Vr]=Math.tan(Ce.util.degreesToRadians(Ir[0]))}function fr(Pr,Ir){Pr[4]=Ir[0],Ir.length===2&&(Pr[5]=Ir[1])}var _r=Ce.iMatrix,yr=Ce.reNum,xr=Ce.commaWsp,Ar="(?:(skewX)\\s*\\(\\s*("+yr+")\\s*\\))",cr="(?:(skewY)\\s*\\(\\s*("+yr+")\\s*\\))",ar="(?:(rotate)\\s*\\(\\s*("+yr+")(?:"+xr+"("+yr+")"+xr+"("+yr+"))?\\s*\\))",Qe="(?:(scale)\\s*\\(\\s*("+yr+")(?:"+xr+"("+yr+"))?\\s*\\))",rr="(?:(translate)\\s*\\(\\s*("+yr+")(?:"+xr+"("+yr+"))?\\s*\\))",er="(?:(matrix)\\s*\\(\\s*("+yr+")"+xr+"("+yr+")"+xr+"("+yr+")"+xr+"("+yr+")"+xr+"("+yr+")"+xr+"("+yr+")\\s*\\))",ur="(?:"+er+"|"+rr+"|"+Qe+"|"+ar+"|"+Ar+"|"+cr+")",Cr="(?:"+ur+"(?:"+xr+"*"+ur+")*)",wr="^\\s*(?:"+Cr+"?)\\s*$",Or=new RegExp(wr),kr=new RegExp(ur,"g");return function(Pr){var Ir=_r.concat(),Vr=[];if(!Pr||Pr&&!Or.test(Pr))return Ir;Pr.replace(kr,function($r){var Gr=new RegExp(ur).exec($r).filter(function(di){return!!di}),ii=Gr[1],Qr=Gr.slice(2).map(parseFloat);switch(ii){case"translate":fr(Ir,Qr);break;case"rotate":Qr[0]=Ce.util.degreesToRadians(Qr[0]),Ye(Ir,Qr);break;case"scale":We(Ir,Qr);break;case"skewX":or(Ir,Qr,2);break;case"skewY":or(Ir,Qr,1);break;case"matrix":Ir=Qr;break}Vr.push(Ir.concat()),Ir=_r.concat()});for(var zr=Vr[0];Vr.length>1;)Vr.shift(),zr=Ce.util.multiplyTransformMatrices(zr,Vr[0]);return zr}}();function Ge(Ye,We){var or,fr;Ye.replace(/;\s*$/,"").split(";").forEach(function(_r){var yr=_r.split(":");or=yr[0].trim().toLowerCase(),fr=yr[1].trim(),We[or]=fr})}function St(Ye,We){var or,fr;for(var _r in Ye)typeof Ye[_r]>"u"||(or=_r.toLowerCase(),fr=Ye[_r],We[or]=fr)}function mr(Ye,We){var or={};for(var fr in Ce.cssRules[We])if(pr(Ye,fr.split(" ")))for(var _r in Ce.cssRules[We][fr])or[_r]=Ce.cssRules[We][fr][_r];return or}function pr(Ye,We){var or,fr=!0;return or=dr(Ye,We.pop()),or&&We.length&&(fr=vr(Ye,We)),or&&fr&&We.length===0}function vr(Ye,We){for(var or,fr=!0;Ye.parentNode&&Ye.parentNode.nodeType===1&&We.length;)fr&&(or=We.pop()),Ye=Ye.parentNode,fr=dr(Ye,or);return We.length===0}function dr(Ye,We){var or=Ye.nodeName,fr=Ye.getAttribute("class"),_r=Ye.getAttribute("id"),yr,xr;if(yr=new RegExp("^"+or,"i"),We=We.replace(yr,""),_r&&We.length&&(yr=new RegExp("#"+_r+"(?![a-zA-Z\\-]+)","i"),We=We.replace(yr,"")),fr&&We.length)for(fr=fr.split(" "),xr=fr.length;xr--;)yr=new RegExp("\\."+fr[xr]+"(?![a-zA-Z\\-]+)","i"),We=We.replace(yr,"");return We.length===0}function gr(Ye,We){var or;if(Ye.getElementById&&(or=Ye.getElementById(We)),or)return or;var fr,_r,yr,xr=Ye.getElementsByTagName("*");for(_r=0,yr=xr.length;_r<yr;_r++)if(fr=xr[_r],We===fr.getAttribute("id"))return fr}function sr(Ye){for(var We=nr(Ye,["use","svg:use"]),or=0;We.length&&or<We.length;){var fr=We[or],_r=fr.getAttribute("xlink:href")||fr.getAttribute("href");if(_r===null)return;var yr=_r.slice(1),xr=fr.getAttribute("x")||0,Ar=fr.getAttribute("y")||0,cr=gr(Ye,yr).cloneNode(!0),ar=(cr.getAttribute("transform")||"")+" translate("+xr+", "+Ar+")",Qe,rr=We.length,er,ur,Cr,wr,Or=Ce.svgNS;if(hr(cr),/^svg$/i.test(cr.nodeName)){var kr=cr.ownerDocument.createElementNS(Or,"g");for(ur=0,Cr=cr.attributes,wr=Cr.length;ur<wr;ur++)er=Cr.item(ur),kr.setAttributeNS(Or,er.nodeName,er.nodeValue);for(;cr.firstChild;)kr.appendChild(cr.firstChild);cr=kr}for(ur=0,Cr=fr.attributes,wr=Cr.length;ur<wr;ur++)er=Cr.item(ur),!(er.nodeName==="x"||er.nodeName==="y"||er.nodeName==="xlink:href"||er.nodeName==="href")&&(er.nodeName==="transform"?ar=er.nodeValue+" "+ar:cr.setAttribute(er.nodeName,er.nodeValue));cr.setAttribute("transform",ar),cr.setAttribute("instantiated_by_use","1"),cr.removeAttribute("id"),Qe=fr.parentNode,Qe.replaceChild(cr,fr),We.length===rr&&or++}}var tr=new RegExp("^\\s*("+Ce.reNum+"+)\\s*,?\\s*("+Ce.reNum+"+)\\s*,?\\s*("+Ce.reNum+"+)\\s*,?\\s*("+Ce.reNum+"+)\\s*$");function hr(Ye){if(!Ce.svgViewBoxElementsRegEx.test(Ye.nodeName))return{};var We=Ye.getAttribute("viewBox"),or=1,fr=1,_r=0,yr=0,xr,Ar,cr,ar,Qe=Ye.getAttribute("width"),rr=Ye.getAttribute("height"),er=Ye.getAttribute("x")||0,ur=Ye.getAttribute("y")||0,Cr=Ye.getAttribute("preserveAspectRatio")||"",wr=!We||!(We=We.match(tr)),Or=!Qe||!rr||Qe==="100%"||rr==="100%",kr=wr&&Or,Pr={},Ir="",Vr=0,zr=0;if(Pr.width=0,Pr.height=0,Pr.toBeParsed=kr,wr&&(er||ur)&&Ye.parentNode&&Ye.parentNode.nodeName!=="#document"&&(Ir=" translate("+Pe(er)+" "+Pe(ur)+") ",cr=(Ye.getAttribute("transform")||"")+Ir,Ye.setAttribute("transform",cr),Ye.removeAttribute("x"),Ye.removeAttribute("y")),kr)return Pr;if(wr)return Pr.width=Pe(Qe),Pr.height=Pe(rr),Pr;if(_r=-parseFloat(We[1]),yr=-parseFloat(We[2]),xr=parseFloat(We[3]),Ar=parseFloat(We[4]),Pr.minX=_r,Pr.minY=yr,Pr.viewBoxWidth=xr,Pr.viewBoxHeight=Ar,Or?(Pr.width=xr,Pr.height=Ar):(Pr.width=Pe(Qe),Pr.height=Pe(rr),or=Pr.width/xr,fr=Pr.height/Ar),Cr=Ce.util.parsePreserveAspectRatioAttribute(Cr),Cr.alignX!=="none"&&(Cr.meetOrSlice==="meet"&&(fr=or=or>fr?fr:or),Cr.meetOrSlice==="slice"&&(fr=or=or>fr?or:fr),Vr=Pr.width-xr*or,zr=Pr.height-Ar*or,Cr.alignX==="Mid"&&(Vr/=2),Cr.alignY==="Mid"&&(zr/=2),Cr.alignX==="Min"&&(Vr=0),Cr.alignY==="Min"&&(zr=0)),or===1&&fr===1&&_r===0&&yr===0&&er===0&&ur===0)return Pr;if((er||ur)&&Ye.parentNode.nodeName!=="#document"&&(Ir=" translate("+Pe(er)+" "+Pe(ur)+") "),cr=Ir+" matrix("+or+" 0 0 "+fr+" "+(_r*or+Vr)+" "+(yr*fr+zr)+") ",Ye.nodeName==="svg"){for(ar=Ye.ownerDocument.createElementNS(Ce.svgNS,"g");Ye.firstChild;)ar.appendChild(Ye.firstChild);Ye.appendChild(ar)}else ar=Ye,ar.removeAttribute("x"),ar.removeAttribute("y"),cr=ar.getAttribute("transform")+cr;return ar.setAttribute("transform",cr),Pr}function Sr(Ye,We){for(;Ye&&(Ye=Ye.parentNode);)if(Ye.nodeName&&We.test(Ye.nodeName.replace("svg:",""))&&!Ye.getAttribute("instantiated_by_use"))return!0;return!1}Ce.parseSVGDocument=function(Ye,We,or,fr){if(!!Ye){sr(Ye);var _r=Ce.Object.__uid++,yr,xr,Ar=hr(Ye),cr=Ce.util.toArray(Ye.getElementsByTagName("*"));if(Ar.crossOrigin=fr&&fr.crossOrigin,Ar.svgUid=_r,cr.length===0&&Ce.isLikelyNode){cr=Ye.selectNodes('//*[name(.)!="svg"]');var ar=[];for(yr=0,xr=cr.length;yr<xr;yr++)ar[yr]=cr[yr];cr=ar}var Qe=cr.filter(function(er){return hr(er),Ce.svgValidTagNamesRegEx.test(er.nodeName.replace("svg:",""))&&!Sr(er,Ce.svgInvalidAncestorsRegEx)});if(!Qe||Qe&&!Qe.length){We&&We([],{});return}var rr={};cr.filter(function(er){return er.nodeName.replace("svg:","")==="clipPath"}).forEach(function(er){var ur=er.getAttribute("id");rr[ur]=Ce.util.toArray(er.getElementsByTagName("*")).filter(function(Cr){return Ce.svgValidTagNamesRegEx.test(Cr.nodeName.replace("svg:",""))})}),Ce.gradientDefs[_r]=Ce.getGradientDefs(Ye),Ce.cssRules[_r]=Ce.getCSSRules(Ye),Ce.clipPaths[_r]=rr,Ce.parseElements(Qe,function(er,ur){We&&(We(er,Ar,ur,cr),delete Ce.gradientDefs[_r],delete Ce.cssRules[_r],delete Ce.clipPaths[_r])},De(Ar),or,fr)}};function Je(Ye,We){var or=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],fr="xlink:href",_r=We.getAttribute(fr).slice(1),yr=gr(Ye,_r);if(yr&&yr.getAttribute(fr)&&Je(Ye,yr),or.forEach(function(Ar){yr&&!We.hasAttribute(Ar)&&yr.hasAttribute(Ar)&&We.setAttribute(Ar,yr.getAttribute(Ar))}),!We.children.length)for(var xr=yr.cloneNode(!0);xr.firstChild;)We.appendChild(xr.firstChild);We.removeAttribute(fr)}var Ze=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ce.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ce.reNum+"))?\\s+(.*)");Te(Ce,{parseFontDeclaration:function(Ye,We){var or=Ye.match(Ze);if(!!or){var fr=or[1],_r=or[3],yr=or[4],xr=or[5],Ar=or[6];fr&&(We.fontStyle=fr),_r&&(We.fontWeight=isNaN(parseFloat(_r))?_r:parseFloat(_r)),yr&&(We.fontSize=Pe(yr)),Ar&&(We.fontFamily=Ar),xr&&(We.lineHeight=xr==="normal"?1:xr)}},getGradientDefs:function(Ye){var We=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],or=nr(Ye,We),fr,_r=0,yr={};for(_r=or.length;_r--;)fr=or[_r],fr.getAttribute("xlink:href")&&Je(Ye,fr),yr[fr.getAttribute("id")]=fr;return yr},parseAttributes:function(Ye,We,or){if(!!Ye){var fr,_r={},yr,xr;typeof or>"u"&&(or=Ye.getAttribute("svgUid")),Ye.parentNode&&Ce.svgValidParentsRegEx.test(Ye.parentNode.nodeName)&&(_r=Ce.parseAttributes(Ye.parentNode,We,or));var Ar=We.reduce(function(Cr,wr){return fr=Ye.getAttribute(wr),fr&&(Cr[wr]=fr),Cr},{}),cr=Te(mr(Ye,or),Ce.parseStyleAttribute(Ye));Ar=Te(Ar,cr),cr[ze]&&Ye.setAttribute(ze,cr[ze]),yr=xr=_r.fontSize||Ce.Text.DEFAULT_SVG_FONT_SIZE,Ar[Ve]&&(Ar[Ve]=yr=Pe(Ar[Ve],xr));var ar,Qe,rr={};for(var er in Ar)ar=He(er),Qe=$e(ar,Ar[er],_r,yr),rr[ar]=Qe;rr&&rr.font&&Ce.parseFontDeclaration(rr.font,rr);var ur=Te(_r,rr);return Ce.svgValidParentsRegEx.test(Ye.nodeName)?ur:Xe(ur)}},parseElements:function(Ye,We,or,fr,_r){new Ce.ElementsParser(Ye,We,or,fr,_r).parse()},parseStyleAttribute:function(Ye){var We={},or=Ye.getAttribute("style");return or&&(typeof or=="string"?Ge(or,We):St(or,We)),We},parsePointsAttribute:function(Ye){if(!Ye)return null;Ye=Ye.replace(/,/g," ").trim(),Ye=Ye.split(/\s+/);var We=[],or,fr;for(or=0,fr=Ye.length;or<fr;or+=2)We.push({x:parseFloat(Ye[or]),y:parseFloat(Ye[or+1])});return We},getCSSRules:function(Ye){var We=Ye.getElementsByTagName("style"),or,fr,_r={},yr;for(or=0,fr=We.length;or<fr;or++){var xr=We[or].textContent;xr=xr.replace(/\/\*[\s\S]*?\*\//g,""),xr.trim()!==""&&(yr=xr.split("}"),yr=yr.filter(function(Ar){return Ar.trim()}),yr.forEach(function(Ar){var cr=Ar.split("{"),ar={},Qe=cr[1].trim(),rr=Qe.split(";").filter(function(wr){return wr.trim()});for(or=0,fr=rr.length;or<fr;or++){var er=rr[or].split(":"),ur=er[0].trim(),Cr=er[1].trim();ar[ur]=Cr}Ar=cr[0].trim(),Ar.split(",").forEach(function(wr){wr=wr.replace(/^svg/i,"").trim(),wr!==""&&(_r[wr]?Ce.util.object.extend(_r[wr],ar):_r[wr]=Ce.util.object.clone(ar))})}))}return _r},loadSVGFromURL:function(Ye,We,or,fr){Ye=Ye.replace(/^\n\s*/,"").trim(),new Ce.util.request(Ye,{method:"get",onComplete:_r});function _r(yr){var xr=yr.responseXML;if(!xr||!xr.documentElement)return We&&We(null),!1;Ce.parseSVGDocument(xr.documentElement,function(Ar,cr,ar,Qe){We&&We(Ar,cr,ar,Qe)},or,fr)}},loadSVGFromString:function(Ye,We,or,fr){var _r=new Ce.window.DOMParser,yr=_r.parseFromString(Ye.trim(),"text/xml");Ce.parseSVGDocument(yr.documentElement,function(xr,Ar,cr,ar){We(xr,Ar,cr,ar)},or,fr)}})}(t),e.ElementsParser=function(Ee,Ce,Te,De,ke,Pe){this.elements=Ee,this.callback=Ce,this.options=Te,this.reviver=De,this.svgUid=Te&&Te.svgUid||0,this.parsingOptions=ke,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=Pe},function(Ee){Ee.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},Ee.createObjects=function(){var Ce=this;this.elements.forEach(function(Te,De){Te.setAttribute("svgUid",Ce.svgUid),Ce.createObject(Te,De)})},Ee.findTag=function(Ce){return e[e.util.string.capitalize(Ce.tagName.replace("svg:",""))]},Ee.createObject=function(Ce,Te){var De=this.findTag(Ce);if(De&&De.fromElement)try{De.fromElement(Ce,this.createCallback(Te,Ce),this.options)}catch(ke){e.log(ke)}else this.checkIfDone()},Ee.createCallback=function(Ce,Te){var De=this;return function(ke){var Pe;De.resolveGradient(ke,Te,"fill"),De.resolveGradient(ke,Te,"stroke"),ke instanceof e.Image&&ke._originalElement&&(Pe=ke.parsePreserveAspectRatioAttribute(Te)),ke._removeTransformMatrix(Pe),De.resolveClipPath(ke,Te),De.reviver&&De.reviver(Te,ke),De.instances[Ce]=ke,De.checkIfDone()}},Ee.extractPropertyDefinition=function(Ce,Te,De){var ke=Ce[Te],Pe=this.regexUrl;if(!!Pe.test(ke)){Pe.lastIndex=0;var xe=Pe.exec(ke)[1];return Pe.lastIndex=0,e[De][this.svgUid][xe]}},Ee.resolveGradient=function(Ce,Te,De){var ke=this.extractPropertyDefinition(Ce,De,"gradientDefs");if(ke){var Pe=Te.getAttribute(De+"-opacity"),xe=e.Gradient.fromElement(ke,Ce,Pe,this.options);Ce.set(De,xe)}},Ee.createClipPathCallback=function(Ce,Te){return function(De){De._removeTransformMatrix(),De.fillRule=De.clipRule,Te.push(De)}},Ee.resolveClipPath=function(Ce,Te){var De=this.extractPropertyDefinition(Ce,"clipPath","clipPaths"),ke,Pe,xe,Fe,Ie,Me;if(De){Fe=[],xe=e.util.invertTransform(Ce.calcTransformMatrix());for(var Oe=De[0].parentNode,Be=Te;Be.parentNode&&Be.getAttribute("clip-path")!==Ce.clipPath;)Be=Be.parentNode;Be.parentNode.appendChild(Oe);for(var je=0;je<De.length;je++)ke=De[je],Pe=this.findTag(ke),Pe.fromElement(ke,this.createClipPathCallback(Ce,Fe),this.options);Fe.length===1?De=Fe[0]:De=new e.Group(Fe),Ie=e.util.multiplyTransformMatrices(xe,De.calcTransformMatrix()),De.clipPath&&this.resolveClipPath(De,Be);var Me=e.util.qrDecompose(Ie);De.flipX=!1,De.flipY=!1,De.set("scaleX",Me.scaleX),De.set("scaleY",Me.scaleY),De.angle=Me.angle,De.skewX=Me.skewX,De.skewY=0,De.setPositionByOrigin({x:Me.translateX,y:Me.translateY},"center","center"),Ce.clipPath=De}else delete Ce.clipPath},Ee.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(Ce){return Ce!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});if(Ce.Point){Ce.warn("fabric.Point is already defined");return}Ce.Point=Te;function Te(De,ke){this.x=De,this.y=ke}Te.prototype={type:"point",constructor:Te,add:function(De){return new Te(this.x+De.x,this.y+De.y)},addEquals:function(De){return this.x+=De.x,this.y+=De.y,this},scalarAdd:function(De){return new Te(this.x+De,this.y+De)},scalarAddEquals:function(De){return this.x+=De,this.y+=De,this},subtract:function(De){return new Te(this.x-De.x,this.y-De.y)},subtractEquals:function(De){return this.x-=De.x,this.y-=De.y,this},scalarSubtract:function(De){return new Te(this.x-De,this.y-De)},scalarSubtractEquals:function(De){return this.x-=De,this.y-=De,this},multiply:function(De){return new Te(this.x*De,this.y*De)},multiplyEquals:function(De){return this.x*=De,this.y*=De,this},divide:function(De){return new Te(this.x/De,this.y/De)},divideEquals:function(De){return this.x/=De,this.y/=De,this},eq:function(De){return this.x===De.x&&this.y===De.y},lt:function(De){return this.x<De.x&&this.y<De.y},lte:function(De){return this.x<=De.x&&this.y<=De.y},gt:function(De){return this.x>De.x&&this.y>De.y},gte:function(De){return this.x>=De.x&&this.y>=De.y},lerp:function(De,ke){return typeof ke>"u"&&(ke=.5),ke=Math.max(Math.min(1,ke),0),new Te(this.x+(De.x-this.x)*ke,this.y+(De.y-this.y)*ke)},distanceFrom:function(De){var ke=this.x-De.x,Pe=this.y-De.y;return Math.sqrt(ke*ke+Pe*Pe)},midPointFrom:function(De){return this.lerp(De)},min:function(De){return new Te(Math.min(this.x,De.x),Math.min(this.y,De.y))},max:function(De){return new Te(Math.max(this.x,De.x),Math.max(this.y,De.y))},toString:function(){return this.x+","+this.y},setXY:function(De,ke){return this.x=De,this.y=ke,this},setX:function(De){return this.x=De,this},setY:function(De){return this.y=De,this},setFromPoint:function(De){return this.x=De.x,this.y=De.y,this},swap:function(De){var ke=this.x,Pe=this.y;this.x=De.x,this.y=De.y,De.x=ke,De.y=Pe},clone:function(){return new Te(this.x,this.y)}}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});if(Ce.Intersection){Ce.warn("fabric.Intersection is already defined");return}function Te(De){this.status=De,this.points=[]}Ce.Intersection=Te,Ce.Intersection.prototype={constructor:Te,appendPoint:function(De){return this.points.push(De),this},appendPoints:function(De){return this.points=this.points.concat(De),this}},Ce.Intersection.intersectLineLine=function(De,ke,Pe,xe){var Fe,Ie=(xe.x-Pe.x)*(De.y-Pe.y)-(xe.y-Pe.y)*(De.x-Pe.x),Me=(ke.x-De.x)*(De.y-Pe.y)-(ke.y-De.y)*(De.x-Pe.x),Oe=(xe.y-Pe.y)*(ke.x-De.x)-(xe.x-Pe.x)*(ke.y-De.y);if(Oe!==0){var Be=Ie/Oe,je=Me/Oe;0<=Be&&Be<=1&&0<=je&&je<=1?(Fe=new Te("Intersection"),Fe.appendPoint(new Ce.Point(De.x+Be*(ke.x-De.x),De.y+Be*(ke.y-De.y)))):Fe=new Te}else Ie===0||Me===0?Fe=new Te("Coincident"):Fe=new Te("Parallel");return Fe},Ce.Intersection.intersectLinePolygon=function(De,ke,Pe){var xe=new Te,Fe=Pe.length,Ie,Me,Oe,Be;for(Be=0;Be<Fe;Be++)Ie=Pe[Be],Me=Pe[(Be+1)%Fe],Oe=Te.intersectLineLine(De,ke,Ie,Me),xe.appendPoints(Oe.points);return xe.points.length>0&&(xe.status="Intersection"),xe},Ce.Intersection.intersectPolygonPolygon=function(De,ke){var Pe=new Te,xe=De.length,Fe;for(Fe=0;Fe<xe;Fe++){var Ie=De[Fe],Me=De[(Fe+1)%xe],Oe=Te.intersectLinePolygon(Ie,Me,ke);Pe.appendPoints(Oe.points)}return Pe.points.length>0&&(Pe.status="Intersection"),Pe},Ce.Intersection.intersectPolygonRectangle=function(De,ke,Pe){var xe=ke.min(Pe),Fe=ke.max(Pe),Ie=new Ce.Point(Fe.x,xe.y),Me=new Ce.Point(xe.x,Fe.y),Oe=Te.intersectLinePolygon(xe,Ie,De),Be=Te.intersectLinePolygon(Ie,Fe,De),je=Te.intersectLinePolygon(Fe,Me,De),Ve=Te.intersectLinePolygon(Me,xe,De),ze=new Te;return ze.appendPoints(Oe.points),ze.appendPoints(Be.points),ze.appendPoints(je.points),ze.appendPoints(Ve.points),ze.points.length>0&&(ze.status="Intersection"),ze}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});if(Ce.Color){Ce.warn("fabric.Color is already defined.");return}function Te(ke){ke?this._tryParsingColor(ke):this.setSource([0,0,0,1])}Ce.Color=Te,Ce.Color.prototype={_tryParsingColor:function(ke){var Pe;ke in Te.colorNameMap&&(ke=Te.colorNameMap[ke]),ke==="transparent"&&(Pe=[255,255,255,0]),Pe||(Pe=Te.sourceFromHex(ke)),Pe||(Pe=Te.sourceFromRgb(ke)),Pe||(Pe=Te.sourceFromHsl(ke)),Pe||(Pe=[0,0,0,1]),Pe&&this.setSource(Pe)},_rgbToHsl:function(ke,Pe,xe){ke/=255,Pe/=255,xe/=255;var Fe,Ie,Me,Oe=Ce.util.array.max([ke,Pe,xe]),Be=Ce.util.array.min([ke,Pe,xe]);if(Me=(Oe+Be)/2,Oe===Be)Fe=Ie=0;else{var je=Oe-Be;switch(Ie=Me>.5?je/(2-Oe-Be):je/(Oe+Be),Oe){case ke:Fe=(Pe-xe)/je+(Pe<xe?6:0);break;case Pe:Fe=(xe-ke)/je+2;break;case xe:Fe=(ke-Pe)/je+4;break}Fe/=6}return[Math.round(Fe*360),Math.round(Ie*100),Math.round(Me*100)]},getSource:function(){return this._source},setSource:function(ke){this._source=ke},toRgb:function(){var ke=this.getSource();return"rgb("+ke[0]+","+ke[1]+","+ke[2]+")"},toRgba:function(){var ke=this.getSource();return"rgba("+ke[0]+","+ke[1]+","+ke[2]+","+ke[3]+")"},toHsl:function(){var ke=this.getSource(),Pe=this._rgbToHsl(ke[0],ke[1],ke[2]);return"hsl("+Pe[0]+","+Pe[1]+"%,"+Pe[2]+"%)"},toHsla:function(){var ke=this.getSource(),Pe=this._rgbToHsl(ke[0],ke[1],ke[2]);return"hsla("+Pe[0]+","+Pe[1]+"%,"+Pe[2]+"%,"+ke[3]+")"},toHex:function(){var ke=this.getSource(),Pe,xe,Fe;return Pe=ke[0].toString(16),Pe=Pe.length===1?"0"+Pe:Pe,xe=ke[1].toString(16),xe=xe.length===1?"0"+xe:xe,Fe=ke[2].toString(16),Fe=Fe.length===1?"0"+Fe:Fe,Pe.toUpperCase()+xe.toUpperCase()+Fe.toUpperCase()},toHexa:function(){var ke=this.getSource(),Pe;return Pe=Math.round(ke[3]*255),Pe=Pe.toString(16),Pe=Pe.length===1?"0"+Pe:Pe,this.toHex()+Pe.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(ke){var Pe=this.getSource();return Pe[3]=ke,this.setSource(Pe),this},toGrayscale:function(){var ke=this.getSource(),Pe=parseInt((ke[0]*.3+ke[1]*.59+ke[2]*.11).toFixed(0),10),xe=ke[3];return this.setSource([Pe,Pe,Pe,xe]),this},toBlackWhite:function(ke){var Pe=this.getSource(),xe=(Pe[0]*.3+Pe[1]*.59+Pe[2]*.11).toFixed(0),Fe=Pe[3];return ke=ke||127,xe=Number(xe)<Number(ke)?0:255,this.setSource([xe,xe,xe,Fe]),this},overlayWith:function(ke){ke instanceof Te||(ke=new Te(ke));var Pe=[],xe=this.getAlpha(),Fe=.5,Ie=this.getSource(),Me=ke.getSource(),Oe;for(Oe=0;Oe<3;Oe++)Pe.push(Math.round(Ie[Oe]*(1-Fe)+Me[Oe]*Fe));return Pe[3]=xe,this.setSource(Pe),this}},Ce.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,Ce.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,Ce.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,Ce.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function De(ke,Pe,xe){return xe<0&&(xe+=1),xe>1&&(xe-=1),xe<1/6?ke+(Pe-ke)*6*xe:xe<1/2?Pe:xe<2/3?ke+(Pe-ke)*(2/3-xe)*6:ke}Ce.Color.fromRgb=function(ke){return Te.fromSource(Te.sourceFromRgb(ke))},Ce.Color.sourceFromRgb=function(ke){var Pe=ke.match(Te.reRGBa);if(Pe){var xe=parseInt(Pe[1],10)/(/%$/.test(Pe[1])?100:1)*(/%$/.test(Pe[1])?255:1),Fe=parseInt(Pe[2],10)/(/%$/.test(Pe[2])?100:1)*(/%$/.test(Pe[2])?255:1),Ie=parseInt(Pe[3],10)/(/%$/.test(Pe[3])?100:1)*(/%$/.test(Pe[3])?255:1);return[parseInt(xe,10),parseInt(Fe,10),parseInt(Ie,10),Pe[4]?parseFloat(Pe[4]):1]}},Ce.Color.fromRgba=Te.fromRgb,Ce.Color.fromHsl=function(ke){return Te.fromSource(Te.sourceFromHsl(ke))},Ce.Color.sourceFromHsl=function(ke){var Pe=ke.match(Te.reHSLa);if(!!Pe){var xe=(parseFloat(Pe[1])%360+360)%360/360,Fe=parseFloat(Pe[2])/(/%$/.test(Pe[2])?100:1),Ie=parseFloat(Pe[3])/(/%$/.test(Pe[3])?100:1),Me,Oe,Be;if(Fe===0)Me=Oe=Be=Ie;else{var je=Ie<=.5?Ie*(Fe+1):Ie+Fe-Ie*Fe,Ve=Ie*2-je;Me=De(Ve,je,xe+1/3),Oe=De(Ve,je,xe),Be=De(Ve,je,xe-1/3)}return[Math.round(Me*255),Math.round(Oe*255),Math.round(Be*255),Pe[4]?parseFloat(Pe[4]):1]}},Ce.Color.fromHsla=Te.fromHsl,Ce.Color.fromHex=function(ke){return Te.fromSource(Te.sourceFromHex(ke))},Ce.Color.sourceFromHex=function(ke){if(ke.match(Te.reHex)){var Pe=ke.slice(ke.indexOf("#")+1),xe=Pe.length===3||Pe.length===4,Fe=Pe.length===8||Pe.length===4,Ie=xe?Pe.charAt(0)+Pe.charAt(0):Pe.substring(0,2),Me=xe?Pe.charAt(1)+Pe.charAt(1):Pe.substring(2,4),Oe=xe?Pe.charAt(2)+Pe.charAt(2):Pe.substring(4,6),Be=Fe?xe?Pe.charAt(3)+Pe.charAt(3):Pe.substring(6,8):"FF";return[parseInt(Ie,16),parseInt(Me,16),parseInt(Oe,16),parseFloat((parseInt(Be,16)/255).toFixed(2))]}},Ce.Color.fromSource=function(ke){var Pe=new Te;return Pe.setSource(ke),Pe}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=["e","se","s","sw","w","nw","n","ne","e"],De=["ns","nesw","ew","nwse"],ke={},Pe="left",xe="top",Fe="right",Ie="bottom",Me="center",Oe={top:Ie,bottom:xe,left:Fe,right:Pe,center:Me},Be=Ce.util.radiansToDegrees,je=Math.sign||function(ar){return(ar>0)-(ar<0)||+ar};function Ve(ar,Qe){var rr=ar.angle+Be(Math.atan2(Qe.y,Qe.x))+360;return Math.round(rr%360/45)}function ze(ar,Qe){var rr=Qe.transform.target,er=rr.canvas,ur=Ce.util.object.clone(Qe);ur.target=rr,er&&er.fire("object:"+ar,ur),rr.fire(ar,Qe)}function He(ar,Qe){var rr=Qe.canvas,er=rr.uniScaleKey,ur=ar[er];return rr.uniformScaling&&!ur||!rr.uniformScaling&&ur}function $e(ar){return ar.originX===Me&&ar.originY===Me}function Ue(ar,Qe,rr){var er=ar.lockScalingX,ur=ar.lockScalingY;return!!(er&&ur||!Qe&&(er||ur)&&rr||er&&Qe==="x"||ur&&Qe==="y")}function Xe(ar,Qe,rr){var er="not-allowed",ur=He(ar,rr),Cr="";if(Qe.x!==0&&Qe.y===0?Cr="x":Qe.x===0&&Qe.y!==0&&(Cr="y"),Ue(rr,Cr,ur))return er;var wr=Ve(rr,Qe);return Te[wr]+"-resize"}function nr(ar,Qe,rr){var er="not-allowed";if(Qe.x!==0&&rr.lockSkewingY||Qe.y!==0&&rr.lockSkewingX)return er;var ur=Ve(rr,Qe)%4;return De[ur]+"-resize"}function Ge(ar,Qe,rr){return ar[rr.canvas.altActionKey]?ke.skewCursorStyleHandler(ar,Qe,rr):ke.scaleCursorStyleHandler(ar,Qe,rr)}function St(ar,Qe,rr){var er=ar[rr.canvas.altActionKey];if(Qe.x===0)return er?"skewX":"scaleY";if(Qe.y===0)return er?"skewY":"scaleX"}function mr(ar,Qe,rr){return rr.lockRotation?"not-allowed":Qe.cursorStyle}function pr(ar,Qe,rr,er){return{e:ar,transform:Qe,pointer:{x:rr,y:er}}}function vr(ar){return function(Qe,rr,er,ur){var Cr=rr.target,wr=Cr.getCenterPoint(),Or=Cr.translateToOriginPoint(wr,rr.originX,rr.originY),kr=ar(Qe,rr,er,ur);return Cr.setPositionByOrigin(Or,rr.originX,rr.originY),kr}}function dr(ar,Qe){return function(rr,er,ur,Cr){var wr=Qe(rr,er,ur,Cr);return wr&&ze(ar,pr(rr,er,ur,Cr)),wr}}function gr(ar,Qe,rr,er,ur){var Cr=ar.target,wr=Cr.controls[ar.corner],Or=Cr.canvas.getZoom(),kr=Cr.padding/Or,Pr=Cr.toLocalPoint(new Ce.Point(er,ur),Qe,rr);return Pr.x>=kr&&(Pr.x-=kr),Pr.x<=-kr&&(Pr.x+=kr),Pr.y>=kr&&(Pr.y-=kr),Pr.y<=kr&&(Pr.y+=kr),Pr.x-=wr.offsetX,Pr.y-=wr.offsetY,Pr}function sr(ar){return ar.flipX!==ar.flipY}function tr(ar,Qe,rr,er,ur){if(ar[Qe]!==0){var Cr=ar._getTransformedDimensions()[er],wr=ur/Cr*ar[rr];ar.set(rr,wr)}}function hr(ar,Qe,rr,er){var ur=Qe.target,Cr=ur._getTransformedDimensions(0,ur.skewY),wr=gr(Qe,Qe.originX,Qe.originY,rr,er),Or=Math.abs(wr.x*2)-Cr.x,kr=ur.skewX,Pr;Or<2?Pr=0:(Pr=Be(Math.atan2(Or/ur.scaleX,Cr.y/ur.scaleY)),Qe.originX===Pe&&Qe.originY===Ie&&(Pr=-Pr),Qe.originX===Fe&&Qe.originY===xe&&(Pr=-Pr),sr(ur)&&(Pr=-Pr));var Ir=kr!==Pr;if(Ir){var Vr=ur._getTransformedDimensions().y;ur.set("skewX",Pr),tr(ur,"skewY","scaleY","y",Vr)}return Ir}function Sr(ar,Qe,rr,er){var ur=Qe.target,Cr=ur._getTransformedDimensions(ur.skewX,0),wr=gr(Qe,Qe.originX,Qe.originY,rr,er),Or=Math.abs(wr.y*2)-Cr.y,kr=ur.skewY,Pr;Or<2?Pr=0:(Pr=Be(Math.atan2(Or/ur.scaleY,Cr.x/ur.scaleX)),Qe.originX===Pe&&Qe.originY===Ie&&(Pr=-Pr),Qe.originX===Fe&&Qe.originY===xe&&(Pr=-Pr),sr(ur)&&(Pr=-Pr));var Ir=kr!==Pr;if(Ir){var Vr=ur._getTransformedDimensions().x;ur.set("skewY",Pr),tr(ur,"skewX","scaleX","x",Vr)}return Ir}function Je(ar,Qe,rr,er){var ur=Qe.target,Cr=ur.skewX,wr,Or=Qe.originY;if(ur.lockSkewingX)return!1;if(Cr===0){var kr=gr(Qe,Me,Me,rr,er);kr.x>0?wr=Pe:wr=Fe}else Cr>0&&(wr=Or===xe?Pe:Fe),Cr<0&&(wr=Or===xe?Fe:Pe),sr(ur)&&(wr=wr===Pe?Fe:Pe);Qe.originX=wr;var Pr=dr("skewing",vr(hr));return Pr(ar,Qe,rr,er)}function Ze(ar,Qe,rr,er){var ur=Qe.target,Cr=ur.skewY,wr,Or=Qe.originX;if(ur.lockSkewingY)return!1;if(Cr===0){var kr=gr(Qe,Me,Me,rr,er);kr.y>0?wr=xe:wr=Ie}else Cr>0&&(wr=Or===Pe?xe:Ie),Cr<0&&(wr=Or===Pe?Ie:xe),sr(ur)&&(wr=wr===xe?Ie:xe);Qe.originY=wr;var Pr=dr("skewing",vr(Sr));return Pr(ar,Qe,rr,er)}function Ye(ar,Qe,rr,er){var ur=Qe,Cr=ur.target,wr=Cr.translateToOriginPoint(Cr.getCenterPoint(),ur.originX,ur.originY);if(Cr.lockRotation)return!1;var Or=Math.atan2(ur.ey-wr.y,ur.ex-wr.x),kr=Math.atan2(er-wr.y,rr-wr.x),Pr=Be(kr-Or+ur.theta),Ir=!0;if(Cr.snapAngle>0){var Vr=Cr.snapAngle,zr=Cr.snapThreshold||Vr,$r=Math.ceil(Pr/Vr)*Vr,Gr=Math.floor(Pr/Vr)*Vr;Math.abs(Pr-Gr)<zr?Pr=Gr:Math.abs(Pr-$r)<zr&&(Pr=$r)}return Pr<0&&(Pr=360+Pr),Pr%=360,Ir=Cr.angle!==Pr,Cr.angle=Pr,Ir}function We(ar,Qe,rr,er,ur){ur=ur||{};var Cr=Qe.target,wr=Cr.lockScalingX,Or=Cr.lockScalingY,kr=ur.by,Pr,Ir,Vr,zr,$r=He(ar,Cr),Gr=Ue(Cr,kr,$r),ii,Qr,di=Qe.gestureScale;if(Gr)return!1;if(di)Ir=Qe.scaleX*di,Vr=Qe.scaleY*di;else{if(Pr=gr(Qe,Qe.originX,Qe.originY,rr,er),ii=kr!=="y"?je(Pr.x):1,Qr=kr!=="x"?je(Pr.y):1,Qe.signX||(Qe.signX=ii),Qe.signY||(Qe.signY=Qr),Cr.lockScalingFlip&&(Qe.signX!==ii||Qe.signY!==Qr))return!1;if(zr=Cr._getTransformedDimensions(),$r&&!kr){var Lr=Math.abs(Pr.x)+Math.abs(Pr.y),Hr=Qe.original,jr=Math.abs(zr.x*Hr.scaleX/Cr.scaleX)+Math.abs(zr.y*Hr.scaleY/Cr.scaleY),ci=Lr/jr;Ir=Hr.scaleX*ci,Vr=Hr.scaleY*ci}else Ir=Math.abs(Pr.x*Cr.scaleX/zr.x),Vr=Math.abs(Pr.y*Cr.scaleY/zr.y);$e(Qe)&&(Ir*=2,Vr*=2),Qe.signX!==ii&&kr!=="y"&&(Qe.originX=Oe[Qe.originX],Ir*=-1,Qe.signX=ii),Qe.signY!==Qr&&kr!=="x"&&(Qe.originY=Oe[Qe.originY],Vr*=-1,Qe.signY=Qr)}var vi=Cr.scaleX,qr=Cr.scaleY;return kr?(kr==="x"&&Cr.set("scaleX",Ir),kr==="y"&&Cr.set("scaleY",Vr)):(!wr&&Cr.set("scaleX",Ir),!Or&&Cr.set("scaleY",Vr)),vi!==Cr.scaleX||qr!==Cr.scaleY}function or(ar,Qe,rr,er){return We(ar,Qe,rr,er)}function fr(ar,Qe,rr,er){return We(ar,Qe,rr,er,{by:"x"})}function _r(ar,Qe,rr,er){return We(ar,Qe,rr,er,{by:"y"})}function yr(ar,Qe,rr,er){return ar[Qe.target.canvas.altActionKey]?ke.skewHandlerX(ar,Qe,rr,er):ke.scalingY(ar,Qe,rr,er)}function xr(ar,Qe,rr,er){return ar[Qe.target.canvas.altActionKey]?ke.skewHandlerY(ar,Qe,rr,er):ke.scalingX(ar,Qe,rr,er)}function Ar(ar,Qe,rr,er){var ur=Qe.target,Cr=gr(Qe,Qe.originX,Qe.originY,rr,er),wr=ur.strokeWidth/(ur.strokeUniform?ur.scaleX:1),Or=$e(Qe)?2:1,kr=ur.width,Pr=Math.abs(Cr.x*Or/ur.scaleX)-wr;return ur.set("width",Math.max(Pr,0)),kr!==Pr}function cr(ar,Qe,rr,er){var ur=Qe.target,Cr=rr-Qe.offsetX,wr=er-Qe.offsetY,Or=!ur.get("lockMovementX")&&ur.left!==Cr,kr=!ur.get("lockMovementY")&&ur.top!==wr;return Or&&ur.set("left",Cr),kr&&ur.set("top",wr),(Or||kr)&&ze("moving",pr(ar,Qe,rr,er)),Or||kr}ke.scaleCursorStyleHandler=Xe,ke.skewCursorStyleHandler=nr,ke.scaleSkewCursorStyleHandler=Ge,ke.rotationWithSnapping=dr("rotating",vr(Ye)),ke.scalingEqually=dr("scaling",vr(or)),ke.scalingX=dr("scaling",vr(fr)),ke.scalingY=dr("scaling",vr(_r)),ke.scalingYOrSkewingX=yr,ke.scalingXOrSkewingY=xr,ke.changeWidth=dr("resizing",vr(Ar)),ke.skewHandlerX=Je,ke.skewHandlerY=Ze,ke.dragHandler=cr,ke.scaleOrSkewActionName=St,ke.rotationStyleHandler=mr,ke.fireEvent=ze,ke.wrapWithFixedAnchor=vr,ke.wrapWithFireEvent=dr,ke.getLocalPoint=gr,Ce.controlsUtils=ke}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.degreesToRadians,De=Ce.controlsUtils;function ke(xe,Fe,Ie,Me,Oe){Me=Me||{};var Be=this.sizeX||Me.cornerSize||Oe.cornerSize,je=this.sizeY||Me.cornerSize||Oe.cornerSize,Ve=typeof Me.transparentCorners<"u"?Me.transparentCorners:Oe.transparentCorners,ze=Ve?"stroke":"fill",He=!Ve&&(Me.cornerStrokeColor||Oe.cornerStrokeColor),$e=Fe,Ue=Ie,Xe;xe.save(),xe.fillStyle=Me.cornerColor||Oe.cornerColor,xe.strokeStyle=Me.cornerStrokeColor||Oe.cornerStrokeColor,Be>je?(Xe=Be,xe.scale(1,je/Be),Ue=Ie*Be/je):je>Be?(Xe=je,xe.scale(Be/je,1),$e=Fe*je/Be):Xe=Be,xe.lineWidth=1,xe.beginPath(),xe.arc($e,Ue,Xe/2,0,2*Math.PI,!1),xe[ze](),He&&xe.stroke(),xe.restore()}function Pe(xe,Fe,Ie,Me,Oe){Me=Me||{};var Be=this.sizeX||Me.cornerSize||Oe.cornerSize,je=this.sizeY||Me.cornerSize||Oe.cornerSize,Ve=typeof Me.transparentCorners<"u"?Me.transparentCorners:Oe.transparentCorners,ze=Ve?"stroke":"fill",He=!Ve&&(Me.cornerStrokeColor||Oe.cornerStrokeColor),$e=Be/2,Ue=je/2;xe.save(),xe.fillStyle=Me.cornerColor||Oe.cornerColor,xe.strokeStyle=Me.cornerStrokeColor||Oe.cornerStrokeColor,xe.lineWidth=1,xe.translate(Fe,Ie),xe.rotate(Te(Oe.angle)),xe[ze+"Rect"](-$e,-Ue,Be,je),He&&xe.strokeRect(-$e,-Ue,Be,je),xe.restore()}De.renderCircleControl=ke,De.renderSquareControl=Pe}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});function Te(De){for(var ke in De)this[ke]=De[ke]}Ce.Control=Te,Ce.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(De,ke){return ke.cursorStyle},getActionName:function(De,ke){return ke.actionName},getVisibility:function(De,ke){var Pe=De._controlsVisibility;return Pe&&typeof Pe[ke]<"u"?Pe[ke]:this.visible},setVisibility:function(De){this.visible=De},positionHandler:function(De,ke){var Pe=Ce.util.transformPoint({x:this.x*De.x+this.offsetX,y:this.y*De.y+this.offsetY},ke);return Pe},calcCornerCoords:function(De,ke,Pe,xe,Fe){var Ie,Me,Oe,Be,je=Fe?this.touchSizeX:this.sizeX,Ve=Fe?this.touchSizeY:this.sizeY;if(je&&Ve&&je!==Ve){var ze=Math.atan2(Ve,je),He=Math.sqrt(je*je+Ve*Ve)/2,$e=ze-Ce.util.degreesToRadians(De),Ue=Math.PI/2-ze-Ce.util.degreesToRadians(De);Ie=He*Ce.util.cos($e),Me=He*Ce.util.sin($e),Oe=He*Ce.util.cos(Ue),Be=He*Ce.util.sin(Ue)}else{var Xe=je&&Ve?je:ke;He=Xe*.7071067812;var $e=Ce.util.degreesToRadians(45-De);Ie=Oe=He*Ce.util.cos($e),Me=Be=He*Ce.util.sin($e)}return{tl:{x:Pe-Be,y:xe-Oe},tr:{x:Pe+Ie,y:xe-Me},bl:{x:Pe-Ie,y:xe+Me},br:{x:Pe+Be,y:xe+Oe}}},render:function(De,ke,Pe,xe,Fe){switch(xe=xe||{},xe.cornerStyle||Fe.cornerStyle){case"circle":Ce.controlsUtils.renderCircleControl.call(this,De,ke,Pe,xe,Fe);break;default:Ce.controlsUtils.renderSquareControl.call(this,De,ke,Pe,xe,Fe)}}}}(t),function(){function Ee(Pe,xe){var Fe=Pe.getAttribute("style"),Ie=Pe.getAttribute("offset")||0,Me,Oe,Be,je;if(Ie=parseFloat(Ie)/(/%$/.test(Ie)?100:1),Ie=Ie<0?0:Ie>1?1:Ie,Fe){var Ve=Fe.split(/\s*;\s*/);for(Ve[Ve.length-1]===""&&Ve.pop(),je=Ve.length;je--;){var ze=Ve[je].split(/\s*:\s*/),He=ze[0].trim(),$e=ze[1].trim();He==="stop-color"?Me=$e:He==="stop-opacity"&&(Be=$e)}}return Me||(Me=Pe.getAttribute("stop-color")||"rgb(0,0,0)"),Be||(Be=Pe.getAttribute("stop-opacity")),Me=new e.Color(Me),Oe=Me.getAlpha(),Be=isNaN(parseFloat(Be))?1:parseFloat(Be),Be*=Oe*xe,{offset:Ie,color:Me.toRgb(),opacity:Be}}function Ce(Pe){return{x1:Pe.getAttribute("x1")||0,y1:Pe.getAttribute("y1")||0,x2:Pe.getAttribute("x2")||"100%",y2:Pe.getAttribute("y2")||0}}function Te(Pe){return{x1:Pe.getAttribute("fx")||Pe.getAttribute("cx")||"50%",y1:Pe.getAttribute("fy")||Pe.getAttribute("cy")||"50%",r1:0,x2:Pe.getAttribute("cx")||"50%",y2:Pe.getAttribute("cy")||"50%",r2:Pe.getAttribute("r")||"50%"}}var De=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(Pe){Pe||(Pe={}),Pe.coords||(Pe.coords={});var xe,Fe=this;Object.keys(Pe).forEach(function(Ie){Fe[Ie]=Pe[Ie]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,xe={x1:Pe.coords.x1||0,y1:Pe.coords.y1||0,x2:Pe.coords.x2||0,y2:Pe.coords.y2||0},this.type==="radial"&&(xe.r1=Pe.coords.r1||0,xe.r2=Pe.coords.r2||0),this.coords=xe,this.colorStops=Pe.colorStops.slice()},addColorStop:function(Pe){for(var xe in Pe){var Fe=new e.Color(Pe[xe]);this.colorStops.push({offset:parseFloat(xe),color:Fe.toRgb(),opacity:Fe.getAlpha()})}return this},toObject:function(Pe){var xe={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,xe,Pe),xe},toSVG:function(Pe,Oe){var Fe=De(this.coords,!0),Ie,Me,Oe=Oe||{},Be,je,Ve=De(this.colorStops,!0),ze=Fe.r1>Fe.r2,He=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),$e=-this.offsetX,Ue=-this.offsetY,Xe=!!Oe.additionalTransform,nr=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(Ve.sort(function(vr,dr){return vr.offset-dr.offset}),nr==="objectBoundingBox"?($e/=Pe.width,Ue/=Pe.height):($e+=Pe.width/2,Ue+=Pe.height/2),Pe.type==="path"&&this.gradientUnits!=="percentage"&&($e-=Pe.pathOffset.x,Ue-=Pe.pathOffset.y),He[4]-=$e,He[5]-=Ue,je='id="SVGID_'+this.id+'" gradientUnits="'+nr+'"',je+=' gradientTransform="'+(Xe?Oe.additionalTransform+" ":"")+e.util.matrixToSVG(He)+'" ',this.type==="linear"?Be=["<linearGradient ",je,' x1="',Fe.x1,'" y1="',Fe.y1,'" x2="',Fe.x2,'" y2="',Fe.y2,`">
`]:this.type==="radial"&&(Be=["<radialGradient ",je,' cx="',ze?Fe.x1:Fe.x2,'" cy="',ze?Fe.y1:Fe.y2,'" r="',ze?Fe.r1:Fe.r2,'" fx="',ze?Fe.x2:Fe.x1,'" fy="',ze?Fe.y2:Fe.y1,`">
`]),this.type==="radial"){if(ze)for(Ve=Ve.concat(),Ve.reverse(),Ie=0,Me=Ve.length;Ie<Me;Ie++)Ve[Ie].offset=1-Ve[Ie].offset;var Ge=Math.min(Fe.r1,Fe.r2);if(Ge>0){var St=Math.max(Fe.r1,Fe.r2),mr=Ge/St;for(Ie=0,Me=Ve.length;Ie<Me;Ie++)Ve[Ie].offset+=mr*(1-Ve[Ie].offset)}}for(Ie=0,Me=Ve.length;Ie<Me;Ie++){var pr=Ve[Ie];Be.push("<stop ",'offset="',pr.offset*100+"%",'" style="stop-color:',pr.color,typeof pr.opacity<"u"?";stop-opacity: "+pr.opacity:";",`"/>
`)}return Be.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),Be.join("")},toLive:function(Pe){var xe,Fe=e.util.object.clone(this.coords),Ie,Me;if(!!this.type){for(this.type==="linear"?xe=Pe.createLinearGradient(Fe.x1,Fe.y1,Fe.x2,Fe.y2):this.type==="radial"&&(xe=Pe.createRadialGradient(Fe.x1,Fe.y1,Fe.r1,Fe.x2,Fe.y2,Fe.r2)),Ie=0,Me=this.colorStops.length;Ie<Me;Ie++){var Oe=this.colorStops[Ie].color,Be=this.colorStops[Ie].opacity,je=this.colorStops[Ie].offset;typeof Be<"u"&&(Oe=new e.Color(Oe).setAlpha(Be).toRgba()),xe.addColorStop(je,Oe)}return xe}}}),e.util.object.extend(e.Gradient,{fromElement:function(Pe,xe,Fe,Ie){var Me=parseFloat(Fe)/(/%$/.test(Fe)?100:1);Me=Me<0?0:Me>1?1:Me,isNaN(Me)&&(Me=1);var Oe=Pe.getElementsByTagName("stop"),Be,je=Pe.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",Ve=Pe.getAttribute("gradientTransform")||"",ze=[],He,$e,Ue=0,Xe=0,nr;for(Pe.nodeName==="linearGradient"||Pe.nodeName==="LINEARGRADIENT"?(Be="linear",He=Ce(Pe)):(Be="radial",He=Te(Pe)),$e=Oe.length;$e--;)ze.push(Ee(Oe[$e],Me));nr=e.parseTransformAttribute(Ve),ke(xe,He,Ie,je),je==="pixels"&&(Ue=-xe.left,Xe=-xe.top);var Ge=new e.Gradient({id:Pe.getAttribute("id"),type:Be,coords:He,colorStops:ze,gradientUnits:je,gradientTransform:nr,offsetX:Ue,offsetY:Xe});return Ge}});function ke(Pe,xe,Fe,Ie){var Me,Oe;Object.keys(xe).forEach(function(Be){Me=xe[Be],Me==="Infinity"?Oe=1:Me==="-Infinity"?Oe=0:(Oe=parseFloat(xe[Be],10),typeof Me=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(Me)&&(Oe*=.01,Ie==="pixels"&&((Be==="x1"||Be==="x2"||Be==="r2")&&(Oe*=Fe.viewBoxWidth||Fe.width),(Be==="y1"||Be==="y2")&&(Oe*=Fe.viewBoxHeight||Fe.height)))),xe[Be]=Oe})}}(),function(){var Ee=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(Ce,Te){if(Ce||(Ce={}),this.id=e.Object.__uid++,this.setOptions(Ce),!Ce.source||Ce.source&&typeof Ce.source!="string"){Te&&Te(this);return}else{var De=this;this.source=e.util.createImage(),e.util.loadImage(Ce.source,function(ke,Pe){De.source=ke,Te&&Te(De,Pe)},null,this.crossOrigin)}},toObject:function(Ce){var Te=e.Object.NUM_FRACTION_DIGITS,De,ke;return typeof this.source.src=="string"?De=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(De=this.source.toDataURL()),ke={type:"pattern",source:De,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:Ee(this.offsetX,Te),offsetY:Ee(this.offsetY,Te),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,ke,Ce),ke},toSVG:function(Ce){var Te=typeof this.source=="function"?this.source():this.source,De=Te.width/Ce.width,ke=Te.height/Ce.height,Pe=this.offsetX/Ce.width,xe=this.offsetY/Ce.height,Fe="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(ke=1,xe&&(ke+=Math.abs(xe))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(De=1,Pe&&(De+=Math.abs(Pe))),Te.src?Fe=Te.src:Te.toDataURL&&(Fe=Te.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+Pe+'" y="'+xe+'" width="'+De+'" height="'+ke+`">
<image x="0" y="0" width="`+Te.width+'" height="'+Te.height+'" xlink:href="'+Fe+`"></image>
</pattern>
`},setOptions:function(Ce){for(var Te in Ce)this[Te]=Ce[Te]},toLive:function(Ce){var Te=this.source;return!Te||typeof Te.src<"u"&&(!Te.complete||Te.naturalWidth===0||Te.naturalHeight===0)?"":Ce.createPattern(Te,this.repeat)}})}(),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.toFixed;if(Ce.Shadow){Ce.warn("fabric.Shadow is already defined.");return}Ce.Shadow=Ce.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(De){typeof De=="string"&&(De=this._parseShadow(De));for(var ke in De)this[ke]=De[ke];this.id=Ce.Object.__uid++},_parseShadow:function(De){var ke=De.trim(),Pe=Ce.Shadow.reOffsetsAndBlur.exec(ke)||[],xe=ke.replace(Ce.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:xe.trim(),offsetX:parseFloat(Pe[1],10)||0,offsetY:parseFloat(Pe[2],10)||0,blur:parseFloat(Pe[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(De){var ke=40,Pe=40,xe=Ce.Object.NUM_FRACTION_DIGITS,Fe=Ce.util.rotateVector({x:this.offsetX,y:this.offsetY},Ce.util.degreesToRadians(-De.angle)),Ie=20,Me=new Ce.Color(this.color);return De.width&&De.height&&(ke=Te((Math.abs(Fe.x)+this.blur)/De.width,xe)*100+Ie,Pe=Te((Math.abs(Fe.y)+this.blur)/De.height,xe)*100+Ie),De.flipX&&(Fe.x*=-1),De.flipY&&(Fe.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+Pe+'%" height="'+(100+2*Pe)+'%" x="-'+ke+'%" width="'+(100+2*ke)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+Te(this.blur?this.blur/2:0,xe)+`"></feGaussianBlur>
	<feOffset dx="`+Te(Fe.x,xe)+'" dy="'+Te(Fe.y,xe)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+Me.toRgb()+'" flood-opacity="'+Me.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var De={},ke=Ce.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(Pe){this[Pe]!==ke[Pe]&&(De[Pe]=this[Pe])},this),De}}),Ce.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var Ee=e.util.object.extend,Ce=e.util.getElementOffset,Te=e.util.removeFromArray,De=e.util.toFixed,ke=e.util.transformPoint,Pe=e.util.invertTransform,xe=e.util.getNodeCanvas,Fe=e.util.createCanvasElement,Ie=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(Me,Oe){Oe||(Oe={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(Me,Oe)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(Me,Oe){var Be=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(Me),this._initOptions(Oe),this.interactive||this._initRetinaScaling(),Oe.overlayImage&&this.setOverlayImage(Oe.overlayImage,Be),Oe.backgroundImage&&this.setBackgroundImage(Oe.backgroundImage,Be),Oe.backgroundColor&&this.setBackgroundColor(Oe.backgroundColor,Be),Oe.overlayColor&&this.setOverlayColor(Oe.overlayColor,Be),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var Me=e.devicePixelRatio;this.__initRetinaScaling(Me,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(Me,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(Me,Oe,Be){Oe.setAttribute("width",this.width*Me),Oe.setAttribute("height",this.height*Me),Be.scale(Me,Me)},calcOffset:function(){return this._offset=Ce(this.lowerCanvasEl),this},setOverlayImage:function(Me,Oe,Be){return this.__setBgOverlayImage("overlayImage",Me,Oe,Be)},setBackgroundImage:function(Me,Oe,Be){return this.__setBgOverlayImage("backgroundImage",Me,Oe,Be)},setOverlayColor:function(Me,Oe){return this.__setBgOverlayColor("overlayColor",Me,Oe)},setBackgroundColor:function(Me,Oe){return this.__setBgOverlayColor("backgroundColor",Me,Oe)},__setBgOverlayImage:function(Me,Oe,Be,je){return typeof Oe=="string"?e.util.loadImage(Oe,function(Ve,ze){if(Ve){var He=new e.Image(Ve,je);this[Me]=He,He.canvas=this}Be&&Be(Ve,ze)},this,je&&je.crossOrigin):(je&&Oe.setOptions(je),this[Me]=Oe,Oe&&(Oe.canvas=this),Be&&Be(Oe,!1)),this},__setBgOverlayColor:function(Me,Oe,Be){return this[Me]=Oe,this._initGradient(Oe,Me),this._initPattern(Oe,Me,Be),this},_createCanvasElement:function(){var Me=Fe();if(!Me||(Me.style||(Me.style={}),typeof Me.getContext>"u"))throw Ie;return Me},_initOptions:function(Me){var Oe=this.lowerCanvasEl;this._setOptions(Me),this.width=this.width||parseInt(Oe.width,10)||0,this.height=this.height||parseInt(Oe.height,10)||0,this.lowerCanvasEl.style&&(Oe.width=this.width,Oe.height=this.height,Oe.style.width=this.width+"px",Oe.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(Me){Me&&Me.getContext?this.lowerCanvasEl=Me:this.lowerCanvasEl=e.util.getById(Me)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(Me,Oe){return this.setDimensions({width:Me},Oe)},setHeight:function(Me,Oe){return this.setDimensions({height:Me},Oe)},setDimensions:function(Me,Oe){var Be;Oe=Oe||{};for(var je in Me)Be=Me[je],Oe.cssOnly||(this._setBackstoreDimension(je,Me[je]),Be+="px",this.hasLostContext=!0),Oe.backstoreOnly||this._setCssDimension(je,Be);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),Oe.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(Me,Oe){return this.lowerCanvasEl[Me]=Oe,this.upperCanvasEl&&(this.upperCanvasEl[Me]=Oe),this.cacheCanvasEl&&(this.cacheCanvasEl[Me]=Oe),this[Me]=Oe,this},_setCssDimension:function(Me,Oe){return this.lowerCanvasEl.style[Me]=Oe,this.upperCanvasEl&&(this.upperCanvasEl.style[Me]=Oe),this.wrapperEl&&(this.wrapperEl.style[Me]=Oe),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(Me){var Oe=this._activeObject,Be=this.backgroundImage,je=this.overlayImage,Ve,ze,He;for(this.viewportTransform=Me,ze=0,He=this._objects.length;ze<He;ze++)Ve=this._objects[ze],Ve.group||Ve.setCoords(!0);return Oe&&Oe.setCoords(),Be&&Be.setCoords(!0),je&&je.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(Me,Oe){var Be=Me,je=this.viewportTransform.slice(0);Me=ke(Me,Pe(this.viewportTransform)),je[0]=Oe,je[3]=Oe;var Ve=ke(Me,je);return je[4]+=Be.x-Ve.x,je[5]+=Be.y-Ve.y,this.setViewportTransform(je)},setZoom:function(Me){return this.zoomToPoint(new e.Point(0,0),Me),this},absolutePan:function(Me){var Oe=this.viewportTransform.slice(0);return Oe[4]=-Me.x,Oe[5]=-Me.y,this.setViewportTransform(Oe)},relativePan:function(Me){return this.absolutePan(new e.Point(-Me.x-this.viewportTransform[4],-Me.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(Me){this.stateful&&Me.setupState(),Me._set("canvas",this),Me.setCoords(),this.fire("object:added",{target:Me}),Me.fire("added")},_onObjectRemoved:function(Me){this.fire("object:removed",{target:Me}),Me.fire("removed"),delete Me.canvas},clearContext:function(Me){return Me.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var Me=this.contextContainer;return this.renderCanvas(Me,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var Me={},Oe=this.width,Be=this.height,je=Pe(this.viewportTransform);return Me.tl=ke({x:0,y:0},je),Me.br=ke({x:Oe,y:Be},je),Me.tr=new e.Point(Me.br.x,Me.tl.y),Me.bl=new e.Point(Me.tl.x,Me.br.y),this.vptCoords=Me,Me},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(Me,Oe){var Be=this.viewportTransform,je=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(Me),e.util.setImageSmoothing(Me,this.imageSmoothingEnabled),this.fire("before:render",{ctx:Me}),this._renderBackground(Me),Me.save(),Me.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]),this._renderObjects(Me,Oe),Me.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(Me),je&&(je.canvas=this,je.shouldCache(),je._transformDone=!0,je.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(Me)),this._renderOverlay(Me),this.controlsAboveOverlay&&this.interactive&&this.drawControls(Me),this.fire("after:render",{ctx:Me})},drawClipPathOnCanvas:function(Me){var Oe=this.viewportTransform,Be=this.clipPath;Me.save(),Me.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]),Me.globalCompositeOperation="destination-in",Be.transform(Me),Me.scale(1/Be.zoomX,1/Be.zoomY),Me.drawImage(Be._cacheCanvas,-Be.cacheTranslationX,-Be.cacheTranslationY),Me.restore()},_renderObjects:function(Me,Oe){var Be,je;for(Be=0,je=Oe.length;Be<je;++Be)Oe[Be]&&Oe[Be].render(Me)},_renderBackgroundOrOverlay:function(Me,Oe){var Be=this[Oe+"Color"],je=this[Oe+"Image"],Ve=this.viewportTransform,ze=this[Oe+"Vpt"];if(!(!Be&&!je)){if(Be){Me.save(),Me.beginPath(),Me.moveTo(0,0),Me.lineTo(this.width,0),Me.lineTo(this.width,this.height),Me.lineTo(0,this.height),Me.closePath(),Me.fillStyle=Be.toLive?Be.toLive(Me,this):Be,ze&&Me.transform(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]),Me.transform(1,0,0,1,Be.offsetX||0,Be.offsetY||0);var He=Be.gradientTransform||Be.patternTransform;He&&Me.transform(He[0],He[1],He[2],He[3],He[4],He[5]),Me.fill(),Me.restore()}je&&(Me.save(),ze&&Me.transform(Ve[0],Ve[1],Ve[2],Ve[3],Ve[4],Ve[5]),je.render(Me),Me.restore())}},_renderBackground:function(Me){this._renderBackgroundOrOverlay(Me,"background")},_renderOverlay:function(Me){this._renderBackgroundOrOverlay(Me,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(Me){return this._centerObject(Me,new e.Point(this.getCenterPoint().x,Me.getCenterPoint().y))},centerObjectV:function(Me){return this._centerObject(Me,new e.Point(Me.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(Me){var Oe=this.getCenterPoint();return this._centerObject(Me,Oe)},viewportCenterObject:function(Me){var Oe=this.getVpCenter();return this._centerObject(Me,Oe)},viewportCenterObjectH:function(Me){var Oe=this.getVpCenter();return this._centerObject(Me,new e.Point(Oe.x,Me.getCenterPoint().y)),this},viewportCenterObjectV:function(Me){var Oe=this.getVpCenter();return this._centerObject(Me,new e.Point(Me.getCenterPoint().x,Oe.y))},getVpCenter:function(){var Me=this.getCenterPoint(),Oe=Pe(this.viewportTransform);return ke(Me,Oe)},_centerObject:function(Me,Oe){return Me.setPositionByOrigin(Oe,"center","center"),Me.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(Me){return this.toDatalessObject(Me)},toObject:function(Me){return this._toObjectMethod("toObject",Me)},toDatalessObject:function(Me){return this._toObjectMethod("toDatalessObject",Me)},_toObjectMethod:function(Me,Oe){var Be=this.clipPath,je={version:e.version,objects:this._toObjects(Me,Oe)};return Be&&!Be.excludeFromExport&&(je.clipPath=this._toObject(this.clipPath,Me,Oe)),Ee(je,this.__serializeBgOverlay(Me,Oe)),e.util.populateWithProperties(this,je,Oe),je},_toObjects:function(Me,Oe){return this._objects.filter(function(Be){return!Be.excludeFromExport}).map(function(Be){return this._toObject(Be,Me,Oe)},this)},_toObject:function(Me,Oe,Be){var je;this.includeDefaultValues||(je=Me.includeDefaultValues,Me.includeDefaultValues=!1);var Ve=Me[Oe](Be);return this.includeDefaultValues||(Me.includeDefaultValues=je),Ve},__serializeBgOverlay:function(Me,Oe){var Be={},je=this.backgroundImage,Ve=this.overlayImage,ze=this.backgroundColor,He=this.overlayColor;return ze&&ze.toObject?ze.excludeFromExport||(Be.background=ze.toObject(Oe)):ze&&(Be.background=ze),He&&He.toObject?He.excludeFromExport||(Be.overlay=He.toObject(Oe)):He&&(Be.overlay=He),je&&!je.excludeFromExport&&(Be.backgroundImage=this._toObject(je,Me,Oe)),Ve&&!Ve.excludeFromExport&&(Be.overlayImage=this._toObject(Ve,Me,Oe)),Be},svgViewportTransformation:!0,toSVG:function(Me,Oe){Me||(Me={}),Me.reviver=Oe;var Be=[];return this._setSVGPreamble(Be,Me),this._setSVGHeader(Be,Me),this.clipPath&&Be.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(Be,"background"),this._setSVGBgOverlayImage(Be,"backgroundImage",Oe),this._setSVGObjects(Be,Oe),this.clipPath&&Be.push(`</g>
`),this._setSVGBgOverlayColor(Be,"overlay"),this._setSVGBgOverlayImage(Be,"overlayImage",Oe),Be.push("</svg>"),Be.join("")},_setSVGPreamble:function(Me,Oe){Oe.suppressPreamble||Me.push('<?xml version="1.0" encoding="',Oe.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(Me,Oe){var Be=Oe.width||this.width,je=Oe.height||this.height,Ve,ze='viewBox="0 0 '+this.width+" "+this.height+'" ',He=e.Object.NUM_FRACTION_DIGITS;Oe.viewBox?ze='viewBox="'+Oe.viewBox.x+" "+Oe.viewBox.y+" "+Oe.viewBox.width+" "+Oe.viewBox.height+'" ':this.svgViewportTransformation&&(Ve=this.viewportTransform,ze='viewBox="'+De(-Ve[4]/Ve[0],He)+" "+De(-Ve[5]/Ve[3],He)+" "+De(this.width/Ve[0],He)+" "+De(this.height/Ve[3],He)+'" '),Me.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',Be,'" ','height="',je,'" ',ze,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(Oe),`</defs>
`)},createSVGClipPathMarkup:function(Me){var Oe=this.clipPath;return Oe?(Oe.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+Oe.clipPathId+`" >
`+this.clipPath.toClipPathSVG(Me.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var Me=this,Oe=["background","overlay"].map(function(Be){var je=Me[Be+"Color"];if(je&&je.toLive){var Ve=Me[Be+"Vpt"],ze=Me.viewportTransform,He={width:Me.width/(Ve?ze[0]:1),height:Me.height/(Ve?ze[3]:1)};return je.toSVG(He,{additionalTransform:Ve?e.util.matrixToSVG(ze):""})}});return Oe.join("")},createSVGFontFacesMarkup:function(){var Me="",Oe={},Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge=e.fontPaths,St=[];for(this._objects.forEach(function pr(vr){St.push(vr),vr._objects&&vr._objects.forEach(pr)}),Xe=0,nr=St.length;Xe<nr;Xe++)if(Be=St[Xe],je=Be.fontFamily,!(Be.type.indexOf("text")===-1||Oe[je]||!Ge[je])&&(Oe[je]=!0,!!Be.styles)){Ve=Be.styles;for(He in Ve){ze=Ve[He];for(Ue in ze)$e=ze[Ue],je=$e.fontFamily,!Oe[je]&&Ge[je]&&(Oe[je]=!0)}}for(var mr in Oe)Me+=[`		@font-face {
`,"			font-family: '",mr,`';
`,"			src: url('",Ge[mr],`');
`,`		}
`].join("");return Me&&(Me=['	<style type="text/css">',`<![CDATA[
`,Me,"]]>",`</style>
`].join("")),Me},_setSVGObjects:function(Me,Oe){var Be,je,Ve,ze=this._objects;for(je=0,Ve=ze.length;je<Ve;je++)Be=ze[je],!Be.excludeFromExport&&this._setSVGObject(Me,Be,Oe)},_setSVGObject:function(Me,Oe,Be){Me.push(Oe.toSVG(Be))},_setSVGBgOverlayImage:function(Me,Oe,Be){this[Oe]&&!this[Oe].excludeFromExport&&this[Oe].toSVG&&Me.push(this[Oe].toSVG(Be))},_setSVGBgOverlayColor:function(Me,Oe){var Be=this[Oe+"Color"],je=this.viewportTransform,Ve=this.width,ze=this.height;if(!!Be)if(Be.toLive){var He=Be.repeat,$e=e.util.invertTransform(je),Ue=this[Oe+"Vpt"],Xe=Ue?e.util.matrixToSVG($e):"";Me.push('<rect transform="'+Xe+" translate(",Ve/2,",",ze/2,')"',' x="',Be.offsetX-Ve/2,'" y="',Be.offsetY-ze/2,'" ','width="',He==="repeat-y"||He==="no-repeat"?Be.source.width:Ve,'" height="',He==="repeat-x"||He==="no-repeat"?Be.source.height:ze,'" fill="url(#SVGID_'+Be.id+')"',`></rect>
`)}else Me.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',Be,'"',`></rect>
`)},sendToBack:function(Me){if(!Me)return this;var Oe=this._activeObject,Be,je,Ve;if(Me===Oe&&Me.type==="activeSelection")for(Ve=Oe._objects,Be=Ve.length;Be--;)je=Ve[Be],Te(this._objects,je),this._objects.unshift(je);else Te(this._objects,Me),this._objects.unshift(Me);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(Me){if(!Me)return this;var Oe=this._activeObject,Be,je,Ve;if(Me===Oe&&Me.type==="activeSelection")for(Ve=Oe._objects,Be=0;Be<Ve.length;Be++)je=Ve[Be],Te(this._objects,je),this._objects.push(je);else Te(this._objects,Me),this._objects.push(Me);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(Me,Oe){if(!Me)return this;var Be=this._activeObject,je,Ve,ze,He,$e,Ue=0;if(Me===Be&&Me.type==="activeSelection")for($e=Be._objects,je=0;je<$e.length;je++)Ve=$e[je],ze=this._objects.indexOf(Ve),ze>0+Ue&&(He=ze-1,Te(this._objects,Ve),this._objects.splice(He,0,Ve)),Ue++;else ze=this._objects.indexOf(Me),ze!==0&&(He=this._findNewLowerIndex(Me,ze,Oe),Te(this._objects,Me),this._objects.splice(He,0,Me));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(Me,Oe,Be){var je,Ve;if(Be)for(je=Oe,Ve=Oe-1;Ve>=0;--Ve){var ze=Me.intersectsWithObject(this._objects[Ve])||Me.isContainedWithinObject(this._objects[Ve])||this._objects[Ve].isContainedWithinObject(Me);if(ze){je=Ve;break}}else je=Oe-1;return je},bringForward:function(Me,Oe){if(!Me)return this;var Be=this._activeObject,je,Ve,ze,He,$e,Ue=0;if(Me===Be&&Me.type==="activeSelection")for($e=Be._objects,je=$e.length;je--;)Ve=$e[je],ze=this._objects.indexOf(Ve),ze<this._objects.length-1-Ue&&(He=ze+1,Te(this._objects,Ve),this._objects.splice(He,0,Ve)),Ue++;else ze=this._objects.indexOf(Me),ze!==this._objects.length-1&&(He=this._findNewUpperIndex(Me,ze,Oe),Te(this._objects,Me),this._objects.splice(He,0,Me));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(Me,Oe,Be){var je,Ve,ze;if(Be)for(je=Oe,Ve=Oe+1,ze=this._objects.length;Ve<ze;++Ve){var He=Me.intersectsWithObject(this._objects[Ve])||Me.isContainedWithinObject(this._objects[Ve])||this._objects[Ve].isContainedWithinObject(Me);if(He){je=Ve;break}}else je=Oe+1;return je},moveTo:function(Me,Oe){return Te(this._objects,Me),this._objects.splice(Oe,0,Me),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(Me){Me.dispose&&Me.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),Ee(e.StaticCanvas.prototype,e.Observable),Ee(e.StaticCanvas.prototype,e.Collection),Ee(e.StaticCanvas.prototype,e.DataURLExporter),Ee(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(Me){var Oe=Fe();if(!Oe||!Oe.getContext)return null;var Be=Oe.getContext("2d");if(!Be)return null;switch(Me){case"setLineDash":return typeof Be.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var Me=xe(this.lowerCanvasEl);return Me&&Me.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(Me){var Oe=xe(this.lowerCanvasEl);return Oe&&Oe.createJPEGStream(Me)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(Ee){Ee.strokeStyle=this.color,Ee.lineWidth=this.width,Ee.lineCap=this.strokeLineCap,Ee.miterLimit=this.strokeMiterLimit,Ee.lineJoin=this.strokeLineJoin,Ee.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(Ee){var Ce=this.canvas.viewportTransform;Ee.save(),Ee.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5])},_setShadow:function(){if(!!this.shadow){var Ee=this.canvas,Ce=this.shadow,Te=Ee.contextTop,De=Ee.getZoom();Ee&&Ee._isRetinaScaling()&&(De*=e.devicePixelRatio),Te.shadowColor=Ce.color,Te.shadowBlur=Ce.blur*De,Te.shadowOffsetX=Ce.offsetX*De,Te.shadowOffsetY=Ce.offsetY*De}},needsFullRender:function(){var Ee=new e.Color(this.color);return Ee.getAlpha()<1||!!this.shadow},_resetShadow:function(){var Ee=this.canvas.contextTop;Ee.shadowColor="",Ee.shadowBlur=Ee.shadowOffsetX=Ee.shadowOffsetY=0},_isOutSideCanvas:function(Ee){return Ee.x<0||Ee.x>this.canvas.getWidth()||Ee.y<0||Ee.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(Ee){this.canvas=Ee,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(Ee,Ce,Te){var De=Ce.midPointFrom(Te);return Ee.quadraticCurveTo(Ce.x,Ce.y,De.x,De.y),De},onMouseDown:function(Ee,Ce){!this.canvas._isMainEvent(Ce.e)||(this.drawStraightLine=Ce.e[this.straightLineKey],this._prepareForDrawing(Ee),this._captureDrawingPath(Ee),this._render())},onMouseMove:function(Ee,Ce){if(!!this.canvas._isMainEvent(Ce.e)&&(this.drawStraightLine=Ce.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Ee))&&this._captureDrawingPath(Ee)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var Te=this._points,De=Te.length,ke=this.canvas.contextTop;this._saveAndTransform(ke),this.oldEnd&&(ke.beginPath(),ke.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(ke,Te[De-2],Te[De-1],!0),ke.stroke(),ke.restore()}},onMouseUp:function(Ee){return this.canvas._isMainEvent(Ee.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(Ee){var Ce=new e.Point(Ee.x,Ee.y);this._reset(),this._addPoint(Ce),this.canvas.contextTop.moveTo(Ce.x,Ce.y)},_addPoint:function(Ee){return this._points.length>1&&Ee.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(Ee),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(Ee){var Ce=new e.Point(Ee.x,Ee.y);return this._addPoint(Ce)},_render:function(Ee){var Ce,Te,De=this._points[0],ke=this._points[1];if(Ee=Ee||this.canvas.contextTop,this._saveAndTransform(Ee),Ee.beginPath(),this._points.length===2&&De.x===ke.x&&De.y===ke.y){var Pe=this.width/1e3;De=new e.Point(De.x,De.y),ke=new e.Point(ke.x,ke.y),De.x-=Pe,ke.x+=Pe}for(Ee.moveTo(De.x,De.y),Ce=1,Te=this._points.length;Ce<Te;Ce++)this._drawSegment(Ee,De,ke),De=this._points[Ce],ke=this._points[Ce+1];Ee.lineTo(De.x,De.y),Ee.stroke(),Ee.restore()},convertPointsToSVGPath:function(Ee){var Ce=this.width/1e3;return e.util.getSmoothPathFromPoints(Ee,Ce)},_isEmptySVGPath:function(Ee){var Ce=e.util.joinPath(Ee);return Ce==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(Ee){var Ce=new e.Path(Ee,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,Ce.shadow=new e.Shadow(this.shadow)),Ce},decimatePoints:function(Ee,Ce){if(Ee.length<=2)return Ee;var Te=this.canvas.getZoom(),De=Math.pow(Ce/Te,2),ke,Pe=Ee.length-1,xe=Ee[0],Fe=[xe],Ie;for(ke=1;ke<Pe-1;ke++)Ie=Math.pow(xe.x-Ee[ke].x,2)+Math.pow(xe.y-Ee[ke].y,2),Ie>=De&&(xe=Ee[ke],Fe.push(xe));return Fe.push(Ee[Pe]),Fe},_finalizeAndAddPath:function(){var Ee=this.canvas.contextTop;Ee.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var Ce=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(Ce)){this.canvas.requestRenderAll();return}var Te=this.createPath(Ce);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:Te}),this.canvas.add(Te),this.canvas.requestRenderAll(),Te.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:Te})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(Ee){this.canvas=Ee,this.points=[]},drawDot:function(Ee){var Ce=this.addPoint(Ee),Te=this.canvas.contextTop;this._saveAndTransform(Te),this.dot(Te,Ce),Te.restore()},dot:function(Ee,Ce){Ee.fillStyle=Ce.fill,Ee.beginPath(),Ee.arc(Ce.x,Ce.y,Ce.radius,0,Math.PI*2,!1),Ee.closePath(),Ee.fill()},onMouseDown:function(Ee){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(Ee)},_render:function(){var Ee=this.canvas.contextTop,Ce,Te,De=this.points;for(this._saveAndTransform(Ee),Ce=0,Te=De.length;Ce<Te;Ce++)this.dot(Ee,De[Ce]);Ee.restore()},onMouseMove:function(Ee){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Ee)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(Ee),this._render()):this.drawDot(Ee))},onMouseUp:function(){var Ee=this.canvas.renderOnAddRemove,Ce,Te;this.canvas.renderOnAddRemove=!1;var De=[];for(Ce=0,Te=this.points.length;Ce<Te;Ce++){var ke=this.points[Ce],Pe=new e.Circle({radius:ke.radius,left:ke.x,top:ke.y,originX:"center",originY:"center",fill:ke.fill});this.shadow&&(Pe.shadow=new e.Shadow(this.shadow)),De.push(Pe)}var xe=new e.Group(De);xe.canvas=this.canvas,this.canvas.fire("before:path:created",{path:xe}),this.canvas.add(xe),this.canvas.fire("path:created",{path:xe}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=Ee,this.canvas.requestRenderAll()},addPoint:function(Ee){var Ce=new e.Point(Ee.x,Ee.y),Te=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,De=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return Ce.radius=Te,Ce.fill=De,this.points.push(Ce),Ce}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(Ee){this.canvas=Ee,this.sprayChunks=[]},onMouseDown:function(Ee){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(Ee),this.render(this.sprayChunkPoints)},onMouseMove:function(Ee){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(Ee)||(this.addSprayChunk(Ee),this.render(this.sprayChunkPoints))},onMouseUp:function(){var Ee=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var Ce=[],Te=0,De=this.sprayChunks.length;Te<De;Te++)for(var ke=this.sprayChunks[Te],Pe=0,xe=ke.length;Pe<xe;Pe++){var Fe=new e.Rect({width:ke[Pe].width,height:ke[Pe].width,left:ke[Pe].x+1,top:ke[Pe].y+1,originX:"center",originY:"center",fill:this.color});Ce.push(Fe)}this.optimizeOverlapping&&(Ce=this._getOptimizedRects(Ce));var Ie=new e.Group(Ce);this.shadow&&Ie.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:Ie}),this.canvas.add(Ie),this.canvas.fire("path:created",{path:Ie}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=Ee,this.canvas.requestRenderAll()},_getOptimizedRects:function(Ee){var Ce={},Te,De,ke;for(De=0,ke=Ee.length;De<ke;De++)Te=Ee[De].left+""+Ee[De].top,Ce[Te]||(Ce[Te]=Ee[De]);var Pe=[];for(Te in Ce)Pe.push(Ce[Te]);return Pe},render:function(Ee){var Ce=this.canvas.contextTop,Te,De;for(Ce.fillStyle=this.color,this._saveAndTransform(Ce),Te=0,De=Ee.length;Te<De;Te++){var ke=Ee[Te];typeof ke.opacity<"u"&&(Ce.globalAlpha=ke.opacity),Ce.fillRect(ke.x,ke.y,ke.width,ke.width)}Ce.restore()},_render:function(){var Ee=this.canvas.contextTop,Ce,Te;for(Ee.fillStyle=this.color,this._saveAndTransform(Ee),Ce=0,Te=this.sprayChunks.length;Ce<Te;Ce++)this.render(this.sprayChunks[Ce]);Ee.restore()},addSprayChunk:function(Ee){this.sprayChunkPoints=[];var Ce,Te,De,ke=this.width/2,Pe;for(Pe=0;Pe<this.density;Pe++){Ce=e.util.getRandomInt(Ee.x-ke,Ee.x+ke),Te=e.util.getRandomInt(Ee.y-ke,Ee.y+ke),this.dotWidthVariance?De=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):De=this.dotWidth;var xe=new e.Point(Ce,Te);xe.width=De,this.randomOpacity&&(xe.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(xe)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var Ee=20,Ce=5,Te=e.util.createCanvasElement(),De=Te.getContext("2d");return Te.width=Te.height=Ee+Ce,De.fillStyle=this.color,De.beginPath(),De.arc(Ee/2,Ee/2,Ee/2,0,Math.PI*2,!1),De.closePath(),De.fill(),Te},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(Ee){return Ee.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(Ee){this.callSuper("_setBrushStyles",Ee),Ee.strokeStyle=this.getPattern(Ee)},createPath:function(Ee){var Ce=this.callSuper("createPath",Ee),Te=Ce._getLeftTopCoords().scalarAdd(Ce.strokeWidth/2);return Ce.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-Te.x,offsetY:-Te.y}),Ce}}),function(){var Ee=e.util.getPointer,Ce=e.util.degreesToRadians,Te=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(ke,Pe){Pe||(Pe={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(ke,Pe),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var ke=this.getActiveObjects(),Pe,xe,Fe;if(ke.length>0&&!this.preserveObjectStacking){xe=[],Fe=[];for(var Ie=0,Me=this._objects.length;Ie<Me;Ie++)Pe=this._objects[Ie],ke.indexOf(Pe)===-1?xe.push(Pe):Fe.push(Pe);ke.length>1&&(this._activeObject._objects=Fe),xe.push.apply(xe,Fe)}else xe=this._objects;return xe},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var ke=this.contextContainer;return this.renderCanvas(ke,this._chooseObjectsToRender()),this},renderTopLayer:function(ke){ke.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(ke),this.contextTopDirty=!0),ke.restore()},renderTop:function(){var ke=this.contextTop;return this.clearContext(ke),this.renderTopLayer(ke),this.fire("after:render"),this},_normalizePointer:function(ke,Pe){var xe=ke.calcTransformMatrix(),Fe=e.util.invertTransform(xe),Ie=this.restorePointerVpt(Pe);return e.util.transformPoint(Ie,Fe)},isTargetTransparent:function(ke,Pe,xe){if(ke.shouldCache()&&ke._cacheCanvas&&ke!==this._activeObject){var Fe=this._normalizePointer(ke,{x:Pe,y:xe}),Ie=Math.max(ke.cacheTranslationX+Fe.x*ke.zoomX,0),Me=Math.max(ke.cacheTranslationY+Fe.y*ke.zoomY,0),Ve=e.util.isTransparent(ke._cacheContext,Math.round(Ie),Math.round(Me),this.targetFindTolerance);return Ve}var Oe=this.contextCache,Be=ke.selectionBackgroundColor,je=this.viewportTransform;ke.selectionBackgroundColor="",this.clearContext(Oe),Oe.save(),Oe.transform(je[0],je[1],je[2],je[3],je[4],je[5]),ke.render(Oe),Oe.restore(),ke.selectionBackgroundColor=Be;var Ve=e.util.isTransparent(Oe,Pe,xe,this.targetFindTolerance);return Ve},_isSelectionKeyPressed:function(ke){var Pe=!1;return Array.isArray(this.selectionKey)?Pe=!!this.selectionKey.find(function(xe){return ke[xe]===!0}):Pe=ke[this.selectionKey],Pe},_shouldClearSelection:function(ke,Pe){var xe=this.getActiveObjects(),Fe=this._activeObject;return!Pe||Pe&&Fe&&xe.length>1&&xe.indexOf(Pe)===-1&&Fe!==Pe&&!this._isSelectionKeyPressed(ke)||Pe&&!Pe.evented||Pe&&!Pe.selectable&&Fe&&Fe!==Pe},_shouldCenterTransform:function(ke,Pe,xe){if(!!ke){var Fe;return Pe==="scale"||Pe==="scaleX"||Pe==="scaleY"||Pe==="resizing"?Fe=this.centeredScaling||ke.centeredScaling:Pe==="rotate"&&(Fe=this.centeredRotation||ke.centeredRotation),Fe?!xe:xe}},_getOriginFromCorner:function(ke,Pe){var xe={x:ke.originX,y:ke.originY};return Pe==="ml"||Pe==="tl"||Pe==="bl"?xe.x="right":(Pe==="mr"||Pe==="tr"||Pe==="br")&&(xe.x="left"),Pe==="tl"||Pe==="mt"||Pe==="tr"?xe.y="bottom":(Pe==="bl"||Pe==="mb"||Pe==="br")&&(xe.y="top"),xe},_getActionFromCorner:function(ke,Pe,xe,Fe){if(!Pe||!ke)return"drag";var Ie=Fe.controls[Pe];return Ie.getActionName(xe,Ie,Fe)},_setupCurrentTransform:function(ke,Pe,xe){if(!!Pe){var Fe=this.getPointer(ke),Ie=Pe.__corner,Me=Pe.controls[Ie],Oe=xe&&Ie?Me.getActionHandler(ke,Pe,Me):e.controlsUtils.dragHandler,Be=this._getActionFromCorner(xe,Ie,ke,Pe),je=this._getOriginFromCorner(Pe,Ie),Ve=ke[this.centeredKey],ze={target:Pe,action:Be,actionHandler:Oe,corner:Ie,scaleX:Pe.scaleX,scaleY:Pe.scaleY,skewX:Pe.skewX,skewY:Pe.skewY,offsetX:Fe.x-Pe.left,offsetY:Fe.y-Pe.top,originX:je.x,originY:je.y,ex:Fe.x,ey:Fe.y,lastX:Fe.x,lastY:Fe.y,theta:Ce(Pe.angle),width:Pe.width*Pe.scaleX,shiftKey:ke.shiftKey,altKey:Ve,original:e.util.saveObjectTransform(Pe)};this._shouldCenterTransform(Pe,Be,Ve)&&(ze.originX="center",ze.originY="center"),ze.original.originX=je.x,ze.original.originY=je.y,this._currentTransform=ze,this._beforeTransform(ke)}},setCursor:function(ke){this.upperCanvasEl.style.cursor=ke},_drawSelection:function(ke){var Pe=this._groupSelector,xe=new e.Point(Pe.ex,Pe.ey),Fe=e.util.transformPoint(xe,this.viewportTransform),Ie=new e.Point(Pe.ex+Pe.left,Pe.ey+Pe.top),Me=e.util.transformPoint(Ie,this.viewportTransform),Oe=Math.min(Fe.x,Me.x),Be=Math.min(Fe.y,Me.y),je=Math.max(Fe.x,Me.x),Ve=Math.max(Fe.y,Me.y),ze=this.selectionLineWidth/2;this.selectionColor&&(ke.fillStyle=this.selectionColor,ke.fillRect(Oe,Be,je-Oe,Ve-Be)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(ke.lineWidth=this.selectionLineWidth,ke.strokeStyle=this.selectionBorderColor,Oe+=ze,Be+=ze,je-=ze,Ve-=ze,e.Object.prototype._setLineDash.call(this,ke,this.selectionDashArray),ke.strokeRect(Oe,Be,je-Oe,Ve-Be))},findTarget:function(ke,Pe){if(!this.skipTargetFind){var xe=!0,Fe=this.getPointer(ke,xe),Ie=this._activeObject,Me=this.getActiveObjects(),Oe,Be,je=Te(ke),Ve=Me.length>1&&!Pe||Me.length===1;if(this.targets=[],Ve&&Ie._findTargetCorner(Fe,je)||Me.length>1&&!Pe&&Ie===this._searchPossibleTargets([Ie],Fe))return Ie;if(Me.length===1&&Ie===this._searchPossibleTargets([Ie],Fe))if(this.preserveObjectStacking)Oe=Ie,Be=this.targets,this.targets=[];else return Ie;var ze=this._searchPossibleTargets(this._objects,Fe);return ke[this.altSelectionKey]&&ze&&Oe&&ze!==Oe&&(ze=Oe,this.targets=Be),ze}},_checkTarget:function(ke,Pe,xe){if(Pe&&Pe.visible&&Pe.evented&&Pe.containsPoint(ke))if((this.perPixelTargetFind||Pe.perPixelTargetFind)&&!Pe.isEditing){var Fe=this.isTargetTransparent(Pe,xe.x,xe.y);if(!Fe)return!0}else return!0},_searchPossibleTargets:function(ke,Pe){for(var xe,Fe=ke.length,Ie;Fe--;){var Me=ke[Fe],Oe=Me.group?this._normalizePointer(Me.group,Pe):Pe;if(this._checkTarget(Oe,Me,Pe)){xe=ke[Fe],xe.subTargetCheck&&xe instanceof e.Group&&(Ie=this._searchPossibleTargets(xe._objects,Pe),Ie&&this.targets.push(Ie));break}}return xe},restorePointerVpt:function(ke){return e.util.transformPoint(ke,e.util.invertTransform(this.viewportTransform))},getPointer:function(ke,Pe){if(this._absolutePointer&&!Pe)return this._absolutePointer;if(this._pointer&&Pe)return this._pointer;var xe=Ee(ke),Fe=this.upperCanvasEl,Ie=Fe.getBoundingClientRect(),Me=Ie.width||0,Oe=Ie.height||0,Be;(!Me||!Oe)&&("top"in Ie&&"bottom"in Ie&&(Oe=Math.abs(Ie.top-Ie.bottom)),"right"in Ie&&"left"in Ie&&(Me=Math.abs(Ie.right-Ie.left))),this.calcOffset(),xe.x=xe.x-this._offset.left,xe.y=xe.y-this._offset.top,Pe||(xe=this.restorePointerVpt(xe));var je=this.getRetinaScaling();return je!==1&&(xe.x/=je,xe.y/=je),Me===0||Oe===0?Be={width:1,height:1}:Be={width:Fe.width/Me,height:Fe.height/Oe},{x:xe.x*Be.width,y:xe.y*Be.height}},_createUpperCanvas:function(){var ke=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),Pe=this.lowerCanvasEl,xe=this.upperCanvasEl;xe?xe.className="":(xe=this._createCanvasElement(),this.upperCanvasEl=xe),e.util.addClass(xe,"upper-canvas "+ke),this.wrapperEl.appendChild(xe),this._copyCanvasStyle(Pe,xe),this._applyCanvasStyle(xe),this.contextTop=xe.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(ke){var Pe=this.width||ke.width,xe=this.height||ke.height;e.util.setStyle(ke,{position:"absolute",width:Pe+"px",height:xe+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),ke.width=Pe,ke.height=xe,e.util.makeElementUnselectable(ke)},_copyCanvasStyle:function(ke,Pe){Pe.style.cssText=ke.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var ke=this._activeObject;return ke?ke.type==="activeSelection"&&ke._objects?ke._objects.slice(0):[ke]:[]},_onObjectRemoved:function(ke){ke===this._activeObject&&(this.fire("before:selection:cleared",{target:ke}),this._discardActiveObject(),this.fire("selection:cleared",{target:ke}),ke.fire("deselected")),ke===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",ke)},_fireSelectionEvents:function(ke,Pe){var xe=!1,Fe=this.getActiveObjects(),Ie=[],Me=[];ke.forEach(function(Oe){Fe.indexOf(Oe)===-1&&(xe=!0,Oe.fire("deselected",{e:Pe,target:Oe}),Me.push(Oe))}),Fe.forEach(function(Oe){ke.indexOf(Oe)===-1&&(xe=!0,Oe.fire("selected",{e:Pe,target:Oe}),Ie.push(Oe))}),ke.length>0&&Fe.length>0?xe&&this.fire("selection:updated",{e:Pe,selected:Ie,deselected:Me}):Fe.length>0?this.fire("selection:created",{e:Pe,selected:Ie}):ke.length>0&&this.fire("selection:cleared",{e:Pe,deselected:Me})},setActiveObject:function(ke,Pe){var xe=this.getActiveObjects();return this._setActiveObject(ke,Pe),this._fireSelectionEvents(xe,Pe),this},_setActiveObject:function(ke,Pe){return this._activeObject===ke||!this._discardActiveObject(Pe,ke)||ke.onSelect({e:Pe})?!1:(this._activeObject=ke,!0)},_discardActiveObject:function(ke,Pe){var xe=this._activeObject;if(xe){if(xe.onDeselect({e:ke,object:Pe}))return!1;this._activeObject=null}return!0},discardActiveObject:function(ke){var Pe=this.getActiveObjects(),xe=this.getActiveObject();return Pe.length&&this.fire("before:selection:cleared",{target:xe,e:ke}),this._discardActiveObject(ke),this._fireSelectionEvents(Pe,ke),this},dispose:function(){var ke=this.wrapperEl;return this.removeListeners(),ke.removeChild(this.upperCanvasEl),ke.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(Pe){e.util.cleanUpJsdomNode(this[Pe]),this[Pe]=void 0}.bind(this)),ke.parentNode&&ke.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(ke){var Pe=this._activeObject;Pe&&Pe._renderControls(ke)},_toObject:function(ke,Pe,xe){var Fe=this._realizeGroupTransformOnObject(ke),Ie=this.callSuper("_toObject",ke,Pe,xe);return this._unwindGroupTransformOnObject(ke,Fe),Ie},_realizeGroupTransformOnObject:function(ke){if(ke.group&&ke.group.type==="activeSelection"&&this._activeObject===ke.group){var Pe=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],xe={};return Pe.forEach(function(Fe){xe[Fe]=ke[Fe]}),e.util.addTransformToObject(ke,this._activeObject.calcOwnMatrix()),xe}else return null},_unwindGroupTransformOnObject:function(ke,Pe){Pe&&ke.set(Pe)},_setSVGObject:function(ke,Pe,xe){var Fe=this._realizeGroupTransformOnObject(Pe);this.callSuper("_setSVGObject",ke,Pe,xe),this._unwindGroupTransformOnObject(Pe,Fe)},setViewportTransform:function(ke){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,ke)}});for(var De in e.StaticCanvas)De!=="prototype"&&(e.Canvas[De]=e.StaticCanvas[De])}(),function(){var Ee=e.util.addListener,Ce=e.util.removeListener,Te=3,De=2,ke=1,Pe={passive:!1};function xe(Fe,Ie){return Fe.button&&Fe.button===Ie-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(Ee,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(Fe,Ie){var Me=this.upperCanvasEl,Oe=this._getEventPrefix();Fe(e.window,"resize",this._onResize),Fe(Me,Oe+"down",this._onMouseDown),Fe(Me,Oe+"move",this._onMouseMove,Pe),Fe(Me,Oe+"out",this._onMouseOut),Fe(Me,Oe+"enter",this._onMouseEnter),Fe(Me,"wheel",this._onMouseWheel),Fe(Me,"contextmenu",this._onContextMenu),Fe(Me,"dblclick",this._onDoubleClick),Fe(Me,"dragover",this._onDragOver),Fe(Me,"dragenter",this._onDragEnter),Fe(Me,"dragleave",this._onDragLeave),Fe(Me,"drop",this._onDrop),this.enablePointerEvents||Fe(Me,"touchstart",this._onTouchStart,Pe),typeof eventjs<"u"&&Ie in eventjs&&(eventjs[Ie](Me,"gesture",this._onGesture),eventjs[Ie](Me,"drag",this._onDrag),eventjs[Ie](Me,"orientation",this._onOrientationChange),eventjs[Ie](Me,"shake",this._onShake),eventjs[Ie](Me,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(Ce,"remove");var Fe=this._getEventPrefix();Ce(e.document,Fe+"up",this._onMouseUp),Ce(e.document,"touchend",this._onTouchEnd,Pe),Ce(e.document,Fe+"move",this._onMouseMove,Pe),Ce(e.document,"touchmove",this._onMouseMove,Pe)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(Fe,Ie){this.__onTransformGesture&&this.__onTransformGesture(Fe,Ie)},_onDrag:function(Fe,Ie){this.__onDrag&&this.__onDrag(Fe,Ie)},_onMouseWheel:function(Fe){this.__onMouseWheel(Fe)},_onMouseOut:function(Fe){var Ie=this._hoveredTarget;this.fire("mouse:out",{target:Ie,e:Fe}),this._hoveredTarget=null,Ie&&Ie.fire("mouseout",{e:Fe});var Me=this;this._hoveredTargets.forEach(function(Oe){Me.fire("mouse:out",{target:Ie,e:Fe}),Oe&&Ie.fire("mouseout",{e:Fe})}),this._hoveredTargets=[]},_onMouseEnter:function(Fe){!this._currentTransform&&!this.findTarget(Fe)&&(this.fire("mouse:over",{target:null,e:Fe}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(Fe,Ie){this.__onOrientationChange&&this.__onOrientationChange(Fe,Ie)},_onShake:function(Fe,Ie){this.__onShake&&this.__onShake(Fe,Ie)},_onLongPress:function(Fe,Ie){this.__onLongPress&&this.__onLongPress(Fe,Ie)},_onDragOver:function(Fe){Fe.preventDefault();var Ie=this._simpleEventHandler("dragover",Fe);this._fireEnterLeaveEvents(Ie,Fe)},_onDrop:function(Fe){return this._simpleEventHandler("drop:before",Fe),this._simpleEventHandler("drop",Fe)},_onContextMenu:function(Fe){return this.stopContextMenu&&(Fe.stopPropagation(),Fe.preventDefault()),!1},_onDoubleClick:function(Fe){this._cacheTransformEventData(Fe),this._handleEvent(Fe,"dblclick"),this._resetTransformEventData(Fe)},getPointerId:function(Fe){var Ie=Fe.changedTouches;return Ie?Ie[0]&&Ie[0].identifier:this.enablePointerEvents?Fe.pointerId:-1},_isMainEvent:function(Fe){return Fe.isPrimary===!0?!0:Fe.isPrimary===!1?!1:Fe.type==="touchend"&&Fe.touches.length===0?!0:Fe.changedTouches?Fe.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(Fe){Fe.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(Fe)),this.__onMouseDown(Fe),this._resetTransformEventData();var Ie=this.upperCanvasEl,Me=this._getEventPrefix();Ee(e.document,"touchend",this._onTouchEnd,Pe),Ee(e.document,"touchmove",this._onMouseMove,Pe),Ce(Ie,Me+"down",this._onMouseDown)},_onMouseDown:function(Fe){this.__onMouseDown(Fe),this._resetTransformEventData();var Ie=this.upperCanvasEl,Me=this._getEventPrefix();Ce(Ie,Me+"move",this._onMouseMove,Pe),Ee(e.document,Me+"up",this._onMouseUp),Ee(e.document,Me+"move",this._onMouseMove,Pe)},_onTouchEnd:function(Fe){if(!(Fe.touches.length>0)){this.__onMouseUp(Fe),this._resetTransformEventData(),this.mainTouchId=null;var Ie=this._getEventPrefix();Ce(e.document,"touchend",this._onTouchEnd,Pe),Ce(e.document,"touchmove",this._onMouseMove,Pe);var Me=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){Ee(Me.upperCanvasEl,Ie+"down",Me._onMouseDown),Me._willAddMouseDown=0},400)}},_onMouseUp:function(Fe){this.__onMouseUp(Fe),this._resetTransformEventData();var Ie=this.upperCanvasEl,Me=this._getEventPrefix();this._isMainEvent(Fe)&&(Ce(e.document,Me+"up",this._onMouseUp),Ce(e.document,Me+"move",this._onMouseMove,Pe),Ee(Ie,Me+"move",this._onMouseMove,Pe))},_onMouseMove:function(Fe){!this.allowTouchScrolling&&Fe.preventDefault&&Fe.preventDefault(),this.__onMouseMove(Fe)},_onResize:function(){this.calcOffset()},_shouldRender:function(Fe){var Ie=this._activeObject;return!!Ie!=!!Fe||Ie&&Fe&&Ie!==Fe?!0:(Ie&&Ie.isEditing,!1)},__onMouseUp:function(Fe){var Ie,Me=this._currentTransform,Oe=this._groupSelector,Be=!1,je=!Oe||Oe.left===0&&Oe.top===0;if(this._cacheTransformEventData(Fe),Ie=this._target,this._handleEvent(Fe,"up:before"),xe(Fe,Te)){this.fireRightClick&&this._handleEvent(Fe,"up",Te,je);return}if(xe(Fe,De)){this.fireMiddleClick&&this._handleEvent(Fe,"up",De,je),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(Fe);return}if(!!this._isMainEvent(Fe)){if(Me&&(this._finalizeCurrentTransform(Fe),Be=Me.actionPerformed),!je){var Ve=Ie===this._activeObject;this._maybeGroupObjects(Fe),Be||(Be=this._shouldRender(Ie)||!Ve&&Ie===this._activeObject)}var ze,He;if(Ie){if(ze=Ie._findTargetCorner(this.getPointer(Fe,!0),e.util.isTouchEvent(Fe)),Ie.selectable&&Ie!==this._activeObject&&Ie.activeOn==="up")this.setActiveObject(Ie,Fe),Be=!0;else{var $e=Ie.controls[ze],Ue=$e&&$e.getMouseUpHandler(Fe,Ie,$e);Ue&&(He=this.getPointer(Fe),Ue(Fe,Me,He.x,He.y))}Ie.isMoving=!1}if(Me&&(Me.target!==Ie||Me.corner!==ze)){var Xe=Me.target&&Me.target.controls[Me.corner],nr=Xe&&Xe.getMouseUpHandler(Fe,Ie,$e);He=He||this.getPointer(Fe),nr&&nr(Fe,Me,He.x,He.y)}this._setCursorFromEvent(Fe,Ie),this._handleEvent(Fe,"up",ke,je),this._groupSelector=null,this._currentTransform=null,Ie&&(Ie.__corner=0),Be?this.requestRenderAll():je||this.renderTop()}},_simpleEventHandler:function(Fe,Ie){var Me=this.findTarget(Ie),Oe=this.targets,Be={e:Ie,target:Me,subTargets:Oe};if(this.fire(Fe,Be),Me&&Me.fire(Fe,Be),!Oe)return Me;for(var je=0;je<Oe.length;je++)Oe[je].fire(Fe,Be);return Me},_handleEvent:function(Fe,Ie,Me,Oe){var Be=this._target,je=this.targets||[],Ve={e:Fe,target:Be,subTargets:je,button:Me||ke,isClick:Oe||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};Ie==="up"&&(Ve.currentTarget=this.findTarget(Fe),Ve.currentSubTargets=this.targets),this.fire("mouse:"+Ie,Ve),Be&&Be.fire("mouse"+Ie,Ve);for(var ze=0;ze<je.length;ze++)je[ze].fire("mouse"+Ie,Ve)},_finalizeCurrentTransform:function(Fe){var Ie=this._currentTransform,Me=Ie.target,Oe={e:Fe,target:Me,transform:Ie,action:Ie.action};Me._scaling&&(Me._scaling=!1),Me.setCoords(),(Ie.actionPerformed||this.stateful&&Me.hasStateChanged())&&this._fire("modified",Oe)},_onMouseDownInDrawingMode:function(Fe){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(Fe).requestRenderAll();var Ie=this.getPointer(Fe);this.freeDrawingBrush.onMouseDown(Ie,{e:Fe,pointer:Ie}),this._handleEvent(Fe,"down")},_onMouseMoveInDrawingMode:function(Fe){if(this._isCurrentlyDrawing){var Ie=this.getPointer(Fe);this.freeDrawingBrush.onMouseMove(Ie,{e:Fe,pointer:Ie})}this.setCursor(this.freeDrawingCursor),this._handleEvent(Fe,"move")},_onMouseUpInDrawingMode:function(Fe){var Ie=this.getPointer(Fe);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:Fe,pointer:Ie}),this._handleEvent(Fe,"up")},__onMouseDown:function(Fe){this._cacheTransformEventData(Fe),this._handleEvent(Fe,"down:before");var Ie=this._target;if(xe(Fe,Te)){this.fireRightClick&&this._handleEvent(Fe,"down",Te);return}if(xe(Fe,De)){this.fireMiddleClick&&this._handleEvent(Fe,"down",De);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(Fe);return}if(!!this._isMainEvent(Fe)&&!this._currentTransform){var Me=this._pointer;this._previousPointer=Me;var Oe=this._shouldRender(Ie),Be=this._shouldGroup(Fe,Ie);if(this._shouldClearSelection(Fe,Ie)?this.discardActiveObject(Fe):Be&&(this._handleGrouping(Fe,Ie),Ie=this._activeObject),this.selection&&(!Ie||!Ie.selectable&&!Ie.isEditing&&Ie!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),Ie){var je=Ie===this._activeObject;Ie.selectable&&Ie.activeOn==="down"&&this.setActiveObject(Ie,Fe);var Ve=Ie._findTargetCorner(this.getPointer(Fe,!0),e.util.isTouchEvent(Fe));if(Ie.__corner=Ve,Ie===this._activeObject&&(Ve||!Be)){this._setupCurrentTransform(Fe,Ie,je);var ze=Ie.controls[Ve],Me=this.getPointer(Fe),He=ze&&ze.getMouseDownHandler(Fe,Ie,ze);He&&He(Fe,this._currentTransform,Me.x,Me.y)}}this._handleEvent(Fe,"down"),(Oe||Be)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(Fe){this._resetTransformEventData(),this._pointer=this.getPointer(Fe,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(Fe)||null},_beforeTransform:function(Fe){var Ie=this._currentTransform;this.stateful&&Ie.target.saveState(),this.fire("before:transform",{e:Fe,transform:Ie})},__onMouseMove:function(Fe){this._handleEvent(Fe,"move:before"),this._cacheTransformEventData(Fe);var Ie,Me;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(Fe);return}if(!!this._isMainEvent(Fe)){var Oe=this._groupSelector;Oe?(Me=this._absolutePointer,Oe.left=Me.x-Oe.ex,Oe.top=Me.y-Oe.ey,this.renderTop()):this._currentTransform?this._transformObject(Fe):(Ie=this.findTarget(Fe)||null,this._setCursorFromEvent(Fe,Ie),this._fireOverOutEvents(Ie,Fe)),this._handleEvent(Fe,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(Fe,Ie){var Me=this._hoveredTarget,Oe=this._hoveredTargets,Be=this.targets,je=Math.max(Oe.length,Be.length);this.fireSyntheticInOutEvents(Fe,Ie,{oldTarget:Me,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var Ve=0;Ve<je;Ve++)this.fireSyntheticInOutEvents(Be[Ve],Ie,{oldTarget:Oe[Ve],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=Fe,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(Fe,Ie){var Me=this._draggedoverTarget,Oe=this._hoveredTargets,Be=this.targets,je=Math.max(Oe.length,Be.length);this.fireSyntheticInOutEvents(Fe,Ie,{oldTarget:Me,evtOut:"dragleave",evtIn:"dragenter"});for(var Ve=0;Ve<je;Ve++)this.fireSyntheticInOutEvents(Be[Ve],Ie,{oldTarget:Oe[Ve],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=Fe},fireSyntheticInOutEvents:function(Fe,Ie,Me){var Oe,Be,je=Me.oldTarget,Ve,ze,He=je!==Fe,$e=Me.canvasEvtIn,Ue=Me.canvasEvtOut;He&&(Oe={e:Ie,target:Fe,previousTarget:je},Be={e:Ie,target:je,nextTarget:Fe}),ze=Fe&&He,Ve=je&&He,Ve&&(Ue&&this.fire(Ue,Be),je.fire(Me.evtOut,Be)),ze&&($e&&this.fire($e,Oe),Fe.fire(Me.evtIn,Oe))},__onMouseWheel:function(Fe){this._cacheTransformEventData(Fe),this._handleEvent(Fe,"wheel"),this._resetTransformEventData()},_transformObject:function(Fe){var Ie=this.getPointer(Fe),Me=this._currentTransform;Me.reset=!1,Me.shiftKey=Fe.shiftKey,Me.altKey=Fe[this.centeredKey],this._performTransformAction(Fe,Me,Ie),Me.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(Fe,Ie,Me){var Oe=Me.x,Be=Me.y,je=Ie.action,Ve=!1,ze=Ie.actionHandler;ze&&(Ve=ze(Fe,Ie,Oe,Be)),je==="drag"&&Ve&&(Ie.target.isMoving=!0,this.setCursor(Ie.target.moveCursor||this.moveCursor)),Ie.actionPerformed=Ie.actionPerformed||Ve},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(Fe,Ie){if(!Ie)return this.setCursor(this.defaultCursor),!1;var Me=Ie.hoverCursor||this.hoverCursor,Oe=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,Be=(!Oe||!Oe.contains(Ie))&&Ie._findTargetCorner(this.getPointer(Fe,!0));Be?this.setCursor(this.getCornerCursor(Be,Ie,Fe)):(Ie.subTargetCheck&&this.targets.concat().reverse().map(function(je){Me=je.hoverCursor||Me}),this.setCursor(Me))},getCornerCursor:function(Fe,Ie,Me){var Oe=Ie.controls[Fe];return Oe.cursorStyleHandler(Me,Oe,Ie)}})}(),function(){var Ee=Math.min,Ce=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(Te,De){var ke=this._activeObject;return ke&&this._isSelectionKeyPressed(Te)&&De&&De.selectable&&this.selection&&(ke!==De||ke.type==="activeSelection")&&!De.onSelect({e:Te})},_handleGrouping:function(Te,De){var ke=this._activeObject;ke.__corner||De===ke&&(De=this.findTarget(Te,!0),!De||!De.selectable)||(ke&&ke.type==="activeSelection"?this._updateActiveSelection(De,Te):this._createActiveSelection(De,Te))},_updateActiveSelection:function(Te,De){var ke=this._activeObject,Pe=ke._objects.slice(0);ke.contains(Te)?(ke.removeWithUpdate(Te),this._hoveredTarget=Te,this._hoveredTargets=this.targets.concat(),ke.size()===1&&this._setActiveObject(ke.item(0),De)):(ke.addWithUpdate(Te),this._hoveredTarget=ke,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(Pe,De)},_createActiveSelection:function(Te,De){var ke=this.getActiveObjects(),Pe=this._createGroup(Te);this._hoveredTarget=Pe,this._setActiveObject(Pe,De),this._fireSelectionEvents(ke,De)},_createGroup:function(Te){var De=this._objects,ke=De.indexOf(this._activeObject)<De.indexOf(Te),Pe=ke?[this._activeObject,Te]:[Te,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(Pe,{canvas:this})},_groupSelectedObjects:function(Te){var De=this._collectObjects(Te),ke;De.length===1?this.setActiveObject(De[0],Te):De.length>1&&(ke=new e.ActiveSelection(De.reverse(),{canvas:this}),this.setActiveObject(ke,Te))},_collectObjects:function(Te){for(var De=[],ke,Pe=this._groupSelector.ex,xe=this._groupSelector.ey,Fe=Pe+this._groupSelector.left,Ie=xe+this._groupSelector.top,Me=new e.Point(Ee(Pe,Fe),Ee(xe,Ie)),Oe=new e.Point(Ce(Pe,Fe),Ce(xe,Ie)),Be=!this.selectionFullyContained,je=Pe===Fe&&xe===Ie,Ve=this._objects.length;Ve--&&(ke=this._objects[Ve],!(!(!ke||!ke.selectable||!ke.visible)&&(Be&&ke.intersectsWithRect(Me,Oe,!0)||ke.isContainedWithinRect(Me,Oe,!0)||Be&&ke.containsPoint(Me,null,!0)||Be&&ke.containsPoint(Oe,null,!0))&&(De.push(ke),je))););return De.length>1&&(De=De.filter(function(ze){return!ze.onSelect({e:Te})})),De},_maybeGroupObjects:function(Te){this.selection&&this._groupSelector&&this._groupSelectedObjects(Te),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(Ee){Ee||(Ee={});var Ce=Ee.format||"png",Te=Ee.quality||1,De=(Ee.multiplier||1)*(Ee.enableRetinaScaling?this.getRetinaScaling():1),ke=this.toCanvasElement(De,Ee);return e.util.toDataURL(ke,Ce,Te)},toCanvasElement:function(Ee,Ce){Ee=Ee||1,Ce=Ce||{};var Te=(Ce.width||this.width)*Ee,De=(Ce.height||this.height)*Ee,ke=this.getZoom(),Pe=this.width,xe=this.height,Fe=ke*Ee,Ie=this.viewportTransform,Me=(Ie[4]-(Ce.left||0))*Ee,Oe=(Ie[5]-(Ce.top||0))*Ee,Be=this.interactive,je=[Fe,0,0,Fe,Me,Oe],Ve=this.enableRetinaScaling,ze=e.util.createCanvasElement(),He=this.contextTop;return ze.width=Te,ze.height=De,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=je,this.width=Te,this.height=De,this.calcViewportBoundaries(),this.renderCanvas(ze.getContext("2d"),this._objects),this.viewportTransform=Ie,this.width=Pe,this.height=xe,this.calcViewportBoundaries(),this.interactive=Be,this.enableRetinaScaling=Ve,this.contextTop=He,ze}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(Ee,Ce,Te){if(!!Ee){var De=typeof Ee=="string"?JSON.parse(Ee):e.util.object.clone(Ee),ke=this,Pe=De.clipPath,xe=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete De.clipPath,this._enlivenObjects(De.objects,function(Fe){ke.clear(),ke._setBgOverlay(De,function(){Pe?ke._enlivenObjects([Pe],function(Ie){ke.clipPath=Ie[0],ke.__setupCanvas.call(ke,De,Fe,xe,Ce)}):ke.__setupCanvas.call(ke,De,Fe,xe,Ce)})},Te),this}},__setupCanvas:function(Ee,Ce,Te,De){var ke=this;Ce.forEach(function(Pe,xe){ke.insertAt(Pe,xe)}),this.renderOnAddRemove=Te,delete Ee.objects,delete Ee.backgroundImage,delete Ee.overlayImage,delete Ee.background,delete Ee.overlay,this._setOptions(Ee),this.renderAll(),De&&De()},_setBgOverlay:function(Ee,Ce){var Te={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!Ee.backgroundImage&&!Ee.overlayImage&&!Ee.background&&!Ee.overlay){Ce&&Ce();return}var De=function(){Te.backgroundImage&&Te.overlayImage&&Te.backgroundColor&&Te.overlayColor&&Ce&&Ce()};this.__setBgOverlay("backgroundImage",Ee.backgroundImage,Te,De),this.__setBgOverlay("overlayImage",Ee.overlayImage,Te,De),this.__setBgOverlay("backgroundColor",Ee.background,Te,De),this.__setBgOverlay("overlayColor",Ee.overlay,Te,De)},__setBgOverlay:function(Ee,Ce,Te,De){var ke=this;if(!Ce){Te[Ee]=!0,De&&De();return}Ee==="backgroundImage"||Ee==="overlayImage"?e.util.enlivenObjects([Ce],function(Pe){ke[Ee]=Pe[0],Te[Ee]=!0,De&&De()}):this["set"+e.util.string.capitalize(Ee,!0)](Ce,function(){Te[Ee]=!0,De&&De()})},_enlivenObjects:function(Ee,Ce,Te){if(!Ee||Ee.length===0){Ce&&Ce([]);return}e.util.enlivenObjects(Ee,function(De){Ce&&Ce(De)},null,Te)},_toDataURL:function(Ee,Ce){this.clone(function(Te){Ce(Te.toDataURL(Ee))})},_toDataURLWithMultiplier:function(Ee,Ce,Te){this.clone(function(De){Te(De.toDataURLWithMultiplier(Ee,Ce))})},clone:function(Ee,Ce){var Te=JSON.stringify(this.toJSON(Ce));this.cloneWithoutData(function(De){De.loadFromJSON(Te,function(){Ee&&Ee(De)})})},cloneWithoutData:function(Ee){var Ce=e.util.createCanvasElement();Ce.width=this.width,Ce.height=this.height;var Te=new e.Canvas(Ce);this.backgroundImage?(Te.setBackgroundImage(this.backgroundImage.src,function(){Te.renderAll(),Ee&&Ee(Te)}),Te.backgroundImageOpacity=this.backgroundImageOpacity,Te.backgroundImageStretch=this.backgroundImageStretch):Ee&&Ee(Te)}}),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.util.object.clone,ke=Ce.util.toFixed,Pe=Ce.util.string.capitalize,xe=Ce.util.degreesToRadians,Fe=!Ce.isLikelyNode,Ie=2;Ce.Object||(Ce.Object=Ce.util.createClass(Ce.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:Fe,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(Me){Me&&this.setOptions(Me)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=Ce.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(Me){var Oe=Ce.perfLimitSizeTotal,Be=Me.width,je=Me.height,Ve=Ce.maxCacheSideLimit,ze=Ce.minCacheSideLimit;if(Be<=Ve&&je<=Ve&&Be*je<=Oe)return Be<ze&&(Me.width=ze),je<ze&&(Me.height=ze),Me;var He=Be/je,$e=Ce.util.limitDimsByArea(He,Oe),Ue=Ce.util.capValue,Xe=Ue(ze,$e.x,Ve),nr=Ue(ze,$e.y,Ve);return Be>Xe&&(Me.zoomX/=Be/Xe,Me.width=Xe,Me.capped=!0),je>nr&&(Me.zoomY/=je/nr,Me.height=nr,Me.capped=!0),Me},_getCacheCanvasDimensions:function(){var Me=this.getTotalObjectScaling(),Oe=this._getTransformedDimensions(0,0),Be=Oe.x*Me.scaleX/this.scaleX,je=Oe.y*Me.scaleY/this.scaleY;return{width:Be+Ie,height:je+Ie,zoomX:Me.scaleX,zoomY:Me.scaleY,x:Be,y:je}},_updateCacheCanvas:function(){var Me=this.canvas;if(this.noScaleCache&&Me&&Me._currentTransform){var Oe=Me._currentTransform.target,Be=Me._currentTransform.action;if(this===Oe&&Be.slice&&Be.slice(0,5)==="scale")return!1}var je=this._cacheCanvas,Ve=this._limitCacheSize(this._getCacheCanvasDimensions()),ze=Ce.minCacheSideLimit,He=Ve.width,$e=Ve.height,Ue,Xe,nr=Ve.zoomX,Ge=Ve.zoomY,St=He!==this.cacheWidth||$e!==this.cacheHeight,mr=this.zoomX!==nr||this.zoomY!==Ge,pr=St||mr,vr=0,dr=0,gr=!1;if(St){var sr=this._cacheCanvas.width,tr=this._cacheCanvas.height,hr=He>sr||$e>tr,Sr=(He<sr*.9||$e<tr*.9)&&sr>ze&&tr>ze;gr=hr||Sr,hr&&!Ve.capped&&(He>ze||$e>ze)&&(vr=He*.1,dr=$e*.1)}return this instanceof Ce.Text&&this.path&&(pr=!0,gr=!0,vr+=this.getHeightOfLine(0)*this.zoomX,dr+=this.getHeightOfLine(0)*this.zoomY),pr?(gr?(je.width=Math.ceil(He+vr),je.height=Math.ceil($e+dr)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,je.width,je.height)),Ue=Ve.x/2,Xe=Ve.y/2,this.cacheTranslationX=Math.round(je.width/2-Ue)+Ue,this.cacheTranslationY=Math.round(je.height/2-Xe)+Xe,this.cacheWidth=He,this.cacheHeight=$e,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(nr,Ge),this.zoomX=nr,this.zoomY=Ge,!0):!1},setOptions:function(Me){this._setOptions(Me),this._initGradient(Me.fill,"fill"),this._initGradient(Me.stroke,"stroke"),this._initPattern(Me.fill,"fill"),this._initPattern(Me.stroke,"stroke")},transform:function(Me){var Oe=this.group&&!this.group._transformDone||this.group&&this.canvas&&Me===this.canvas.contextTop,Be=this.calcTransformMatrix(!Oe);Me.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5])},toObject:function(Me){var Oe=Ce.Object.NUM_FRACTION_DIGITS,Be={type:this.type,version:Ce.version,originX:this.originX,originY:this.originY,left:ke(this.left,Oe),top:ke(this.top,Oe),width:ke(this.width,Oe),height:ke(this.height,Oe),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:ke(this.strokeWidth,Oe),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:ke(this.strokeMiterLimit,Oe),scaleX:ke(this.scaleX,Oe),scaleY:ke(this.scaleY,Oe),angle:ke(this.angle,Oe),flipX:this.flipX,flipY:this.flipY,opacity:ke(this.opacity,Oe),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:ke(this.skewX,Oe),skewY:ke(this.skewY,Oe)};return this.clipPath&&!this.clipPath.excludeFromExport&&(Be.clipPath=this.clipPath.toObject(Me),Be.clipPath.inverted=this.clipPath.inverted,Be.clipPath.absolutePositioned=this.clipPath.absolutePositioned),Ce.util.populateWithProperties(this,Be,Me),this.includeDefaultValues||(Be=this._removeDefaultValues(Be)),Be},toDatalessObject:function(Me){return this.toObject(Me)},_removeDefaultValues:function(Me){var Oe=Ce.util.getKlass(Me.type).prototype,Be=Oe.stateProperties;return Be.forEach(function(je){je==="left"||je==="top"||(Me[je]===Oe[je]&&delete Me[je],Array.isArray(Me[je])&&Array.isArray(Oe[je])&&Me[je].length===0&&Oe[je].length===0&&delete Me[je])}),Me},toString:function(){return"#<fabric."+Pe(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var Me=Ce.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(Me.scaleX),scaleY:Math.abs(Me.scaleY)}},getTotalObjectScaling:function(){var Me=this.getObjectScaling(),Oe=Me.scaleX,Be=Me.scaleY;if(this.canvas){var je=this.canvas.getZoom(),Ve=this.canvas.getRetinaScaling();Oe*=je*Ve,Be*=je*Ve}return{scaleX:Oe,scaleY:Be}},getObjectOpacity:function(){var Me=this.opacity;return this.group&&(Me*=this.group.getObjectOpacity()),Me},_set:function(Me,Oe){var Be=Me==="scaleX"||Me==="scaleY",je=this[Me]!==Oe,Ve=!1;return Be&&(Oe=this._constrainScale(Oe)),Me==="scaleX"&&Oe<0?(this.flipX=!this.flipX,Oe*=-1):Me==="scaleY"&&Oe<0?(this.flipY=!this.flipY,Oe*=-1):Me==="shadow"&&Oe&&!(Oe instanceof Ce.Shadow)?Oe=new Ce.Shadow(Oe):Me==="dirty"&&this.group&&this.group.set("dirty",Oe),this[Me]=Oe,je&&(Ve=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(Me)>-1?(this.dirty=!0,Ve&&this.group.set("dirty",!0)):Ve&&this.stateProperties.indexOf(Me)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:Ce.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(Me){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(Me.save(),this._setupCompositeOperation(Me),this.drawSelectionBackground(Me),this.transform(Me),this._setOpacity(Me),this._setShadow(Me,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(Me)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(Me),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),Me.restore())},renderCache:function(Me){Me=Me||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,Me.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(Me,Oe){if(Me.save(),Oe.inverted?Me.globalCompositeOperation="destination-out":Me.globalCompositeOperation="destination-in",Oe.absolutePositioned){var Be=Ce.util.invertTransform(this.calcTransformMatrix());Me.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5])}Oe.transform(Me),Me.scale(1/Oe.zoomX,1/Oe.zoomY),Me.drawImage(Oe._cacheCanvas,-Oe.cacheTranslationX,-Oe.cacheTranslationY),Me.restore()},drawObject:function(Me,Oe){var Be=this.fill,je=this.stroke;Oe?(this.fill="black",this.stroke="",this._setClippingProperties(Me)):this._renderBackground(Me),this._render(Me),this._drawClipPath(Me,this.clipPath),this.fill=Be,this.stroke=je},_drawClipPath:function(Me,Oe){!Oe||(Oe.canvas=this.canvas,Oe.shouldCache(),Oe._transformDone=!0,Oe.renderCache({forClipping:!0}),this.drawClipPathOnCache(Me,Oe))},drawCacheOnCanvas:function(Me){Me.scale(1/this.zoomX,1/this.zoomY),Me.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(Me){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!Me&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!Me){var Oe=this.cacheWidth/this.zoomX,Be=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-Oe/2,-Be/2,Oe,Be)}return!0}return!1},_renderBackground:function(Me){if(!!this.backgroundColor){var Oe=this._getNonTransformedDimensions();Me.fillStyle=this.backgroundColor,Me.fillRect(-Oe.x/2,-Oe.y/2,Oe.x,Oe.y),this._removeShadow(Me)}},_setOpacity:function(Me){this.group&&!this.group._transformDone?Me.globalAlpha=this.getObjectOpacity():Me.globalAlpha*=this.opacity},_setStrokeStyles:function(Me,Oe){var Be=Oe.stroke;Be&&(Me.lineWidth=Oe.strokeWidth,Me.lineCap=Oe.strokeLineCap,Me.lineDashOffset=Oe.strokeDashOffset,Me.lineJoin=Oe.strokeLineJoin,Me.miterLimit=Oe.strokeMiterLimit,Be.toLive?Be.gradientUnits==="percentage"||Be.gradientTransform||Be.patternTransform?this._applyPatternForTransformedGradient(Me,Be):(Me.strokeStyle=Be.toLive(Me,this),this._applyPatternGradientTransform(Me,Be)):Me.strokeStyle=Oe.stroke)},_setFillStyles:function(Me,Oe){var Be=Oe.fill;Be&&(Be.toLive?(Me.fillStyle=Be.toLive(Me,this),this._applyPatternGradientTransform(Me,Oe.fill)):Me.fillStyle=Be)},_setClippingProperties:function(Me){Me.globalAlpha=1,Me.strokeStyle="transparent",Me.fillStyle="#000000"},_setLineDash:function(Me,Oe){!Oe||Oe.length===0||(1&Oe.length&&Oe.push.apply(Oe,Oe),Me.setLineDash(Oe))},_renderControls:function(Me,Oe){var Be=this.getViewportTransform(),je=this.calcTransformMatrix(),Ve,ze,He;Oe=Oe||{},ze=typeof Oe.hasBorders<"u"?Oe.hasBorders:this.hasBorders,He=typeof Oe.hasControls<"u"?Oe.hasControls:this.hasControls,je=Ce.util.multiplyTransformMatrices(Be,je),Ve=Ce.util.qrDecompose(je),Me.save(),Me.translate(Ve.translateX,Ve.translateY),Me.lineWidth=1*this.borderScaleFactor,this.group||(Me.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(Ve.angle-=180),Me.rotate(xe(this.group?Ve.angle:this.angle)),Oe.forActiveSelection||this.group?ze&&this.drawBordersInGroup(Me,Ve,Oe):ze&&this.drawBorders(Me,Oe),He&&this.drawControls(Me,Oe),Me.restore()},_setShadow:function(Me){if(!!this.shadow){var Oe=this.shadow,Be=this.canvas,je,Ve=Be&&Be.viewportTransform[0]||1,ze=Be&&Be.viewportTransform[3]||1;Oe.nonScaling?je={scaleX:1,scaleY:1}:je=this.getObjectScaling(),Be&&Be._isRetinaScaling()&&(Ve*=Ce.devicePixelRatio,ze*=Ce.devicePixelRatio),Me.shadowColor=Oe.color,Me.shadowBlur=Oe.blur*Ce.browserShadowBlurConstant*(Ve+ze)*(je.scaleX+je.scaleY)/4,Me.shadowOffsetX=Oe.offsetX*Ve*je.scaleX,Me.shadowOffsetY=Oe.offsetY*ze*je.scaleY}},_removeShadow:function(Me){!this.shadow||(Me.shadowColor="",Me.shadowBlur=Me.shadowOffsetX=Me.shadowOffsetY=0)},_applyPatternGradientTransform:function(Me,Oe){if(!Oe||!Oe.toLive)return{offsetX:0,offsetY:0};var Be=Oe.gradientTransform||Oe.patternTransform,je=-this.width/2+Oe.offsetX||0,Ve=-this.height/2+Oe.offsetY||0;return Oe.gradientUnits==="percentage"?Me.transform(this.width,0,0,this.height,je,Ve):Me.transform(1,0,0,1,je,Ve),Be&&Me.transform(Be[0],Be[1],Be[2],Be[3],Be[4],Be[5]),{offsetX:je,offsetY:Ve}},_renderPaintInOrder:function(Me){this.paintFirst==="stroke"?(this._renderStroke(Me),this._renderFill(Me)):(this._renderFill(Me),this._renderStroke(Me))},_render:function(){},_renderFill:function(Me){!this.fill||(Me.save(),this._setFillStyles(Me,this),this.fillRule==="evenodd"?Me.fill("evenodd"):Me.fill(),Me.restore())},_renderStroke:function(Me){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(Me),Me.save(),this.strokeUniform&&this.group){var Oe=this.getObjectScaling();Me.scale(1/Oe.scaleX,1/Oe.scaleY)}else this.strokeUniform&&Me.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(Me,this.strokeDashArray),this._setStrokeStyles(Me,this),Me.stroke(),Me.restore()}},_applyPatternForTransformedGradient:function(Me,Oe){var Be=this._limitCacheSize(this._getCacheCanvasDimensions()),je=Ce.util.createCanvasElement(),Ve,ze=this.canvas.getRetinaScaling(),He=Be.x/this.scaleX/ze,$e=Be.y/this.scaleY/ze;je.width=He,je.height=$e,Ve=je.getContext("2d"),Ve.beginPath(),Ve.moveTo(0,0),Ve.lineTo(He,0),Ve.lineTo(He,$e),Ve.lineTo(0,$e),Ve.closePath(),Ve.translate(He/2,$e/2),Ve.scale(Be.zoomX/this.scaleX/ze,Be.zoomY/this.scaleY/ze),this._applyPatternGradientTransform(Ve,Oe),Ve.fillStyle=Oe.toLive(Me),Ve.fill(),Me.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),Me.scale(ze*this.scaleX/Be.zoomX,ze*this.scaleY/Be.zoomY),Me.strokeStyle=Ve.createPattern(je,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var Me=Ce.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",Me.scaleX),this.set("scaleY",Me.scaleY),this.angle=Me.angle,this.skewX=Me.skewX,this.skewY=0}},_removeTransformMatrix:function(Me){var Oe=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),Oe=Ce.util.transformPoint(Oe,this.transformMatrix)),this.transformMatrix=null,Me&&(this.scaleX*=Me.scaleX,this.scaleY*=Me.scaleY,this.cropX=Me.cropX,this.cropY=Me.cropY,Oe.x+=Me.offsetLeft,Oe.y+=Me.offsetTop,this.width=Me.width,this.height=Me.height),this.setPositionByOrigin(Oe,"center","center")},clone:function(Me,Oe){var Be=this.toObject(Oe);this.constructor.fromObject?this.constructor.fromObject(Be,Me):Ce.Object._fromObject("Object",Be,Me)},cloneAsImage:function(Me,Oe){var Be=this.toCanvasElement(Oe);return Me&&Me(new Ce.Image(Be)),this},toCanvasElement:function(Me){Me||(Me={});var Oe=Ce.util,Be=Oe.saveObjectTransform(this),je=this.group,Ve=this.shadow,ze=Math.abs,He=(Me.multiplier||1)*(Me.enableRetinaScaling?Ce.devicePixelRatio:1);delete this.group,Me.withoutTransform&&Oe.resetObjectTransform(this),Me.withoutShadow&&(this.shadow=null);var $e=Ce.util.createCanvasElement(),Ue=this.getBoundingRect(!0,!0),Xe=this.shadow,nr,Ge={x:0,y:0},St,mr,pr;Xe&&(St=Xe.blur,Xe.nonScaling?nr={scaleX:1,scaleY:1}:nr=this.getObjectScaling(),Ge.x=2*Math.round(ze(Xe.offsetX)+St)*ze(nr.scaleX),Ge.y=2*Math.round(ze(Xe.offsetY)+St)*ze(nr.scaleY)),mr=Ue.width+Ge.x,pr=Ue.height+Ge.y,$e.width=Math.ceil(mr),$e.height=Math.ceil(pr);var vr=new Ce.StaticCanvas($e,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});Me.format==="jpeg"&&(vr.backgroundColor="#fff"),this.setPositionByOrigin(new Ce.Point(vr.width/2,vr.height/2),"center","center");var dr=this.canvas;vr.add(this);var gr=vr.toCanvasElement(He||1,Me);return this.shadow=Ve,this.set("canvas",dr),je&&(this.group=je),this.set(Be).setCoords(),vr._objects=[],vr.dispose(),vr=null,gr},toDataURL:function(Me){return Me||(Me={}),Ce.util.toDataURL(this.toCanvasElement(Me),Me.format||"png",Me.quality||1)},isType:function(Me){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===Me},complexity:function(){return 1},toJSON:function(Me){return this.toObject(Me)},rotate:function(Me){var Oe=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return Oe&&this._setOriginToCenter(),this.set("angle",Me),Oe&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(Me,Oe){Oe=Oe||this.canvas.getPointer(Me);var Be=new Ce.Point(Oe.x,Oe.y),je=this._getLeftTopCoords();return this.angle&&(Be=Ce.util.rotatePoint(Be,je,xe(-this.angle))),{x:Be.x-je.x,y:Be.y-je.y}},_setupCompositeOperation:function(Me){this.globalCompositeOperation&&(Me.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){Ce.runningAnimations&&Ce.runningAnimations.cancelByTarget(this)}}),Ce.util.createAccessors&&Ce.util.createAccessors(Ce.Object),Te(Ce.Object.prototype,Ce.Observable),Ce.Object.NUM_FRACTION_DIGITS=2,Ce.Object.ENLIVEN_PROPS=["clipPath"],Ce.Object._fromObject=function(Me,Oe,Be,je){var Ve=Ce[Me];Oe=De(Oe,!0),Ce.util.enlivenPatterns([Oe.fill,Oe.stroke],function(ze){typeof ze[0]<"u"&&(Oe.fill=ze[0]),typeof ze[1]<"u"&&(Oe.stroke=ze[1]),Ce.util.enlivenObjectEnlivables(Oe,Oe,function(){var He=je?new Ve(Oe[je],Oe):new Ve(Oe);Be&&Be(He)})})},Ce.Object.__uid=0)}(t),function(){var Ee=e.util.degreesToRadians,Ce={left:-.5,center:0,right:.5},Te={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(De,ke,Pe,xe,Fe){var Ie=De.x,Me=De.y,Oe,Be,je;return typeof ke=="string"?ke=Ce[ke]:ke-=.5,typeof xe=="string"?xe=Ce[xe]:xe-=.5,Oe=xe-ke,typeof Pe=="string"?Pe=Te[Pe]:Pe-=.5,typeof Fe=="string"?Fe=Te[Fe]:Fe-=.5,Be=Fe-Pe,(Oe||Be)&&(je=this._getTransformedDimensions(),Ie=De.x+Oe*je.x,Me=De.y+Be*je.y),new e.Point(Ie,Me)},translateToCenterPoint:function(De,ke,Pe){var xe=this.translateToGivenOrigin(De,ke,Pe,"center","center");return this.angle?e.util.rotatePoint(xe,De,Ee(this.angle)):xe},translateToOriginPoint:function(De,ke,Pe){var xe=this.translateToGivenOrigin(De,"center","center",ke,Pe);return this.angle?e.util.rotatePoint(xe,De,Ee(this.angle)):xe},getCenterPoint:function(){var De=new e.Point(this.left,this.top);return this.translateToCenterPoint(De,this.originX,this.originY)},getPointByOrigin:function(De,ke){var Pe=this.getCenterPoint();return this.translateToOriginPoint(Pe,De,ke)},toLocalPoint:function(De,ke,Pe){var xe=this.getCenterPoint(),Fe,Ie;return typeof ke<"u"&&typeof Pe<"u"?Fe=this.translateToGivenOrigin(xe,"center","center",ke,Pe):Fe=new e.Point(this.left,this.top),Ie=new e.Point(De.x,De.y),this.angle&&(Ie=e.util.rotatePoint(Ie,xe,-Ee(this.angle))),Ie.subtractEquals(Fe)},setPositionByOrigin:function(De,ke,Pe){var xe=this.translateToCenterPoint(De,ke,Pe),Fe=this.translateToOriginPoint(xe,this.originX,this.originY);this.set("left",Fe.x),this.set("top",Fe.y)},adjustPosition:function(De){var ke=Ee(this.angle),Pe=this.getScaledWidth(),xe=e.util.cos(ke)*Pe,Fe=e.util.sin(ke)*Pe,Ie,Me;typeof this.originX=="string"?Ie=Ce[this.originX]:Ie=this.originX-.5,typeof De=="string"?Me=Ce[De]:Me=De-.5,this.left+=xe*(Me-Ie),this.top+=Fe*(Me-Ie),this.setCoords(),this.originX=De},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var De=this.getCenterPoint();this.originX="center",this.originY="center",this.left=De.x,this.top=De.y},_resetOrigin:function(){var De=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=De.x,this.top=De.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function Ee(Pe){return[new e.Point(Pe.tl.x,Pe.tl.y),new e.Point(Pe.tr.x,Pe.tr.y),new e.Point(Pe.br.x,Pe.br.y),new e.Point(Pe.bl.x,Pe.bl.y)]}var Ce=e.util,Te=Ce.degreesToRadians,De=Ce.multiplyTransformMatrices,ke=Ce.transformPoint;Ce.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(Pe,xe){return xe?Pe?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),Pe?this.aCoords:this.lineCoords)},getCoords:function(Pe,xe){return Ee(this._getCoords(Pe,xe))},intersectsWithRect:function(Pe,xe,Fe,Ie){var Me=this.getCoords(Fe,Ie),Oe=e.Intersection.intersectPolygonRectangle(Me,Pe,xe);return Oe.status==="Intersection"},intersectsWithObject:function(Pe,xe,Fe){var Ie=e.Intersection.intersectPolygonPolygon(this.getCoords(xe,Fe),Pe.getCoords(xe,Fe));return Ie.status==="Intersection"||Pe.isContainedWithinObject(this,xe,Fe)||this.isContainedWithinObject(Pe,xe,Fe)},isContainedWithinObject:function(Pe,xe,Fe){for(var Ie=this.getCoords(xe,Fe),Me=xe?Pe.aCoords:Pe.lineCoords,Oe=0,Be=Pe._getImageLines(Me);Oe<4;Oe++)if(!Pe.containsPoint(Ie[Oe],Be))return!1;return!0},isContainedWithinRect:function(Pe,xe,Fe,Ie){var Me=this.getBoundingRect(Fe,Ie);return Me.left>=Pe.x&&Me.left+Me.width<=xe.x&&Me.top>=Pe.y&&Me.top+Me.height<=xe.y},containsPoint:function(Pe,Oe,Fe,Ie){var Me=this._getCoords(Fe,Ie),Oe=Oe||this._getImageLines(Me),Be=this._findCrossPoints(Pe,Oe);return Be!==0&&Be%2===1},isOnScreen:function(Pe){if(!this.canvas)return!1;var xe=this.canvas.vptCoords.tl,Fe=this.canvas.vptCoords.br,Ie=this.getCoords(!0,Pe);return Ie.some(function(Me){return Me.x<=Fe.x&&Me.x>=xe.x&&Me.y<=Fe.y&&Me.y>=xe.y})||this.intersectsWithRect(xe,Fe,!0,Pe)?!0:this._containsCenterOfCanvas(xe,Fe,Pe)},_containsCenterOfCanvas:function(Pe,xe,Fe){var Ie={x:(Pe.x+xe.x)/2,y:(Pe.y+xe.y)/2};return!!this.containsPoint(Ie,null,!0,Fe)},isPartiallyOnScreen:function(Pe){if(!this.canvas)return!1;var xe=this.canvas.vptCoords.tl,Fe=this.canvas.vptCoords.br;if(this.intersectsWithRect(xe,Fe,!0,Pe))return!0;var Ie=this.getCoords(!0,Pe).every(function(Me){return(Me.x>=Fe.x||Me.x<=xe.x)&&(Me.y>=Fe.y||Me.y<=xe.y)});return Ie&&this._containsCenterOfCanvas(xe,Fe,Pe)},_getImageLines:function(Pe){var xe={topline:{o:Pe.tl,d:Pe.tr},rightline:{o:Pe.tr,d:Pe.br},bottomline:{o:Pe.br,d:Pe.bl},leftline:{o:Pe.bl,d:Pe.tl}};return xe},_findCrossPoints:function(Pe,xe){var Fe,Ie,Me,Oe,Be,je=0,Ve;for(var ze in xe)if(Ve=xe[ze],!(Ve.o.y<Pe.y&&Ve.d.y<Pe.y)&&!(Ve.o.y>=Pe.y&&Ve.d.y>=Pe.y)&&(Ve.o.x===Ve.d.x&&Ve.o.x>=Pe.x?Be=Ve.o.x:(Fe=0,Ie=(Ve.d.y-Ve.o.y)/(Ve.d.x-Ve.o.x),Me=Pe.y-Fe*Pe.x,Oe=Ve.o.y-Ie*Ve.o.x,Be=-(Me-Oe)/(Fe-Ie)),Be>=Pe.x&&(je+=1),je===2))break;return je},getBoundingRect:function(Pe,xe){var Fe=this.getCoords(Pe,xe);return Ce.makeBoundingBoxFromPoints(Fe)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(Pe){return Math.abs(Pe)<this.minScaleLimit?Pe<0?-this.minScaleLimit:this.minScaleLimit:Pe===0?1e-4:Pe},scale:function(Pe){return this._set("scaleX",Pe),this._set("scaleY",Pe),this.setCoords()},scaleToWidth:function(Pe,xe){var Fe=this.getBoundingRect(xe).width/this.getScaledWidth();return this.scale(Pe/this.width/Fe)},scaleToHeight:function(Pe,xe){var Fe=this.getBoundingRect(xe).height/this.getScaledHeight();return this.scale(Pe/this.height/Fe)},calcLineCoords:function(){var Pe=this.getViewportTransform(),xe=this.padding,Fe=Te(this.angle),Ie=Ce.cos(Fe),Me=Ce.sin(Fe),Oe=Ie*xe,Be=Me*xe,je=Oe+Be,Ve=Oe-Be,ze=this.calcACoords(),He={tl:ke(ze.tl,Pe),tr:ke(ze.tr,Pe),bl:ke(ze.bl,Pe),br:ke(ze.br,Pe)};return xe&&(He.tl.x-=Ve,He.tl.y-=je,He.tr.x+=je,He.tr.y-=Ve,He.bl.x-=je,He.bl.y+=Ve,He.br.x+=Ve,He.br.y+=je),He},calcOCoords:function(){var Pe=this._calcRotateMatrix(),xe=this._calcTranslateMatrix(),Fe=this.getViewportTransform(),Ie=De(Fe,xe),Me=De(Ie,Pe),Me=De(Me,[1/Fe[0],0,0,1/Fe[3],0,0]),Oe=this._calculateCurrentDimensions(),Be={};return this.forEachControl(function(je,Ve,ze){Be[Ve]=je.positionHandler(Oe,Me,ze)}),Be},calcACoords:function(){var Pe=this._calcRotateMatrix(),xe=this._calcTranslateMatrix(),Fe=De(xe,Pe),Ie=this._getTransformedDimensions(),Me=Ie.x/2,Oe=Ie.y/2;return{tl:ke({x:-Me,y:-Oe},Fe),tr:ke({x:Me,y:-Oe},Fe),bl:ke({x:-Me,y:Oe},Fe),br:ke({x:Me,y:Oe},Fe)}},setCoords:function(Pe){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),Pe?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return Ce.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var Pe=this.getCenterPoint();return[1,0,0,1,Pe.x,Pe.y]},transformMatrixKey:function(Pe){var xe="_",Fe="";return!Pe&&this.group&&(Fe=this.group.transformMatrixKey(Pe)+xe),Fe+this.top+xe+this.left+xe+this.scaleX+xe+this.scaleY+xe+this.skewX+xe+this.skewY+xe+this.angle+xe+this.originX+xe+this.originY+xe+this.width+xe+this.height+xe+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(Pe){var xe=this.calcOwnMatrix();if(Pe||!this.group)return xe;var Fe=this.transformMatrixKey(Pe),Ie=this.matrixCache||(this.matrixCache={});return Ie.key===Fe?Ie.value:(this.group&&(xe=De(this.group.calcTransformMatrix(!1),xe)),Ie.key=Fe,Ie.value=xe,xe)},calcOwnMatrix:function(){var Pe=this.transformMatrixKey(!0),xe=this.ownMatrixCache||(this.ownMatrixCache={});if(xe.key===Pe)return xe.value;var Fe=this._calcTranslateMatrix(),Ie={angle:this.angle,translateX:Fe[4],translateY:Fe[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return xe.key=Pe,xe.value=Ce.composeMatrix(Ie),xe.value},_getNonTransformedDimensions:function(){var Pe=this.strokeWidth,xe=this.width+Pe,Fe=this.height+Pe;return{x:xe,y:Fe}},_getTransformedDimensions:function(Pe,xe){typeof Pe>"u"&&(Pe=this.skewX),typeof xe>"u"&&(xe=this.skewY);var Fe,Ie,Me,Oe=Pe===0&&xe===0;if(this.strokeUniform?(Ie=this.width,Me=this.height):(Fe=this._getNonTransformedDimensions(),Ie=Fe.x,Me=Fe.y),Oe)return this._finalizeDimensions(Ie*this.scaleX,Me*this.scaleY);var Be=Ce.sizeAfterTransform(Ie,Me,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:Pe,skewY:xe});return this._finalizeDimensions(Be.x,Be.y)},_finalizeDimensions:function(Pe,xe){return this.strokeUniform?{x:Pe+this.strokeWidth,y:xe+this.strokeWidth}:{x:Pe,y:xe}},_calculateCurrentDimensions:function(){var Pe=this.getViewportTransform(),xe=this._getTransformedDimensions(),Fe=ke(xe,Pe,!0);return Fe.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(Ee){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,Ee):this.canvas&&this.canvas.sendBackwards(this,Ee),this},bringForward:function(Ee){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,Ee):this.canvas&&this.canvas.bringForward(this,Ee),this},moveTo:function(Ee){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,Ee):this.canvas&&this.canvas.moveTo(this,Ee),this}}),function(){function Ee(Te,De){if(De){if(De.toLive)return Te+": url(#SVGID_"+De.id+"); ";var ke=new e.Color(De),Pe=Te+": "+ke.toRgb()+"; ",xe=ke.getAlpha();return xe!==1&&(Pe+=Te+"-opacity: "+xe.toString()+"; "),Pe}else return Te+": none; "}var Ce=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(Te){var De=this.fillRule?this.fillRule:"nonzero",ke=this.strokeWidth?this.strokeWidth:"0",Pe=this.strokeDashArray?this.strokeDashArray.join(" "):"none",xe=this.strokeDashOffset?this.strokeDashOffset:"0",Fe=this.strokeLineCap?this.strokeLineCap:"butt",Ie=this.strokeLineJoin?this.strokeLineJoin:"miter",Me=this.strokeMiterLimit?this.strokeMiterLimit:"4",Oe=typeof this.opacity<"u"?this.opacity:"1",Be=this.visible?"":" visibility: hidden;",je=Te?"":this.getSvgFilter(),Ve=Ee("fill",this.fill),ze=Ee("stroke",this.stroke);return[ze,"stroke-width: ",ke,"; ","stroke-dasharray: ",Pe,"; ","stroke-linecap: ",Fe,"; ","stroke-dashoffset: ",xe,"; ","stroke-linejoin: ",Ie,"; ","stroke-miterlimit: ",Me,"; ",Ve,"fill-rule: ",De,"; ","opacity: ",Oe,";",je,Be].join("")},getSvgSpanStyles:function(Te,De){var ke="; ",xe=Te.fontFamily?"font-family: "+(Te.fontFamily.indexOf("'")===-1&&Te.fontFamily.indexOf('"')===-1?"'"+Te.fontFamily+"'":Te.fontFamily)+ke:"",Pe=Te.strokeWidth?"stroke-width: "+Te.strokeWidth+ke:"",xe=xe,Fe=Te.fontSize?"font-size: "+Te.fontSize+"px"+ke:"",Ie=Te.fontStyle?"font-style: "+Te.fontStyle+ke:"",Me=Te.fontWeight?"font-weight: "+Te.fontWeight+ke:"",Oe=Te.fill?Ee("fill",Te.fill):"",Be=Te.stroke?Ee("stroke",Te.stroke):"",je=this.getSvgTextDecoration(Te),Ve=Te.deltaY?"baseline-shift: "+-Te.deltaY+"; ":"";return je&&(je="text-decoration: "+je+ke),[Be,Pe,xe,Fe,Ie,Me,je,Oe,Ve,De?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(Te){return["overline","underline","line-through"].filter(function(De){return Te[De.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(Te,De){var ke=Te?this.calcTransformMatrix():this.calcOwnMatrix(),Pe='transform="'+e.util.matrixToSVG(ke);return Pe+(De||"")+'" '},_setSVGBg:function(Te){if(this.backgroundColor){var De=e.Object.NUM_FRACTION_DIGITS;Te.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',Ce(-this.width/2,De),'" y="',Ce(-this.height/2,De),'" width="',Ce(this.width,De),'" height="',Ce(this.height,De),`"></rect>
`)}},toSVG:function(Te){return this._createBaseSVGMarkup(this._toSVG(Te),{reviver:Te})},toClipPathSVG:function(Te){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(Te),{reviver:Te})},_createBaseClipPathSVGMarkup:function(Te,De){De=De||{};var ke=De.reviver,Pe=De.additionalTransform||"",xe=[this.getSvgTransform(!0,Pe),this.getSvgCommons()].join(""),Fe=Te.indexOf("COMMON_PARTS");return Te[Fe]=xe,ke?ke(Te.join("")):Te.join("")},_createBaseSVGMarkup:function(Te,De){De=De||{};var ke=De.noStyle,Pe=De.reviver,xe=ke?"":'style="'+this.getSvgStyles()+'" ',Fe=De.withShadow?'style="'+this.getSvgFilter()+'" ':"",Ie=this.clipPath,Me=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",Oe=Ie&&Ie.absolutePositioned,Be=this.stroke,je=this.fill,Ve=this.shadow,ze,He=[],$e,Ue=Te.indexOf("COMMON_PARTS"),Xe=De.additionalTransform;return Ie&&(Ie.clipPathId="CLIPPATH_"+e.Object.__uid++,$e='<clipPath id="'+Ie.clipPathId+`" >
`+Ie.toClipPathSVG(Pe)+`</clipPath>
`),Oe&&He.push("<g ",Fe,this.getSvgCommons(),` >
`),He.push("<g ",this.getSvgTransform(!1),Oe?"":Fe+this.getSvgCommons(),` >
`),ze=[xe,Me,ke?"":this.addPaintOrder()," ",Xe?'transform="'+Xe+'" ':""].join(""),Te[Ue]=ze,je&&je.toLive&&He.push(je.toSVG(this)),Be&&Be.toLive&&He.push(Be.toSVG(this)),Ve&&He.push(Ve.toSVG(this)),Ie&&He.push($e),He.push(Te.join("")),He.push(`</g>
`),Oe&&He.push(`</g>
`),Pe?Pe(He.join("")):He.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var Ee=e.util.object.extend,Ce="stateProperties";function Te(ke,Pe,xe){var Fe={},Ie=!0;xe.forEach(function(Me){Fe[Me]=ke[Me]}),Ee(ke[Pe],Fe,Ie)}function De(ke,Pe,xe){if(ke===Pe)return!0;if(Array.isArray(ke)){if(!Array.isArray(Pe)||ke.length!==Pe.length)return!1;for(var Fe=0,Ie=ke.length;Fe<Ie;Fe++)if(!De(ke[Fe],Pe[Fe]))return!1;return!0}else if(ke&&typeof ke=="object"){var Me=Object.keys(ke),Oe;if(!Pe||typeof Pe!="object"||!xe&&Me.length!==Object.keys(Pe).length)return!1;for(var Fe=0,Ie=Me.length;Fe<Ie;Fe++)if(Oe=Me[Fe],!(Oe==="canvas"||Oe==="group")&&!De(ke[Oe],Pe[Oe]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(ke){ke=ke||Ce;var Pe="_"+ke;return Object.keys(this[Pe]).length<this[ke].length?!0:!De(this[Pe],this,!0)},saveState:function(ke){var Pe=ke&&ke.propertySet||Ce,xe="_"+Pe;return this[xe]?(Te(this,xe,this[Pe]),ke&&ke.stateProperties&&Te(this,xe,ke.stateProperties),this):this.setupState(ke)},setupState:function(ke){ke=ke||{};var Pe=ke.propertySet||Ce;return ke.propertySet=Pe,this["_"+Pe]={},this.saveState(ke),this}})}(),function(){var Ee=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(Ce,Te){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var De=Ce.x,ke=Ce.y,Pe,xe,Fe=Object.keys(this.oCoords),Ie=Fe.length-1,Me;for(this.__corner=0;Ie>=0;Ie--)if(Me=Fe[Ie],!!this.isControlVisible(Me)&&(xe=this._getImageLines(Te?this.oCoords[Me].touchCorner:this.oCoords[Me].corner),Pe=this._findCrossPoints({x:De,y:ke},xe),Pe!==0&&Pe%2===1))return this.__corner=Me,Me;return!1},forEachControl:function(Ce){for(var Te in this.controls)Ce(this.controls[Te],Te,this)},_setCornerCoords:function(){var Ce=this.oCoords;for(var Te in Ce){var De=this.controls[Te];Ce[Te].corner=De.calcCornerCoords(this.angle,this.cornerSize,Ce[Te].x,Ce[Te].y,!1),Ce[Te].touchCorner=De.calcCornerCoords(this.angle,this.touchCornerSize,Ce[Te].x,Ce[Te].y,!0)}},drawSelectionBackground:function(Ce){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;Ce.save();var Te=this.getCenterPoint(),De=this._calculateCurrentDimensions(),ke=this.canvas.viewportTransform;return Ce.translate(Te.x,Te.y),Ce.scale(1/ke[0],1/ke[3]),Ce.rotate(Ee(this.angle)),Ce.fillStyle=this.selectionBackgroundColor,Ce.fillRect(-De.x/2,-De.y/2,De.x,De.y),Ce.restore(),this},drawBorders:function(Ce,Te){Te=Te||{};var De=this._calculateCurrentDimensions(),ke=this.borderScaleFactor,Pe=De.x+ke,xe=De.y+ke,Fe=typeof Te.hasControls<"u"?Te.hasControls:this.hasControls,Ie=!1;return Ce.save(),Ce.strokeStyle=Te.borderColor||this.borderColor,this._setLineDash(Ce,Te.borderDashArray||this.borderDashArray),Ce.strokeRect(-Pe/2,-xe/2,Pe,xe),Fe&&(Ce.beginPath(),this.forEachControl(function(Me,Oe,Be){Me.withConnection&&Me.getVisibility(Be,Oe)&&(Ie=!0,Ce.moveTo(Me.x*Pe,Me.y*xe),Ce.lineTo(Me.x*Pe+Me.offsetX,Me.y*xe+Me.offsetY))}),Ie&&Ce.stroke()),Ce.restore(),this},drawBordersInGroup:function(Ce,Te,De){De=De||{};var ke=e.util.sizeAfterTransform(this.width,this.height,Te),Pe=this.strokeWidth,xe=this.strokeUniform,Fe=this.borderScaleFactor,Ie=ke.x+Pe*(xe?this.canvas.getZoom():Te.scaleX)+Fe,Me=ke.y+Pe*(xe?this.canvas.getZoom():Te.scaleY)+Fe;return Ce.save(),this._setLineDash(Ce,De.borderDashArray||this.borderDashArray),Ce.strokeStyle=De.borderColor||this.borderColor,Ce.strokeRect(-Ie/2,-Me/2,Ie,Me),Ce.restore(),this},drawControls:function(Ce,Te){Te=Te||{},Ce.save();var De=this.canvas.getRetinaScaling(),ke,Pe;return Ce.setTransform(De,0,0,De,0,0),Ce.strokeStyle=Ce.fillStyle=Te.cornerColor||this.cornerColor,this.transparentCorners||(Ce.strokeStyle=Te.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(Ce,Te.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(ke=this.group.calcTransformMatrix()),this.forEachControl(function(xe,Fe,Ie){Pe=Ie.oCoords[Fe],xe.getVisibility(Ie,Fe)&&(ke&&(Pe=e.util.transformPoint(Pe,ke)),xe.render(Ce,Pe.x,Pe.y,Te,Ie))}),Ce.restore(),this},isControlVisible:function(Ce){return this.controls[Ce]&&this.controls[Ce].getVisibility(this,Ce)},setControlVisible:function(Ce,Te){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[Ce]=Te,this},setControlsVisibility:function(Ce){Ce||(Ce={});for(var Te in Ce)this.setControlVisible(Te,Ce[Te]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(Ee,Ce){Ce=Ce||{};var Te=function(){},De=Ce.onComplete||Te,ke=Ce.onChange||Te,Pe=this;return e.util.animate({target:this,startValue:Ee.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(xe){Ee.set("left",xe),Pe.requestRenderAll(),ke()},onComplete:function(){Ee.setCoords(),De()}})},fxCenterObjectV:function(Ee,Ce){Ce=Ce||{};var Te=function(){},De=Ce.onComplete||Te,ke=Ce.onChange||Te,Pe=this;return e.util.animate({target:this,startValue:Ee.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(xe){Ee.set("top",xe),Pe.requestRenderAll(),ke()},onComplete:function(){Ee.setCoords(),De()}})},fxRemove:function(Ee,Ce){Ce=Ce||{};var Te=function(){},De=Ce.onComplete||Te,ke=Ce.onChange||Te,Pe=this;return e.util.animate({target:this,startValue:Ee.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(xe){Ee.set("opacity",xe),Pe.requestRenderAll(),ke()},onComplete:function(){Pe.remove(Ee),De()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var Ee=[],Ce,Te,De=[];for(Ce in arguments[0])Ee.push(Ce);for(var ke=0,Pe=Ee.length;ke<Pe;ke++)Ce=Ee[ke],Te=ke!==Pe-1,De.push(this._animate(Ce,arguments[0][Ce],arguments[1],Te));return De}else return this._animate.apply(this,arguments)},_animate:function(Ee,Ce,Te,De){var ke=this,Pe;Ce=Ce.toString(),Te?Te=e.util.object.clone(Te):Te={},~Ee.indexOf(".")&&(Pe=Ee.split("."));var xe=ke.colorProperties.indexOf(Ee)>-1||Pe&&ke.colorProperties.indexOf(Pe[1])>-1,Fe=Pe?this.get(Pe[0])[Pe[1]]:this.get(Ee);"from"in Te||(Te.from=Fe),xe||(~Ce.indexOf("=")?Ce=Fe+parseFloat(Ce.replace("=","")):Ce=parseFloat(Ce));var Ie={target:this,startValue:Te.from,endValue:Ce,byValue:Te.by,easing:Te.easing,duration:Te.duration,abort:Te.abort&&function(Me,Oe,Be){return Te.abort.call(ke,Me,Oe,Be)},onChange:function(Me,Oe,Be){Pe?ke[Pe[0]][Pe[1]]=Me:ke.set(Ee,Me),!De&&Te.onChange&&Te.onChange(Me,Oe,Be)},onComplete:function(Me,Oe,Be){De||(ke.setCoords(),Te.onComplete&&Te.onComplete(Me,Oe,Be))}};return xe?e.util.animateColor(Ie.startValue,Ie.endValue,Ie.duration,Ie):e.util.animate(Ie)}}),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.util.object.clone,ke={x1:1,x2:1,y1:1,y2:1};if(Ce.Line){Ce.warn("fabric.Line is already defined");return}Ce.Line=Ce.util.createClass(Ce.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:Ce.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(xe,Fe){xe||(xe=[0,0,0,0]),this.callSuper("initialize",Fe),this.set("x1",xe[0]),this.set("y1",xe[1]),this.set("x2",xe[2]),this.set("y2",xe[3]),this._setWidthHeight(Fe)},_setWidthHeight:function(xe){xe||(xe={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in xe?xe.left:this._getLeftToOriginX(),this.top="top"in xe?xe.top:this._getTopToOriginY()},_set:function(xe,Fe){return this.callSuper("_set",xe,Fe),typeof ke[xe]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:Pe({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:Pe({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(xe){xe.beginPath();var Fe=this.calcLinePoints();xe.moveTo(Fe.x1,Fe.y1),xe.lineTo(Fe.x2,Fe.y2),xe.lineWidth=this.strokeWidth;var Ie=xe.strokeStyle;xe.strokeStyle=this.stroke||xe.fillStyle,this.stroke&&this._renderStroke(xe),xe.strokeStyle=Ie},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(xe){return Te(this.callSuper("toObject",xe),this.calcLinePoints())},_getNonTransformedDimensions:function(){var xe=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(xe.y-=this.strokeWidth),this.height===0&&(xe.x-=this.strokeWidth)),xe},calcLinePoints:function(){var xe=this.x1<=this.x2?-1:1,Fe=this.y1<=this.y2?-1:1,Ie=xe*this.width*.5,Me=Fe*this.height*.5,Oe=xe*this.width*-.5,Be=Fe*this.height*-.5;return{x1:Ie,x2:Oe,y1:Me,y2:Be}},_toSVG:function(){var xe=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',xe.x1,'" y1="',xe.y1,'" x2="',xe.x2,'" y2="',xe.y2,`" />
`]}}),Ce.Line.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),Ce.Line.fromElement=function(xe,Fe,Ie){Ie=Ie||{};var Me=Ce.parseAttributes(xe,Ce.Line.ATTRIBUTE_NAMES),Oe=[Me.x1||0,Me.y1||0,Me.x2||0,Me.y2||0];Fe(new Ce.Line(Oe,Te(Me,Ie)))},Ce.Line.fromObject=function(xe,Fe){function Ie(Oe){delete Oe.points,Fe&&Fe(Oe)}var Me=De(xe,!0);Me.points=[xe.x1,xe.y1,xe.x2,xe.y2],Ce.Object._fromObject("Line",Me,Ie,"points")};function Pe(xe,Fe){var Ie=xe.origin,Me=xe.axis1,Oe=xe.axis2,Be=xe.dimension,je=Fe.nearest,Ve=Fe.center,ze=Fe.farthest;return function(){switch(this.get(Ie)){case je:return Math.min(this.get(Me),this.get(Oe));case Ve:return Math.min(this.get(Me),this.get(Oe))+.5*this.get(Be);case ze:return Math.max(this.get(Me),this.get(Oe))}}}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.degreesToRadians;if(Ce.Circle){Ce.warn("fabric.Circle is already defined.");return}Ce.Circle=Ce.util.createClass(Ce.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:Ce.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(ke,Pe){return this.callSuper("_set",ke,Pe),ke==="radius"&&this.setRadius(Pe),this},toObject:function(ke){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(ke))},_toSVG:function(){var ke,Pe=0,xe=0,Fe=(this.endAngle-this.startAngle)%360;if(Fe===0)ke=["<circle ","COMMON_PARTS",'cx="'+Pe+'" cy="'+xe+'" ','r="',this.radius,`" />
`];else{var Ie=Te(this.startAngle),Me=Te(this.endAngle),Oe=this.radius,Be=Ce.util.cos(Ie)*Oe,je=Ce.util.sin(Ie)*Oe,Ve=Ce.util.cos(Me)*Oe,ze=Ce.util.sin(Me)*Oe,He=Fe>180?"1":"0";ke=['<path d="M '+Be+" "+je," A "+Oe+" "+Oe," 0 ",+He+" 1"," "+Ve+" "+ze,'" ',"COMMON_PARTS",` />
`]}return ke},_render:function(ke){ke.beginPath(),ke.arc(0,0,this.radius,Te(this.startAngle),Te(this.endAngle),!1),this._renderPaintInOrder(ke)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(ke){return this.radius=ke,this.set("width",ke*2).set("height",ke*2)}}),Ce.Circle.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),Ce.Circle.fromElement=function(ke,Pe){var xe=Ce.parseAttributes(ke,Ce.Circle.ATTRIBUTE_NAMES);if(!De(xe))throw new Error("value of `r` attribute is required and can not be negative");xe.left=(xe.left||0)-xe.radius,xe.top=(xe.top||0)-xe.radius,Pe(new Ce.Circle(xe))};function De(ke){return"radius"in ke&&ke.radius>=0}Ce.Circle.fromObject=function(ke,Pe){Ce.Object._fromObject("Circle",ke,Pe)}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});if(Ce.Triangle){Ce.warn("fabric.Triangle is already defined");return}Ce.Triangle=Ce.util.createClass(Ce.Object,{type:"triangle",width:100,height:100,_render:function(Te){var De=this.width/2,ke=this.height/2;Te.beginPath(),Te.moveTo(-De,ke),Te.lineTo(0,-ke),Te.lineTo(De,ke),Te.closePath(),this._renderPaintInOrder(Te)},_toSVG:function(){var Te=this.width/2,De=this.height/2,ke=[-Te+" "+De,"0 "+-De,Te+" "+De].join(",");return["<polygon ","COMMON_PARTS",'points="',ke,'" />']}}),Ce.Triangle.fromObject=function(Te,De){return Ce.Object._fromObject("Triangle",Te,De)}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Math.PI*2;if(Ce.Ellipse){Ce.warn("fabric.Ellipse is already defined.");return}Ce.Ellipse=Ce.util.createClass(Ce.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:Ce.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(De){this.callSuper("initialize",De),this.set("rx",De&&De.rx||0),this.set("ry",De&&De.ry||0)},_set:function(De,ke){switch(this.callSuper("_set",De,ke),De){case"rx":this.rx=ke,this.set("width",ke*2);break;case"ry":this.ry=ke,this.set("height",ke*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(De){return this.callSuper("toObject",["rx","ry"].concat(De))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(De){De.beginPath(),De.save(),De.transform(1,0,0,this.ry/this.rx,0,0),De.arc(0,0,this.rx,0,Te,!1),De.restore(),this._renderPaintInOrder(De)}}),Ce.Ellipse.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),Ce.Ellipse.fromElement=function(De,ke){var Pe=Ce.parseAttributes(De,Ce.Ellipse.ATTRIBUTE_NAMES);Pe.left=(Pe.left||0)-Pe.rx,Pe.top=(Pe.top||0)-Pe.ry,ke(new Ce.Ellipse(Pe))},Ce.Ellipse.fromObject=function(De,ke){Ce.Object._fromObject("Ellipse",De,ke)}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend;if(Ce.Rect){Ce.warn("fabric.Rect is already defined");return}Ce.Rect=Ce.util.createClass(Ce.Object,{stateProperties:Ce.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:Ce.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(De){this.callSuper("initialize",De),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(De){var ke=this.rx?Math.min(this.rx,this.width/2):0,Pe=this.ry?Math.min(this.ry,this.height/2):0,xe=this.width,Fe=this.height,Ie=-this.width/2,Me=-this.height/2,Oe=ke!==0||Pe!==0,Be=1-.5522847498;De.beginPath(),De.moveTo(Ie+ke,Me),De.lineTo(Ie+xe-ke,Me),Oe&&De.bezierCurveTo(Ie+xe-Be*ke,Me,Ie+xe,Me+Be*Pe,Ie+xe,Me+Pe),De.lineTo(Ie+xe,Me+Fe-Pe),Oe&&De.bezierCurveTo(Ie+xe,Me+Fe-Be*Pe,Ie+xe-Be*ke,Me+Fe,Ie+xe-ke,Me+Fe),De.lineTo(Ie+ke,Me+Fe),Oe&&De.bezierCurveTo(Ie+Be*ke,Me+Fe,Ie,Me+Fe-Be*Pe,Ie,Me+Fe-Pe),De.lineTo(Ie,Me+Pe),Oe&&De.bezierCurveTo(Ie,Me+Be*Pe,Ie+Be*ke,Me,Ie+ke,Me),De.closePath(),this._renderPaintInOrder(De)},toObject:function(De){return this.callSuper("toObject",["rx","ry"].concat(De))},_toSVG:function(){var De=-this.width/2,ke=-this.height/2;return["<rect ","COMMON_PARTS",'x="',De,'" y="',ke,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),Ce.Rect.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),Ce.Rect.fromElement=function(De,ke,Pe){if(!De)return ke(null);Pe=Pe||{};var xe=Ce.parseAttributes(De,Ce.Rect.ATTRIBUTE_NAMES);xe.left=xe.left||0,xe.top=xe.top||0,xe.height=xe.height||0,xe.width=xe.width||0;var Fe=new Ce.Rect(Te(Pe?Ce.util.object.clone(Pe):{},xe));Fe.visible=Fe.visible&&Fe.width>0&&Fe.height>0,ke(Fe)},Ce.Rect.fromObject=function(De,ke){return Ce.Object._fromObject("Rect",De,ke)}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.util.array.min,ke=Ce.util.array.max,Pe=Ce.util.toFixed,xe=Ce.util.projectStrokeOnPoints;if(Ce.Polyline){Ce.warn("fabric.Polyline is already defined");return}Ce.Polyline=Ce.util.createClass(Ce.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:Ce.Object.prototype.cacheProperties.concat("points"),initialize:function(Fe,Ie){Ie=Ie||{},this.points=Fe||[],this.callSuper("initialize",Ie),this._setPositionDimensions(Ie)},_projectStrokeOnPoints:function(){return xe(this.points,this,!0)},_setPositionDimensions:function(Fe){var Ie=this._calcDimensions(Fe),Me,Oe=this.exactBoundingBox?this.strokeWidth:0;this.width=Ie.width-Oe,this.height=Ie.height-Oe,Fe.fromSVG||(Me=this.translateToGivenOrigin({x:Ie.left-this.strokeWidth/2+Oe/2,y:Ie.top-this.strokeWidth/2+Oe/2},"left","top",this.originX,this.originY)),typeof Fe.left>"u"&&(this.left=Fe.fromSVG?Ie.left:Me.x),typeof Fe.top>"u"&&(this.top=Fe.fromSVG?Ie.top:Me.y),this.pathOffset={x:Ie.left+this.width/2+Oe/2,y:Ie.top+this.height/2+Oe/2}},_calcDimensions:function(){var Fe=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,Ie=De(Fe,"x")||0,Me=De(Fe,"y")||0,Oe=ke(Fe,"x")||0,Be=ke(Fe,"y")||0,je=Oe-Ie,Ve=Be-Me;return{left:Ie,top:Me,width:je,height:Ve}},toObject:function(Fe){return Te(this.callSuper("toObject",Fe),{points:this.points.concat()})},_toSVG:function(){for(var Fe=[],Ie=this.pathOffset.x,Me=this.pathOffset.y,Oe=Ce.Object.NUM_FRACTION_DIGITS,Be=0,je=this.points.length;Be<je;Be++)Fe.push(Pe(this.points[Be].x-Ie,Oe),",",Pe(this.points[Be].y-Me,Oe)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',Fe.join(""),`" />
`]},commonRender:function(Fe){var Ie,Me=this.points.length,Oe=this.pathOffset.x,Be=this.pathOffset.y;if(!Me||isNaN(this.points[Me-1].y))return!1;Fe.beginPath(),Fe.moveTo(this.points[0].x-Oe,this.points[0].y-Be);for(var je=0;je<Me;je++)Ie=this.points[je],Fe.lineTo(Ie.x-Oe,Ie.y-Be);return!0},_render:function(Fe){!this.commonRender(Fe)||this._renderPaintInOrder(Fe)},complexity:function(){return this.get("points").length}}),Ce.Polyline.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat(),Ce.Polyline.fromElementGenerator=function(Fe){return function(Ie,Me,Oe){if(!Ie)return Me(null);Oe||(Oe={});var Be=Ce.parsePointsAttribute(Ie.getAttribute("points")),je=Ce.parseAttributes(Ie,Ce[Fe].ATTRIBUTE_NAMES);je.fromSVG=!0,Me(new Ce[Fe](Be,Te(je,Oe)))}},Ce.Polyline.fromElement=Ce.Polyline.fromElementGenerator("Polyline"),Ce.Polyline.fromObject=function(Fe,Ie){return Ce.Object._fromObject("Polyline",Fe,Ie,"points")}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.projectStrokeOnPoints;if(Ce.Polygon){Ce.warn("fabric.Polygon is already defined");return}Ce.Polygon=Ce.util.createClass(Ce.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return Te(this.points,this)},_render:function(De){!this.commonRender(De)||(De.closePath(),this._renderPaintInOrder(De))}}),Ce.Polygon.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat(),Ce.Polygon.fromElement=Ce.Polyline.fromElementGenerator("Polygon"),Ce.Polygon.fromObject=function(De,ke){Ce.Object._fromObject("Polygon",De,ke,"points")}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.array.min,De=Ce.util.array.max,ke=Ce.util.object.extend,Pe=Ce.util.object.clone,xe=Ce.util.toFixed;if(Ce.Path){Ce.warn("fabric.Path is already defined");return}Ce.Path=Ce.util.createClass(Ce.Object,{type:"path",path:null,cacheProperties:Ce.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:Ce.Object.prototype.stateProperties.concat("path"),initialize:function(Fe,Ie){Ie=Pe(Ie||{}),delete Ie.path,this.callSuper("initialize",Ie),this._setPath(Fe||[],Ie)},_setPath:function(Fe,Ie){this.path=Ce.util.makePathSimpler(Array.isArray(Fe)?Fe:Ce.util.parsePath(Fe)),Ce.Polyline.prototype._setPositionDimensions.call(this,Ie||{})},_renderPathCommands:function(Fe){var Ie,Me=0,Oe=0,Be=0,je=0,Ve=0,ze=0,He=-this.pathOffset.x,$e=-this.pathOffset.y;Fe.beginPath();for(var Ue=0,Xe=this.path.length;Ue<Xe;++Ue)switch(Ie=this.path[Ue],Ie[0]){case"L":Be=Ie[1],je=Ie[2],Fe.lineTo(Be+He,je+$e);break;case"M":Be=Ie[1],je=Ie[2],Me=Be,Oe=je,Fe.moveTo(Be+He,je+$e);break;case"C":Be=Ie[5],je=Ie[6],Ve=Ie[3],ze=Ie[4],Fe.bezierCurveTo(Ie[1]+He,Ie[2]+$e,Ve+He,ze+$e,Be+He,je+$e);break;case"Q":Fe.quadraticCurveTo(Ie[1]+He,Ie[2]+$e,Ie[3]+He,Ie[4]+$e),Be=Ie[3],je=Ie[4],Ve=Ie[1],ze=Ie[2];break;case"z":case"Z":Be=Me,je=Oe,Fe.closePath();break}},_render:function(Fe){this._renderPathCommands(Fe),this._renderPaintInOrder(Fe)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(Fe){return ke(this.callSuper("toObject",Fe),{path:this.path.map(function(Ie){return Ie.slice()})})},toDatalessObject:function(Fe){var Ie=this.toObject(["sourcePath"].concat(Fe));return Ie.sourcePath&&delete Ie.path,Ie},_toSVG:function(){var Fe=Ce.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',Fe,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var Fe=Ce.Object.NUM_FRACTION_DIGITS;return" translate("+xe(-this.pathOffset.x,Fe)+", "+xe(-this.pathOffset.y,Fe)+")"},toClipPathSVG:function(Fe){var Ie=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:Fe,additionalTransform:Ie})},toSVG:function(Fe){var Ie=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:Fe,additionalTransform:Ie})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var Fe=[],Ie=[],Me,Oe=0,Be=0,je=0,Ve=0,ze,He=0,$e=this.path.length;He<$e;++He){switch(Me=this.path[He],Me[0]){case"L":je=Me[1],Ve=Me[2],ze=[];break;case"M":je=Me[1],Ve=Me[2],Oe=je,Be=Ve,ze=[];break;case"C":ze=Ce.util.getBoundsOfCurve(je,Ve,Me[1],Me[2],Me[3],Me[4],Me[5],Me[6]),je=Me[5],Ve=Me[6];break;case"Q":ze=Ce.util.getBoundsOfCurve(je,Ve,Me[1],Me[2],Me[1],Me[2],Me[3],Me[4]),je=Me[3],Ve=Me[4];break;case"z":case"Z":je=Oe,Ve=Be;break}ze.forEach(function(pr){Fe.push(pr.x),Ie.push(pr.y)}),Fe.push(je),Ie.push(Ve)}var Ue=Te(Fe)||0,Xe=Te(Ie)||0,nr=De(Fe)||0,Ge=De(Ie)||0,St=nr-Ue,mr=Ge-Xe;return{left:Ue,top:Xe,width:St,height:mr}}}),Ce.Path.fromObject=function(Fe,Ie){if(typeof Fe.sourcePath=="string"){var Me=Fe.sourcePath;Ce.loadSVGFromURL(Me,function(Oe){var Be=Oe[0];Be.setOptions(Fe),Fe.clipPath?Ce.util.enlivenObjects([Fe.clipPath],function(je){Be.clipPath=je[0],Ie&&Ie(Be)}):Ie&&Ie(Be)})}else Ce.Object._fromObject("Path",Fe,Ie,"path")},Ce.Path.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat(["d"]),Ce.Path.fromElement=function(Fe,Ie,Me){var Oe=Ce.parseAttributes(Fe,Ce.Path.ATTRIBUTE_NAMES);Oe.fromSVG=!0,Ie(new Ce.Path(Oe.d,ke(Oe,Me)))}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.array.min,De=Ce.util.array.max;Ce.Group||(Ce.Group=Ce.util.createClass(Ce.Object,Ce.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(ke,Pe,xe){Pe=Pe||{},this._objects=[],xe&&this.callSuper("initialize",Pe),this._objects=ke||[];for(var Fe=this._objects.length;Fe--;)this._objects[Fe].group=this;if(xe)this._updateObjectsACoords();else{var Ie=Pe&&Pe.centerPoint;Pe.originX!==void 0&&(this.originX=Pe.originX),Pe.originY!==void 0&&(this.originY=Pe.originY),Ie||this._calcBounds(),this._updateObjectsCoords(Ie),delete Pe.centerPoint,this.callSuper("initialize",Pe)}this.setCoords()},_updateObjectsACoords:function(){for(var ke=!0,Pe=this._objects.length;Pe--;)this._objects[Pe].setCoords(ke)},_updateObjectsCoords:function(Pe){for(var Pe=Pe||this.getCenterPoint(),xe=this._objects.length;xe--;)this._updateObjectCoords(this._objects[xe],Pe)},_updateObjectCoords:function(ke,Pe){var xe=ke.left,Fe=ke.top,Ie=!0;ke.set({left:xe-Pe.x,top:Fe-Pe.y}),ke.group=this,ke.setCoords(Ie)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(ke){var Pe=!!this.group;return this._restoreObjectsState(),Ce.util.resetObjectTransform(this),ke&&(Pe&&Ce.util.removeTransformFromObject(ke,this.group.calcTransformMatrix()),this._objects.push(ke),ke.group=this,ke._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,Pe?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(ke){return this._restoreObjectsState(),Ce.util.resetObjectTransform(this),this.remove(ke),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(ke){this.dirty=!0,ke.group=this,ke._set("canvas",this.canvas)},_onObjectRemoved:function(ke){this.dirty=!0,delete ke.group},_set:function(ke,Pe){var xe=this._objects.length;if(this.useSetOnGroup)for(;xe--;)this._objects[xe].setOnGroup(ke,Pe);if(ke==="canvas")for(;xe--;)this._objects[xe]._set(ke,Pe);Ce.Object.prototype._set.call(this,ke,Pe)},toObject:function(ke){var Pe=this.includeDefaultValues,xe=this._objects.filter(function(Ie){return!Ie.excludeFromExport}).map(function(Ie){var Me=Ie.includeDefaultValues;Ie.includeDefaultValues=Pe;var Oe=Ie.toObject(ke);return Ie.includeDefaultValues=Me,Oe}),Fe=Ce.Object.prototype.toObject.call(this,ke);return Fe.objects=xe,Fe},toDatalessObject:function(ke){var Pe,xe=this.sourcePath;if(xe)Pe=xe;else{var Fe=this.includeDefaultValues;Pe=this._objects.map(function(Me){var Oe=Me.includeDefaultValues;Me.includeDefaultValues=Fe;var Be=Me.toDatalessObject(ke);return Me.includeDefaultValues=Oe,Be})}var Ie=Ce.Object.prototype.toDatalessObject.call(this,ke);return Ie.objects=Pe,Ie},render:function(ke){this._transformDone=!0,this.callSuper("render",ke),this._transformDone=!1},shouldCache:function(){var ke=Ce.Object.prototype.shouldCache.call(this);if(ke){for(var Pe=0,xe=this._objects.length;Pe<xe;Pe++)if(this._objects[Pe].willDrawShadow())return this.ownCaching=!1,!1}return ke},willDrawShadow:function(){if(Ce.Object.prototype.willDrawShadow.call(this))return!0;for(var ke=0,Pe=this._objects.length;ke<Pe;ke++)if(this._objects[ke].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(ke){for(var Pe=0,xe=this._objects.length;Pe<xe;Pe++)this._objects[Pe].render(ke);this._drawClipPath(ke,this.clipPath)},isCacheDirty:function(ke){if(this.callSuper("isCacheDirty",ke))return!0;if(!this.statefullCache)return!1;for(var Pe=0,xe=this._objects.length;Pe<xe;Pe++)if(this._objects[Pe].isCacheDirty(!0)){if(this._cacheCanvas){var Fe=this.cacheWidth/this.zoomX,Ie=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-Fe/2,-Ie/2,Fe,Ie)}return!0}return!1},_restoreObjectsState:function(){var ke=this.calcOwnMatrix();return this._objects.forEach(function(Pe){Ce.util.addTransformToObject(Pe,ke),delete Pe.group,Pe.setCoords()}),this},destroy:function(){return this._objects.forEach(function(ke){ke.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(ke){ke.dispose&&ke.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var ke=this._objects,Pe=this.canvas;this._objects=[];var xe=this.toObject();delete xe.objects;var Fe=new Ce.ActiveSelection([]);return Fe.set(xe),Fe.type="activeSelection",Pe.remove(this),ke.forEach(function(Ie){Ie.group=Fe,Ie.dirty=!0,Pe.add(Ie)}),Fe.canvas=Pe,Fe._objects=ke,Pe._activeObject=Fe,Fe.setCoords(),Fe}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var ke=!0;return this.forEachObject(function(Pe){Pe.setCoords(ke)}),this},_calcBounds:function(ke){for(var Pe=[],xe=[],Fe,Ie,Me,Oe=["tr","br","bl","tl"],Be=0,je=this._objects.length,Ve,ze=Oe.length;Be<je;++Be){for(Fe=this._objects[Be],Me=Fe.calcACoords(),Ve=0;Ve<ze;Ve++)Ie=Oe[Ve],Pe.push(Me[Ie].x),xe.push(Me[Ie].y);Fe.aCoords=Me}this._getBounds(Pe,xe,ke)},_getBounds:function(ke,Pe,xe){var Fe=new Ce.Point(Te(ke),Te(Pe)),Ie=new Ce.Point(De(ke),De(Pe)),Me=Fe.y||0,Oe=Fe.x||0,Be=Ie.x-Fe.x||0,je=Ie.y-Fe.y||0;this.width=Be,this.height=je,xe||this.setPositionByOrigin({x:Oe,y:Me},"left","top")},_toSVG:function(ke){for(var Pe=["<g ","COMMON_PARTS",` >
`],xe=0,Fe=this._objects.length;xe<Fe;xe++)Pe.push("		",this._objects[xe].toSVG(ke));return Pe.push(`</g>
`),Pe},getSvgStyles:function(){var ke=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",Pe=this.visible?"":" visibility: hidden;";return[ke,this.getSvgFilter(),Pe].join("")},toClipPathSVG:function(ke){for(var Pe=[],xe=0,Fe=this._objects.length;xe<Fe;xe++)Pe.push("	",this._objects[xe].toClipPathSVG(ke));return this._createBaseClipPathSVGMarkup(Pe,{reviver:ke})}}),Ce.Group.fromObject=function(ke,Pe){var xe=ke.objects,Fe=Ce.util.object.clone(ke,!0);if(delete Fe.objects,typeof xe=="string"){Ce.loadSVGFromURL(xe,function(Ie){var Me=Ce.util.groupSVGElements(Ie,ke,xe),Oe=Fe.clipPath;delete Fe.clipPath,Me.set(Fe),Oe?Ce.util.enlivenObjects([Oe],function(Be){Me.clipPath=Be[0],Pe&&Pe(Me)}):Pe&&Pe(Me)});return}Ce.util.enlivenObjects(xe,function(Ie){Ce.util.enlivenObjectEnlivables(ke,Fe,function(){Pe&&Pe(new Ce.Group(Ie,Fe,!0))})})})}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});Ce.ActiveSelection||(Ce.ActiveSelection=Ce.util.createClass(Ce.Group,{type:"activeSelection",initialize:function(Te,De){De=De||{},this._objects=Te||[];for(var ke=this._objects.length;ke--;)this._objects[ke].group=this;De.originX&&(this.originX=De.originX),De.originY&&(this.originY=De.originY),this._calcBounds(),this._updateObjectsCoords(),Ce.Object.prototype.initialize.call(this,De),this.setCoords()},toGroup:function(){var Te=this._objects.concat();this._objects=[];var De=Ce.Object.prototype.toObject.call(this),ke=new Ce.Group([]);if(delete De.type,ke.set(De),Te.forEach(function(xe){xe.canvas.remove(xe),xe.group=ke}),ke._objects=Te,!this.canvas)return ke;var Pe=this.canvas;return Pe.add(ke),Pe._activeObject=ke,ke.setCoords(),ke},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(Te,De,ke){Te.save(),Te.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",Te,De),ke=ke||{},typeof ke.hasControls>"u"&&(ke.hasControls=!1),ke.forActiveSelection=!0;for(var Pe=0,xe=this._objects.length;Pe<xe;Pe++)this._objects[Pe]._renderControls(Te,ke);Te.restore()}}),Ce.ActiveSelection.fromObject=function(Te,De){Ce.util.enlivenObjects(Te.objects,function(ke){delete Te.objects,De&&De(new Ce.ActiveSelection(ke,Te,!0))})})}(t),function(Ee){var Ce=e.util.object.extend;if(Ee.fabric||(Ee.fabric={}),Ee.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(Te,De){De||(De={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",De),this._initElement(Te,De)},getElement:function(){return this._element||{}},setElement:function(Te,De){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=Te,this._originalElement=Te,this._initConfig(De),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(Te){var De=e.filterBackend;De&&De.evictCachesForKey&&De.evictCachesForKey(Te)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(Te){e.util.cleanUpJsdomNode(this[Te]),this[Te]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var Te=this.getElement();return{width:Te.naturalWidth||Te.width,height:Te.naturalHeight||Te.height}},_stroke:function(Te){if(!(!this.stroke||this.strokeWidth===0)){var De=this.width/2,ke=this.height/2;Te.beginPath(),Te.moveTo(-De,-ke),Te.lineTo(De,-ke),Te.lineTo(De,ke),Te.lineTo(-De,ke),Te.lineTo(-De,-ke),Te.closePath()}},toObject:function(Te){var De=[];this.filters.forEach(function(Pe){Pe&&De.push(Pe.toObject())});var ke=Ce(this.callSuper("toObject",["cropX","cropY"].concat(Te)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:De});return this.resizeFilter&&(ke.resizeFilter=this.resizeFilter.toObject()),ke},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var Te=[],De=[],ke,Pe=this._element,xe=-this.width/2,Fe=-this.height/2,Ie="",Me="";if(!Pe)return[];if(this.hasCrop()){var Oe=e.Object.__uid++;Te.push('<clipPath id="imageCrop_'+Oe+`">
`,'	<rect x="'+xe+'" y="'+Fe+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),Ie=' clip-path="url(#imageCrop_'+Oe+')" '}if(this.imageSmoothing||(Me='" image-rendering="optimizeSpeed'),De.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',xe-this.cropX,'" y="',Fe-this.cropY,'" width="',Pe.width||Pe.naturalWidth,'" height="',Pe.height||Pe.height,Me,'"',Ie,`></image>
`),this.stroke||this.strokeDashArray){var Be=this.fill;this.fill=null,ke=["	<rect ",'x="',xe,'" y="',Fe,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=Be}return this.paintFirst!=="fill"?Te=Te.concat(ke,De):Te=Te.concat(De,ke),Te},getSrc:function(Te){var De=Te?this._element:this._originalElement;return De?De.toDataURL?De.toDataURL():this.srcFromAttribute?De.getAttribute("src"):De.src:this.src||""},setSrc:function(Te,De,ke){return e.util.loadImage(Te,function(Pe,xe){this.setElement(Pe,ke),this._setWidthHeight(),De&&De(this,xe)},this,ke&&ke.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var Te=this.resizeFilter,De=this.minimumScaleTrigger,ke=this.getTotalObjectScaling(),Pe=ke.scaleX,xe=ke.scaleY,Fe=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!Te||Pe>De&&xe>De){this._element=Fe,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=Pe,this._lastScaleY=xe;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var Ie=e.util.createCanvasElement(),Me=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,Oe=Fe.width,Be=Fe.height;Ie.width=Oe,Ie.height=Be,this._element=Ie,this._lastScaleX=Te.scaleX=Pe,this._lastScaleY=Te.scaleY=xe,e.filterBackend.applyFilters([Te],Fe,Oe,Be,this._element,Me),this._filterScalingX=Ie.width/this._originalElement.width,this._filterScalingY=Ie.height/this._originalElement.height},applyFilters:function(Te){if(Te=Te||this.filters||[],Te=Te.filter(function(Fe){return Fe&&!Fe.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),Te.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var De=this._originalElement,ke=De.naturalWidth||De.width,Pe=De.naturalHeight||De.height;if(this._element===this._originalElement){var xe=e.util.createCanvasElement();xe.width=ke,xe.height=Pe,this._element=xe,this._filteredEl=xe}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,ke,Pe),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(Te,this._originalElement,ke,Pe,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(Te){e.util.setImageSmoothing(Te,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(Te),this._renderPaintInOrder(Te)},drawCacheOnCanvas:function(Te){e.util.setImageSmoothing(Te,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,Te)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(Te){var De=this._element;if(!!De){var ke=this._filterScalingX,Pe=this._filterScalingY,xe=this.width,Fe=this.height,Ie=Math.min,Me=Math.max,Oe=Me(this.cropX,0),Be=Me(this.cropY,0),je=De.naturalWidth||De.width,Ve=De.naturalHeight||De.height,ze=Oe*ke,He=Be*Pe,$e=Ie(xe*ke,je-ze),Ue=Ie(Fe*Pe,Ve-He),Xe=-xe/2,nr=-Fe/2,Ge=Ie(xe,je/ke-Oe),St=Ie(Fe,Ve/Pe-Be);De&&Te.drawImage(De,ze,He,$e,Ue,Xe,nr,Ge,St)}},_needsResize:function(){var Te=this.getTotalObjectScaling();return Te.scaleX!==this._lastScaleX||Te.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(Te,De){this.setElement(e.util.getById(Te),De),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(Te){Te||(Te={}),this.setOptions(Te),this._setWidthHeight(Te)},_initFilters:function(Te,De){Te&&Te.length?e.util.enlivenObjects(Te,function(ke){De&&De(ke)},"fabric.Image.filters"):De&&De()},_setWidthHeight:function(Te){Te||(Te={});var De=this.getElement();this.width=Te.width||De.naturalWidth||De.width||0,this.height=Te.height||De.naturalHeight||De.height||0},parsePreserveAspectRatioAttribute:function(){var Te=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),De=this._element.width,ke=this._element.height,Pe=1,xe=1,Fe=0,Ie=0,Me=0,Oe=0,Be,je=this.width,Ve=this.height,ze={width:je,height:Ve};return Te&&(Te.alignX!=="none"||Te.alignY!=="none")?(Te.meetOrSlice==="meet"&&(Pe=xe=e.util.findScaleToFit(this._element,ze),Be=(je-De*Pe)/2,Te.alignX==="Min"&&(Fe=-Be),Te.alignX==="Max"&&(Fe=Be),Be=(Ve-ke*xe)/2,Te.alignY==="Min"&&(Ie=-Be),Te.alignY==="Max"&&(Ie=Be)),Te.meetOrSlice==="slice"&&(Pe=xe=e.util.findScaleToCover(this._element,ze),Be=De-je/Pe,Te.alignX==="Mid"&&(Me=Be/2),Te.alignX==="Max"&&(Me=Be),Be=ke-Ve/xe,Te.alignY==="Mid"&&(Oe=Be/2),Te.alignY==="Max"&&(Oe=Be),De=je/Pe,ke=Ve/xe)):(Pe=je/De,xe=Ve/ke),{width:De,height:ke,scaleX:Pe,scaleY:xe,offsetLeft:Fe,offsetTop:Ie,cropX:Me,cropY:Oe}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(Te,De){var ke=e.util.object.clone(Te);e.util.loadImage(ke.src,function(Pe,xe){if(xe){De&&De(null,!0);return}e.Image.prototype._initFilters.call(ke,ke.filters,function(Fe){ke.filters=Fe||[],e.Image.prototype._initFilters.call(ke,[ke.resizeFilter],function(Ie){ke.resizeFilter=Ie[0],e.util.enlivenObjectEnlivables(ke,ke,function(){var Me=new e.Image(Pe,ke);De(Me,!1)})})})},null,ke.crossOrigin)},e.Image.fromURL=function(Te,De,ke){e.util.loadImage(Te,function(Pe,xe){De&&De(new e.Image(Pe,ke),xe)},null,ke&&ke.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(Te,De,ke){var Pe=e.parseAttributes(Te,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(Pe["xlink:href"],De,Ce(ke?e.util.object.clone(ke):{},Pe))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var Ee=this.angle%360;return Ee>0?Math.round((Ee-1)/90)*90:Math.round(Ee/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(Ee){Ee=Ee||{};var Ce=function(){},Te=Ee.onComplete||Ce,De=Ee.onChange||Ce,ke=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(Pe){ke.rotate(Pe),De()},onComplete:function(){ke.setCoords(),Te()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(Ee){return Ee.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(Ee){return Ee.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function Ee(Te,De){var ke="precision "+De+` float;
void main(){}`,Pe=Te.createShader(Te.FRAGMENT_SHADER);return Te.shaderSource(Pe,ke),Te.compileShader(Pe),!!Te.getShaderParameter(Pe,Te.COMPILE_STATUS)}e.isWebglSupported=function(Te){if(e.isLikelyNode)return!1;Te=Te||e.WebglFilterBackend.prototype.tileSize;var De=document.createElement("canvas"),ke=De.getContext("webgl")||De.getContext("experimental-webgl"),Pe=!1;if(ke){e.maxTextureSize=ke.getParameter(ke.MAX_TEXTURE_SIZE),Pe=e.maxTextureSize>=Te;for(var xe=["highp","mediump","lowp"],Fe=0;Fe<3;Fe++)if(Ee(ke,xe[Fe])){e.webGlPrecision=xe[Fe];break}}return this.isSupported=Pe,Pe},e.WebglFilterBackend=Ce;function Ce(Te){Te&&Te.tileSize&&(this.tileSize=Te.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}Ce.prototype={tileSize:2048,resources:{},setupGLContext:function(Te,De){this.dispose(),this.createWebGLCanvas(Te,De),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(Te,De)},chooseFastestCopyGLTo2DMethod:function(Te,De){var ke=typeof window.performance<"u",Pe;try{new ImageData(1,1),Pe=!0}catch{Pe=!1}var xe=typeof ArrayBuffer<"u",Fe=typeof Uint8ClampedArray<"u";if(!!(ke&&Pe&&xe&&Fe)){var Ie=e.util.createCanvasElement(),Me=new ArrayBuffer(Te*De*4);if(e.forceGLPutImageData){this.imageBuffer=Me,this.copyGLTo2D=Re;return}var Oe={imageBuffer:Me,destinationWidth:Te,destinationHeight:De,targetCanvas:Ie},Be,je,Ve;Ie.width=Te,Ie.height=De,Be=window.performance.now(),Ae.call(Oe,this.gl,Oe),je=window.performance.now()-Be,Be=window.performance.now(),Re.call(Oe,this.gl,Oe),Ve=window.performance.now()-Be,je>Ve?(this.imageBuffer=Me,this.copyGLTo2D=Re):this.copyGLTo2D=Ae}},createWebGLCanvas:function(Te,De){var ke=e.util.createCanvasElement();ke.width=Te,ke.height=De;var Pe={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},xe=ke.getContext("webgl",Pe);xe||(xe=ke.getContext("experimental-webgl",Pe)),xe&&(xe.clearColor(0,0,0,0),this.canvas=ke,this.gl=xe)},applyFilters:function(Te,De,ke,Pe,xe,Fe){var Ie=this.gl,Me;Fe&&(Me=this.getCachedTexture(Fe,De));var Oe={originalWidth:De.width||De.originalWidth,originalHeight:De.height||De.originalHeight,sourceWidth:ke,sourceHeight:Pe,destinationWidth:ke,destinationHeight:Pe,context:Ie,sourceTexture:this.createTexture(Ie,ke,Pe,!Me&&De),targetTexture:this.createTexture(Ie,ke,Pe),originalTexture:Me||this.createTexture(Ie,ke,Pe,!Me&&De),passes:Te.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:xe},Be=Ie.createFramebuffer();return Ie.bindFramebuffer(Ie.FRAMEBUFFER,Be),Te.forEach(function(je){je&&je.applyTo(Oe)}),Se(Oe),this.copyGLTo2D(Ie,Oe),Ie.bindTexture(Ie.TEXTURE_2D,null),Ie.deleteTexture(Oe.sourceTexture),Ie.deleteTexture(Oe.targetTexture),Ie.deleteFramebuffer(Be),xe.getContext("2d").setTransform(1,0,0,1,0,0),Oe},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(Te,De,ke,Pe,xe){var Fe=Te.createTexture();return Te.bindTexture(Te.TEXTURE_2D,Fe),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MAG_FILTER,xe||Te.NEAREST),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_MIN_FILTER,xe||Te.NEAREST),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_S,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_2D,Te.TEXTURE_WRAP_T,Te.CLAMP_TO_EDGE),Pe?Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,Te.RGBA,Te.UNSIGNED_BYTE,Pe):Te.texImage2D(Te.TEXTURE_2D,0,Te.RGBA,De,ke,0,Te.RGBA,Te.UNSIGNED_BYTE,null),Fe},getCachedTexture:function(Te,De){if(this.textureCache[Te])return this.textureCache[Te];var ke=this.createTexture(this.gl,De.width,De.height,De);return this.textureCache[Te]=ke,ke},evictCachesForKey:function(Te){this.textureCache[Te]&&(this.gl.deleteTexture(this.textureCache[Te]),delete this.textureCache[Te])},copyGLTo2D:Ae,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var Te=this.gl,De={renderer:"",vendor:""};if(!Te)return De;var ke=Te.getExtension("WEBGL_debug_renderer_info");if(ke){var Pe=Te.getParameter(ke.UNMASKED_RENDERER_WEBGL),xe=Te.getParameter(ke.UNMASKED_VENDOR_WEBGL);Pe&&(De.renderer=Pe.toLowerCase()),xe&&(De.vendor=xe.toLowerCase())}return this.gpuInfo=De,De}}}();function Se(Ee){var Ce=Ee.targetCanvas,Te=Ce.width,De=Ce.height,ke=Ee.destinationWidth,Pe=Ee.destinationHeight;(Te!==ke||De!==Pe)&&(Ce.width=ke,Ce.height=Pe)}function Ae(Ee,Ce){var Te=Ee.canvas,De=Ce.targetCanvas,ke=De.getContext("2d");ke.translate(0,De.height),ke.scale(1,-1);var Pe=Te.height-De.height;ke.drawImage(Te,0,Pe,De.width,De.height,0,0,De.width,De.height)}function Re(Ee,Ce){var Te=Ce.targetCanvas,De=Te.getContext("2d"),ke=Ce.destinationWidth,Pe=Ce.destinationHeight,xe=ke*Pe*4,Fe=new Uint8Array(this.imageBuffer,0,xe),Ie=new Uint8ClampedArray(this.imageBuffer,0,xe);Ee.readPixels(0,0,ke,Pe,Ee.RGBA,Ee.UNSIGNED_BYTE,Fe);var Me=new ImageData(Ie,ke,Pe);De.putImageData(Me,0,0)}(function(){var Ee=function(){};e.Canvas2dFilterBackend=Ce;function Ce(){}Ce.prototype={evictCachesForKey:Ee,dispose:Ee,clearWebGLCaches:Ee,resources:{},applyFilters:function(Te,De,ke,Pe,xe){var Fe=xe.getContext("2d");Fe.drawImage(De,0,0,ke,Pe);var Ie=Fe.getImageData(0,0,ke,Pe),Me=Fe.getImageData(0,0,ke,Pe),Oe={sourceWidth:ke,sourceHeight:Pe,imageData:Ie,originalEl:De,originalImageData:Me,canvasEl:xe,ctx:Fe,filterBackend:this};return Te.forEach(function(Be){Be.applyTo(Oe)}),(Oe.imageData.width!==ke||Oe.imageData.height!==Pe)&&(xe.width=Oe.imageData.width,xe.height=Oe.imageData.height),Fe.putImageData(Oe.imageData,0,0),Oe}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(Ee){Ee&&this.setOptions(Ee)},setOptions:function(Ee){for(var Ce in Ee)this[Ce]=Ee[Ce]},createProgram:function(Ee,Ce,Te){Ce=Ce||this.fragmentSource,Te=Te||this.vertexSource,e.webGlPrecision!=="highp"&&(Ce=Ce.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var De=Ee.createShader(Ee.VERTEX_SHADER);if(Ee.shaderSource(De,Te),Ee.compileShader(De),!Ee.getShaderParameter(De,Ee.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+Ee.getShaderInfoLog(De));var ke=Ee.createShader(Ee.FRAGMENT_SHADER);if(Ee.shaderSource(ke,Ce),Ee.compileShader(ke),!Ee.getShaderParameter(ke,Ee.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+Ee.getShaderInfoLog(ke));var Pe=Ee.createProgram();if(Ee.attachShader(Pe,De),Ee.attachShader(Pe,ke),Ee.linkProgram(Pe),!Ee.getProgramParameter(Pe,Ee.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+Ee.getProgramInfoLog(Pe));var xe=this.getAttributeLocations(Ee,Pe),Fe=this.getUniformLocations(Ee,Pe)||{};return Fe.uStepW=Ee.getUniformLocation(Pe,"uStepW"),Fe.uStepH=Ee.getUniformLocation(Pe,"uStepH"),{program:Pe,attributeLocations:xe,uniformLocations:Fe}},getAttributeLocations:function(Ee,Ce){return{aPosition:Ee.getAttribLocation(Ce,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(Ee,Ce,Te){var De=Ce.aPosition,ke=Ee.createBuffer();Ee.bindBuffer(Ee.ARRAY_BUFFER,ke),Ee.enableVertexAttribArray(De),Ee.vertexAttribPointer(De,2,Ee.FLOAT,!1,0,0),Ee.bufferData(Ee.ARRAY_BUFFER,Te,Ee.STATIC_DRAW)},_setupFrameBuffer:function(Ee){var Ce=Ee.context,Te,De;Ee.passes>1?(Te=Ee.destinationWidth,De=Ee.destinationHeight,(Ee.sourceWidth!==Te||Ee.sourceHeight!==De)&&(Ce.deleteTexture(Ee.targetTexture),Ee.targetTexture=Ee.filterBackend.createTexture(Ce,Te,De)),Ce.framebufferTexture2D(Ce.FRAMEBUFFER,Ce.COLOR_ATTACHMENT0,Ce.TEXTURE_2D,Ee.targetTexture,0)):(Ce.bindFramebuffer(Ce.FRAMEBUFFER,null),Ce.finish())},_swapTextures:function(Ee){Ee.passes--,Ee.pass++;var Ce=Ee.targetTexture;Ee.targetTexture=Ee.sourceTexture,Ee.sourceTexture=Ce},isNeutralState:function(){var Ee=this.mainParameter,Ce=e.Image.filters[this.type].prototype;if(Ee)if(Array.isArray(Ce[Ee])){for(var Te=Ce[Ee].length;Te--;)if(this[Ee][Te]!==Ce[Ee][Te])return!1;return!0}else return Ce[Ee]===this[Ee];else return!1},applyTo:function(Ee){Ee.webgl?(this._setupFrameBuffer(Ee),this.applyToWebGL(Ee),this._swapTextures(Ee)):this.applyTo2d(Ee)},retrieveShader:function(Ee){return Ee.programCache.hasOwnProperty(this.type)||(Ee.programCache[this.type]=this.createProgram(Ee.context)),Ee.programCache[this.type]},applyToWebGL:function(Ee){var Ce=Ee.context,Te=this.retrieveShader(Ee);Ee.pass===0&&Ee.originalTexture?Ce.bindTexture(Ce.TEXTURE_2D,Ee.originalTexture):Ce.bindTexture(Ce.TEXTURE_2D,Ee.sourceTexture),Ce.useProgram(Te.program),this.sendAttributeData(Ce,Te.attributeLocations,Ee.aPosition),Ce.uniform1f(Te.uniformLocations.uStepW,1/Ee.sourceWidth),Ce.uniform1f(Te.uniformLocations.uStepH,1/Ee.sourceHeight),this.sendUniformData(Ce,Te.uniformLocations),Ce.viewport(0,0,Ee.destinationWidth,Ee.destinationHeight),Ce.drawArrays(Ce.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(Ee,Ce,Te){Ee.activeTexture(Te),Ee.bindTexture(Ee.TEXTURE_2D,Ce),Ee.activeTexture(Ee.TEXTURE0)},unbindAdditionalTexture:function(Ee,Ce){Ee.activeTexture(Ce),Ee.bindTexture(Ee.TEXTURE_2D,null),Ee.activeTexture(Ee.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(Ee){this[this.mainParameter]=Ee},sendUniformData:function(){},createHelpLayer:function(Ee){if(!Ee.helpLayer){var Ce=document.createElement("canvas");Ce.width=Ee.sourceWidth,Ce.height=Ee.sourceHeight,Ee.helpLayer=Ce}},toObject:function(){var Ee={type:this.type},Ce=this.mainParameter;return Ce&&(Ee[Ce]=this[Ce]),Ee},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(Ee,Ce){var Te=new e.Image.filters[Ee.type](Ee);return Ce&&Ce(Te),Te},function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.ColorMatrix=De(Te.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(ke){this.callSuper("initialize",ke),this.matrix=this.matrix.slice(0)},applyTo2d:function(ke){var Pe=ke.imageData,xe=Pe.data,Fe=xe.length,Ie=this.matrix,Me,Oe,Be,je,Ve,ze=this.colorsOnly;for(Ve=0;Ve<Fe;Ve+=4)Me=xe[Ve],Oe=xe[Ve+1],Be=xe[Ve+2],ze?(xe[Ve]=Me*Ie[0]+Oe*Ie[1]+Be*Ie[2]+Ie[4]*255,xe[Ve+1]=Me*Ie[5]+Oe*Ie[6]+Be*Ie[7]+Ie[9]*255,xe[Ve+2]=Me*Ie[10]+Oe*Ie[11]+Be*Ie[12]+Ie[14]*255):(je=xe[Ve+3],xe[Ve]=Me*Ie[0]+Oe*Ie[1]+Be*Ie[2]+je*Ie[3]+Ie[4]*255,xe[Ve+1]=Me*Ie[5]+Oe*Ie[6]+Be*Ie[7]+je*Ie[8]+Ie[9]*255,xe[Ve+2]=Me*Ie[10]+Oe*Ie[11]+Be*Ie[12]+je*Ie[13]+Ie[14]*255,xe[Ve+3]=Me*Ie[15]+Oe*Ie[16]+Be*Ie[17]+je*Ie[18]+Ie[19]*255)},getUniformLocations:function(ke,Pe){return{uColorMatrix:ke.getUniformLocation(Pe,"uColorMatrix"),uConstants:ke.getUniformLocation(Pe,"uConstants")}},sendUniformData:function(ke,Pe){var xe=this.matrix,Fe=[xe[0],xe[1],xe[2],xe[3],xe[5],xe[6],xe[7],xe[8],xe[10],xe[11],xe[12],xe[13],xe[15],xe[16],xe[17],xe[18]],Ie=[xe[4],xe[9],xe[14],xe[19]];ke.uniformMatrix4fv(Pe.uColorMatrix,!1,Fe),ke.uniform4fv(Pe.uConstants,Ie)}}),Ce.Image.filters.ColorMatrix.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Brightness=De(Te.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(ke){if(this.brightness!==0){var Pe=ke.imageData,xe=Pe.data,Fe,Ie=xe.length,Me=Math.round(this.brightness*255);for(Fe=0;Fe<Ie;Fe+=4)xe[Fe]=xe[Fe]+Me,xe[Fe+1]=xe[Fe+1]+Me,xe[Fe+2]=xe[Fe+2]+Me}},getUniformLocations:function(ke,Pe){return{uBrightness:ke.getUniformLocation(Pe,"uBrightness")}},sendUniformData:function(ke,Pe){ke.uniform1f(Pe.uBrightness,this.brightness)}}),Ce.Image.filters.Brightness.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.Image.filters,ke=Ce.util.createClass;De.Convolute=ke(De.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(Pe){var xe=Math.sqrt(this.matrix.length),Fe=this.type+"_"+xe+"_"+(this.opaque?1:0),Ie=this.fragmentSource[Fe];return Pe.programCache.hasOwnProperty(Fe)||(Pe.programCache[Fe]=this.createProgram(Pe.context,Ie)),Pe.programCache[Fe]},applyTo2d:function(Pe){var xe=Pe.imageData,Fe=xe.data,Ie=this.matrix,Me=Math.round(Math.sqrt(Ie.length)),Oe=Math.floor(Me/2),Be=xe.width,je=xe.height,Ve=Pe.ctx.createImageData(Be,je),ze=Ve.data,He=this.opaque?1:0,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr;for(gr=0;gr<je;gr++)for(dr=0;dr<Be;dr++){for(Ge=(gr*Be+dr)*4,$e=0,Ue=0,Xe=0,nr=0,tr=0;tr<Me;tr++)for(sr=0;sr<Me;sr++)mr=gr+tr-Oe,St=dr+sr-Oe,!(mr<0||mr>=je||St<0||St>=Be)&&(pr=(mr*Be+St)*4,vr=Ie[tr*Me+sr],$e+=Fe[pr]*vr,Ue+=Fe[pr+1]*vr,Xe+=Fe[pr+2]*vr,He||(nr+=Fe[pr+3]*vr));ze[Ge]=$e,ze[Ge+1]=Ue,ze[Ge+2]=Xe,He?ze[Ge+3]=Fe[Ge+3]:ze[Ge+3]=nr}Pe.imageData=Ve},getUniformLocations:function(Pe,xe){return{uMatrix:Pe.getUniformLocation(xe,"uMatrix"),uOpaque:Pe.getUniformLocation(xe,"uOpaque"),uHalfSize:Pe.getUniformLocation(xe,"uHalfSize"),uSize:Pe.getUniformLocation(xe,"uSize")}},sendUniformData:function(Pe,xe){Pe.uniform1fv(xe.uMatrix,this.matrix)},toObject:function(){return Te(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),Ce.Image.filters.Convolute.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Grayscale=De(Te.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(ke){var Pe=ke.imageData,xe=Pe.data,Fe,Ie=xe.length,Me,Oe=this.mode;for(Fe=0;Fe<Ie;Fe+=4)Oe==="average"?Me=(xe[Fe]+xe[Fe+1]+xe[Fe+2])/3:Oe==="lightness"?Me=(Math.min(xe[Fe],xe[Fe+1],xe[Fe+2])+Math.max(xe[Fe],xe[Fe+1],xe[Fe+2]))/2:Oe==="luminosity"&&(Me=.21*xe[Fe]+.72*xe[Fe+1]+.07*xe[Fe+2]),xe[Fe]=Me,xe[Fe+1]=Me,xe[Fe+2]=Me},retrieveShader:function(ke){var Pe=this.type+"_"+this.mode;if(!ke.programCache.hasOwnProperty(Pe)){var xe=this.fragmentSource[this.mode];ke.programCache[Pe]=this.createProgram(ke.context,xe)}return ke.programCache[Pe]},getUniformLocations:function(ke,Pe){return{uMode:ke.getUniformLocation(Pe,"uMode")}},sendUniformData:function(ke,Pe){var xe=1;ke.uniform1i(Pe.uMode,xe)},isNeutralState:function(){return!1}}),Ce.Image.filters.Grayscale.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Invert=De(Te.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(ke){var Pe=ke.imageData,xe=Pe.data,Fe,Ie=xe.length;for(Fe=0;Fe<Ie;Fe+=4)xe[Fe]=255-xe[Fe],xe[Fe+1]=255-xe[Fe+1],xe[Fe+2]=255-xe[Fe+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(ke,Pe){return{uInvert:ke.getUniformLocation(Pe,"uInvert")}},sendUniformData:function(ke,Pe){ke.uniform1i(Pe.uInvert,this.invert)}}),Ce.Image.filters.Invert.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.Image.filters,ke=Ce.util.createClass;De.Noise=ke(De.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(Pe){if(this.noise!==0){var xe=Pe.imageData,Fe=xe.data,Ie,Me=Fe.length,Oe=this.noise,Be;for(Ie=0,Me=Fe.length;Ie<Me;Ie+=4)Be=(.5-Math.random())*Oe,Fe[Ie]+=Be,Fe[Ie+1]+=Be,Fe[Ie+2]+=Be}},getUniformLocations:function(Pe,xe){return{uNoise:Pe.getUniformLocation(xe,"uNoise"),uSeed:Pe.getUniformLocation(xe,"uSeed")}},sendUniformData:function(Pe,xe){Pe.uniform1f(xe.uNoise,this.noise/255),Pe.uniform1f(xe.uSeed,Math.random())},toObject:function(){return Te(this.callSuper("toObject"),{noise:this.noise})}}),Ce.Image.filters.Noise.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Pixelate=De(Te.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(ke){var Pe=ke.imageData,xe=Pe.data,Fe=Pe.height,Ie=Pe.width,Me,Oe,Be,je,Ve,ze,He,$e,Ue,Xe,nr;for(Oe=0;Oe<Fe;Oe+=this.blocksize)for(Be=0;Be<Ie;Be+=this.blocksize)for(Me=Oe*4*Ie+Be*4,je=xe[Me],Ve=xe[Me+1],ze=xe[Me+2],He=xe[Me+3],Xe=Math.min(Oe+this.blocksize,Fe),nr=Math.min(Be+this.blocksize,Ie),$e=Oe;$e<Xe;$e++)for(Ue=Be;Ue<nr;Ue++)Me=$e*4*Ie+Ue*4,xe[Me]=je,xe[Me+1]=Ve,xe[Me+2]=ze,xe[Me+3]=He},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(ke,Pe){return{uBlocksize:ke.getUniformLocation(Pe,"uBlocksize"),uStepW:ke.getUniformLocation(Pe,"uStepW"),uStepH:ke.getUniformLocation(Pe,"uStepH")}},sendUniformData:function(ke,Pe){ke.uniform1f(Pe.uBlocksize,this.blocksize)}}),Ce.Image.filters.Pixelate.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.extend,De=Ce.Image.filters,ke=Ce.util.createClass;De.RemoveColor=ke(De.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(Pe){var xe=Pe.imageData,Fe=xe.data,Ie,Me=this.distance*255,Oe,Be,je,Ve=new Ce.Color(this.color).getSource(),ze=[Ve[0]-Me,Ve[1]-Me,Ve[2]-Me],He=[Ve[0]+Me,Ve[1]+Me,Ve[2]+Me];for(Ie=0;Ie<Fe.length;Ie+=4)Oe=Fe[Ie],Be=Fe[Ie+1],je=Fe[Ie+2],Oe>ze[0]&&Be>ze[1]&&je>ze[2]&&Oe<He[0]&&Be<He[1]&&je<He[2]&&(Fe[Ie+3]=0)},getUniformLocations:function(Pe,xe){return{uLow:Pe.getUniformLocation(xe,"uLow"),uHigh:Pe.getUniformLocation(xe,"uHigh")}},sendUniformData:function(Pe,xe){var Fe=new Ce.Color(this.color).getSource(),Ie=parseFloat(this.distance),Me=[0+Fe[0]/255-Ie,0+Fe[1]/255-Ie,0+Fe[2]/255-Ie,1],Oe=[Fe[0]/255+Ie,Fe[1]/255+Ie,Fe[2]/255+Ie,1];Pe.uniform4fv(xe.uLow,Me),Pe.uniform4fv(xe.uHigh,Oe)},toObject:function(){return Te(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),Ce.Image.filters.RemoveColor.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass,ke={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var Pe in ke)Te[Pe]=De(Te.ColorMatrix,{type:Pe,matrix:ke[Pe],mainParameter:!1,colorsOnly:!0}),Ce.Image.filters[Pe].fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric,Te=Ce.Image.filters,De=Ce.util.createClass;Te.BlendColor=De(Te.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(ke){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[ke]+`}
}`},retrieveShader:function(ke){var Pe=this.type+"_"+this.mode,xe;return ke.programCache.hasOwnProperty(Pe)||(xe=this.buildSource(this.mode),ke.programCache[Pe]=this.createProgram(ke.context,xe)),ke.programCache[Pe]},applyTo2d:function(ke){var Pe=ke.imageData,xe=Pe.data,Fe=xe.length,Ie,Me,Oe,Be,je,Ve,ze,He=1-this.alpha;ze=new Ce.Color(this.color).getSource(),Ie=ze[0]*this.alpha,Me=ze[1]*this.alpha,Oe=ze[2]*this.alpha;for(var $e=0;$e<Fe;$e+=4)switch(Be=xe[$e],je=xe[$e+1],Ve=xe[$e+2],this.mode){case"multiply":xe[$e]=Be*Ie/255,xe[$e+1]=je*Me/255,xe[$e+2]=Ve*Oe/255;break;case"screen":xe[$e]=255-(255-Be)*(255-Ie)/255,xe[$e+1]=255-(255-je)*(255-Me)/255,xe[$e+2]=255-(255-Ve)*(255-Oe)/255;break;case"add":xe[$e]=Be+Ie,xe[$e+1]=je+Me,xe[$e+2]=Ve+Oe;break;case"diff":case"difference":xe[$e]=Math.abs(Be-Ie),xe[$e+1]=Math.abs(je-Me),xe[$e+2]=Math.abs(Ve-Oe);break;case"subtract":xe[$e]=Be-Ie,xe[$e+1]=je-Me,xe[$e+2]=Ve-Oe;break;case"darken":xe[$e]=Math.min(Be,Ie),xe[$e+1]=Math.min(je,Me),xe[$e+2]=Math.min(Ve,Oe);break;case"lighten":xe[$e]=Math.max(Be,Ie),xe[$e+1]=Math.max(je,Me),xe[$e+2]=Math.max(Ve,Oe);break;case"overlay":xe[$e]=Ie<128?2*Be*Ie/255:255-2*(255-Be)*(255-Ie)/255,xe[$e+1]=Me<128?2*je*Me/255:255-2*(255-je)*(255-Me)/255,xe[$e+2]=Oe<128?2*Ve*Oe/255:255-2*(255-Ve)*(255-Oe)/255;break;case"exclusion":xe[$e]=Ie+Be-2*Ie*Be/255,xe[$e+1]=Me+je-2*Me*je/255,xe[$e+2]=Oe+Ve-2*Oe*Ve/255;break;case"tint":xe[$e]=Ie+Be*He,xe[$e+1]=Me+je*He,xe[$e+2]=Oe+Ve*He}},getUniformLocations:function(ke,Pe){return{uColor:ke.getUniformLocation(Pe,"uColor")}},sendUniformData:function(ke,Pe){var xe=new Ce.Color(this.color).getSource();xe[0]=this.alpha*xe[0]/255,xe[1]=this.alpha*xe[1]/255,xe[2]=this.alpha*xe[2]/255,xe[3]=this.alpha,ke.uniform4fv(Pe.uColor,xe)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),Ce.Image.filters.BlendColor.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric,Te=Ce.Image.filters,De=Ce.util.createClass;Te.BlendImage=De(Te.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(ke){var Pe=this.type+"_"+this.mode,xe=this.fragmentSource[this.mode];return ke.programCache.hasOwnProperty(Pe)||(ke.programCache[Pe]=this.createProgram(ke.context,xe)),ke.programCache[Pe]},applyToWebGL:function(ke){var Pe=ke.context,xe=this.createTexture(ke.filterBackend,this.image);this.bindAdditionalTexture(Pe,xe,Pe.TEXTURE1),this.callSuper("applyToWebGL",ke),this.unbindAdditionalTexture(Pe,Pe.TEXTURE1)},createTexture:function(ke,Pe){return ke.getCachedTexture(Pe.cacheKey,Pe._element)},calculateMatrix:function(){var ke=this.image,Pe=ke._element.width,xe=ke._element.height;return[1/ke.scaleX,0,0,0,1/ke.scaleY,0,-ke.left/Pe,-ke.top/xe,1]},applyTo2d:function(ke){var Pe=ke.imageData,xe=ke.filterBackend.resources,Fe=Pe.data,Ie=Fe.length,Me=Pe.width,Oe=Pe.height,Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge,St=this.image,mr;xe.blendImage||(xe.blendImage=Ce.util.createCanvasElement()),nr=xe.blendImage,Ge=nr.getContext("2d"),nr.width!==Me||nr.height!==Oe?(nr.width=Me,nr.height=Oe):Ge.clearRect(0,0,Me,Oe),Ge.setTransform(St.scaleX,0,0,St.scaleY,St.left,St.top),Ge.drawImage(St._element,0,0,Me,Oe),mr=Ge.getImageData(0,0,Me,Oe).data;for(var pr=0;pr<Ie;pr+=4)switch(He=Fe[pr],$e=Fe[pr+1],Ue=Fe[pr+2],Xe=Fe[pr+3],Be=mr[pr],je=mr[pr+1],Ve=mr[pr+2],ze=mr[pr+3],this.mode){case"multiply":Fe[pr]=He*Be/255,Fe[pr+1]=$e*je/255,Fe[pr+2]=Ue*Ve/255,Fe[pr+3]=Xe*ze/255;break;case"mask":Fe[pr+3]=ze;break}},getUniformLocations:function(ke,Pe){return{uTransformMatrix:ke.getUniformLocation(Pe,"uTransformMatrix"),uImage:ke.getUniformLocation(Pe,"uImage")}},sendUniformData:function(ke,Pe){var xe=this.calculateMatrix();ke.uniform1i(Pe.uImage,1),ke.uniformMatrix3fv(Pe.uTransformMatrix,!1,xe)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),Ce.Image.filters.BlendImage.fromObject=function(ke,Pe){Ce.Image.fromObject(ke.image,function(xe){var Fe=Ce.util.object.clone(ke);Fe.image=xe,Pe(new Ce.Image.filters.BlendImage(Fe))})}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Math.pow,De=Math.floor,ke=Math.sqrt,Pe=Math.abs,xe=Math.round,Fe=Math.sin,Ie=Math.ceil,Me=Ce.Image.filters,Oe=Ce.util.createClass;Me.Resize=Oe(Me.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(Be,je){return{uDelta:Be.getUniformLocation(je,"uDelta"),uTaps:Be.getUniformLocation(je,"uTaps")}},sendUniformData:function(Be,je){Be.uniform2fv(je.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),Be.uniform1fv(je.uTaps,this.taps)},retrieveShader:function(Be){var je=this.getFilterWindow(),Ve=this.type+"_"+je;if(!Be.programCache.hasOwnProperty(Ve)){var ze=this.generateShader(je);Be.programCache[Ve]=this.createProgram(Be.context,ze)}return Be.programCache[Ve]},getFilterWindow:function(){var Be=this.tempScale;return Math.ceil(this.lanczosLobes/Be)},getTaps:function(){for(var Be=this.lanczosCreate(this.lanczosLobes),je=this.tempScale,Ve=this.getFilterWindow(),ze=new Array(Ve),He=1;He<=Ve;He++)ze[He-1]=Be(He*je);return ze},generateShader:function(ze){for(var je=new Array(ze),Ve=this.fragmentSourceTOP,ze,He=1;He<=ze;He++)je[He-1]=He+".0 * uDelta";return Ve+="uniform float uTaps["+ze+`];
`,Ve+=`void main() {
`,Ve+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,Ve+=`  float sum = 1.0;
`,je.forEach(function($e,Ue){Ve+="  color += texture2D(uTexture, vTexCoord + "+$e+") * uTaps["+Ue+`];
`,Ve+="  color += texture2D(uTexture, vTexCoord - "+$e+") * uTaps["+Ue+`];
`,Ve+="  sum += 2.0 * uTaps["+Ue+`];
`}),Ve+=`  gl_FragColor = color / sum;
`,Ve+="}",Ve},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(Be){Be.webgl?(Be.passes++,this.width=Be.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=Be.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),Be.destinationWidth=this.dW,this._setupFrameBuffer(Be),this.applyToWebGL(Be),this._swapTextures(Be),Be.sourceWidth=Be.destinationWidth,this.height=Be.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),Be.destinationHeight=this.dH,this._setupFrameBuffer(Be),this.applyToWebGL(Be),this._swapTextures(Be),Be.sourceHeight=Be.destinationHeight):this.applyTo2d(Be)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(Be){return function(je){if(je>=Be||je<=-Be)return 0;if(je<11920929e-14&&je>-11920929e-14)return 1;je*=Math.PI;var Ve=je/Be;return Fe(je)/je*Fe(Ve)/Ve}},applyTo2d:function(Be){var je=Be.imageData,Ve=this.scaleX,ze=this.scaleY;this.rcpScaleX=1/Ve,this.rcpScaleY=1/ze;var He=je.width,$e=je.height,Ue=xe(He*Ve),Xe=xe($e*ze),nr;this.resizeType==="sliceHack"?nr=this.sliceByTwo(Be,He,$e,Ue,Xe):this.resizeType==="hermite"?nr=this.hermiteFastResize(Be,He,$e,Ue,Xe):this.resizeType==="bilinear"?nr=this.bilinearFiltering(Be,He,$e,Ue,Xe):this.resizeType==="lanczos"&&(nr=this.lanczosResize(Be,He,$e,Ue,Xe)),Be.imageData=nr},sliceByTwo:function(Be,je,Ve,ze,He){var $e=Be.imageData,Ue=.5,Xe=!1,nr=!1,Ge=je*Ue,St=Ve*Ue,mr=Ce.filterBackend.resources,pr,vr,dr=0,gr=0,sr=je,tr=0;for(mr.sliceByTwo||(mr.sliceByTwo=document.createElement("canvas")),pr=mr.sliceByTwo,(pr.width<je*1.5||pr.height<Ve)&&(pr.width=je*1.5,pr.height=Ve),vr=pr.getContext("2d"),vr.clearRect(0,0,je*1.5,Ve),vr.putImageData($e,0,0),ze=De(ze),He=De(He);!Xe||!nr;)je=Ge,Ve=St,ze<De(Ge*Ue)?Ge=De(Ge*Ue):(Ge=ze,Xe=!0),He<De(St*Ue)?St=De(St*Ue):(St=He,nr=!0),vr.drawImage(pr,dr,gr,je,Ve,sr,tr,Ge,St),dr=sr,gr=tr,tr+=St;return vr.getImageData(dr,gr,ze,He)},lanczosResize:function(Be,je,Ve,ze,He){function $e(Sr){var Je,Ze,Ye,We,or,fr,_r,yr,xr,Ar,cr;for(tr.x=(Sr+.5)*St,hr.x=De(tr.x),Je=0;Je<He;Je++){for(tr.y=(Je+.5)*mr,hr.y=De(tr.y),or=0,fr=0,_r=0,yr=0,xr=0,Ze=hr.x-dr;Ze<=hr.x+dr;Ze++)if(!(Ze<0||Ze>=je)){Ar=De(1e3*Pe(Ze-tr.x)),sr[Ar]||(sr[Ar]={});for(var ar=hr.y-gr;ar<=hr.y+gr;ar++)ar<0||ar>=Ve||(cr=De(1e3*Pe(ar-tr.y)),sr[Ar][cr]||(sr[Ar][cr]=Ge(ke(Te(Ar*pr,2)+Te(cr*vr,2))/1e3)),Ye=sr[Ar][cr],Ye>0&&(We=(ar*je+Ze)*4,or+=Ye,fr+=Ye*Ue[We],_r+=Ye*Ue[We+1],yr+=Ye*Ue[We+2],xr+=Ye*Ue[We+3]))}We=(Je*ze+Sr)*4,nr[We]=fr/or,nr[We+1]=_r/or,nr[We+2]=yr/or,nr[We+3]=xr/or}return++Sr<ze?$e(Sr):Xe}var Ue=Be.imageData.data,Xe=Be.ctx.createImageData(ze,He),nr=Xe.data,Ge=this.lanczosCreate(this.lanczosLobes),St=this.rcpScaleX,mr=this.rcpScaleY,pr=2/this.rcpScaleX,vr=2/this.rcpScaleY,dr=Ie(St*this.lanczosLobes/2),gr=Ie(mr*this.lanczosLobes/2),sr={},tr={},hr={};return $e(0)},bilinearFiltering:function(Be,je,Ve,ze,He){var $e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr=0,hr,Sr=this.rcpScaleX,Je=this.rcpScaleY,Ze=4*(je-1),Ye=Be.imageData,We=Ye.data,or=Be.ctx.createImageData(ze,He),fr=or.data;for(mr=0;mr<He;mr++)for(pr=0;pr<ze;pr++)for(Ge=De(Sr*pr),St=De(Je*mr),vr=Sr*pr-Ge,dr=Je*mr-St,hr=4*(St*je+Ge),gr=0;gr<4;gr++)$e=We[hr+gr],Ue=We[hr+4+gr],Xe=We[hr+Ze+gr],nr=We[hr+Ze+4+gr],sr=$e*(1-vr)*(1-dr)+Ue*vr*(1-dr)+Xe*dr*(1-vr)+nr*vr*dr,fr[tr++]=sr;return or},hermiteFastResize:function(Be,je,Ve,ze,He){for(var $e=this.rcpScaleX,Ue=this.rcpScaleY,Xe=Ie($e/2),nr=Ie(Ue/2),Ge=Be.imageData,St=Ge.data,mr=Be.ctx.createImageData(ze,He),pr=mr.data,vr=0;vr<He;vr++)for(var dr=0;dr<ze;dr++){for(var gr=(dr+vr*ze)*4,sr=0,tr=0,hr=0,Sr=0,Je=0,Ze=0,Ye=0,We=(vr+.5)*Ue,or=De(vr*Ue);or<(vr+1)*Ue;or++)for(var fr=Pe(We-(or+.5))/nr,_r=(dr+.5)*$e,yr=fr*fr,xr=De(dr*$e);xr<(dr+1)*$e;xr++){var Ar=Pe(_r-(xr+.5))/Xe,cr=ke(yr+Ar*Ar);cr>1&&cr<-1||(sr=2*cr*cr*cr-3*cr*cr+1,sr>0&&(Ar=4*(xr+or*je),Ye+=sr*St[Ar+3],hr+=sr,St[Ar+3]<255&&(sr=sr*St[Ar+3]/250),Sr+=sr*St[Ar],Je+=sr*St[Ar+1],Ze+=sr*St[Ar+2],tr+=sr))}pr[gr]=Sr/tr,pr[gr+1]=Je/tr,pr[gr+2]=Ze/tr,pr[gr+3]=Ye/hr}return mr},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),Ce.Image.filters.Resize.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Contrast=De(Te.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(ke){if(this.contrast!==0){var Pe=ke.imageData,xe,Ie,Fe=Pe.data,Ie=Fe.length,Me=Math.floor(this.contrast*255),Oe=259*(Me+255)/(255*(259-Me));for(xe=0;xe<Ie;xe+=4)Fe[xe]=Oe*(Fe[xe]-128)+128,Fe[xe+1]=Oe*(Fe[xe+1]-128)+128,Fe[xe+2]=Oe*(Fe[xe+2]-128)+128}},getUniformLocations:function(ke,Pe){return{uContrast:ke.getUniformLocation(Pe,"uContrast")}},sendUniformData:function(ke,Pe){ke.uniform1f(Pe.uContrast,this.contrast)}}),Ce.Image.filters.Contrast.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Saturation=De(Te.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(ke){if(this.saturation!==0){var Pe=ke.imageData,xe=Pe.data,Fe=xe.length,Ie=-this.saturation,Me,Oe;for(Me=0;Me<Fe;Me+=4)Oe=Math.max(xe[Me],xe[Me+1],xe[Me+2]),xe[Me]+=Oe!==xe[Me]?(Oe-xe[Me])*Ie:0,xe[Me+1]+=Oe!==xe[Me+1]?(Oe-xe[Me+1])*Ie:0,xe[Me+2]+=Oe!==xe[Me+2]?(Oe-xe[Me+2])*Ie:0}},getUniformLocations:function(ke,Pe){return{uSaturation:ke.getUniformLocation(Pe,"uSaturation")}},sendUniformData:function(ke,Pe){ke.uniform1f(Pe.uSaturation,-this.saturation)}}),Ce.Image.filters.Saturation.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Vibrance=De(Te.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(ke){if(this.vibrance!==0){var Pe=ke.imageData,xe=Pe.data,Fe=xe.length,Ie=-this.vibrance,Me,Oe,Be,je;for(Me=0;Me<Fe;Me+=4)Oe=Math.max(xe[Me],xe[Me+1],xe[Me+2]),Be=(xe[Me]+xe[Me+1]+xe[Me+2])/3,je=Math.abs(Oe-Be)*2/255*Ie,xe[Me]+=Oe!==xe[Me]?(Oe-xe[Me])*je:0,xe[Me+1]+=Oe!==xe[Me+1]?(Oe-xe[Me+1])*je:0,xe[Me+2]+=Oe!==xe[Me+2]?(Oe-xe[Me+2])*je:0}},getUniformLocations:function(ke,Pe){return{uVibrance:ke.getUniformLocation(Pe,"uVibrance")}},sendUniformData:function(ke,Pe){ke.uniform1f(Pe.uVibrance,-this.vibrance)}}),Ce.Image.filters.Vibrance.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Blur=De(Te.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(ke){ke.webgl?(this.aspectRatio=ke.sourceWidth/ke.sourceHeight,ke.passes++,this._setupFrameBuffer(ke),this.horizontal=!0,this.applyToWebGL(ke),this._swapTextures(ke),this._setupFrameBuffer(ke),this.horizontal=!1,this.applyToWebGL(ke),this._swapTextures(ke)):this.applyTo2d(ke)},applyTo2d:function(ke){ke.imageData=this.simpleBlur(ke)},simpleBlur:function(ke){var Pe=ke.filterBackend.resources,xe,Fe,Ie=ke.imageData.width,Me=ke.imageData.height;Pe.blurLayer1||(Pe.blurLayer1=Ce.util.createCanvasElement(),Pe.blurLayer2=Ce.util.createCanvasElement()),xe=Pe.blurLayer1,Fe=Pe.blurLayer2,(xe.width!==Ie||xe.height!==Me)&&(Fe.width=xe.width=Ie,Fe.height=xe.height=Me);var Oe=xe.getContext("2d"),Be=Fe.getContext("2d"),je=15,Ve,ze,He,$e,Ue=this.blur*.06*.5;for(Oe.putImageData(ke.imageData,0,0),Be.clearRect(0,0,Ie,Me),$e=-je;$e<=je;$e++)Ve=(Math.random()-.5)/4,ze=$e/je,He=Ue*ze*Ie+Ve,Be.globalAlpha=1-Math.abs(ze),Be.drawImage(xe,He,Ve),Oe.drawImage(Fe,0,0),Be.globalAlpha=1,Be.clearRect(0,0,Fe.width,Fe.height);for($e=-je;$e<=je;$e++)Ve=(Math.random()-.5)/4,ze=$e/je,He=Ue*ze*Me+Ve,Be.globalAlpha=1-Math.abs(ze),Be.drawImage(xe,Ve,He),Oe.drawImage(Fe,0,0),Be.globalAlpha=1,Be.clearRect(0,0,Fe.width,Fe.height);ke.ctx.drawImage(xe,0,0);var Xe=ke.ctx.getImageData(0,0,xe.width,xe.height);return Oe.globalAlpha=1,Oe.clearRect(0,0,xe.width,xe.height),Xe},getUniformLocations:function(ke,Pe){return{delta:ke.getUniformLocation(Pe,"uDelta")}},sendUniformData:function(ke,Pe){var xe=this.chooseRightDelta();ke.uniform2fv(Pe.delta,xe)},chooseRightDelta:function(){var ke=1,Pe=[0,0],xe;return this.horizontal?this.aspectRatio>1&&(ke=1/this.aspectRatio):this.aspectRatio<1&&(ke=this.aspectRatio),xe=ke*this.blur*.12,this.horizontal?Pe[0]=xe:Pe[1]=xe,Pe}}),Te.Blur.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Gamma=De(Te.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(ke){this.gamma=[1,1,1],Te.BaseFilter.prototype.initialize.call(this,ke)},applyTo2d:function(ke){var Pe=ke.imageData,xe=Pe.data,Fe=this.gamma,Ie=xe.length,Me=1/Fe[0],Oe=1/Fe[1],Be=1/Fe[2],je;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),je=0,Ie=256;je<Ie;je++)this.rVals[je]=Math.pow(je/255,Me)*255,this.gVals[je]=Math.pow(je/255,Oe)*255,this.bVals[je]=Math.pow(je/255,Be)*255;for(je=0,Ie=xe.length;je<Ie;je+=4)xe[je]=this.rVals[xe[je]],xe[je+1]=this.gVals[xe[je+1]],xe[je+2]=this.bVals[xe[je+2]]},getUniformLocations:function(ke,Pe){return{uGamma:ke.getUniformLocation(Pe,"uGamma")}},sendUniformData:function(ke,Pe){ke.uniform3fv(Pe.uGamma,this.gamma)}}),Ce.Image.filters.Gamma.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.Composed=De(Te.BaseFilter,{type:"Composed",subFilters:[],initialize:function(ke){this.callSuper("initialize",ke),this.subFilters=this.subFilters.slice(0)},applyTo:function(ke){ke.passes+=this.subFilters.length-1,this.subFilters.forEach(function(Pe){Pe.applyTo(ke)})},toObject:function(){return Ce.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(ke){return ke.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(ke){return!ke.isNeutralState()})}}),Ce.Image.filters.Composed.fromObject=function(ke,Pe){var xe=ke.subFilters||[],Fe=xe.map(function(Me){return new Ce.Image.filters[Me.type](Me)}),Ie=new Ce.Image.filters.Composed({subFilters:Fe});return Pe&&Pe(Ie),Ie}}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.Image.filters,De=Ce.util.createClass;Te.HueRotation=De(Te.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var ke=this.rotation*Math.PI,Pe=Ce.util.cos(ke),xe=Ce.util.sin(ke),Fe=1/3,Ie=Math.sqrt(Fe)*xe,Me=1-Pe;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=Pe+Me/3,this.matrix[1]=Fe*Me-Ie,this.matrix[2]=Fe*Me+Ie,this.matrix[5]=Fe*Me+Ie,this.matrix[6]=Pe+Fe*Me,this.matrix[7]=Fe*Me-Ie,this.matrix[10]=Fe*Me-Ie,this.matrix[11]=Fe*Me+Ie,this.matrix[12]=Pe+Fe*Me},isNeutralState:function(ke){return this.calculateMatrix(),Te.BaseFilter.prototype.isNeutralState.call(this,ke)},applyTo:function(ke){this.calculateMatrix(),Te.BaseFilter.prototype.applyTo.call(this,ke)}}),Ce.Image.filters.HueRotation.fromObject=Ce.Image.filters.BaseFilter.fromObject}(t),function(Ee){var Ce=Ee.fabric||(Ee.fabric={}),Te=Ce.util.object.clone;if(Ce.Text){Ce.warn("fabric.Text is already defined");return}var De="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");Ce.Text=Ce.util.createClass(Ce.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:Ce.Object.prototype.stateProperties.concat(De),cacheProperties:Ce.Object.prototype.cacheProperties.concat(De),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(ke,Pe){this.styles=Pe?Pe.styles||{}:{},this.text=ke,this.__skipDimension=!0,this.callSuper("initialize",Pe),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var ke=this.path;ke&&(ke.segmentsInfo=Ce.util.getPathSegmentsInfo(ke.path))},getMeasuringContext:function(){return Ce._measuringContext||(Ce._measuringContext=this.canvas&&this.canvas.contextCache||Ce.util.createCanvasElement().getContext("2d")),Ce._measuringContext},_splitText:function(){var ke=this._splitTextIntoLines(this.text);return this.textLines=ke.lines,this._textLines=ke.graphemeLines,this._unwrappedTextLines=ke._unwrappedLines,this._text=ke.graphemeText,ke},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var ke,Pe,xe,Fe,Ie,Me,Oe,Be=0,je=this._textLines.length;Be<je;Be++)if(!(this.textAlign!=="justify"&&(Be===je-1||this.isEndOfWrapping(Be)))&&(Fe=0,Ie=this._textLines[Be],Pe=this.getLineWidth(Be),Pe<this.width&&(Oe=this.textLines[Be].match(this._reSpacesAndTabs)))){xe=Oe.length,ke=(this.width-Pe)/xe;for(var Ve=0,ze=Ie.length;Ve<=ze;Ve++)Me=this.__charBounds[Be][Ve],this._reSpaceAndTab.test(Ie[Ve])?(Me.width+=ke,Me.kernedWidth+=ke,Me.left+=Fe,Fe+=ke):Me.left+=Fe}},isEndOfWrapping:function(ke){return ke===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var ke=this.callSuper("_getCacheCanvasDimensions"),Pe=this.fontSize;return ke.width+=Pe*ke.zoomX,ke.height+=Pe*ke.zoomY,ke},_render:function(ke){var Pe=this.path;Pe&&!Pe.isNotVisible()&&Pe._render(ke),this._setTextStyles(ke),this._renderTextLinesBackground(ke),this._renderTextDecoration(ke,"underline"),this._renderText(ke),this._renderTextDecoration(ke,"overline"),this._renderTextDecoration(ke,"linethrough")},_renderText:function(ke){this.paintFirst==="stroke"?(this._renderTextStroke(ke),this._renderTextFill(ke)):(this._renderTextFill(ke),this._renderTextStroke(ke))},_setTextStyles:function(ke,Pe,xe){if(ke.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":ke.textBaseline="middle";break;case"ascender":ke.textBaseline="top";break;case"descender":ke.textBaseline="bottom";break}ke.font=this._getFontDeclaration(Pe,xe)},calcTextWidth:function(){for(var ke=this.getLineWidth(0),Pe=1,xe=this._textLines.length;Pe<xe;Pe++){var Fe=this.getLineWidth(Pe);Fe>ke&&(ke=Fe)}return ke},_renderTextLine:function(ke,Pe,xe,Fe,Ie,Me){this._renderChars(ke,Pe,xe,Fe,Ie,Me)},_renderTextLinesBackground:function(ke){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var Pe,xe,Fe=ke.fillStyle,Ie,Me,Oe=this._getLeftOffset(),Be=this._getTopOffset(),je=0,Ve=0,ze,He,$e=this.path,Ue,Xe=0,nr=this._textLines.length;Xe<nr;Xe++){if(Pe=this.getHeightOfLine(Xe),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Xe)){Be+=Pe;continue}Ie=this._textLines[Xe],xe=this._getLineLeftOffset(Xe),Ve=0,je=0,Me=this.getValueOfPropertyAt(Xe,0,"textBackgroundColor");for(var Ge=0,St=Ie.length;Ge<St;Ge++)ze=this.__charBounds[Xe][Ge],He=this.getValueOfPropertyAt(Xe,Ge,"textBackgroundColor"),$e?(ke.save(),ke.translate(ze.renderLeft,ze.renderTop),ke.rotate(ze.angle),ke.fillStyle=He,He&&ke.fillRect(-ze.width/2,-Pe/this.lineHeight*(1-this._fontSizeFraction),ze.width,Pe/this.lineHeight),ke.restore()):He!==Me?(Ue=Oe+xe+je,this.direction==="rtl"&&(Ue=this.width-Ue-Ve),ke.fillStyle=Me,Me&&ke.fillRect(Ue,Be,Ve,Pe/this.lineHeight),je=ze.left,Ve=ze.width,Me=He):Ve+=ze.kernedWidth;He&&!$e&&(Ue=Oe+xe+je,this.direction==="rtl"&&(Ue=this.width-Ue-Ve),ke.fillStyle=He,ke.fillRect(Ue,Be,Ve,Pe/this.lineHeight)),Be+=Pe}ke.fillStyle=Fe,this._removeShadow(ke)}},getFontCache:function(ke){var Pe=ke.fontFamily.toLowerCase();Ce.charWidthsCache[Pe]||(Ce.charWidthsCache[Pe]={});var xe=Ce.charWidthsCache[Pe],Fe=ke.fontStyle.toLowerCase()+"_"+(ke.fontWeight+"").toLowerCase();return xe[Fe]||(xe[Fe]={}),xe[Fe]},_measureChar:function(ke,Pe,xe,Fe){var Ie=this.getFontCache(Pe),Me=this._getFontDeclaration(Pe),Oe=this._getFontDeclaration(Fe),Be=xe+ke,je=Me===Oe,Ve,ze,He,$e=Pe.fontSize/this.CACHE_FONT_SIZE,Ue;if(xe&&Ie[xe]!==void 0&&(He=Ie[xe]),Ie[ke]!==void 0&&(Ue=Ve=Ie[ke]),je&&Ie[Be]!==void 0&&(ze=Ie[Be],Ue=ze-He),Ve===void 0||He===void 0||ze===void 0){var Xe=this.getMeasuringContext();this._setTextStyles(Xe,Pe,!0)}return Ve===void 0&&(Ue=Ve=Xe.measureText(ke).width,Ie[ke]=Ve),He===void 0&&je&&xe&&(He=Xe.measureText(xe).width,Ie[xe]=He),je&&ze===void 0&&(ze=Xe.measureText(Be).width,Ie[Be]=ze,Ue=ze-He),{width:Ve*$e,kernedWidth:Ue*$e}},getHeightOfChar:function(ke,Pe){return this.getValueOfPropertyAt(ke,Pe,"fontSize")},measureLine:function(ke){var Pe=this._measureLine(ke);return this.charSpacing!==0&&(Pe.width-=this._getWidthOfCharSpacing()),Pe.width<0&&(Pe.width=0),Pe},_measureLine:function(ke){var Pe=0,xe,Fe,Ie=this._textLines[ke],Me,Oe,Be=0,je=new Array(Ie.length),Ve=0,ze,He,$e=this.path,Ue=this.pathSide==="right";for(this.__charBounds[ke]=je,xe=0;xe<Ie.length;xe++)Fe=Ie[xe],Oe=this._getGraphemeBox(Fe,ke,xe,Me),je[xe]=Oe,Pe+=Oe.kernedWidth,Me=Fe;if(je[xe]={left:Oe?Oe.left+Oe.width:0,width:0,kernedWidth:0,height:this.fontSize},$e){switch(He=$e.segmentsInfo[$e.segmentsInfo.length-1].length,ze=Ce.util.getPointOnPath($e.path,0,$e.segmentsInfo),ze.x+=$e.pathOffset.x,ze.y+=$e.pathOffset.y,this.textAlign){case"left":Ve=Ue?He-Pe:0;break;case"center":Ve=(He-Pe)/2;break;case"right":Ve=Ue?0:He-Pe;break}for(Ve+=this.pathStartOffset*(Ue?-1:1),xe=Ue?Ie.length-1:0;Ue?xe>=0:xe<Ie.length;Ue?xe--:xe++)Oe=je[xe],Ve>He?Ve%=He:Ve<0&&(Ve+=He),this._setGraphemeOnPath(Ve,Oe,ze),Ve+=Oe.kernedWidth}return{width:Pe,numOfSpaces:Be}},_setGraphemeOnPath:function(ke,Pe,xe){var Fe=ke+Pe.kernedWidth/2,Ie=this.path,Me=Ce.util.getPointOnPath(Ie.path,Fe,Ie.segmentsInfo);Pe.renderLeft=Me.x-xe.x,Pe.renderTop=Me.y-xe.y,Pe.angle=Me.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(ke,Pe,xe,Fe,Ie){var Me=this.getCompleteStyleDeclaration(Pe,xe),Oe=Fe?this.getCompleteStyleDeclaration(Pe,xe-1):{},Be=this._measureChar(ke,Me,Fe,Oe),je=Be.kernedWidth,Ve=Be.width,ze;this.charSpacing!==0&&(ze=this._getWidthOfCharSpacing(),Ve+=ze,je+=ze);var He={width:Ve,left:0,height:Me.fontSize,kernedWidth:je,deltaY:Me.deltaY};if(xe>0&&!Ie){var $e=this.__charBounds[Pe][xe-1];He.left=$e.left+$e.width+Be.kernedWidth-Be.width}return He},getHeightOfLine:function(ke){if(this.__lineHeights[ke])return this.__lineHeights[ke];for(var Pe=this._textLines[ke],xe=this.getHeightOfChar(ke,0),Fe=1,Ie=Pe.length;Fe<Ie;Fe++)xe=Math.max(this.getHeightOfChar(ke,Fe),xe);return this.__lineHeights[ke]=xe*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var ke,Pe=0,xe=0,Fe=this._textLines.length;xe<Fe;xe++)ke=this.getHeightOfLine(xe),Pe+=xe===Fe-1?ke/this.lineHeight:ke;return Pe},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(ke,Pe){ke.save();for(var xe=0,Fe=this._getLeftOffset(),Ie=this._getTopOffset(),Me=0,Oe=this._textLines.length;Me<Oe;Me++){var Be=this.getHeightOfLine(Me),je=Be/this.lineHeight,Ve=this._getLineLeftOffset(Me);this._renderTextLine(Pe,ke,this._textLines[Me],Fe+Ve,Ie+xe+je,Me),xe+=Be}ke.restore()},_renderTextFill:function(ke){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(ke,"fillText")},_renderTextStroke:function(ke){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(ke),ke.save(),this._setLineDash(ke,this.strokeDashArray),ke.beginPath(),this._renderTextCommon(ke,"strokeText"),ke.closePath(),ke.restore())},_renderChars:function(ke,Pe,xe,Fe,Ie,Me){var Oe=this.getHeightOfLine(Me),Be=this.textAlign.indexOf("justify")!==-1,je,Ve,ze="",He,$e=0,Ue,Xe=this.path,nr=!Be&&this.charSpacing===0&&this.isEmptyStyles(Me)&&!Xe,Ge=this.direction==="ltr",St=this.direction==="ltr"?1:-1,mr,pr=Pe.canvas.getAttribute("dir");if(Pe.save(),pr!==this.direction&&(Pe.canvas.setAttribute("dir",Ge?"ltr":"rtl"),Pe.direction=Ge?"ltr":"rtl",Pe.textAlign=Ge?"left":"right"),Ie-=Oe*this._fontSizeFraction/this.lineHeight,nr){this._renderChar(ke,Pe,Me,0,xe.join(""),Fe,Ie,Oe),Pe.restore();return}for(var vr=0,dr=xe.length-1;vr<=dr;vr++)Ue=vr===dr||this.charSpacing||Xe,ze+=xe[vr],He=this.__charBounds[Me][vr],$e===0?(Fe+=St*(He.kernedWidth-He.width),$e+=He.width):$e+=He.kernedWidth,Be&&!Ue&&this._reSpaceAndTab.test(xe[vr])&&(Ue=!0),Ue||(je=je||this.getCompleteStyleDeclaration(Me,vr),Ve=this.getCompleteStyleDeclaration(Me,vr+1),Ue=Ce.util.hasStyleChanged(je,Ve,!1)),Ue&&(Xe?(Pe.save(),Pe.translate(He.renderLeft,He.renderTop),Pe.rotate(He.angle),this._renderChar(ke,Pe,Me,vr,ze,-$e/2,0,Oe),Pe.restore()):(mr=Fe,this._renderChar(ke,Pe,Me,vr,ze,mr,Ie,Oe)),ze="",je=Ve,Fe+=St*$e,$e=0);Pe.restore()},_applyPatternGradientTransformText:function(ke){var Pe=Ce.util.createCanvasElement(),xe,Fe=this.width+this.strokeWidth,Ie=this.height+this.strokeWidth;return Pe.width=Fe,Pe.height=Ie,xe=Pe.getContext("2d"),xe.beginPath(),xe.moveTo(0,0),xe.lineTo(Fe,0),xe.lineTo(Fe,Ie),xe.lineTo(0,Ie),xe.closePath(),xe.translate(Fe/2,Ie/2),xe.fillStyle=ke.toLive(xe),this._applyPatternGradientTransform(xe,ke),xe.fill(),xe.createPattern(Pe,"no-repeat")},handleFiller:function(ke,Pe,xe){var Fe,Ie;return xe.toLive?xe.gradientUnits==="percentage"||xe.gradientTransform||xe.patternTransform?(Fe=-this.width/2,Ie=-this.height/2,ke.translate(Fe,Ie),ke[Pe]=this._applyPatternGradientTransformText(xe),{offsetX:Fe,offsetY:Ie}):(ke[Pe]=xe.toLive(ke,this),this._applyPatternGradientTransform(ke,xe)):(ke[Pe]=xe,{offsetX:0,offsetY:0})},_setStrokeStyles:function(ke,Pe){return ke.lineWidth=Pe.strokeWidth,ke.lineCap=this.strokeLineCap,ke.lineDashOffset=this.strokeDashOffset,ke.lineJoin=this.strokeLineJoin,ke.miterLimit=this.strokeMiterLimit,this.handleFiller(ke,"strokeStyle",Pe.stroke)},_setFillStyles:function(ke,Pe){return this.handleFiller(ke,"fillStyle",Pe.fill)},_renderChar:function(ke,Pe,xe,Fe,Ie,Me,Oe){var Be=this._getStyleDeclaration(xe,Fe),je=this.getCompleteStyleDeclaration(xe,Fe),Ve=ke==="fillText"&&je.fill,ze=ke==="strokeText"&&je.stroke&&je.strokeWidth,He,$e;!ze&&!Ve||(Pe.save(),Ve&&(He=this._setFillStyles(Pe,je)),ze&&($e=this._setStrokeStyles(Pe,je)),Pe.font=this._getFontDeclaration(je),Be&&Be.textBackgroundColor&&this._removeShadow(Pe),Be&&Be.deltaY&&(Oe+=Be.deltaY),Ve&&Pe.fillText(Ie,Me-He.offsetX,Oe-He.offsetY),ze&&Pe.strokeText(Ie,Me-$e.offsetX,Oe-$e.offsetY),Pe.restore())},setSuperscript:function(ke,Pe){return this._setScript(ke,Pe,this.superscript)},setSubscript:function(ke,Pe){return this._setScript(ke,Pe,this.subscript)},_setScript:function(ke,Pe,xe){var Fe=this.get2DCursorLocation(ke,!0),Ie=this.getValueOfPropertyAt(Fe.lineIndex,Fe.charIndex,"fontSize"),Me=this.getValueOfPropertyAt(Fe.lineIndex,Fe.charIndex,"deltaY"),Oe={fontSize:Ie*xe.size,deltaY:Me+Ie*xe.baseline};return this.setSelectionStyles(Oe,ke,Pe),this},_getLineLeftOffset:function(ke){var Pe=this.getLineWidth(ke),xe=this.width-Pe,Fe=this.textAlign,Ie=this.direction,Oe,Me=0,Oe=this.isEndOfWrapping(ke);return Fe==="justify"||Fe==="justify-center"&&!Oe||Fe==="justify-right"&&!Oe||Fe==="justify-left"&&!Oe?0:(Fe==="center"&&(Me=xe/2),Fe==="right"&&(Me=xe),Fe==="justify-center"&&(Me=xe/2),Fe==="justify-right"&&(Me=xe),Ie==="rtl"&&(Me-=xe),Me)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var ke=this._forceClearCache;return ke||(ke=this.hasStateChanged("_dimensionAffectingProps")),ke&&(this.dirty=!0,this._forceClearCache=!1),ke},getLineWidth:function(ke){if(this.__lineWidths[ke]!==void 0)return this.__lineWidths[ke];var Pe=this.measureLine(ke),xe=Pe.width;return this.__lineWidths[ke]=xe,xe},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(ke,Pe,xe){var Fe=this._getStyleDeclaration(ke,Pe);return Fe&&typeof Fe[xe]<"u"?Fe[xe]:this[xe]},_renderTextDecoration:function(ke,Pe){if(!(!this[Pe]&&!this.styleHas(Pe))){for(var xe,Fe,Ie,Me,Oe,Be,je,Ve,ze=this._getLeftOffset(),He=this._getTopOffset(),$e,Ue,Xe,nr,Ge,St,mr,pr,vr=this.path,dr=this._getWidthOfCharSpacing(),gr=this.offsets[Pe],sr=0,tr=this._textLines.length;sr<tr;sr++){if(xe=this.getHeightOfLine(sr),!this[Pe]&&!this.styleHas(Pe,sr)){He+=xe;continue}je=this._textLines[sr],St=xe/this.lineHeight,Me=this._getLineLeftOffset(sr),Ue=0,Xe=0,Ve=this.getValueOfPropertyAt(sr,0,Pe),pr=this.getValueOfPropertyAt(sr,0,"fill"),$e=He+St*(1-this._fontSizeFraction),Fe=this.getHeightOfChar(sr,0),Oe=this.getValueOfPropertyAt(sr,0,"deltaY");for(var hr=0,Sr=je.length;hr<Sr;hr++)if(nr=this.__charBounds[sr][hr],Ge=this.getValueOfPropertyAt(sr,hr,Pe),mr=this.getValueOfPropertyAt(sr,hr,"fill"),Ie=this.getHeightOfChar(sr,hr),Be=this.getValueOfPropertyAt(sr,hr,"deltaY"),vr&&Ge&&mr)ke.save(),ke.fillStyle=pr,ke.translate(nr.renderLeft,nr.renderTop),ke.rotate(nr.angle),ke.fillRect(-nr.kernedWidth/2,gr*Ie+Be,nr.kernedWidth,this.fontSize/15),ke.restore();else if((Ge!==Ve||mr!==pr||Ie!==Fe||Be!==Oe)&&Xe>0){var Je=ze+Me+Ue;this.direction==="rtl"&&(Je=this.width-Je-Xe),Ve&&pr&&(ke.fillStyle=pr,ke.fillRect(Je,$e+gr*Fe+Oe,Xe,this.fontSize/15)),Ue=nr.left,Xe=nr.width,Ve=Ge,pr=mr,Fe=Ie,Oe=Be}else Xe+=nr.kernedWidth;var Je=ze+Me+Ue;this.direction==="rtl"&&(Je=this.width-Je-Xe),ke.fillStyle=mr,Ge&&mr&&ke.fillRect(Je,$e+gr*Fe+Oe,Xe-dr,this.fontSize/15),He+=xe}this._removeShadow(ke)}},_getFontDeclaration:function(ke,Pe){var xe=ke||this,Fe=this.fontFamily,Ie=Ce.Text.genericFonts.indexOf(Fe.toLowerCase())>-1,Me=Fe===void 0||Fe.indexOf("'")>-1||Fe.indexOf(",")>-1||Fe.indexOf('"')>-1||Ie?xe.fontFamily:'"'+xe.fontFamily+'"';return[Ce.isLikelyNode?xe.fontWeight:xe.fontStyle,Ce.isLikelyNode?xe.fontStyle:xe.fontWeight,Pe?this.CACHE_FONT_SIZE+"px":xe.fontSize+"px",Me].join(" ")},render:function(ke){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",ke))},_splitTextIntoLines:function(ke){for(var Pe=ke.split(this._reNewline),xe=new Array(Pe.length),Fe=[`
`],Ie=[],Me=0;Me<Pe.length;Me++)xe[Me]=Ce.util.string.graphemeSplit(Pe[Me]),Ie=Ie.concat(xe[Me],Fe);return Ie.pop(),{_unwrappedLines:xe,lines:Pe,graphemeText:Ie,graphemeLines:xe}},toObject:function(ke){var Pe=De.concat(ke),xe=this.callSuper("toObject",Pe);return xe.styles=Ce.util.stylesToArray(this.styles,this.text),xe.path&&(xe.path=this.path.toObject()),xe},set:function(ke,Pe){this.callSuper("set",ke,Pe);var xe=!1,Fe=!1;if(typeof ke=="object")for(var Ie in ke)Ie==="path"&&this.setPathInfo(),xe=xe||this._dimensionAffectingProps.indexOf(Ie)!==-1,Fe=Fe||Ie==="path";else xe=this._dimensionAffectingProps.indexOf(ke)!==-1,Fe=ke==="path";return Fe&&this.setPathInfo(),xe&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),Ce.Text.ATTRIBUTE_NAMES=Ce.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),Ce.Text.DEFAULT_SVG_FONT_SIZE=16,Ce.Text.fromElement=function(ke,Pe,xe){if(!ke)return Pe(null);var Fe=Ce.parseAttributes(ke,Ce.Text.ATTRIBUTE_NAMES),Ie=Fe.textAnchor||"left";if(xe=Ce.util.object.extend(xe?Te(xe):{},Fe),xe.top=xe.top||0,xe.left=xe.left||0,Fe.textDecoration){var Me=Fe.textDecoration;Me.indexOf("underline")!==-1&&(xe.underline=!0),Me.indexOf("overline")!==-1&&(xe.overline=!0),Me.indexOf("line-through")!==-1&&(xe.linethrough=!0),delete xe.textDecoration}"dx"in Fe&&(xe.left+=Fe.dx),"dy"in Fe&&(xe.top+=Fe.dy),"fontSize"in xe||(xe.fontSize=Ce.Text.DEFAULT_SVG_FONT_SIZE);var Oe="";"textContent"in ke?Oe=ke.textContent:"firstChild"in ke&&ke.firstChild!==null&&"data"in ke.firstChild&&ke.firstChild.data!==null&&(Oe=ke.firstChild.data),Oe=Oe.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var Be=xe.strokeWidth;xe.strokeWidth=0;var je=new Ce.Text(Oe,xe),Ve=je.getScaledHeight()/je.height,ze=(je.height+je.strokeWidth)*je.lineHeight-je.height,He=ze*Ve,$e=je.getScaledHeight()+He,Ue=0;Ie==="center"&&(Ue=je.getScaledWidth()/2),Ie==="right"&&(Ue=je.getScaledWidth()),je.set({left:je.left-Ue,top:je.top-($e-je.fontSize*(.07+je._fontSizeFraction))/je.lineHeight,strokeWidth:typeof Be<"u"?Be:1}),Pe(je)},Ce.Text.fromObject=function(ke,Pe){var xe=Te(ke),Fe=ke.path;return delete xe.path,Ce.Object._fromObject("Text",xe,function(Ie){Ie.styles=Ce.util.stylesFromArray(ke.styles,ke.text),Fe?Ce.Object._fromObject("Path",Fe,function(Me){Ie.set("path",Me),Pe(Ie)},"path"):Pe(Ie)},"text")},Ce.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],Ce.util.createAccessors&&Ce.util.createAccessors(Ce.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(Ee){if(!this.styles||typeof Ee<"u"&&!this.styles[Ee])return!0;var Ce=typeof Ee>"u"?this.styles:{line:this.styles[Ee]};for(var Te in Ce)for(var De in Ce[Te])for(var ke in Ce[Te][De])return!1;return!0},styleHas:function(Ee,Ce){if(!this.styles||!Ee||Ee===""||typeof Ce<"u"&&!this.styles[Ce])return!1;var Te=typeof Ce>"u"?this.styles:{0:this.styles[Ce]};for(var De in Te)for(var ke in Te[De])if(typeof Te[De][ke][Ee]<"u")return!0;return!1},cleanStyle:function(Ee){if(!this.styles||!Ee||Ee==="")return!1;var Ce=this.styles,Te=0,De,ke,Pe=!0,xe=0,Fe;for(var Ie in Ce){De=0;for(var Me in Ce[Ie]){var Fe=Ce[Ie][Me],Oe=Fe.hasOwnProperty(Ee);Te++,Oe?(ke?Fe[Ee]!==ke&&(Pe=!1):ke=Fe[Ee],Fe[Ee]===this[Ee]&&delete Fe[Ee]):Pe=!1,Object.keys(Fe).length!==0?De++:delete Ce[Ie][Me]}De===0&&delete Ce[Ie]}for(var Be=0;Be<this._textLines.length;Be++)xe+=this._textLines[Be].length;Pe&&Te===xe&&(this[Ee]=ke,this.removeStyle(Ee))},removeStyle:function(Ee){if(!(!this.styles||!Ee||Ee==="")){var Ce=this.styles,Te,De,ke;for(De in Ce){Te=Ce[De];for(ke in Te)delete Te[ke][Ee],Object.keys(Te[ke]).length===0&&delete Te[ke];Object.keys(Te).length===0&&delete Ce[De]}}},_extendStyles:function(Ee,Ce){var Te=this.get2DCursorLocation(Ee);this._getLineStyle(Te.lineIndex)||this._setLineStyle(Te.lineIndex),this._getStyleDeclaration(Te.lineIndex,Te.charIndex)||this._setStyleDeclaration(Te.lineIndex,Te.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(Te.lineIndex,Te.charIndex),Ce)},get2DCursorLocation:function(Ee,Ce){typeof Ee>"u"&&(Ee=this.selectionStart);for(var Te=Ce?this._unwrappedTextLines:this._textLines,De=Te.length,ke=0;ke<De;ke++){if(Ee<=Te[ke].length)return{lineIndex:ke,charIndex:Ee};Ee-=Te[ke].length+this.missingNewlineOffset(ke)}return{lineIndex:ke-1,charIndex:Te[ke-1].length<Ee?Te[ke-1].length:Ee}},getSelectionStyles:function(Ee,Ce,Te){typeof Ee>"u"&&(Ee=this.selectionStart||0),typeof Ce>"u"&&(Ce=this.selectionEnd||Ee);for(var De=[],ke=Ee;ke<Ce;ke++)De.push(this.getStyleAtPosition(ke,Te));return De},getStyleAtPosition:function(Ee,Ce){var Te=this.get2DCursorLocation(Ee),De=Ce?this.getCompleteStyleDeclaration(Te.lineIndex,Te.charIndex):this._getStyleDeclaration(Te.lineIndex,Te.charIndex);return De||{}},setSelectionStyles:function(Ee,Ce,Te){typeof Ce>"u"&&(Ce=this.selectionStart||0),typeof Te>"u"&&(Te=this.selectionEnd||Ce);for(var De=Ce;De<Te;De++)this._extendStyles(De,Ee);return this._forceClearCache=!0,this},_getStyleDeclaration:function(Ee,Ce){var Te=this.styles&&this.styles[Ee];return Te?Te[Ce]:null},getCompleteStyleDeclaration:function(Ee,Ce){for(var Te=this._getStyleDeclaration(Ee,Ce)||{},De={},ke,Pe=0;Pe<this._styleProperties.length;Pe++)ke=this._styleProperties[Pe],De[ke]=typeof Te[ke]>"u"?this[ke]:Te[ke];return De},_setStyleDeclaration:function(Ee,Ce,Te){this.styles[Ee][Ce]=Te},_deleteStyleDeclaration:function(Ee,Ce){delete this.styles[Ee][Ce]},_getLineStyle:function(Ee){return!!this.styles[Ee]},_setLineStyle:function(Ee){this.styles[Ee]={}},_deleteLineStyle:function(Ee){delete this.styles[Ee]}})}(),function(){function Ee(Ce){Ce.textDecoration&&(Ce.textDecoration.indexOf("underline")>-1&&(Ce.underline=!0),Ce.textDecoration.indexOf("line-through")>-1&&(Ce.linethrough=!0),Ce.textDecoration.indexOf("overline")>-1&&(Ce.overline=!0),delete Ce.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(Ce,Te){this.callSuper("initialize",Ce,Te),this.initBehavior()},setSelectionStart:function(Ce){Ce=Math.max(Ce,0),this._updateAndFire("selectionStart",Ce)},setSelectionEnd:function(Ce){Ce=Math.min(Ce,this.text.length),this._updateAndFire("selectionEnd",Ce)},_updateAndFire:function(Ce,Te){this[Ce]!==Te&&(this._fireSelectionChanged(),this[Ce]=Te),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(Ce){this.clearContextTop(),this.callSuper("render",Ce),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(Ce){this.callSuper("_render",Ce)},clearContextTop:function(Ce){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var Te=this.canvas.contextTop,De=this.canvas.viewportTransform;Te.save(),Te.transform(De[0],De[1],De[2],De[3],De[4],De[5]),this.transform(Te),this._clearTextArea(Te),Ce||Te.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var Ce=this._getCursorBoundaries(),Te=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(Ce,Te):this.renderSelection(Ce,Te),Te.restore()}},_clearTextArea:function(Ce){var Te=this.width+4,De=this.height+4;Ce.clearRect(-Te/2,-De/2,Te,De)},_getCursorBoundaries:function(Ce){typeof Ce>"u"&&(Ce=this.selectionStart);var Te=this._getLeftOffset(),De=this._getTopOffset(),ke=this._getCursorBoundariesOffsets(Ce);return{left:Te,top:De,leftOffset:ke.left,topOffset:ke.top}},_getCursorBoundariesOffsets:function(Ce){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var Te,De,ke,Pe=0,xe=0,Fe,Ie=this.get2DCursorLocation(Ce);ke=Ie.charIndex,De=Ie.lineIndex;for(var Me=0;Me<De;Me++)Pe+=this.getHeightOfLine(Me);Te=this._getLineLeftOffset(De);var Oe=this.__charBounds[De][ke];return Oe&&(xe=Oe.left),this.charSpacing!==0&&ke===this._textLines[De].length&&(xe-=this._getWidthOfCharSpacing()),Fe={top:Pe,left:Te+(xe>0?xe:0)},this.direction==="rtl"&&(Fe.left*=-1),this.cursorOffsetCache=Fe,this.cursorOffsetCache},renderCursor:function(Ce,Te){var De=this.get2DCursorLocation(),ke=De.lineIndex,Pe=De.charIndex>0?De.charIndex-1:0,xe=this.getValueOfPropertyAt(ke,Pe,"fontSize"),Fe=this.scaleX*this.canvas.getZoom(),Ie=this.cursorWidth/Fe,Me=Ce.topOffset,Oe=this.getValueOfPropertyAt(ke,Pe,"deltaY");Me+=(1-this._fontSizeFraction)*this.getHeightOfLine(ke)/this.lineHeight-xe*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(Ce,Te),Te.fillStyle=this.cursorColor||this.getValueOfPropertyAt(ke,Pe,"fill"),Te.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,Te.fillRect(Ce.left+Ce.leftOffset-Ie/2,Me+Ce.top+Oe,Ie,xe)},renderSelection:function(Ce,Te){for(var De=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,ke=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,Pe=this.textAlign.indexOf("justify")!==-1,xe=this.get2DCursorLocation(De),Fe=this.get2DCursorLocation(ke),Ie=xe.lineIndex,Me=Fe.lineIndex,Oe=xe.charIndex<0?0:xe.charIndex,Be=Fe.charIndex<0?0:Fe.charIndex,je=Ie;je<=Me;je++){var Ve=this._getLineLeftOffset(je)||0,ze=this.getHeightOfLine(je),He=0,$e=0,Ue=0;if(je===Ie&&($e=this.__charBounds[Ie][Oe].left),je>=Ie&&je<Me)Ue=Pe&&!this.isEndOfWrapping(je)?this.width:this.getLineWidth(je)||5;else if(je===Me)if(Be===0)Ue=this.__charBounds[Me][Be].left;else{var Xe=this._getWidthOfCharSpacing();Ue=this.__charBounds[Me][Be-1].left+this.__charBounds[Me][Be-1].width-Xe}He=ze,(this.lineHeight<1||je===Me&&this.lineHeight>1)&&(ze/=this.lineHeight);var nr=Ce.left+Ve+$e,Ge=Ue-$e,St=ze,mr=0;this.inCompositionMode?(Te.fillStyle=this.compositionColor||"black",St=1,mr=ze):Te.fillStyle=this.selectionColor,this.direction==="rtl"&&(nr=this.width-nr-Ge),Te.fillRect(nr,Ce.top+Ce.topOffset+mr,Ge,St),Ce.topOffset+=He}},getCurrentCharFontSize:function(){var Ce=this._getCurrentCharIndex();return this.getValueOfPropertyAt(Ce.l,Ce.c,"fontSize")},getCurrentCharColor:function(){var Ce=this._getCurrentCharIndex();return this.getValueOfPropertyAt(Ce.l,Ce.c,"fill")},_getCurrentCharIndex:function(){var Ce=this.get2DCursorLocation(this.selectionStart,!0),Te=Ce.charIndex>0?Ce.charIndex-1:0;return{l:Ce.lineIndex,c:Te}}}),e.IText.fromObject=function(Ce,Te){var De=e.util.stylesFromArray(Ce.styles,Ce.text),ke=Object.assign({},Ce,{styles:De});if(Ee(ke),ke.styles)for(var Pe in ke.styles)for(var xe in ke.styles[Pe])Ee(ke.styles[Pe][xe]);e.Object._fromObject("IText",ke,Te,"text")}}(),function(){var Ee=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var Ce=this;this.on("added",function(){var Te=Ce.canvas;Te&&(Te._hasITextHandlers||(Te._hasITextHandlers=!0,Ce._initCanvasHandlers(Te)),Te._iTextInstances=Te._iTextInstances||[],Te._iTextInstances.push(Ce))})},initRemovedHandler:function(){var Ce=this;this.on("removed",function(){var Te=Ce.canvas;Te&&(Te._iTextInstances=Te._iTextInstances||[],e.util.removeFromArray(Te._iTextInstances,Ce),Te._iTextInstances.length===0&&(Te._hasITextHandlers=!1,Ce._removeCanvasHandlers(Te)))})},_initCanvasHandlers:function(Ce){Ce._mouseUpITextHandler=function(){Ce._iTextInstances&&Ce._iTextInstances.forEach(function(Te){Te.__isMousedown=!1})},Ce.on("mouse:up",Ce._mouseUpITextHandler)},_removeCanvasHandlers:function(Ce){Ce.off("mouse:up",Ce._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(Ce,Te,De,ke){var Pe;return Pe={isAborted:!1,abort:function(){this.isAborted=!0}},Ce.animate("_currentCursorOpacity",Te,{duration:De,onComplete:function(){Pe.isAborted||Ce[ke]()},onChange:function(){Ce.canvas&&Ce.selectionStart===Ce.selectionEnd&&Ce.renderCursorOrSelection()},abort:function(){return Pe.isAborted}}),Pe},_onTickComplete:function(){var Ce=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){Ce._currentTickCompleteState=Ce._animateCursor(Ce,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(Ce){var Te=this,De=Ce?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){Te._tick()},De)},abortCursorAnimation:function(){var Ce=this._currentTickState||this._currentTickCompleteState,Te=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,Ce&&Te&&Te.clearContext(Te.contextTop||Te.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(Ce){var Te=0,De=Ce-1;if(this._reSpace.test(this._text[De]))for(;this._reSpace.test(this._text[De]);)Te++,De--;for(;/\S/.test(this._text[De])&&De>-1;)Te++,De--;return Ce-Te},findWordBoundaryRight:function(Ce){var Te=0,De=Ce;if(this._reSpace.test(this._text[De]))for(;this._reSpace.test(this._text[De]);)Te++,De++;for(;/\S/.test(this._text[De])&&De<this._text.length;)Te++,De++;return Ce+Te},findLineBoundaryLeft:function(Ce){for(var Te=0,De=Ce-1;!/\n/.test(this._text[De])&&De>-1;)Te++,De--;return Ce-Te},findLineBoundaryRight:function(Ce){for(var Te=0,De=Ce;!/\n/.test(this._text[De])&&De<this._text.length;)Te++,De++;return Ce+Te},searchWordBoundary:function(Ce,Te){for(var De=this._text,ke=this._reSpace.test(De[Ce])?Ce-1:Ce,Pe=De[ke],xe=e.reNonWord;!xe.test(Pe)&&ke>0&&ke<De.length;)ke+=Te,Pe=De[ke];return xe.test(Pe)&&(ke+=Te===1?0:1),ke},selectWord:function(Ce){Ce=Ce||this.selectionStart;var Te=this.searchWordBoundary(Ce,-1),De=this.searchWordBoundary(Ce,1);this.selectionStart=Te,this.selectionEnd=De,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(Ce){Ce=Ce||this.selectionStart;var Te=this.findLineBoundaryLeft(Ce),De=this.findLineBoundaryRight(Ce);return this.selectionStart=Te,this.selectionEnd=De,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(Ce){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(Ce),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(Ce){Ce._iTextInstances&&Ce._iTextInstances.forEach(function(Te){Te.selected=!1,Te.isEditing&&Te.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(Ce){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var Te=this.getSelectionStartFromPointer(Ce.e),De=this.selectionStart,ke=this.selectionEnd;(Te!==this.__selectionStartOnMouseDown||De===ke)&&(De===Te||ke===Te)||(Te>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=Te):(this.selectionStart=Te,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==De||this.selectionEnd!==ke)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(Ce,Te,De){var ke=De.slice(0,Ce),Pe=e.util.string.graphemeSplit(ke).length;if(Ce===Te)return{selectionStart:Pe,selectionEnd:Pe};var xe=De.slice(Ce,Te),Fe=e.util.string.graphemeSplit(xe).length;return{selectionStart:Pe,selectionEnd:Pe+Fe}},fromGraphemeToStringSelection:function(Ce,Te,De){var ke=De.slice(0,Ce),Pe=ke.join("").length;if(Ce===Te)return{selectionStart:Pe,selectionEnd:Pe};var xe=De.slice(Ce,Te),Fe=xe.join("").length;return{selectionStart:Pe,selectionEnd:Pe+Fe}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var Ce=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=Ce.selectionStart,this.hiddenTextarea.selectionEnd=Ce.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var Ce=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=Ce.selectionEnd,this.inCompositionMode||(this.selectionStart=Ce.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var Ce=this._calcTextareaPosition();this.hiddenTextarea.style.left=Ce.left,this.hiddenTextarea.style.top=Ce.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var Ce=this.inCompositionMode?this.compositionStart:this.selectionStart,Te=this._getCursorBoundaries(Ce),De=this.get2DCursorLocation(Ce),ke=De.lineIndex,Pe=De.charIndex,xe=this.getValueOfPropertyAt(ke,Pe,"fontSize")*this.lineHeight,Fe=Te.leftOffset,Ie=this.calcTransformMatrix(),Me={x:Te.left+Fe,y:Te.top+Te.topOffset+xe},Oe=this.canvas.getRetinaScaling(),Be=this.canvas.upperCanvasEl,je=Be.width/Oe,Ve=Be.height/Oe,ze=je-xe,He=Ve-xe,$e=Be.clientWidth/je,Ue=Be.clientHeight/Ve;return Me=e.util.transformPoint(Me,Ie),Me=e.util.transformPoint(Me,this.canvas.viewportTransform),Me.x*=$e,Me.y*=Ue,Me.x<0&&(Me.x=0),Me.x>ze&&(Me.x=ze),Me.y<0&&(Me.y=0),Me.y>He&&(Me.y=He),Me.x+=this.canvas._offset.left,Me.y+=this.canvas._offset.top,{left:Me.x+"px",top:Me.y+"px",fontSize:xe+"px",charHeight:xe}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var Ce=this._textBeforeEdit!==this.text,Te=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,Te&&(Te.blur&&Te.blur(),Te.parentNode&&Te.parentNode.removeChild(Te)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),Ce&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),Ce&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var Ce in this.styles)this._textLines[Ce]||delete this.styles[Ce]},removeStyleFromTo:function(Ce,Te){var De=this.get2DCursorLocation(Ce,!0),ke=this.get2DCursorLocation(Te,!0),Pe=De.lineIndex,xe=De.charIndex,Fe=ke.lineIndex,Ie=ke.charIndex,Me,Oe;if(Pe!==Fe){if(this.styles[Pe])for(Me=xe;Me<this._unwrappedTextLines[Pe].length;Me++)delete this.styles[Pe][Me];if(this.styles[Fe])for(Me=Ie;Me<this._unwrappedTextLines[Fe].length;Me++)Oe=this.styles[Fe][Me],Oe&&(this.styles[Pe]||(this.styles[Pe]={}),this.styles[Pe][xe+Me-Ie]=Oe);for(Me=Pe+1;Me<=Fe;Me++)delete this.styles[Me];this.shiftLineStyles(Fe,Pe-Fe)}else if(this.styles[Pe]){Oe=this.styles[Pe];var Be=Ie-xe,je,Ve;for(Me=xe;Me<Ie;Me++)delete Oe[Me];for(Ve in this.styles[Pe])je=parseInt(Ve,10),je>=Ie&&(Oe[je-Be]=Oe[Ve],delete Oe[Ve])}},shiftLineStyles:function(Ce,Te){var De=Ee(this.styles);for(var ke in this.styles){var Pe=parseInt(ke,10);Pe>Ce&&(this.styles[Pe+Te]=De[Pe],De[Pe-Te]||delete this.styles[Pe])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(Ce,Te,De,ke){var Pe,xe={},Fe=!1,Ie=this._unwrappedTextLines[Ce].length===Te;De||(De=1),this.shiftLineStyles(Ce,De),this.styles[Ce]&&(Pe=this.styles[Ce][Te===0?Te:Te-1]);for(var Me in this.styles[Ce]){var Oe=parseInt(Me,10);Oe>=Te&&(Fe=!0,xe[Oe-Te]=this.styles[Ce][Me],Ie&&Te===0||delete this.styles[Ce][Me])}var Be=!1;for(Fe&&!Ie&&(this.styles[Ce+De]=xe,Be=!0),Be&&De--;De>0;)ke&&ke[De-1]?this.styles[Ce+De]={0:Ee(ke[De-1])}:Pe?this.styles[Ce+De]={0:Ee(Pe)}:delete this.styles[Ce+De],De--;this._forceClearCache=!0},insertCharStyleObject:function(Ce,Te,De,ke){this.styles||(this.styles={});var Pe=this.styles[Ce],xe=Pe?Ee(Pe):{};De||(De=1);for(var Fe in xe){var Ie=parseInt(Fe,10);Ie>=Te&&(Pe[Ie+De]=xe[Ie],xe[Ie-De]||delete Pe[Ie])}if(this._forceClearCache=!0,ke){for(;De--;)!Object.keys(ke[De]).length||(this.styles[Ce]||(this.styles[Ce]={}),this.styles[Ce][Te+De]=Ee(ke[De]));return}if(!!Pe)for(var Me=Pe[Te?Te-1:1];Me&&De--;)this.styles[Ce][Te+De]=Ee(Me)},insertNewStyleBlock:function(Ce,Te,De){for(var ke=this.get2DCursorLocation(Te,!0),Pe=[0],xe=0,Fe=0;Fe<Ce.length;Fe++)Ce[Fe]===`
`?(xe++,Pe[xe]=0):Pe[xe]++;Pe[0]>0&&(this.insertCharStyleObject(ke.lineIndex,ke.charIndex,Pe[0],De),De=De&&De.slice(Pe[0]+1)),xe&&this.insertNewlineStyleObject(ke.lineIndex,ke.charIndex+Pe[0],xe);for(var Fe=1;Fe<xe;Fe++)Pe[Fe]>0?this.insertCharStyleObject(ke.lineIndex+Fe,0,Pe[Fe],De):De&&this.styles[ke.lineIndex+Fe]&&De[0]&&(this.styles[ke.lineIndex+Fe][0]=De[0]),De=De&&De.slice(Pe[Fe]+1);Pe[Fe]>0&&this.insertCharStyleObject(ke.lineIndex+Fe,0,Pe[Fe],De)},setSelectionStartEndWithShift:function(Ce,Te,De){De<=Ce?(Te===Ce?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=Ce),this.selectionStart=De):De>Ce&&De<Te?this._selectionDirection==="right"?this.selectionEnd=De:this.selectionStart=De:(Te===Ce?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=Te),this.selectionEnd=De)},setSelectionInBoundaries:function(){var Ce=this.text.length;this.selectionStart>Ce?this.selectionStart=Ce:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>Ce?this.selectionEnd=Ce:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(Ee){if(!!this.canvas){this.__newClickTime=+new Date;var Ce=Ee.pointer;this.isTripleClick(Ce)&&(this.fire("tripleclick",Ee),this._stopEvent(Ee.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=Ce,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(Ee){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===Ee.x&&this.__lastPointer.y===Ee.y},_stopEvent:function(Ee){Ee.preventDefault&&Ee.preventDefault(),Ee.stopPropagation&&Ee.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(Ee){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(Ee.e))},tripleClickHandler:function(Ee){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(Ee.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(Ee){!this.canvas||!this.editable||Ee.e.button&&Ee.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(Ee.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(Ee){!this.canvas||!this.editable||Ee.e.button&&Ee.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(Ee){if(this.__isMousedown=!1,!(!this.editable||this.group||Ee.transform&&Ee.transform.actionPerformed||Ee.e.button&&Ee.e.button!==1)){if(this.canvas){var Ce=this.canvas._activeObject;if(Ce&&Ce!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(Ee.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(Ee){var Ce=this.getSelectionStartFromPointer(Ee),Te=this.selectionStart,De=this.selectionEnd;Ee.shiftKey?this.setSelectionStartEndWithShift(Te,De,Ce):(this.selectionStart=Ce,this.selectionEnd=Ce),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(Ee){for(var Ce=this.getLocalPointer(Ee),Te=0,De=0,ke=0,Pe=0,xe=0,Fe,Ie,Me=0,Oe=this._textLines.length;Me<Oe&&ke<=Ce.y;Me++)ke+=this.getHeightOfLine(Me)*this.scaleY,xe=Me,Me>0&&(Pe+=this._textLines[Me-1].length+this.missingNewlineOffset(Me-1));Fe=this._getLineLeftOffset(xe),De=Fe*this.scaleX,Ie=this._textLines[xe],this.direction==="rtl"&&(Ce.x=this.width*this.scaleX-Ce.x+De);for(var Be=0,je=Ie.length;Be<je&&(Te=De,De+=this.__charBounds[xe][Be].kernedWidth*this.scaleX,De<=Ce.x);Be++)Pe++;return this._getNewSelectionStartFromOffset(Ce,Te,De,Pe,je)},_getNewSelectionStartFromOffset:function(Ee,Ce,Te,De,ke){var Pe=Ee.x-Ce,xe=Te-Ee.x,Fe=xe>Pe||xe<0?0:1,Ie=De+Fe;return this.flipX&&(Ie=ke-Ie),Ie>this._text.length&&(Ie=this._text.length),Ie}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var Ee=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+Ee.top+"; left: "+Ee.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+Ee.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(Ee){if(!!this.isEditing){var Ce=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(Ee.keyCode in Ce)this[Ce[Ee.keyCode]](Ee);else if(Ee.keyCode in this.ctrlKeysMapDown&&(Ee.ctrlKey||Ee.metaKey))this[this.ctrlKeysMapDown[Ee.keyCode]](Ee);else return;Ee.stopImmediatePropagation(),Ee.preventDefault(),Ee.keyCode>=33&&Ee.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(Ee){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(Ee.keyCode in this.ctrlKeysMapUp&&(Ee.ctrlKey||Ee.metaKey))this[this.ctrlKeysMapUp[Ee.keyCode]](Ee);else return;Ee.stopImmediatePropagation(),Ee.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(Ee){var Ce=this.fromPaste;if(this.fromPaste=!1,Ee&&Ee.stopPropagation(),!!this.isEditing){var Te=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,De=this._text.length,ke=Te.length,Pe,xe,Fe=ke-De,Ie=this.selectionStart,Me=this.selectionEnd,Oe=Ie!==Me,Be,je,Ve;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var ze=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),He=Ie>ze.selectionStart;Oe?(Pe=this._text.slice(Ie,Me),Fe+=Me-Ie):ke<De&&(He?Pe=this._text.slice(Me+Fe,Me):Pe=this._text.slice(Ie,Ie-Fe)),xe=Te.slice(ze.selectionEnd-Fe,ze.selectionEnd),Pe&&Pe.length&&(xe.length&&(Be=this.getSelectionStyles(Ie,Ie+1,!1),Be=xe.map(function(){return Be[0]})),Oe?(je=Ie,Ve=Me):He?(je=Me-Pe.length,Ve=Me):(je=Me,Ve=Me+Pe.length),this.removeStyleFromTo(je,Ve)),xe.length&&(Ce&&xe.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(Be=e.copiedTextStyle),this.insertNewStyleBlock(xe,Ie,Be)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(Ee){this.compositionStart=Ee.target.selectionStart,this.compositionEnd=Ee.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(Ee){return Ee&&Ee.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(Ee,Ce){var Te=this._getLineLeftOffset(Ee),De;return Ce>0&&(De=this.__charBounds[Ee][Ce-1],Te+=De.left+De.width),Te},getDownCursorOffset:function(Ee,Ce){var Te=this._getSelectionForOffset(Ee,Ce),De=this.get2DCursorLocation(Te),ke=De.lineIndex;if(ke===this._textLines.length-1||Ee.metaKey||Ee.keyCode===34)return this._text.length-Te;var Pe=De.charIndex,xe=this._getWidthBeforeCursor(ke,Pe),Fe=this._getIndexOnLine(ke+1,xe),Ie=this._textLines[ke].slice(Pe);return Ie.length+Fe+1+this.missingNewlineOffset(ke)},_getSelectionForOffset:function(Ee,Ce){return Ee.shiftKey&&this.selectionStart!==this.selectionEnd&&Ce?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(Ee,Ce){var Te=this._getSelectionForOffset(Ee,Ce),De=this.get2DCursorLocation(Te),ke=De.lineIndex;if(ke===0||Ee.metaKey||Ee.keyCode===33)return-Te;var Pe=De.charIndex,xe=this._getWidthBeforeCursor(ke,Pe),Fe=this._getIndexOnLine(ke-1,xe),Ie=this._textLines[ke].slice(0,Pe),Me=this.missingNewlineOffset(ke-1);return-this._textLines[ke-1].length+Fe-Ie.length+(1-Me)},_getIndexOnLine:function(Ee,Ce){for(var Te=this._textLines[Ee],De=this._getLineLeftOffset(Ee),ke=De,Pe=0,xe,Fe,Ie=0,Me=Te.length;Ie<Me;Ie++)if(xe=this.__charBounds[Ee][Ie].width,ke+=xe,ke>Ce){Fe=!0;var Oe=ke-xe,Be=ke,je=Math.abs(Oe-Ce),Ve=Math.abs(Be-Ce);Pe=Ve<je?Ie:Ie-1;break}return Fe||(Pe=Te.length-1),Pe},moveCursorDown:function(Ee){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",Ee)},moveCursorUp:function(Ee){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",Ee)},_moveCursorUpOrDown:function(Ee,Ce){var Te="get"+Ee+"CursorOffset",De=this[Te](Ce,this._selectionDirection==="right");Ce.shiftKey?this.moveCursorWithShift(De):this.moveCursorWithoutShift(De),De!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(Ee){var Ce=this._selectionDirection==="left"?this.selectionStart+Ee:this.selectionEnd+Ee;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,Ce),Ee!==0},moveCursorWithoutShift:function(Ee){return Ee<0?(this.selectionStart+=Ee,this.selectionEnd=this.selectionStart):(this.selectionEnd+=Ee,this.selectionStart=this.selectionEnd),Ee!==0},moveCursorLeft:function(Ee){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",Ee)},_move:function(Ee,Ce,Te){var De;if(Ee.altKey)De=this["findWordBoundary"+Te](this[Ce]);else if(Ee.metaKey||Ee.keyCode===35||Ee.keyCode===36)De=this["findLineBoundary"+Te](this[Ce]);else return this[Ce]+=Te==="Left"?-1:1,!0;if(typeof De<"u"&&this[Ce]!==De)return this[Ce]=De,!0},_moveLeft:function(Ee,Ce){return this._move(Ee,Ce,"Left")},_moveRight:function(Ee,Ce){return this._move(Ee,Ce,"Right")},moveCursorLeftWithoutShift:function(Ee){var Ce=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(Ce=this._moveLeft(Ee,"selectionStart")),this.selectionEnd=this.selectionStart,Ce},moveCursorLeftWithShift:function(Ee){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(Ee,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(Ee,"selectionStart")},moveCursorRight:function(Ee){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",Ee)},_moveCursorLeftOrRight:function(Ee,Ce){var Te="moveCursor"+Ee+"With";this._currentCursorOpacity=1,Ce.shiftKey?Te+="Shift":Te+="outShift",this[Te](Ce)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(Ee){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(Ee,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(Ee,"selectionEnd")},moveCursorRightWithoutShift:function(Ee){var Ce=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(Ce=this._moveRight(Ee,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,Ce},removeChars:function(Ee,Ce){typeof Ce>"u"&&(Ce=Ee+1),this.removeStyleFromTo(Ee,Ce),this._text.splice(Ee,Ce-Ee),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(Ee,Ce,Te,De){typeof De>"u"&&(De=Te),De>Te&&this.removeStyleFromTo(Te,De);var ke=e.util.string.graphemeSplit(Ee);this.insertNewStyleBlock(ke,Te,Ce),this._text=[].concat(this._text.slice(0,Te),ke,this._text.slice(De)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var Ee=e.util.toFixed,Ce=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var Te=this._getSVGLeftTopOffsets(),De=this._getSVGTextAndBg(Te.textTop,Te.textLeft);return this._wrapSVGTextAndBg(De)},toSVG:function(Te){return this._createBaseSVGMarkup(this._toSVG(),{reviver:Te,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(Te){var De=!0,ke=this.getSvgTextDecoration(this);return[Te.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",ke?'text-decoration="'+ke+'" ':"",'style="',this.getSvgStyles(De),'"',this.addPaintOrder()," >",Te.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(Te,De){var ke=[],Pe=[],xe=Te,Fe;this._setSVGBg(Pe);for(var Ie=0,Me=this._textLines.length;Ie<Me;Ie++)Fe=this._getLineLeftOffset(Ie),(this.textBackgroundColor||this.styleHas("textBackgroundColor",Ie))&&this._setSVGTextLineBg(Pe,Ie,De+Fe,xe),this._setSVGTextLineText(ke,Ie,De+Fe,xe),xe+=this.getHeightOfLine(Ie);return{textSpans:ke,textBgRects:Pe}},_createTextCharSpan:function(Te,De,ke,Pe){var xe=Te!==Te.trim()||Te.match(Ce),Fe=this.getSvgSpanStyles(De,xe),Ie=Fe?'style="'+Fe+'"':"",Me=De.deltaY,Oe="",Be=e.Object.NUM_FRACTION_DIGITS;return Me&&(Oe=' dy="'+Ee(Me,Be)+'" '),['<tspan x="',Ee(ke,Be),'" y="',Ee(Pe,Be),'" ',Oe,Ie,">",e.util.string.escapeXml(Te),"</tspan>"].join("")},_setSVGTextLineText:function(Te,De,ke,Pe){var xe=this.getHeightOfLine(De),Fe=this.textAlign.indexOf("justify")!==-1,Ie,Me,Oe="",Be,je,Ve=0,ze=this._textLines[De],He;Pe+=xe*(1-this._fontSizeFraction)/this.lineHeight;for(var $e=0,Ue=ze.length-1;$e<=Ue;$e++)He=$e===Ue||this.charSpacing,Oe+=ze[$e],Be=this.__charBounds[De][$e],Ve===0?(ke+=Be.kernedWidth-Be.width,Ve+=Be.width):Ve+=Be.kernedWidth,Fe&&!He&&this._reSpaceAndTab.test(ze[$e])&&(He=!0),He||(Ie=Ie||this.getCompleteStyleDeclaration(De,$e),Me=this.getCompleteStyleDeclaration(De,$e+1),He=e.util.hasStyleChanged(Ie,Me,!0)),He&&(je=this._getStyleDeclaration(De,$e)||{},Te.push(this._createTextCharSpan(Oe,je,ke,Pe)),Oe="",Ie=Me,ke+=Ve,Ve=0)},_pushTextBgRect:function(Te,De,ke,Pe,xe,Fe){var Ie=e.Object.NUM_FRACTION_DIGITS;Te.push("		<rect ",this._getFillAttributes(De),' x="',Ee(ke,Ie),'" y="',Ee(Pe,Ie),'" width="',Ee(xe,Ie),'" height="',Ee(Fe,Ie),`"></rect>
`)},_setSVGTextLineBg:function(Te,De,ke,Pe){for(var xe=this._textLines[De],Fe=this.getHeightOfLine(De)/this.lineHeight,Ie=0,Me=0,Oe,Be,je=this.getValueOfPropertyAt(De,0,"textBackgroundColor"),Ve=0,ze=xe.length;Ve<ze;Ve++)Oe=this.__charBounds[De][Ve],Be=this.getValueOfPropertyAt(De,Ve,"textBackgroundColor"),Be!==je?(je&&this._pushTextBgRect(Te,je,ke+Me,Pe,Ie,Fe),Me=Oe.left,Ie=Oe.width,je=Be):Ie+=Oe.kernedWidth;Be&&this._pushTextBgRect(Te,Be,ke+Me,Pe,Ie,Fe)},_getFillAttributes:function(Te){var De=Te&&typeof Te=="string"?new e.Color(Te):"";return!De||!De.getSource()||De.getAlpha()===1?'fill="'+Te+'"':'opacity="'+De.getAlpha()+'" fill="'+De.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(Te){for(var De=0,ke=0,Pe=0;Pe<Te;Pe++)De+=this.getHeightOfLine(Pe);return ke=this.getHeightOfLine(Pe),{lineTop:De,offset:(this._fontSizeMult-this._fontSizeFraction)*ke/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(Te){var De=e.Object.prototype.getSvgStyles.call(this,Te);return De+" white-space: pre;"}})}(),function(Ee){var Ce=Ee.fabric||(Ee.fabric={});Ce.Textbox=Ce.util.createClass(Ce.IText,Ce.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:Ce.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(Te){for(var De=0,ke=0,Pe=0,xe={},Fe=0;Fe<Te.graphemeLines.length;Fe++)Te.graphemeText[Pe]===`
`&&Fe>0?(ke=0,Pe++,De++):!this.splitByGrapheme&&this._reSpaceAndTab.test(Te.graphemeText[Pe])&&Fe>0&&(ke++,Pe++),xe[Fe]={line:De,offset:ke},Pe+=Te.graphemeLines[Fe].length,ke+=Te.graphemeLines[Fe].length;return xe},styleHas:function(Te,De){if(this._styleMap&&!this.isWrapping){var ke=this._styleMap[De];ke&&(De=ke.line)}return Ce.Text.prototype.styleHas.call(this,Te,De)},isEmptyStyles:function(Te){if(!this.styles)return!0;var De=0,ke=Te+1,Pe,xe,Fe=!1,Ie=this._styleMap[Te],Me=this._styleMap[Te+1];Ie&&(Te=Ie.line,De=Ie.offset),Me&&(ke=Me.line,Fe=ke===Te,Pe=Me.offset),xe=typeof Te>"u"?this.styles:{line:this.styles[Te]};for(var Oe in xe)for(var Be in xe[Oe])if(Be>=De&&(!Fe||Be<Pe))for(var je in xe[Oe][Be])return!1;return!0},_getStyleDeclaration:function(Te,De){if(this._styleMap&&!this.isWrapping){var ke=this._styleMap[Te];if(!ke)return null;Te=ke.line,De=ke.offset+De}return this.callSuper("_getStyleDeclaration",Te,De)},_setStyleDeclaration:function(Te,De,ke){var Pe=this._styleMap[Te];Te=Pe.line,De=Pe.offset+De,this.styles[Te][De]=ke},_deleteStyleDeclaration:function(Te,De){var ke=this._styleMap[Te];Te=ke.line,De=ke.offset+De,delete this.styles[Te][De]},_getLineStyle:function(Te){var De=this._styleMap[Te];return!!this.styles[De.line]},_setLineStyle:function(Te){var De=this._styleMap[Te];this.styles[De.line]={}},_wrapText:function(Te,De){var ke=[],Pe;for(this.isWrapping=!0,Pe=0;Pe<Te.length;Pe++)ke=ke.concat(this._wrapLine(Te[Pe],Pe,De));return this.isWrapping=!1,ke},_measureWord:function(Te,De,ke){var Pe=0,xe,Fe=!0;ke=ke||0;for(var Ie=0,Me=Te.length;Ie<Me;Ie++){var Oe=this._getGraphemeBox(Te[Ie],De,Ie+ke,xe,Fe);Pe+=Oe.kernedWidth,xe=Te[Ie]}return Pe},_wrapLine:function(Te,De,ke,nr){var xe=0,Fe=this.splitByGrapheme,Ie=[],Me=[],Oe=Fe?Ce.util.string.graphemeSplit(Te):Te.split(this._wordJoiners),Be="",je=0,Ve=Fe?"":" ",ze=0,He=0,$e=0,Ue=!0,Xe=this._getWidthOfCharSpacing(),nr=nr||0;Oe.length===0&&Oe.push([]),ke-=nr;for(var Ge=0;Ge<Oe.length;Ge++)Be=Fe?Oe[Ge]:Ce.util.string.graphemeSplit(Oe[Ge]),ze=this._measureWord(Be,De,je),je+=Be.length,xe+=He+ze-Xe,xe>ke&&!Ue?(Ie.push(Me),Me=[],xe=ze,Ue=!0):xe+=Xe,!Ue&&!Fe&&Me.push(Ve),Me=Me.concat(Be),He=Fe?0:this._measureWord([Ve],De,je),je++,Ue=!1,ze>$e&&($e=ze);return Ge&&Ie.push(Me),$e+nr>this.dynamicMinWidth&&(this.dynamicMinWidth=$e-Xe+nr),Ie},isEndOfWrapping:function(Te){return!this._styleMap[Te+1]||this._styleMap[Te+1].line!==this._styleMap[Te].line},missingNewlineOffset:function(Te){return this.splitByGrapheme?this.isEndOfWrapping(Te)?1:0:1},_splitTextIntoLines:function(Te){for(var De=Ce.Text.prototype._splitTextIntoLines.call(this,Te),ke=this._wrapText(De.lines,this.width),Pe=new Array(ke.length),xe=0;xe<ke.length;xe++)Pe[xe]=ke[xe].join("");return De.lines=Pe,De.graphemeLines=ke,De},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var Te={};for(var De in this._styleMap)this._textLines[De]&&(Te[this._styleMap[De].line]=1);for(var De in this.styles)Te[De]||delete this.styles[De]},toObject:function(Te){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(Te))}}),Ce.Textbox.fromObject=function(Te,De){var ke=Ce.util.stylesFromArray(Te.styles,Te.text),Pe=Object.assign({},Te,{styles:ke});return Ce.Object._fromObject("Textbox",Pe,De,"text")}}(t),function(){var Ee=e.controlsUtils,Ce=Ee.scaleSkewCursorStyleHandler,Te=Ee.scaleCursorStyleHandler,De=Ee.scalingEqually,ke=Ee.scalingYOrSkewingX,Pe=Ee.scalingXOrSkewingY,xe=Ee.scaleOrSkewActionName,Fe=e.Object.prototype.controls;if(Fe.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:Ce,actionHandler:Pe,getActionName:xe}),Fe.mr=new e.Control({x:.5,y:0,cursorStyleHandler:Ce,actionHandler:Pe,getActionName:xe}),Fe.mb=new e.Control({x:0,y:.5,cursorStyleHandler:Ce,actionHandler:ke,getActionName:xe}),Fe.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:Ce,actionHandler:ke,getActionName:xe}),Fe.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:Te,actionHandler:De}),Fe.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:Te,actionHandler:De}),Fe.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:Te,actionHandler:De}),Fe.br=new e.Control({x:.5,y:.5,cursorStyleHandler:Te,actionHandler:De}),Fe.mtr=new e.Control({x:0,y:-.5,actionHandler:Ee.rotationWithSnapping,cursorStyleHandler:Ee.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var Ie=e.Textbox.prototype.controls={};Ie.mtr=Fe.mtr,Ie.tr=Fe.tr,Ie.br=Fe.br,Ie.tl=Fe.tl,Ie.bl=Fe.bl,Ie.mt=Fe.mt,Ie.mb=Fe.mb,Ie.mr=new e.Control({x:.5,y:0,actionHandler:Ee.changeWidth,cursorStyleHandler:Ce,actionName:"resizing"}),Ie.ml=new e.Control({x:-.5,y:0,actionHandler:Ee.changeWidth,cursorStyleHandler:Ce,actionName:"resizing"})}}()})(fabric);const plugins_fabric_ts_3RGrkwIGrZ=defineNuxtPlugin(t=>({provide:{fabric:fabric.fabric}}));function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$1,_context$1,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString$1=function(e){return typeof e=="string"},_isFunction$1=function(e){return typeof e=="function"},_isNumber$1=function(e){return typeof e=="number"},_isUndefined=function(e){return typeof e>"u"},_isObject$1=function(e){return typeof e=="object"},_isNotFalse=function(e){return e!==!1},_windowExists$2=function(){return typeof window<"u"},_isFuncOrString=function(e){return _isFunction$1(e)||_isString$1(e)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$3,_coreInitted$2,_doc$3,_globals={},_installScope={},_coreReady,_install=function(e){return(_installScope=_merge(e,_globals))&&gsap$3},_missingPlugin=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},_warn=function(e,r){return!r&&console.warn(e)},_addGlobal=function(e,r){return e&&(_globals[e]=r)&&_installScope&&(_installScope[e]=r)||_globals},_emptyFunc=function(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins$1={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function(e){var r=e[0],_e,Se;if(_isObject$1(r)||_isFunction$1(r)||(e=[e]),!(_e=(r._gsap||{}).harness)){for(Se=_harnessPlugins.length;Se--&&!_harnessPlugins[Se].targetTest(r););_e=_harnessPlugins[Se]}for(Se=e.length;Se--;)e[Se]&&(e[Se]._gsap||(e[Se]._gsap=new GSCache(e[Se],_e)))||e.splice(Se,1);return e},_getCache=function(e){return e._gsap||_harness(toArray(e))[0]._gsap},_getProperty=function(e,r,_e){return(_e=e[r])&&_isFunction$1(_e)?e[r]():_isUndefined(_e)&&e.getAttribute&&e.getAttribute(r)||_e},_forEachName=function(e,r){return(e=e.split(",")).forEach(r)||e},_round$1=function(e){return Math.round(e*1e5)/1e5||0},_roundPrecise=function(e){return Math.round(e*1e7)/1e7||0},_parseRelative=function(e,r){var _e=r.charAt(0),Se=parseFloat(r.substr(2));return e=parseFloat(e),_e==="+"?e+Se:_e==="-"?e-Se:_e==="*"?e*Se:e/Se},_arrayContainsAny=function(e,r){for(var _e=r.length,Se=0;e.indexOf(r[Se])<0&&++Se<_e;);return Se<_e},_lazyRender=function(){var e=_lazyTweens.length,r=_lazyTweens.slice(0),_e,Se;for(_lazyLookup={},_lazyTweens.length=0,_e=0;_e<e;_e++)Se=r[_e],Se&&Se._lazy&&(Se.render(Se._lazy[0],Se._lazy[1],!0)._lazy=0)},_lazySafeRender=function(e,r,_e,Se){_lazyTweens.length&&_lazyRender(),e.render(r,_e,Se||_reverting$1&&r<0&&(e._initted||e._startAt)),_lazyTweens.length&&_lazyRender()},_numericIfPossible=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(_delimitedValueExp).length<2?r:_isString$1(e)?e.trim():e},_passThrough$1=function(e){return e},_setDefaults$1=function(e,r){for(var _e in r)_e in e||(e[_e]=r[_e]);return e},_setKeyframeDefaults=function(e){return function(r,_e){for(var Se in _e)Se in r||Se==="duration"&&e||Se==="ease"||(r[Se]=_e[Se])}},_merge=function(e,r){for(var _e in r)e[_e]=r[_e];return e},_mergeDeep=function t(e,r){for(var _e in r)_e!=="__proto__"&&_e!=="constructor"&&_e!=="prototype"&&(e[_e]=_isObject$1(r[_e])?t(e[_e]||(e[_e]={}),r[_e]):r[_e]);return e},_copyExcluding=function(e,r){var _e={},Se;for(Se in e)Se in r||(_e[Se]=e[Se]);return _e},_inheritDefaults=function(e){var r=e.parent||_globalTimeline,_e=e.keyframes?_setKeyframeDefaults(_isArray(e.keyframes)):_setDefaults$1;if(_isNotFalse(e.inherit))for(;r;)_e(e,r.vars.defaults),r=r.parent||r._dp;return e},_arraysMatch=function(e,r){for(var _e=e.length,Se=_e===r.length;Se&&_e--&&e[_e]===r[_e];);return _e<0},_addLinkedListItem=function(e,r,_e,Se,Ae){_e===void 0&&(_e="_first"),Se===void 0&&(Se="_last");var Re=e[Se],Ee;if(Ae)for(Ee=r[Ae];Re&&Re[Ae]>Ee;)Re=Re._prev;return Re?(r._next=Re._next,Re._next=r):(r._next=e[_e],e[_e]=r),r._next?r._next._prev=r:e[Se]=r,r._prev=Re,r.parent=r._dp=e,r},_removeLinkedListItem=function(e,r,_e,Se){_e===void 0&&(_e="_first"),Se===void 0&&(Se="_last");var Ae=r._prev,Re=r._next;Ae?Ae._next=Re:e[_e]===r&&(e[_e]=Re),Re?Re._prev=Ae:e[Se]===r&&(e[Se]=Ae),r._next=r._prev=r.parent=null},_removeFromParent=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},_uncache=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var _e=e;_e;)_e._dirty=1,_e=_e.parent;return e},_recacheAncestors=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},_rewindStartAt=function(e,r,_e,Se){return e._startAt&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,Se))},_hasNoPausedAncestors=function t(e){return!e||e._ts&&t(e.parent)},_elapsedCycleDuration=function(e){return e._repeat?_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle=function(e,r){var _e=Math.floor(e/=r);return e&&_e===e?_e-1:_e},_parentToChildTotalTime=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},_setEnd=function(e){return e._end=_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||_tinyNum)||0))},_alignPlayhead=function(e,r){var _e=e._dp;return _e&&_e.smoothChildTiming&&e._ts&&(e._start=_roundPrecise(_e._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),_setEnd(e),_e._dirty||_uncache(_e,e)),e},_postAddChecks=function(e,r){var _e;if((r._time||r._initted&&!r._dur)&&(_e=_parentToChildTotalTime(e.rawTime(),r),(!r._dur||_clamp$1(0,r.totalDuration(),_e)-r._tTime>_tinyNum)&&r.render(_e,!0)),_uncache(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(_e=e;_e._dp;)_e.rawTime()>=0&&_e.totalTime(_e._tTime),_e=_e._dp;e._zTime=-_tinyNum}},_addToTimeline=function(e,r,_e,Se){return r.parent&&_removeFromParent(r),r._start=_roundPrecise((_isNumber$1(_e)?_e:_e||e!==_globalTimeline?_parsePosition$1(e,_e,r):e._time)+r._delay),r._end=_roundPrecise(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),_addLinkedListItem(e,r,"_first","_last",e._sort?"_start":0),_isFromOrFromStart(r)||(e._recent=r),Se||_postAddChecks(e,r),e._ts<0&&_alignPlayhead(e,e._tTime),e},_scrollTrigger=function(e,r){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",r))&&_globals.ScrollTrigger.create(r,e)},_attemptInitTween=function(e,r,_e,Se,Ae){if(_initTween(e,r,Ae),!e._initted)return 1;if(!_e&&e._pt&&!_reverting$1&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(e),e._lazy=[Ae,Se],1},_parentPlayheadIsBeforeStart=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},_isFromOrFromStart=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},_renderZeroDurationTween=function(e,r,_e,Se){var Ae=e.ratio,Re=r<0||!r&&(!e._start&&_parentPlayheadIsBeforeStart(e)&&!(!e._initted&&_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart(e))?0:1,Ee=e._rDelay,Ce=0,Te,De,ke;if(Ee&&e._repeat&&(Ce=_clamp$1(0,e._tDur,r),De=_animationCycle(Ce,Ee),e._yoyo&&De&1&&(Re=1-Re),De!==_animationCycle(e._tTime,Ee)&&(Ae=1-Re,e.vars.repeatRefresh&&e._initted&&e.invalidate())),Re!==Ae||_reverting$1||Se||e._zTime===_tinyNum||!r&&e._zTime){if(!e._initted&&_attemptInitTween(e,r,Se,_e,Ce))return;for(ke=e._zTime,e._zTime=r||(_e?_tinyNum:0),_e||(_e=r&&!ke),e.ratio=Re,e._from&&(Re=1-Re),e._time=0,e._tTime=Ce,Te=e._pt;Te;)Te.r(Re,Te.d),Te=Te._next;r<0&&_rewindStartAt(e,r,_e,!0),e._onUpdate&&!_e&&_callback$1(e,"onUpdate"),Ce&&e._repeat&&!_e&&e.parent&&_callback$1(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===Re&&(Re&&_removeFromParent(e,1),!_e&&!_reverting$1&&(_callback$1(e,Re?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},_findNextPauseTween=function(e,r,_e){var Se;if(_e>r)for(Se=e._first;Se&&Se._start<=_e;){if(Se.data==="isPause"&&Se._start>r)return Se;Se=Se._next}else for(Se=e._last;Se&&Se._start>=_e;){if(Se.data==="isPause"&&Se._start<r)return Se;Se=Se._prev}},_setDuration=function(e,r,_e,Se){var Ae=e._repeat,Re=_roundPrecise(r)||0,Ee=e._tTime/e._tDur;return Ee&&!Se&&(e._time*=Re/e._dur),e._dur=Re,e._tDur=Ae?Ae<0?1e10:_roundPrecise(Re*(Ae+1)+e._rDelay*Ae):Re,Ee>0&&!Se&&_alignPlayhead(e,e._tTime=e._tDur*Ee),e.parent&&_setEnd(e),_e||_uncache(e.parent,e),e},_onUpdateTotalDuration=function(e){return e instanceof Timeline?_uncache(e):_setDuration(e,e._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition$1=function t(e,r,_e){var Se=e.labels,Ae=e._recent||_zeroPosition,Re=e.duration()>=_bigNum$1?Ae.endTime(!1):e._dur,Ee,Ce,Te;return _isString$1(r)&&(isNaN(r)||r in Se)?(Ce=r.charAt(0),Te=r.substr(-1)==="%",Ee=r.indexOf("="),Ce==="<"||Ce===">"?(Ee>=0&&(r=r.replace(/=/,"")),(Ce==="<"?Ae._start:Ae.endTime(Ae._repeat>=0))+(parseFloat(r.substr(1))||0)*(Te?(Ee<0?Ae:_e).totalDuration()/100:1)):Ee<0?(r in Se||(Se[r]=Re),Se[r]):(Ce=parseFloat(r.charAt(Ee-1)+r.substr(Ee+1)),Te&&_e&&(Ce=Ce/100*(_isArray(_e)?_e[0]:_e).totalDuration()),Ee>1?t(e,r.substr(0,Ee-1),_e)+Ce:Re+Ce)):r==null?Re:+r},_createTweenType=function(e,r,_e){var Se=_isNumber$1(r[1]),Ae=(Se?2:1)+(e<2?0:1),Re=r[Ae],Ee,Ce;if(Se&&(Re.duration=r[1]),Re.parent=_e,e){for(Ee=Re,Ce=_e;Ce&&!("immediateRender"in Ee);)Ee=Ce.vars.defaults||{},Ce=_isNotFalse(Ce.vars.inherit)&&Ce.parent;Re.immediateRender=_isNotFalse(Ee.immediateRender),e<2?Re.runBackwards=1:Re.startAt=r[Ae-1]}return new Tween(r[0],Re,r[Ae+1])},_conditionalReturn=function(e,r){return e||e===0?r(e):r},_clamp$1=function(e,r,_e){return _e<e?e:_e>r?r:_e},getUnit=function(e,r){return!_isString$1(e)||!(r=_unitExp.exec(e))?"":r[1]},clamp=function(e,r,_e){return _conditionalReturn(_e,function(Se){return _clamp$1(e,r,Se)})},_slice=[].slice,_isArrayLike=function(e,r){return e&&_isObject$1(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&_isObject$1(e[0]))&&!e.nodeType&&e!==_win$3},_flatten=function(e,r,_e){return _e===void 0&&(_e=[]),e.forEach(function(Se){var Ae;return _isString$1(Se)&&!r||_isArrayLike(Se,1)?(Ae=_e).push.apply(Ae,toArray(Se)):_e.push(Se)})||_e},toArray=function(e,r,_e){return _context$1&&!r&&_context$1.selector?_context$1.selector(e):_isString$1(e)&&!_e&&(_coreInitted$2||!_wake())?_slice.call((r||_doc$3).querySelectorAll(e),0):_isArray(e)?_flatten(e,_e):_isArrayLike(e)?_slice.call(e,0):e?[e]:[]},selector=function(e){return e=toArray(e)[0]||_warn("Invalid scope")||{},function(r){var _e=e.current||e.nativeElement||e;return toArray(r,_e.querySelectorAll?_e:_e===e?_warn("Invalid scope")||_doc$3.createElement("div"):e)}},shuffle=function(e){return e.sort(function(){return .5-Math.random()})},distribute=function(e){if(_isFunction$1(e))return e;var r=_isObject$1(e)?e:{each:e},_e=_parseEase(r.ease),Se=r.from||0,Ae=parseFloat(r.base)||0,Re={},Ee=Se>0&&Se<1,Ce=isNaN(Se)||Ee,Te=r.axis,De=Se,ke=Se;return _isString$1(Se)?De=ke={center:.5,edges:.5,end:1}[Se]||0:!Ee&&Ce&&(De=Se[0],ke=Se[1]),function(Pe,xe,Fe){var Ie=(Fe||r).length,Me=Re[Ie],Oe,Be,je,Ve,ze,He,$e,Ue,Xe;if(!Me){if(Xe=r.grid==="auto"?0:(r.grid||[1,_bigNum$1])[1],!Xe){for($e=-_bigNum$1;$e<($e=Fe[Xe++].getBoundingClientRect().left)&&Xe<Ie;);Xe--}for(Me=Re[Ie]=[],Oe=Ce?Math.min(Xe,Ie)*De-.5:Se%Xe,Be=Xe===_bigNum$1?0:Ce?Ie*ke/Xe-.5:Se/Xe|0,$e=0,Ue=_bigNum$1,He=0;He<Ie;He++)je=He%Xe-Oe,Ve=Be-(He/Xe|0),Me[He]=ze=Te?Math.abs(Te==="y"?Ve:je):_sqrt(je*je+Ve*Ve),ze>$e&&($e=ze),ze<Ue&&(Ue=ze);Se==="random"&&shuffle(Me),Me.max=$e-Ue,Me.min=Ue,Me.v=Ie=(parseFloat(r.amount)||parseFloat(r.each)*(Xe>Ie?Ie-1:Te?Te==="y"?Ie/Xe:Xe:Math.max(Xe,Ie/Xe))||0)*(Se==="edges"?-1:1),Me.b=Ie<0?Ae-Ie:Ae,Me.u=getUnit(r.amount||r.each)||0,_e=_e&&Ie<0?_invertEase(_e):_e}return Ie=(Me[Pe]-Me.min)/Me.max||0,_roundPrecise(Me.b+(_e?_e(Ie):Ie)*Me.v)+Me.u}},_roundModifier=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(_e){var Se=_roundPrecise(Math.round(parseFloat(_e)/e)*e*r);return(Se-Se%1)/r+(_isNumber$1(_e)?0:getUnit(_e))}},snap=function(e,r){var _e=_isArray(e),Se,Ae;return!_e&&_isObject$1(e)&&(Se=_e=e.radius||_bigNum$1,e.values?(e=toArray(e.values),(Ae=!_isNumber$1(e[0]))&&(Se*=Se)):e=_roundModifier(e.increment)),_conditionalReturn(r,_e?_isFunction$1(e)?function(Re){return Ae=e(Re),Math.abs(Ae-Re)<=Se?Ae:Re}:function(Re){for(var Ee=parseFloat(Ae?Re.x:Re),Ce=parseFloat(Ae?Re.y:0),Te=_bigNum$1,De=0,ke=e.length,Pe,xe;ke--;)Ae?(Pe=e[ke].x-Ee,xe=e[ke].y-Ce,Pe=Pe*Pe+xe*xe):Pe=Math.abs(e[ke]-Ee),Pe<Te&&(Te=Pe,De=ke);return De=!Se||Te<=Se?e[De]:Re,Ae||De===Re||_isNumber$1(Re)?De:De+getUnit(Re)}:_roundModifier(e))},random=function(e,r,_e,Se){return _conditionalReturn(_isArray(e)?!r:_e===!0?!!(_e=0):!Se,function(){return _isArray(e)?e[~~(Math.random()*e.length)]:(_e=_e||1e-5)&&(Se=_e<1?Math.pow(10,(_e+"").length-2):1)&&Math.floor(Math.round((e-_e/2+Math.random()*(r-e+_e*.99))/_e)*_e*Se)/Se})},pipe=function(){for(var e=arguments.length,r=new Array(e),_e=0;_e<e;_e++)r[_e]=arguments[_e];return function(Se){return r.reduce(function(Ae,Re){return Re(Ae)},Se)}},unitize=function(e,r){return function(_e){return e(parseFloat(_e))+(r||getUnit(_e))}},normalize=function(e,r,_e){return mapRange(e,r,0,1,_e)},_wrapArray=function(e,r,_e){return _conditionalReturn(_e,function(Se){return e[~~r(Se)]})},wrap=function t(e,r,_e){var Se=r-e;return _isArray(e)?_wrapArray(e,t(0,e.length),r):_conditionalReturn(_e,function(Ae){return(Se+(Ae-e)%Se)%Se+e})},wrapYoyo=function t(e,r,_e){var Se=r-e,Ae=Se*2;return _isArray(e)?_wrapArray(e,t(0,e.length-1),r):_conditionalReturn(_e,function(Re){return Re=(Ae+(Re-e)%Ae)%Ae||0,e+(Re>Se?Ae-Re:Re)})},_replaceRandom=function(e){for(var r=0,_e="",Se,Ae,Re,Ee;~(Se=e.indexOf("random(",r));)Re=e.indexOf(")",Se),Ee=e.charAt(Se+7)==="[",Ae=e.substr(Se+7,Re-Se-7).match(Ee?_delimitedValueExp:_strictNumExp),_e+=e.substr(r,Se-r)+random(Ee?Ae:+Ae[0],Ee?0:+Ae[1],+Ae[2]||1e-5),r=Re+1;return _e+e.substr(r,e.length-r)},mapRange=function(e,r,_e,Se,Ae){var Re=r-e,Ee=Se-_e;return _conditionalReturn(Ae,function(Ce){return _e+((Ce-e)/Re*Ee||0)})},interpolate=function t(e,r,_e,Se){var Ae=isNaN(e+r)?0:function(xe){return(1-xe)*e+xe*r};if(!Ae){var Re=_isString$1(e),Ee={},Ce,Te,De,ke,Pe;if(_e===!0&&(Se=1)&&(_e=null),Re)e={p:e},r={p:r};else if(_isArray(e)&&!_isArray(r)){for(De=[],ke=e.length,Pe=ke-2,Te=1;Te<ke;Te++)De.push(t(e[Te-1],e[Te]));ke--,Ae=function(Fe){Fe*=ke;var Ie=Math.min(Pe,~~Fe);return De[Ie](Fe-Ie)},_e=r}else Se||(e=_merge(_isArray(e)?[]:{},e));if(!De){for(Ce in r)_addPropTween.call(Ee,e,Ce,"get",r[Ce]);Ae=function(Fe){return _renderPropTweens(Fe,Ee)||(Re?e.p:e)}}}return _conditionalReturn(_e,Ae)},_getLabelInDirection=function(e,r,_e){var Se=e.labels,Ae=_bigNum$1,Re,Ee,Ce;for(Re in Se)Ee=Se[Re]-r,Ee<0==!!_e&&Ee&&Ae>(Ee=Math.abs(Ee))&&(Ce=Re,Ae=Ee);return Ce},_callback$1=function(e,r,_e){var Se=e.vars,Ae=Se[r],Re=_context$1,Ee=e._ctx,Ce,Te,De;if(!!Ae)return Ce=Se[r+"Params"],Te=Se.callbackScope||e,_e&&_lazyTweens.length&&_lazyRender(),Ee&&(_context$1=Ee),De=Ce?Ae.apply(Te,Ce):Ae.call(Te),_context$1=Re,De},_interrupt=function(e){return _removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_reverting$1),e.progress()<1&&_callback$1(e,"onInterrupt"),e},_quickTween,_createPlugin=function(e){e=!e.name&&e.default||e;var r=e.name,_e=_isFunction$1(e),Se=r&&!_e&&e.init?function(){this._props=[]}:e,Ae={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},Re={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),e!==Se){if(_plugins$1[r])return;_setDefaults$1(Se,_setDefaults$1(_copyExcluding(e,Ae),Re)),_merge(Se.prototype,_merge(Ae,_copyExcluding(e,Re))),_plugins$1[Se.prop=r]=Se,e.targetTest&&(_harnessPlugins.push(Se),_reservedProps[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}_addGlobal(r,Se),e.register&&e.register(gsap$3,Se,PropTween)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function(e,r,_e){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(_e-r)*e*6:e<.5?_e:e*3<2?r+(_e-r)*(2/3-e)*6:r)*_255+.5|0},splitColor=function(e,r,_e){var Se=e?_isNumber$1(e)?[e>>16,e>>8&_255,e&_255]:0:_colorLookup.black,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe,Fe;if(!Se){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_colorLookup[e])Se=_colorLookup[e];else if(e.charAt(0)==="#"){if(e.length<6&&(Ae=e.charAt(1),Re=e.charAt(2),Ee=e.charAt(3),e="#"+Ae+Ae+Re+Re+Ee+Ee+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return Se=parseInt(e.substr(1,6),16),[Se>>16,Se>>8&_255,Se&_255,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),Se=[e>>16,e>>8&_255,e&_255]}else if(e.substr(0,3)==="hsl"){if(Se=Fe=e.match(_strictNumExp),!r)Ce=+Se[0]%360/360,Te=+Se[1]/100,De=+Se[2]/100,Re=De<=.5?De*(Te+1):De+Te-De*Te,Ae=De*2-Re,Se.length>3&&(Se[3]*=1),Se[0]=_hue(Ce+1/3,Ae,Re),Se[1]=_hue(Ce,Ae,Re),Se[2]=_hue(Ce-1/3,Ae,Re);else if(~e.indexOf("="))return Se=e.match(_numExp),_e&&Se.length<4&&(Se[3]=1),Se}else Se=e.match(_strictNumExp)||_colorLookup.transparent;Se=Se.map(Number)}return r&&!Fe&&(Ae=Se[0]/_255,Re=Se[1]/_255,Ee=Se[2]/_255,ke=Math.max(Ae,Re,Ee),Pe=Math.min(Ae,Re,Ee),De=(ke+Pe)/2,ke===Pe?Ce=Te=0:(xe=ke-Pe,Te=De>.5?xe/(2-ke-Pe):xe/(ke+Pe),Ce=ke===Ae?(Re-Ee)/xe+(Re<Ee?6:0):ke===Re?(Ee-Ae)/xe+2:(Ae-Re)/xe+4,Ce*=60),Se[0]=~~(Ce+.5),Se[1]=~~(Te*100+.5),Se[2]=~~(De*100+.5)),_e&&Se.length<4&&(Se[3]=1),Se},_colorOrderData=function(e){var r=[],_e=[],Se=-1;return e.split(_colorExp).forEach(function(Ae){var Re=Ae.match(_numWithUnitExp)||[];r.push.apply(r,Re),_e.push(Se+=Re.length+1)}),r.c=_e,r},_formatColors=function(e,r,_e){var Se="",Ae=(e+Se).match(_colorExp),Re=r?"hsla(":"rgba(",Ee=0,Ce,Te,De,ke;if(!Ae)return e;if(Ae=Ae.map(function(Pe){return(Pe=splitColor(Pe,r,1))&&Re+(r?Pe[0]+","+Pe[1]+"%,"+Pe[2]+"%,"+Pe[3]:Pe.join(","))+")"}),_e&&(De=_colorOrderData(e),Ce=_e.c,Ce.join(Se)!==De.c.join(Se)))for(Te=e.replace(_colorExp,"1").split(_numWithUnitExp),ke=Te.length-1;Ee<ke;Ee++)Se+=Te[Ee]+(~Ce.indexOf(Ee)?Ae.shift()||Re+"0,0,0,0)":(De.length?De:Ae.length?Ae:_e).shift());if(!Te)for(Te=e.split(_colorExp),ke=Te.length-1;Ee<ke;Ee++)Se+=Te[Ee]+Ae[Ee];return Se+Te[ke]},_colorExp=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _colorLookup)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function(e){var r=e.join(" "),_e;if(_colorExp.lastIndex=0,_colorExp.test(r))return _e=_hslExp.test(r),e[1]=_formatColors(e[1],_e),e[0]=_formatColors(e[0],_e,_colorOrderData(e[1])),!0},_tickerActive,_ticker=function(){var t=Date.now,e=500,r=33,_e=t(),Se=_e,Ae=1e3/240,Re=Ae,Ee=[],Ce,Te,De,ke,Pe,xe,Fe=function Ie(Me){var Oe=t()-Se,Be=Me===!0,je,Ve,ze,He;if(Oe>e&&(_e+=Oe-r),Se+=Oe,ze=Se-_e,je=ze-Re,(je>0||Be)&&(He=++ke.frame,Pe=ze-ke.time*1e3,ke.time=ze=ze/1e3,Re+=je+(je>=Ae?4:Ae-je),Ve=1),Be||(Ce=Te(Ie)),Ve)for(xe=0;xe<Ee.length;xe++)Ee[xe](ze,Pe,He,Me)};return ke={time:0,frame:0,tick:function(){Fe(!0)},deltaRatio:function(Me){return Pe/(1e3/(Me||60))},wake:function(){_coreReady&&(!_coreInitted$2&&_windowExists$2()&&(_win$3=_coreInitted$2=window,_doc$3=_win$3.document||{},_globals.gsap=gsap$3,(_win$3.gsapVersions||(_win$3.gsapVersions=[])).push(gsap$3.version),_install(_installScope||_win$3.GreenSockGlobals||!_win$3.gsap&&_win$3||{}),De=_win$3.requestAnimationFrame),Ce&&ke.sleep(),Te=De||function(Me){return setTimeout(Me,Re-ke.time*1e3+1|0)},_tickerActive=1,Fe(2))},sleep:function(){(De?_win$3.cancelAnimationFrame:clearTimeout)(Ce),_tickerActive=0,Te=_emptyFunc},lagSmoothing:function(Me,Oe){e=Me||1/_tinyNum,r=Math.min(Oe,e,0)},fps:function(Me){Ae=1e3/(Me||240),Re=ke.time*1e3+Ae},add:function(Me,Oe,Be){var je=Oe?function(Ve,ze,He,$e){Me(Ve,ze,He,$e),ke.remove(je)}:Me;return ke.remove(Me),Ee[Be?"unshift":"push"](je),_wake(),je},remove:function(Me,Oe){~(Oe=Ee.indexOf(Me))&&Ee.splice(Oe,1)&&xe>=Oe&&xe--},_listeners:Ee},ke}(),_wake=function(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function(e){for(var r={},_e=e.substr(1,e.length-3).split(":"),Se=_e[0],Ae=1,Re=_e.length,Ee,Ce,Te;Ae<Re;Ae++)Ce=_e[Ae],Ee=Ae!==Re-1?Ce.lastIndexOf(","):Ce.length,Te=Ce.substr(0,Ee),r[Se]=isNaN(Te)?Te.replace(_quotesExp,"").trim():+Te,Se=Ce.substr(Ee+1).trim();return r},_valueInParentheses=function(e){var r=e.indexOf("(")+1,_e=e.indexOf(")"),Se=e.indexOf("(",r);return e.substring(r,~Se&&Se<_e?e.indexOf(")",_e+1):_e)},_configEaseFromString=function(e){var r=(e+"").split("("),_e=_easeMap[r[0]];return _e&&r.length>1&&_e.config?_e.config.apply(null,~e.indexOf("{")?[_parseObjectInString(r[1])]:_valueInParentheses(e).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(e)?_easeMap._CE("",e):_e},_invertEase=function(e){return function(r){return 1-e(1-r)}},_propagateYoyoEase=function t(e,r){for(var _e=e._first,Se;_e;)_e instanceof Timeline?t(_e,r):_e.vars.yoyoEase&&(!_e._yoyo||!_e._repeat)&&_e._yoyo!==r&&(_e.timeline?t(_e.timeline,r):(Se=_e._ease,_e._ease=_e._yEase,_e._yEase=Se,_e._yoyo=r)),_e=_e._next},_parseEase=function(e,r){return e&&(_isFunction$1(e)?e:_easeMap[e]||_configEaseFromString(e))||r},_insertEase=function(e,r,_e,Se){_e===void 0&&(_e=function(Ce){return 1-r(1-Ce)}),Se===void 0&&(Se=function(Ce){return Ce<.5?r(Ce*2)/2:1-r((1-Ce)*2)/2});var Ae={easeIn:r,easeOut:_e,easeInOut:Se},Re;return _forEachName(e,function(Ee){_easeMap[Ee]=_globals[Ee]=Ae,_easeMap[Re=Ee.toLowerCase()]=_e;for(var Ce in Ae)_easeMap[Re+(Ce==="easeIn"?".in":Ce==="easeOut"?".out":".inOut")]=_easeMap[Ee+"."+Ce]=Ae[Ce]}),Ae},_easeInOutFromOut=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},_configElastic=function t(e,r,_e){var Se=r>=1?r:1,Ae=(_e||(e?.3:.45))/(r<1?r:1),Re=Ae/_2PI*(Math.asin(1/Se)||0),Ee=function(De){return De===1?1:Se*Math.pow(2,-10*De)*_sin((De-Re)*Ae)+1},Ce=e==="out"?Ee:e==="in"?function(Te){return 1-Ee(1-Te)}:_easeInOutFromOut(Ee);return Ae=_2PI/Ae,Ce.config=function(Te,De){return t(e,Te,De)},Ce},_configBack=function t(e,r){r===void 0&&(r=1.70158);var _e=function(Re){return Re?--Re*Re*((r+1)*Re+r)+1:0},Se=e==="out"?_e:e==="in"?function(Ae){return 1-_e(1-Ae)}:_easeInOutFromOut(_e);return Se.config=function(Ae){return t(e,Ae)},Se};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;_insertEase(t+",Power"+(r-1),e?function(_e){return Math.pow(_e,r)}:function(_e){return _e},function(_e){return 1-Math.pow(1-_e,r)},function(_e){return _e<.5?Math.pow(_e*2,r)/2:1-Math.pow((1-_e)*2,r)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(t,e){var r=1/e,_e=2*r,Se=2.5*r,Ae=function(Ee){return Ee<r?t*Ee*Ee:Ee<_e?t*Math.pow(Ee-1.5/e,2)+.75:Ee<Se?t*(Ee-=2.25/e)*Ee+.9375:t*Math.pow(Ee-2.625/e,2)+.984375};_insertEase("Bounce",function(Re){return 1-Ae(1-Re)},Ae)})(7.5625,2.75);_insertEase("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});_insertEase("Circ",function(t){return-(_sqrt(1-t*t)-1)});_insertEase("Sine",function(t){return t===1?1:-_cos(t*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function(e,r){e===void 0&&(e=1);var _e=1/e,Se=e+(r?0:1),Ae=r?1:0,Re=1-_tinyNum;return function(Ee){return((Se*_clamp$1(0,Re,Ee)|0)+Ae)*_e}}};_defaults$1.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return _callbackNames+=t+","+t+"Params,"});var GSCache=function(e,r){this.id=_gsID++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:_getProperty,this.set=r?r.getSetter:_getSetter},Animation=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,_setDuration(this,+r.duration,1,1),this.data=r.data,_context$1&&(this._ctx=_context$1,_context$1.data.push(this)),_tickerActive||_ticker.wake()}var e=t.prototype;return e.delay=function(_e){return _e||_e===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+_e-this._delay),this._delay=_e,this):this._delay},e.duration=function(_e){return arguments.length?this.totalDuration(this._repeat>0?_e+(_e+this._rDelay)*this._repeat:_e):this.totalDuration()&&this._dur},e.totalDuration=function(_e){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?_e:(_e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(_e,Se){if(_wake(),!arguments.length)return this._tTime;var Ae=this._dp;if(Ae&&Ae.smoothChildTiming&&this._ts){for(_alignPlayhead(this,_e),!Ae._dp||Ae.parent||_postAddChecks(Ae,this);Ae&&Ae.parent;)Ae.parent._time!==Ae._start+(Ae._ts>=0?Ae._tTime/Ae._ts:(Ae.totalDuration()-Ae._tTime)/-Ae._ts)&&Ae.totalTime(Ae._tTime,!0),Ae=Ae.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&_e<this._tDur||this._ts<0&&_e>0||!this._tDur&&!_e)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==_e||!this._dur&&!Se||this._initted&&Math.abs(this._zTime)===_tinyNum||!_e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=_e),_lazySafeRender(this,_e,Se)),this},e.time=function(_e,Se){return arguments.length?this.totalTime(Math.min(this.totalDuration(),_e+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(_e?this._dur:0),Se):this._time},e.totalProgress=function(_e,Se){return arguments.length?this.totalTime(this.totalDuration()*_e,Se):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(_e,Se){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-_e:_e)+_elapsedCycleDuration(this),Se):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(_e,Se){var Ae=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(_e-1)*Ae,Se):this._repeat?_animationCycle(this._tTime,Ae)+1:1},e.timeScale=function(_e){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===_e)return this;var Se=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+_e||0,this._ts=this._ps||_e===-_tinyNum?0:this._rts,this.totalTime(_clamp$1(-this._delay,this._tDur,Se),!0),_setEnd(this),_recacheAncestors(this)},e.paused=function(_e){return arguments.length?(this._ps!==_e&&(this._ps=_e,_e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},e.startTime=function(_e){if(arguments.length){this._start=_e;var Se=this.parent||this._dp;return Se&&(Se._sort||!this.parent)&&_addToTimeline(Se,this,_e-this._delay),this}return this._start},e.endTime=function(_e){return this._start+(_isNotFalse(_e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(_e){var Se=this.parent||this._dp;return Se?_e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(Se.rawTime(_e),this):this._tTime:this._tTime},e.revert=function(_e){_e===void 0&&(_e=_revertConfig);var Se=_reverting$1;return _reverting$1=_e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(_e),this.totalTime(-.01,_e.suppressEvents)),this.data!=="nested"&&_e.kill!==!1&&this.kill(),_reverting$1=Se,this},e.globalTime=function(_e){for(var Se=this,Ae=arguments.length?_e:Se.rawTime();Se;)Ae=Se._start+Ae/(Se._ts||1),Se=Se._dp;return!this.parent&&this.vars.immediateRender?-1:Ae},e.repeat=function(_e){return arguments.length?(this._repeat=_e===1/0?-2:_e,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(_e){if(arguments.length){var Se=this._time;return this._rDelay=_e,_onUpdateTotalDuration(this),Se?this.time(Se):this}return this._rDelay},e.yoyo=function(_e){return arguments.length?(this._yoyo=_e,this):this._yoyo},e.seek=function(_e,Se){return this.totalTime(_parsePosition$1(this,_e),_isNotFalse(Se))},e.restart=function(_e,Se){return this.play().totalTime(_e?-this._delay:0,_isNotFalse(Se))},e.play=function(_e,Se){return _e!=null&&this.seek(_e,Se),this.reversed(!1).paused(!1)},e.reverse=function(_e,Se){return _e!=null&&this.seek(_e||this.totalDuration(),Se),this.reversed(!0).paused(!1)},e.pause=function(_e,Se){return _e!=null&&this.seek(_e,Se),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(_e){return arguments.length?(!!_e!==this.reversed()&&this.timeScale(-this._rts||(_e?-_tinyNum:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},e.isActive=function(){var _e=this.parent||this._dp,Se=this._start,Ae;return!!(!_e||this._ts&&this._initted&&_e.isActive()&&(Ae=_e.rawTime(!0))>=Se&&Ae<this.endTime(!0)-_tinyNum)},e.eventCallback=function(_e,Se,Ae){var Re=this.vars;return arguments.length>1?(Se?(Re[_e]=Se,Ae&&(Re[_e+"Params"]=Ae),_e==="onUpdate"&&(this._onUpdate=Se)):delete Re[_e],this):Re[_e]},e.then=function(_e){var Se=this;return new Promise(function(Ae){var Re=_isFunction$1(_e)?_e:_passThrough$1,Ee=function(){var Te=Se.then;Se.then=null,_isFunction$1(Re)&&(Re=Re(Se))&&(Re.then||Re===Se)&&(Se.then=Te),Ae(Re),Se.then=Te};Se._initted&&Se.totalProgress()===1&&Se._ts>=0||!Se._tTime&&Se._ts<0?Ee():Se._prom=Ee})},e.kill=function(){_interrupt(this)},t}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(t){_inheritsLoose(e,t);function e(_e,Se){var Ae;return _e===void 0&&(_e={}),Ae=t.call(this,_e)||this,Ae.labels={},Ae.smoothChildTiming=!!_e.smoothChildTiming,Ae.autoRemoveChildren=!!_e.autoRemoveChildren,Ae._sort=_isNotFalse(_e.sortChildren),_globalTimeline&&_addToTimeline(_e.parent||_globalTimeline,_assertThisInitialized(Ae),Se),_e.reversed&&Ae.reverse(),_e.paused&&Ae.paused(!0),_e.scrollTrigger&&_scrollTrigger(_assertThisInitialized(Ae),_e.scrollTrigger),Ae}var r=e.prototype;return r.to=function(Se,Ae,Re){return _createTweenType(0,arguments,this),this},r.from=function(Se,Ae,Re){return _createTweenType(1,arguments,this),this},r.fromTo=function(Se,Ae,Re,Ee){return _createTweenType(2,arguments,this),this},r.set=function(Se,Ae,Re){return Ae.duration=0,Ae.parent=this,_inheritDefaults(Ae).repeatDelay||(Ae.repeat=0),Ae.immediateRender=!!Ae.immediateRender,new Tween(Se,Ae,_parsePosition$1(this,Re),1),this},r.call=function(Se,Ae,Re){return _addToTimeline(this,Tween.delayedCall(0,Se,Ae),Re)},r.staggerTo=function(Se,Ae,Re,Ee,Ce,Te,De){return Re.duration=Ae,Re.stagger=Re.stagger||Ee,Re.onComplete=Te,Re.onCompleteParams=De,Re.parent=this,new Tween(Se,Re,_parsePosition$1(this,Ce)),this},r.staggerFrom=function(Se,Ae,Re,Ee,Ce,Te,De){return Re.runBackwards=1,_inheritDefaults(Re).immediateRender=_isNotFalse(Re.immediateRender),this.staggerTo(Se,Ae,Re,Ee,Ce,Te,De)},r.staggerFromTo=function(Se,Ae,Re,Ee,Ce,Te,De,ke){return Ee.startAt=Re,_inheritDefaults(Ee).immediateRender=_isNotFalse(Ee.immediateRender),this.staggerTo(Se,Ae,Ee,Ce,Te,De,ke)},r.render=function(Se,Ae,Re){var Ee=this._time,Ce=this._dirty?this.totalDuration():this._tDur,Te=this._dur,De=Se<=0?0:_roundPrecise(Se),ke=this._zTime<0!=Se<0&&(this._initted||!Te),Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze,He,$e;if(this!==_globalTimeline&&De>Ce&&Se>=0&&(De=Ce),De!==this._tTime||Re||ke){if(Ee!==this._time&&Te&&(De+=this._time-Ee,Se+=this._time-Ee),Pe=De,Ve=this._start,je=this._ts,Oe=!je,ke&&(Te||(Ee=this._zTime),(Se||!Ae)&&(this._zTime=Se)),this._repeat){if(He=this._yoyo,Me=Te+this._rDelay,this._repeat<-1&&Se<0)return this.totalTime(Me*100+Se,Ae,Re);if(Pe=_roundPrecise(De%Me),De===Ce?(Ie=this._repeat,Pe=Te):(Ie=~~(De/Me),Ie&&Ie===De/Me&&(Pe=Te,Ie--),Pe>Te&&(Pe=Te)),ze=_animationCycle(this._tTime,Me),!Ee&&this._tTime&&ze!==Ie&&(ze=Ie),He&&Ie&1&&(Pe=Te-Pe,$e=1),Ie!==ze&&!this._lock){var Ue=He&&ze&1,Xe=Ue===(He&&Ie&1);if(Ie<ze&&(Ue=!Ue),Ee=Ue?0:Te,this._lock=1,this.render(Ee||($e?0:_roundPrecise(Ie*Me)),Ae,!Te)._lock=0,this._tTime=De,!Ae&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!$e&&(this.invalidate()._lock=1),Ee&&Ee!==this._time||Oe!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(Te=this._dur,Ce=this._tDur,Xe&&(this._lock=2,Ee=Ue?Te:-1e-4,this.render(Ee,!0),this.vars.repeatRefresh&&!$e&&this.invalidate()),this._lock=0,!this._ts&&!Oe)return this;_propagateYoyoEase(this,$e)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Be=_findNextPauseTween(this,_roundPrecise(Ee),_roundPrecise(Pe)),Be&&(De-=Pe-(Pe=Be._start))),this._tTime=De,this._time=Pe,this._act=!je,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=Se,Ee=0),!Ee&&Pe&&!Ae&&(_callback$1(this,"onStart"),this._tTime!==De))return this;if(Pe>=Ee&&Se>=0)for(xe=this._first;xe;){if(Fe=xe._next,(xe._act||Pe>=xe._start)&&xe._ts&&Be!==xe){if(xe.parent!==this)return this.render(Se,Ae,Re);if(xe.render(xe._ts>0?(Pe-xe._start)*xe._ts:(xe._dirty?xe.totalDuration():xe._tDur)+(Pe-xe._start)*xe._ts,Ae,Re),Pe!==this._time||!this._ts&&!Oe){Be=0,Fe&&(De+=this._zTime=-_tinyNum);break}}xe=Fe}else{xe=this._last;for(var nr=Se<0?Se:Pe;xe;){if(Fe=xe._prev,(xe._act||nr<=xe._end)&&xe._ts&&Be!==xe){if(xe.parent!==this)return this.render(Se,Ae,Re);if(xe.render(xe._ts>0?(nr-xe._start)*xe._ts:(xe._dirty?xe.totalDuration():xe._tDur)+(nr-xe._start)*xe._ts,Ae,Re||_reverting$1&&(xe._initted||xe._startAt)),Pe!==this._time||!this._ts&&!Oe){Be=0,Fe&&(De+=this._zTime=nr?-_tinyNum:_tinyNum);break}}xe=Fe}}if(Be&&!Ae&&(this.pause(),Be.render(Pe>=Ee?0:-_tinyNum)._zTime=Pe>=Ee?1:-1,this._ts))return this._start=Ve,_setEnd(this),this.render(Se,Ae,Re);this._onUpdate&&!Ae&&_callback$1(this,"onUpdate",!0),(De===Ce&&this._tTime>=this.totalDuration()||!De&&Ee)&&(Ve===this._start||Math.abs(je)!==Math.abs(this._ts))&&(this._lock||((Se||!Te)&&(De===Ce&&this._ts>0||!De&&this._ts<0)&&_removeFromParent(this,1),!Ae&&!(Se<0&&!Ee)&&(De||Ee||!Ce)&&(_callback$1(this,De===Ce&&Se>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(De<Ce&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(Se,Ae){var Re=this;if(_isNumber$1(Ae)||(Ae=_parsePosition$1(this,Ae,Se)),!(Se instanceof Animation)){if(_isArray(Se))return Se.forEach(function(Ee){return Re.add(Ee,Ae)}),this;if(_isString$1(Se))return this.addLabel(Se,Ae);if(_isFunction$1(Se))Se=Tween.delayedCall(0,Se);else return this}return this!==Se?_addToTimeline(this,Se,Ae):this},r.getChildren=function(Se,Ae,Re,Ee){Se===void 0&&(Se=!0),Ae===void 0&&(Ae=!0),Re===void 0&&(Re=!0),Ee===void 0&&(Ee=-_bigNum$1);for(var Ce=[],Te=this._first;Te;)Te._start>=Ee&&(Te instanceof Tween?Ae&&Ce.push(Te):(Re&&Ce.push(Te),Se&&Ce.push.apply(Ce,Te.getChildren(!0,Ae,Re)))),Te=Te._next;return Ce},r.getById=function(Se){for(var Ae=this.getChildren(1,1,1),Re=Ae.length;Re--;)if(Ae[Re].vars.id===Se)return Ae[Re]},r.remove=function(Se){return _isString$1(Se)?this.removeLabel(Se):_isFunction$1(Se)?this.killTweensOf(Se):(_removeLinkedListItem(this,Se),Se===this._recent&&(this._recent=this._last),_uncache(this))},r.totalTime=function(Se,Ae){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?Se/this._ts:(this.totalDuration()-Se)/-this._ts))),t.prototype.totalTime.call(this,Se,Ae),this._forcing=0,this):this._tTime},r.addLabel=function(Se,Ae){return this.labels[Se]=_parsePosition$1(this,Ae),this},r.removeLabel=function(Se){return delete this.labels[Se],this},r.addPause=function(Se,Ae,Re){var Ee=Tween.delayedCall(0,Ae||_emptyFunc,Re);return Ee.data="isPause",this._hasPause=1,_addToTimeline(this,Ee,_parsePosition$1(this,Se))},r.removePause=function(Se){var Ae=this._first;for(Se=_parsePosition$1(this,Se);Ae;)Ae._start===Se&&Ae.data==="isPause"&&_removeFromParent(Ae),Ae=Ae._next},r.killTweensOf=function(Se,Ae,Re){for(var Ee=this.getTweensOf(Se,Re),Ce=Ee.length;Ce--;)_overwritingTween!==Ee[Ce]&&Ee[Ce].kill(Se,Ae);return this},r.getTweensOf=function(Se,Ae){for(var Re=[],Ee=toArray(Se),Ce=this._first,Te=_isNumber$1(Ae),De;Ce;)Ce instanceof Tween?_arrayContainsAny(Ce._targets,Ee)&&(Te?(!_overwritingTween||Ce._initted&&Ce._ts)&&Ce.globalTime(0)<=Ae&&Ce.globalTime(Ce.totalDuration())>Ae:!Ae||Ce.isActive())&&Re.push(Ce):(De=Ce.getTweensOf(Ee,Ae)).length&&Re.push.apply(Re,De),Ce=Ce._next;return Re},r.tweenTo=function(Se,Ae){Ae=Ae||{};var Re=this,Ee=_parsePosition$1(Re,Se),Ce=Ae,Te=Ce.startAt,De=Ce.onStart,ke=Ce.onStartParams,Pe=Ce.immediateRender,xe,Fe=Tween.to(Re,_setDefaults$1({ease:Ae.ease||"none",lazy:!1,immediateRender:!1,time:Ee,overwrite:"auto",duration:Ae.duration||Math.abs((Ee-(Te&&"time"in Te?Te.time:Re._time))/Re.timeScale())||_tinyNum,onStart:function(){if(Re.pause(),!xe){var Me=Ae.duration||Math.abs((Ee-(Te&&"time"in Te?Te.time:Re._time))/Re.timeScale());Fe._dur!==Me&&_setDuration(Fe,Me,0,1).render(Fe._time,!0,!0),xe=1}De&&De.apply(Fe,ke||[])}},Ae));return Pe?Fe.render(0):Fe},r.tweenFromTo=function(Se,Ae,Re){return this.tweenTo(Ae,_setDefaults$1({startAt:{time:_parsePosition$1(this,Se)}},Re))},r.recent=function(){return this._recent},r.nextLabel=function(Se){return Se===void 0&&(Se=this._time),_getLabelInDirection(this,_parsePosition$1(this,Se))},r.previousLabel=function(Se){return Se===void 0&&(Se=this._time),_getLabelInDirection(this,_parsePosition$1(this,Se),1)},r.currentLabel=function(Se){return arguments.length?this.seek(Se,!0):this.previousLabel(this._time+_tinyNum)},r.shiftChildren=function(Se,Ae,Re){Re===void 0&&(Re=0);for(var Ee=this._first,Ce=this.labels,Te;Ee;)Ee._start>=Re&&(Ee._start+=Se,Ee._end+=Se),Ee=Ee._next;if(Ae)for(Te in Ce)Ce[Te]>=Re&&(Ce[Te]+=Se);return _uncache(this)},r.invalidate=function(Se){var Ae=this._first;for(this._lock=0;Ae;)Ae.invalidate(Se),Ae=Ae._next;return t.prototype.invalidate.call(this,Se)},r.clear=function(Se){Se===void 0&&(Se=!0);for(var Ae=this._first,Re;Ae;)Re=Ae._next,this.remove(Ae),Ae=Re;return this._dp&&(this._time=this._tTime=this._pTime=0),Se&&(this.labels={}),_uncache(this)},r.totalDuration=function(Se){var Ae=0,Re=this,Ee=Re._last,Ce=_bigNum$1,Te,De,ke;if(arguments.length)return Re.timeScale((Re._repeat<0?Re.duration():Re.totalDuration())/(Re.reversed()?-Se:Se));if(Re._dirty){for(ke=Re.parent;Ee;)Te=Ee._prev,Ee._dirty&&Ee.totalDuration(),De=Ee._start,De>Ce&&Re._sort&&Ee._ts&&!Re._lock?(Re._lock=1,_addToTimeline(Re,Ee,De-Ee._delay,1)._lock=0):Ce=De,De<0&&Ee._ts&&(Ae-=De,(!ke&&!Re._dp||ke&&ke.smoothChildTiming)&&(Re._start+=De/Re._ts,Re._time-=De,Re._tTime-=De),Re.shiftChildren(-De,!1,-1/0),Ce=0),Ee._end>Ae&&Ee._ts&&(Ae=Ee._end),Ee=Te;_setDuration(Re,Re===_globalTimeline&&Re._time>Ae?Re._time:Ae,1,1),Re._dirty=0}return Re._tDur},e.updateRoot=function(Se){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(Se,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var Ae=_globalTimeline._first;if((!Ae||!Ae._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;Ae&&!Ae._ts;)Ae=Ae._next;Ae||_ticker.sleep()}}},e}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function(e,r,_e,Se,Ae,Re,Ee){var Ce=new PropTween(this._pt,e,r,0,1,_renderComplexString,null,Ae),Te=0,De=0,ke,Pe,xe,Fe,Ie,Me,Oe,Be;for(Ce.b=_e,Ce.e=Se,_e+="",Se+="",(Oe=~Se.indexOf("random("))&&(Se=_replaceRandom(Se)),Re&&(Be=[_e,Se],Re(Be,e,r),_e=Be[0],Se=Be[1]),Pe=_e.match(_complexStringNumExp)||[];ke=_complexStringNumExp.exec(Se);)Fe=ke[0],Ie=Se.substring(Te,ke.index),xe?xe=(xe+1)%5:Ie.substr(-5)==="rgba("&&(xe=1),Fe!==Pe[De++]&&(Me=parseFloat(Pe[De-1])||0,Ce._pt={_next:Ce._pt,p:Ie||De===1?Ie:",",s:Me,c:Fe.charAt(1)==="="?_parseRelative(Me,Fe)-Me:parseFloat(Fe)-Me,m:xe&&xe<4?Math.round:0},Te=_complexStringNumExp.lastIndex);return Ce.c=Te<Se.length?Se.substring(Te,Se.length):"",Ce.fp=Ee,(_relExp.test(Se)||Oe)&&(Ce.e=0),this._pt=Ce,Ce},_addPropTween=function(e,r,_e,Se,Ae,Re,Ee,Ce,Te,De){_isFunction$1(Se)&&(Se=Se(Ae||0,e,Re));var ke=e[r],Pe=_e!=="get"?_e:_isFunction$1(ke)?Te?e[r.indexOf("set")||!_isFunction$1(e["get"+r.substr(3)])?r:"get"+r.substr(3)](Te):e[r]():ke,xe=_isFunction$1(ke)?Te?_setterFuncWithParam:_setterFunc:_setterPlain,Fe;if(_isString$1(Se)&&(~Se.indexOf("random(")&&(Se=_replaceRandom(Se)),Se.charAt(1)==="="&&(Fe=_parseRelative(Pe,Se)+(getUnit(Pe)||0),(Fe||Fe===0)&&(Se=Fe))),!De||Pe!==Se||_forceAllPropTweens)return!isNaN(Pe*Se)&&Se!==""?(Fe=new PropTween(this._pt,e,r,+Pe||0,Se-(Pe||0),typeof ke=="boolean"?_renderBoolean:_renderPlain,0,xe),Te&&(Fe.fp=Te),Ee&&Fe.modifier(Ee,this,e),this._pt=Fe):(!ke&&!(r in e)&&_missingPlugin(r,Se),_addComplexStringPropTween.call(this,e,r,Pe,Se,xe,Ce||_config.stringFilter,Te))},_processVars=function(e,r,_e,Se,Ae){if(_isFunction$1(e)&&(e=_parseFuncOrString(e,Ae,r,_e,Se)),!_isObject$1(e)||e.style&&e.nodeType||_isArray(e)||_isTypedArray(e))return _isString$1(e)?_parseFuncOrString(e,Ae,r,_e,Se):e;var Re={},Ee;for(Ee in e)Re[Ee]=_parseFuncOrString(e[Ee],Ae,r,_e,Se);return Re},_checkPlugin=function(e,r,_e,Se,Ae,Re){var Ee,Ce,Te,De;if(_plugins$1[e]&&(Ee=new _plugins$1[e]).init(Ae,Ee.rawVars?r[e]:_processVars(r[e],Se,Ae,Re,_e),_e,Se,Re)!==!1&&(_e._pt=Ce=new PropTween(_e._pt,Ae,e,0,1,Ee.render,Ee,0,Ee.priority),_e!==_quickTween))for(Te=_e._ptLookup[_e._targets.indexOf(Ae)],De=Ee._props.length;De--;)Te[Ee._props[De]]=Ce;return Ee},_overwritingTween,_forceAllPropTweens,_initTween=function t(e,r,_e){var Se=e.vars,Ae=Se.ease,Re=Se.startAt,Ee=Se.immediateRender,Ce=Se.lazy,Te=Se.onUpdate,De=Se.onUpdateParams,ke=Se.callbackScope,Pe=Se.runBackwards,xe=Se.yoyoEase,Fe=Se.keyframes,Ie=Se.autoRevert,Me=e._dur,Oe=e._startAt,Be=e._targets,je=e.parent,Ve=je&&je.data==="nested"?je.vars.targets:Be,ze=e._overwrite==="auto"&&!_suppressOverwrites$1,He=e.timeline,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr;if(He&&(!Fe||!Ae)&&(Ae="none"),e._ease=_parseEase(Ae,_defaults$1.ease),e._yEase=xe?_invertEase(_parseEase(xe===!0?Ae:xe,_defaults$1.ease)):0,xe&&e._yoyo&&!e._repeat&&(xe=e._yEase,e._yEase=e._ease,e._ease=xe),e._from=!He&&!!Se.runBackwards,!He||Fe&&!Se.stagger){if(pr=Be[0]?_getCache(Be[0]).harness:0,sr=pr&&Se[pr.prop],$e=_copyExcluding(Se,_reservedProps),Oe&&(Oe._zTime<0&&Oe.progress(1),r<0&&Pe&&Ee&&!Ie?Oe.render(-1,!0):Oe.revert(Pe&&Me?_revertConfigNoKill:_startAtRevertConfig),Oe._lazy=0),Re){if(_removeFromParent(e._startAt=Tween.set(Be,_setDefaults$1({data:"isStart",overwrite:!1,parent:je,immediateRender:!0,lazy:_isNotFalse(Ce),startAt:null,delay:0,onUpdate:Te,onUpdateParams:De,callbackScope:ke,stagger:0},Re))),e._startAt._dp=0,r<0&&(_reverting$1||!Ee&&!Ie)&&e._startAt.revert(_revertConfigNoKill),Ee&&Me&&r<=0&&_e<=0){r&&(e._zTime=r);return}}else if(Pe&&Me&&!Oe){if(r&&(Ee=!1),Xe=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:Ee&&_isNotFalse(Ce),immediateRender:Ee,stagger:0,parent:je},$e),sr&&(Xe[pr.prop]=sr),_removeFromParent(e._startAt=Tween.set(Be,Xe)),e._startAt._dp=0,r<0&&(_reverting$1?e._startAt.revert(_revertConfigNoKill):e._startAt.render(-1,!0)),e._zTime=r,!Ee)t(e._startAt,_tinyNum,_tinyNum);else if(!r)return}for(e._pt=e._ptCache=0,Ce=Me&&_isNotFalse(Ce)||Ce&&!Me,Ue=0;Ue<Be.length;Ue++){if(Ge=Be[Ue],mr=Ge._gsap||_harness(Be)[Ue]._gsap,e._ptLookup[Ue]=dr={},_lazyLookup[mr.id]&&_lazyTweens.length&&_lazyRender(),gr=Ve===Be?Ue:Ve.indexOf(Ge),pr&&(vr=new pr).init(Ge,sr||$e,e,gr,Ve)!==!1&&(e._pt=nr=new PropTween(e._pt,Ge,vr.name,0,1,vr.render,vr,0,vr.priority),vr._props.forEach(function(hr){dr[hr]=nr}),vr.priority&&(St=1)),!pr||sr)for(Xe in $e)_plugins$1[Xe]&&(vr=_checkPlugin(Xe,$e,e,gr,Ge,Ve))?vr.priority&&(St=1):dr[Xe]=nr=_addPropTween.call(e,Ge,Xe,"get",$e[Xe],gr,Ve,0,Se.stringFilter);e._op&&e._op[Ue]&&e.kill(Ge,e._op[Ue]),ze&&e._pt&&(_overwritingTween=e,_globalTimeline.killTweensOf(Ge,dr,e.globalTime(r)),tr=!e.parent,_overwritingTween=0),e._pt&&Ce&&(_lazyLookup[mr.id]=1)}St&&_sortPropTweensByPriority(e),e._onInit&&e._onInit(e)}e._onUpdate=Te,e._initted=(!e._op||e._pt)&&!tr,Fe&&r<=0&&He.render(_bigNum$1,!0,!0)},_updatePropTweens=function(e,r,_e,Se,Ae,Re,Ee){var Ce=(e._pt&&e._ptCache||(e._ptCache={}))[r],Te,De,ke,Pe;if(!Ce)for(Ce=e._ptCache[r]=[],ke=e._ptLookup,Pe=e._targets.length;Pe--;){if(Te=ke[Pe][r],Te&&Te.d&&Te.d._pt)for(Te=Te.d._pt;Te&&Te.p!==r&&Te.fp!==r;)Te=Te._next;if(!Te)return _forceAllPropTweens=1,e.vars[r]="+=0",_initTween(e,Ee),_forceAllPropTweens=0,1;Ce.push(Te)}for(Pe=Ce.length;Pe--;)De=Ce[Pe],Te=De._pt||De,Te.s=(Se||Se===0)&&!Ae?Se:Te.s+(Se||0)+Re*Te.c,Te.c=_e-Te.s,De.e&&(De.e=_round$1(_e)+getUnit(De.e)),De.b&&(De.b=Te.s+getUnit(De.b))},_addAliasesToVars=function(e,r){var _e=e[0]?_getCache(e[0]).harness:0,Se=_e&&_e.aliases,Ae,Re,Ee,Ce;if(!Se)return r;Ae=_merge({},r);for(Re in Se)if(Re in Ae)for(Ce=Se[Re].split(","),Ee=Ce.length;Ee--;)Ae[Ce[Ee]]=Ae[Re];return Ae},_parseKeyframe=function(e,r,_e,Se){var Ae=r.ease||Se||"power1.inOut",Re,Ee;if(_isArray(r))Ee=_e[e]||(_e[e]=[]),r.forEach(function(Ce,Te){return Ee.push({t:Te/(r.length-1)*100,v:Ce,e:Ae})});else for(Re in r)Ee=_e[Re]||(_e[Re]=[]),Re==="ease"||Ee.push({t:parseFloat(e),v:r[Re],e:Ae})},_parseFuncOrString=function(e,r,_e,Se,Ae){return _isFunction$1(e)?e.call(r,_e,Se,Ae):_isString$1(e)&&~e.indexOf("random(")?_replaceRandom(e):e},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return _staggerPropsToSkip[t]=1});var Tween=function(t){_inheritsLoose(e,t);function e(_e,Se,Ae,Re){var Ee;typeof Se=="number"&&(Ae.duration=Se,Se=Ae,Ae=null),Ee=t.call(this,Re?Se:_inheritDefaults(Se))||this;var Ce=Ee.vars,Te=Ce.duration,De=Ce.delay,ke=Ce.immediateRender,Pe=Ce.stagger,xe=Ce.overwrite,Fe=Ce.keyframes,Ie=Ce.defaults,Me=Ce.scrollTrigger,Oe=Ce.yoyoEase,Be=Se.parent||_globalTimeline,je=(_isArray(_e)||_isTypedArray(_e)?_isNumber$1(_e[0]):"length"in Se)?[_e]:toArray(_e),Ve,ze,He,$e,Ue,Xe,nr,Ge;if(Ee._targets=je.length?_harness(je):_warn("GSAP target "+_e+" not found. https://greensock.com",!_config.nullTargetWarn)||[],Ee._ptLookup=[],Ee._overwrite=xe,Fe||Pe||_isFuncOrString(Te)||_isFuncOrString(De)){if(Se=Ee.vars,Ve=Ee.timeline=new Timeline({data:"nested",defaults:Ie||{},targets:Be&&Be.data==="nested"?Be.vars.targets:je}),Ve.kill(),Ve.parent=Ve._dp=_assertThisInitialized(Ee),Ve._start=0,Pe||_isFuncOrString(Te)||_isFuncOrString(De)){if($e=je.length,nr=Pe&&distribute(Pe),_isObject$1(Pe))for(Ue in Pe)~_staggerTweenProps.indexOf(Ue)&&(Ge||(Ge={}),Ge[Ue]=Pe[Ue]);for(ze=0;ze<$e;ze++)He=_copyExcluding(Se,_staggerPropsToSkip),He.stagger=0,Oe&&(He.yoyoEase=Oe),Ge&&_merge(He,Ge),Xe=je[ze],He.duration=+_parseFuncOrString(Te,_assertThisInitialized(Ee),ze,Xe,je),He.delay=(+_parseFuncOrString(De,_assertThisInitialized(Ee),ze,Xe,je)||0)-Ee._delay,!Pe&&$e===1&&He.delay&&(Ee._delay=De=He.delay,Ee._start+=De,He.delay=0),Ve.to(Xe,He,nr?nr(ze,Xe,je):0),Ve._ease=_easeMap.none;Ve.duration()?Te=De=0:Ee.timeline=0}else if(Fe){_inheritDefaults(_setDefaults$1(Ve.vars.defaults,{ease:"none"})),Ve._ease=_parseEase(Fe.ease||Se.ease||"none");var St=0,mr,pr,vr;if(_isArray(Fe))Fe.forEach(function(dr){return Ve.to(je,dr,">")}),Ve.duration();else{He={};for(Ue in Fe)Ue==="ease"||Ue==="easeEach"||_parseKeyframe(Ue,Fe[Ue],He,Fe.easeEach);for(Ue in He)for(mr=He[Ue].sort(function(dr,gr){return dr.t-gr.t}),St=0,ze=0;ze<mr.length;ze++)pr=mr[ze],vr={ease:pr.e,duration:(pr.t-(ze?mr[ze-1].t:0))/100*Te},vr[Ue]=pr.v,Ve.to(je,vr,St),St+=vr.duration;Ve.duration()<Te&&Ve.to({},{duration:Te-Ve.duration()})}}Te||Ee.duration(Te=Ve.duration())}else Ee.timeline=0;return xe===!0&&!_suppressOverwrites$1&&(_overwritingTween=_assertThisInitialized(Ee),_globalTimeline.killTweensOf(je),_overwritingTween=0),_addToTimeline(Be,_assertThisInitialized(Ee),Ae),Se.reversed&&Ee.reverse(),Se.paused&&Ee.paused(!0),(ke||!Te&&!Fe&&Ee._start===_roundPrecise(Be._time)&&_isNotFalse(ke)&&_hasNoPausedAncestors(_assertThisInitialized(Ee))&&Be.data!=="nested")&&(Ee._tTime=-_tinyNum,Ee.render(Math.max(0,-De)||0)),Me&&_scrollTrigger(_assertThisInitialized(Ee),Me),Ee}var r=e.prototype;return r.render=function(Se,Ae,Re){var Ee=this._time,Ce=this._tDur,Te=this._dur,De=Se<0,ke=Se>Ce-_tinyNum&&!De?Ce:Se<_tinyNum?0:Se,Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve;if(!Te)_renderZeroDurationTween(this,Se,Ae,Re);else if(ke!==this._tTime||!Se||Re||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==De){if(Pe=ke,je=this.timeline,this._repeat){if(Ie=Te+this._rDelay,this._repeat<-1&&De)return this.totalTime(Ie*100+Se,Ae,Re);if(Pe=_roundPrecise(ke%Ie),ke===Ce?(Fe=this._repeat,Pe=Te):(Fe=~~(ke/Ie),Fe&&Fe===ke/Ie&&(Pe=Te,Fe--),Pe>Te&&(Pe=Te)),Oe=this._yoyo&&Fe&1,Oe&&(Ve=this._yEase,Pe=Te-Pe),Me=_animationCycle(this._tTime,Ie),Pe===Ee&&!Re&&this._initted)return this._tTime=ke,this;Fe!==Me&&(je&&this._yEase&&_propagateYoyoEase(je,Oe),this.vars.repeatRefresh&&!Oe&&!this._lock&&(this._lock=Re=1,this.render(_roundPrecise(Ie*Fe),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,De?Se:Pe,Re,Ae,ke))return this._tTime=0,this;if(Ee!==this._time)return this;if(Te!==this._dur)return this.render(Se,Ae,Re)}if(this._tTime=ke,this._time=Pe,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Be=(Ve||this._ease)(Pe/Te),this._from&&(this.ratio=Be=1-Be),Pe&&!Ee&&!Ae&&(_callback$1(this,"onStart"),this._tTime!==ke))return this;for(xe=this._pt;xe;)xe.r(Be,xe.d),xe=xe._next;je&&je.render(Se<0?Se:!Pe&&Oe?-_tinyNum:je._dur*je._ease(Pe/this._dur),Ae,Re)||this._startAt&&(this._zTime=Se),this._onUpdate&&!Ae&&(De&&_rewindStartAt(this,Se,Ae,Re),_callback$1(this,"onUpdate")),this._repeat&&Fe!==Me&&this.vars.onRepeat&&!Ae&&this.parent&&_callback$1(this,"onRepeat"),(ke===this._tDur||!ke)&&this._tTime===ke&&(De&&!this._onUpdate&&_rewindStartAt(this,Se,!0,!0),(Se||!Te)&&(ke===this._tDur&&this._ts>0||!ke&&this._ts<0)&&_removeFromParent(this,1),!Ae&&!(De&&!Ee)&&(ke||Ee||Oe)&&(_callback$1(this,ke===Ce?"onComplete":"onReverseComplete",!0),this._prom&&!(ke<Ce&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(Se){return(!Se||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(Se),t.prototype.invalidate.call(this,Se)},r.resetTo=function(Se,Ae,Re,Ee){_tickerActive||_ticker.wake(),this._ts||this.play();var Ce=Math.min(this._dur,(this._dp._time-this._start)*this._ts),Te;return this._initted||_initTween(this,Ce),Te=this._ease(Ce/this._dur),_updatePropTweens(this,Se,Ae,Re,Ee,Te,Ce)?this.resetTo(Se,Ae,Re,Ee):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(Se,Ae){if(Ae===void 0&&(Ae="all"),!Se&&(!Ae||Ae==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var Re=this.timeline.totalDuration();return this.timeline.killTweensOf(Se,Ae,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&Re!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/Re,0,1),this}var Ee=this._targets,Ce=Se?toArray(Se):Ee,Te=this._ptLookup,De=this._pt,ke,Pe,xe,Fe,Ie,Me,Oe;if((!Ae||Ae==="all")&&_arraysMatch(Ee,Ce))return Ae==="all"&&(this._pt=0),_interrupt(this);for(ke=this._op=this._op||[],Ae!=="all"&&(_isString$1(Ae)&&(Ie={},_forEachName(Ae,function(Be){return Ie[Be]=1}),Ae=Ie),Ae=_addAliasesToVars(Ee,Ae)),Oe=Ee.length;Oe--;)if(~Ce.indexOf(Ee[Oe])){Pe=Te[Oe],Ae==="all"?(ke[Oe]=Ae,Fe=Pe,xe={}):(xe=ke[Oe]=ke[Oe]||{},Fe=Ae);for(Ie in Fe)Me=Pe&&Pe[Ie],Me&&((!("kill"in Me.d)||Me.d.kill(Ie)===!0)&&_removeLinkedListItem(this,Me,"_pt"),delete Pe[Ie]),xe!=="all"&&(xe[Ie]=1)}return this._initted&&!this._pt&&De&&_interrupt(this),this},e.to=function(Se,Ae){return new e(Se,Ae,arguments[2])},e.from=function(Se,Ae){return _createTweenType(1,arguments)},e.delayedCall=function(Se,Ae,Re,Ee){return new e(Ae,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:Se,onComplete:Ae,onReverseComplete:Ae,onCompleteParams:Re,onReverseCompleteParams:Re,callbackScope:Ee})},e.fromTo=function(Se,Ae,Re){return _createTweenType(2,arguments)},e.set=function(Se,Ae){return Ae.duration=0,Ae.repeatDelay||(Ae.repeat=0),new e(Se,Ae)},e.killTweensOf=function(Se,Ae,Re){return _globalTimeline.killTweensOf(Se,Ae,Re)},e}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(t){Tween[t]=function(){var e=new Timeline,r=_slice.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var _setterPlain=function(e,r,_e){return e[r]=_e},_setterFunc=function(e,r,_e){return e[r](_e)},_setterFuncWithParam=function(e,r,_e,Se){return e[r](Se.fp,_e)},_setterAttribute=function(e,r,_e){return e.setAttribute(r,_e)},_getSetter=function(e,r){return _isFunction$1(e[r])?_setterFunc:_isUndefined(e[r])&&e.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},_renderBoolean=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},_renderComplexString=function(e,r){var _e=r._pt,Se="";if(!e&&r.b)Se=r.b;else if(e===1&&r.e)Se=r.e;else{for(;_e;)Se=_e.p+(_e.m?_e.m(_e.s+_e.c*e):Math.round((_e.s+_e.c*e)*1e4)/1e4)+Se,_e=_e._next;Se+=r.c}r.set(r.t,r.p,Se,r)},_renderPropTweens=function(e,r){for(var _e=r._pt;_e;)_e.r(e,_e.d),_e=_e._next},_addPluginModifier=function(e,r,_e,Se){for(var Ae=this._pt,Re;Ae;)Re=Ae._next,Ae.p===Se&&Ae.modifier(e,r,_e),Ae=Re},_killPropTweensOf=function(e){for(var r=this._pt,_e,Se;r;)Se=r._next,r.p===e&&!r.op||r.op===e?_removeLinkedListItem(this,r,"_pt"):r.dep||(_e=1),r=Se;return!_e},_setterWithModifier=function(e,r,_e,Se){Se.mSet(e,r,Se.m.call(Se.tween,_e,Se.mt),Se)},_sortPropTweensByPriority=function(e){for(var r=e._pt,_e,Se,Ae,Re;r;){for(_e=r._next,Se=Ae;Se&&Se.pr>r.pr;)Se=Se._next;(r._prev=Se?Se._prev:Re)?r._prev._next=r:Ae=r,(r._next=Se)?Se._prev=r:Re=r,r=_e}e._pt=Ae},PropTween=function(){function t(r,_e,Se,Ae,Re,Ee,Ce,Te,De){this.t=_e,this.s=Ae,this.c=Re,this.p=Se,this.r=Ee||_renderPlain,this.d=Ce||this,this.set=Te||_setterPlain,this.pr=De||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(_e,Se,Ae){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=_e,this.mt=Ae,this.tween=Se},t}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return _reservedProps[t]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners$1={},_emptyArray$1=[],_lastMediaTime=0,_dispatch$1=function(e){return(_listeners$1[e]||_emptyArray$1).map(function(r){return r()})},_onMediaChange=function(){var e=Date.now(),r=[];e-_lastMediaTime>2&&(_dispatch$1("matchMediaInit"),_media.forEach(function(_e){var Se=_e.queries,Ae=_e.conditions,Re,Ee,Ce,Te;for(Ee in Se)Re=_win$3.matchMedia(Se[Ee]).matches,Re&&(Ce=1),Re!==Ae[Ee]&&(Ae[Ee]=Re,Te=1);Te&&(_e.revert(),Ce&&r.push(_e))}),_dispatch$1("matchMediaRevert"),r.forEach(function(_e){return _e.onMatch(_e)}),_lastMediaTime=e,_dispatch$1("matchMedia"))},Context=function(){function t(r,_e){this.selector=_e&&selector(_e),this.data=[],this._r=[],this.isReverted=!1,r&&this.add(r)}var e=t.prototype;return e.add=function(_e,Se,Ae){_isFunction$1(_e)&&(Ae=Se,Se=_e,_e=_isFunction$1);var Re=this,Ee=function(){var Te=_context$1,De=Re.selector,ke;return Te&&Te!==Re&&Te.data.push(Re),Ae&&(Re.selector=selector(Ae)),_context$1=Re,ke=Se.apply(Re,arguments),_isFunction$1(ke)&&Re._r.push(ke),_context$1=Te,Re.selector=De,Re.isReverted=!1,ke};return Re.last=Ee,_e===_isFunction$1?Ee(Re):_e?Re[_e]=Ee:Ee},e.ignore=function(_e){var Se=_context$1;_context$1=null,_e(this),_context$1=Se},e.getTweens=function(){var _e=[];return this.data.forEach(function(Se){return Se instanceof t?_e.push.apply(_e,Se.getTweens()):Se instanceof Tween&&!(Se.parent&&Se.parent.data==="nested")&&_e.push(Se)}),_e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(_e,Se){var Ae=this;if(_e){var Re=this.getTweens();this.data.forEach(function(Ce){Ce.data==="isFlip"&&(Ce.revert(),Ce.getChildren(!0,!0,!1).forEach(function(Te){return Re.splice(Re.indexOf(Te),1)}))}),Re.map(function(Ce){return{g:Ce.globalTime(0),t:Ce}}).sort(function(Ce,Te){return Te.g-Ce.g||-1}).forEach(function(Ce){return Ce.t.revert(_e)}),this.data.forEach(function(Ce){return!(Ce instanceof Animation)&&Ce.revert&&Ce.revert(_e)}),this._r.forEach(function(Ce){return Ce(_e,Ae)}),this.isReverted=!0}else this.data.forEach(function(Ce){return Ce.kill&&Ce.kill()});if(this.clear(),Se){var Ee=_media.indexOf(this);~Ee&&_media.splice(Ee,1)}},e.revert=function(_e){this.kill(_e||{})},t}(),MatchMedia=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(_e,Se,Ae){_isObject$1(_e)||(_e={matches:_e});var Re=new Context(0,Ae||this.scope),Ee=Re.conditions={},Ce,Te,De;this.contexts.push(Re),Se=Re.add("onMatch",Se),Re.queries=_e;for(Te in _e)Te==="all"?De=1:(Ce=_win$3.matchMedia(_e[Te]),Ce&&(_media.indexOf(Re)<0&&_media.push(Re),(Ee[Te]=Ce.matches)&&(De=1),Ce.addListener?Ce.addListener(_onMediaChange):Ce.addEventListener("change",_onMediaChange)));return De&&Se(Re),this},e.revert=function(_e){this.kill(_e||{})},e.kill=function(_e){this.contexts.forEach(function(Se){return Se.kill(_e,!0)})},t}(),_gsap={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),_e=0;_e<e;_e++)r[_e]=arguments[_e];r.forEach(function(Se){return _createPlugin(Se)})},timeline:function(e){return new Timeline(e)},getTweensOf:function(e,r){return _globalTimeline.getTweensOf(e,r)},getProperty:function(e,r,_e,Se){_isString$1(e)&&(e=toArray(e)[0]);var Ae=_getCache(e||{}).get,Re=_e?_passThrough$1:_numericIfPossible;return _e==="native"&&(_e=""),e&&(r?Re((_plugins$1[r]&&_plugins$1[r].get||Ae)(e,r,_e,Se)):function(Ee,Ce,Te){return Re((_plugins$1[Ee]&&_plugins$1[Ee].get||Ae)(e,Ee,Ce,Te))})},quickSetter:function(e,r,_e){if(e=toArray(e),e.length>1){var Se=e.map(function(De){return gsap$3.quickSetter(De,r,_e)}),Ae=Se.length;return function(De){for(var ke=Ae;ke--;)Se[ke](De)}}e=e[0]||{};var Re=_plugins$1[r],Ee=_getCache(e),Ce=Ee.harness&&(Ee.harness.aliases||{})[r]||r,Te=Re?function(De){var ke=new Re;_quickTween._pt=0,ke.init(e,_e?De+_e:De,_quickTween,0,[e]),ke.render(1,ke),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:Ee.set(e,Ce);return Re?Te:function(De){return Te(e,Ce,_e?De+_e:De,Ee,1)}},quickTo:function(e,r,_e){var Se,Ae=gsap$3.to(e,_merge((Se={},Se[r]="+=0.1",Se.paused=!0,Se),_e||{})),Re=function(Ce,Te,De){return Ae.resetTo(r,Ce,Te,De)};return Re.tween=Ae,Re},isTweening:function(e){return _globalTimeline.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_parseEase(e.ease,_defaults$1.ease)),_mergeDeep(_defaults$1,e||{})},config:function(e){return _mergeDeep(_config,e||{})},registerEffect:function(e){var r=e.name,_e=e.effect,Se=e.plugins,Ae=e.defaults,Re=e.extendTimeline;(Se||"").split(",").forEach(function(Ee){return Ee&&!_plugins$1[Ee]&&!_globals[Ee]&&_warn(r+" effect requires "+Ee+" plugin.")}),_effects[r]=function(Ee,Ce,Te){return _e(toArray(Ee),_setDefaults$1(Ce||{},Ae),Te)},Re&&(Timeline.prototype[r]=function(Ee,Ce,Te){return this.add(_effects[r](Ee,_isObject$1(Ce)?Ce:(Te=Ce)&&{},this),Te)})},registerEase:function(e,r){_easeMap[e]=_parseEase(r)},parseEase:function(e,r){return arguments.length?_parseEase(e,r):_easeMap},getById:function(e){return _globalTimeline.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var _e=new Timeline(e),Se,Ae;for(_e.smoothChildTiming=_isNotFalse(e.smoothChildTiming),_globalTimeline.remove(_e),_e._dp=0,_e._time=_e._tTime=_globalTimeline._time,Se=_globalTimeline._first;Se;)Ae=Se._next,(r||!(!Se._dur&&Se instanceof Tween&&Se.vars.onComplete===Se._targets[0]))&&_addToTimeline(_e,Se,Se._start-Se._delay),Se=Ae;return _addToTimeline(_globalTimeline,_e,0),_e},context:function(e,r){return e?new Context(e,r):_context$1},matchMedia:function(e){return new MatchMedia(e)},matchMediaRefresh:function(){return _media.forEach(function(e){var r=e.conditions,_e,Se;for(Se in r)r[Se]&&(r[Se]=!1,_e=1);_e&&e.revert()})||_onMediaChange()},addEventListener:function(e,r){var _e=_listeners$1[e]||(_listeners$1[e]=[]);~_e.indexOf(r)||_e.push(r)},removeEventListener:function(e,r){var _e=_listeners$1[e],Se=_e&&_e.indexOf(r);Se>=0&&_e.splice(Se,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins$1,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function(){return _reverting$1},context:function(e){return e&&_context$1&&(_context$1.data.push(e),e._ctx=_context$1),_context$1},suppressOverwrites:function(e){return _suppressOverwrites$1=e}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return _gsap[t]=Tween[t]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function(e,r){for(var _e=e._pt;_e&&_e.p!==r&&_e.op!==r&&_e.fp!==r;)_e=_e._next;return _e},_addModifiers=function(e,r){var _e=e._targets,Se,Ae,Re;for(Se in r)for(Ae=_e.length;Ae--;)Re=e._ptLookup[Ae][Se],Re&&(Re=Re.d)&&(Re._pt&&(Re=_getPluginPropTween(Re,Se)),Re&&Re.modifier&&Re.modifier(r[Se],e,_e[Ae],Se))},_buildModifierPlugin=function(e,r){return{name:e,rawVars:1,init:function(Se,Ae,Re){Re._onInit=function(Ee){var Ce,Te;if(_isString$1(Ae)&&(Ce={},_forEachName(Ae,function(De){return Ce[De]=1}),Ae=Ce),r){Ce={};for(Te in Ae)Ce[Te]=r(Ae[Te]);Ae=Ce}_addModifiers(Ee,Ae)}}}},gsap$3=_gsap.registerPlugin({name:"attr",init:function(e,r,_e,Se,Ae){var Re,Ee,Ce;this.tween=_e;for(Re in r)Ce=e.getAttribute(Re)||"",Ee=this.add(e,"setAttribute",(Ce||0)+"",r[Re],Se,Ae,0,0,Re),Ee.op=Re,Ee.b=Ce,this._props.push(Re)},render:function(e,r){for(var _e=r._pt;_e;)_reverting$1?_e.set(_e.t,_e.p,_e.b,_e):_e.r(e,_e.d),_e=_e._next}},{name:"endArray",init:function(e,r){for(var _e=r.length;_e--;)this.add(e,_e,e[_e]||0,r[_e],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$3.version="3.11.3";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win$2,_doc$2,_docElement,_pluginInitted,_tempDiv$1,_recentSetterPlugin,_reverting,_windowExists$1=function(){return typeof window<"u"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},_renderPropWithEnd=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},_renderCSSPropWithBeginning=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},_renderRoundedCSSProp=function(e,r){var _e=r.s+r.c*e;r.set(r.t,r.p,~~(_e+(_e<0?-.5:.5))+r.u,r)},_renderNonTweeningValue=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},_renderNonTweeningValueOnlyAtEnd=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},_setterCSSStyle=function(e,r,_e){return e.style[r]=_e},_setterCSSProp=function(e,r,_e){return e.style.setProperty(r,_e)},_setterTransform=function(e,r,_e){return e._gsap[r]=_e},_setterScale=function(e,r,_e){return e._gsap.scaleX=e._gsap.scaleY=_e},_setterScaleWithRender=function(e,r,_e,Se,Ae){var Re=e._gsap;Re.scaleX=Re.scaleY=_e,Re.renderTransform(Ae,Re)},_setterTransformWithRender=function(e,r,_e,Se,Ae){var Re=e._gsap;Re[r]=_e,Re.renderTransform(Ae,Re)},_transformProp$1="transform",_transformOriginProp=_transformProp$1+"Origin",_saveStyle=function(e,r){var _e=this,Se=this.target,Ae=Se.style;if(e in _transformProps){if(this.tfm=this.tfm||{},e!=="transform"&&(e=_propertyAliases[e]||e,~e.indexOf(",")?e.split(",").forEach(function(Re){return _e.tfm[Re]=_get(Se,Re)}):this.tfm[e]=Se._gsap.x?Se._gsap[e]:_get(Se,e)),this.props.indexOf(_transformProp$1)>=0)return;Se._gsap.svg&&(this.svgo=Se.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,r,"")),e=_transformProp$1}(Ae||r)&&this.props.push(e,r,Ae[e])},_removeIndependentTransforms=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle=function(){var e=this.props,r=this.target,_e=r.style,Se=r._gsap,Ae,Re;for(Ae=0;Ae<e.length;Ae+=3)e[Ae+1]?r[e[Ae]]=e[Ae+2]:e[Ae+2]?_e[e[Ae]]=e[Ae+2]:_e.removeProperty(e[Ae].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(Re in this.tfm)Se[Re]=this.tfm[Re];Se.svg&&(Se.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),Ae=_reverting(),Ae&&!Ae.isStart&&!_e[_transformProp$1]&&(_removeIndependentTransforms(_e),Se.uncache=1)}},_getStyleSaver=function(e,r){var _e={target:e,props:[],revert:_revertStyle,save:_saveStyle};return r&&r.split(",").forEach(function(Se){return _e.save(Se)}),_e},_supports3D,_createElement=function(e,r){var _e=_doc$2.createElementNS?_doc$2.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_doc$2.createElement(e);return _e.style?_e:_doc$2.createElement(e)},_getComputedProperty=function t(e,r,_e){var Se=getComputedStyle(e);return Se[r]||Se.getPropertyValue(r.replace(_capsExp$1,"-$1").toLowerCase())||Se.getPropertyValue(r)||!_e&&t(e,_checkPropPrefix(r)||r,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function(e,r,_e){var Se=r||_tempDiv$1,Ae=Se.style,Re=5;if(e in Ae&&!_e)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);Re--&&!(_prefixes[Re]+e in Ae););return Re<0?null:(Re===3?"ms":Re>=0?_prefixes[Re]:"")+e},_initCore$1=function(){_windowExists$1()&&window.document&&(_win$2=window,_doc$2=_win$2.document,_docElement=_doc$2.documentElement,_tempDiv$1=_createElement("div")||{style:{}},_createElement("div"),_transformProp$1=_checkPropPrefix(_transformProp$1),_transformOriginProp=_transformProp$1+"Origin",_tempDiv$1.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap$3.core.reverting,_pluginInitted=1)},_getBBoxHack=function t(e){var r=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),_e=this.parentNode,Se=this.nextSibling,Ae=this.style.cssText,Re;if(_docElement.appendChild(r),r.appendChild(this),this.style.display="block",e)try{Re=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(Re=this._gsapBBox());return _e&&(Se?_e.insertBefore(this,Se):_e.appendChild(this)),_docElement.removeChild(r),this.style.cssText=Ae,Re},_getAttributeFallbacks=function(e,r){for(var _e=r.length;_e--;)if(e.hasAttribute(r[_e]))return e.getAttribute(r[_e])},_getBBox=function(e){var r;try{r=e.getBBox()}catch{r=_getBBoxHack.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===_getBBoxHack||(r=_getBBoxHack.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+_getAttributeFallbacks(e,["x","cx","x1"])||0,y:+_getAttributeFallbacks(e,["y","cy","y1"])||0,width:0,height:0}:r},_isSVG=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_getBBox(e))},_removeProperty=function(e,r){if(r){var _e=e.style;r in _transformProps&&r!==_transformOriginProp&&(r=_transformProp$1),_e.removeProperty?((r.substr(0,2)==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),_e.removeProperty(r.replace(_capsExp$1,"-$1").toLowerCase())):_e.removeAttribute(r)}},_addNonTweeningPT=function(e,r,_e,Se,Ae,Re){var Ee=new PropTween(e._pt,r,_e,0,1,Re?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return e._pt=Ee,Ee.b=Se,Ee.e=Ae,e._props.push(_e),Ee},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function t(e,r,_e,Se){var Ae=parseFloat(_e)||0,Re=(_e+"").trim().substr((Ae+"").length)||"px",Ee=_tempDiv$1.style,Ce=_horizontalExp.test(r),Te=e.tagName.toLowerCase()==="svg",De=(Te?"client":"offset")+(Ce?"Width":"Height"),ke=100,Pe=Se==="px",xe=Se==="%",Fe,Ie,Me,Oe;return Se===Re||!Ae||_nonConvertibleUnits[Se]||_nonConvertibleUnits[Re]?Ae:(Re!=="px"&&!Pe&&(Ae=t(e,r,_e,"px")),Oe=e.getCTM&&_isSVG(e),(xe||Re==="%")&&(_transformProps[r]||~r.indexOf("adius"))?(Fe=Oe?e.getBBox()[Ce?"width":"height"]:e[De],_round$1(xe?Ae/Fe*ke:Ae/100*Fe)):(Ee[Ce?"width":"height"]=ke+(Pe?Re:Se),Ie=~r.indexOf("adius")||Se==="em"&&e.appendChild&&!Te?e:e.parentNode,Oe&&(Ie=(e.ownerSVGElement||{}).parentNode),(!Ie||Ie===_doc$2||!Ie.appendChild)&&(Ie=_doc$2.body),Me=Ie._gsap,Me&&xe&&Me.width&&Ce&&Me.time===_ticker.time&&!Me.uncache?_round$1(Ae/Me.width*ke):((xe||Re==="%")&&!_nonStandardLayouts[_getComputedProperty(Ie,"display")]&&(Ee.position=_getComputedProperty(e,"position")),Ie===e&&(Ee.position="static"),Ie.appendChild(_tempDiv$1),Fe=_tempDiv$1[De],Ie.removeChild(_tempDiv$1),Ee.position="absolute",Ce&&xe&&(Me=_getCache(Ie),Me.time=_ticker.time,Me.width=Ie[De]),_round$1(Pe?Fe*Ae/ke:Fe&&Ae?ke/Fe*Ae:0))))},_get=function(e,r,_e,Se){var Ae;return _pluginInitted||_initCore$1(),r in _propertyAliases&&r!=="transform"&&(r=_propertyAliases[r],~r.indexOf(",")&&(r=r.split(",")[0])),_transformProps[r]&&r!=="transform"?(Ae=_parseTransform(e,Se),Ae=r!=="transformOrigin"?Ae[r]:Ae.svg?Ae.origin:_firstTwoOnly(_getComputedProperty(e,_transformOriginProp))+" "+Ae.zOrigin+"px"):(Ae=e.style[r],(!Ae||Ae==="auto"||Se||~(Ae+"").indexOf("calc("))&&(Ae=_specialProps[r]&&_specialProps[r](e,r,_e)||_getComputedProperty(e,r)||_getProperty(e,r)||(r==="opacity"?1:0))),_e&&!~(Ae+"").trim().indexOf(" ")?_convertToUnit(e,r,Ae,_e)+_e:Ae},_tweenComplexCSSString=function(e,r,_e,Se){if(!_e||_e==="none"){var Ae=_checkPropPrefix(r,e,1),Re=Ae&&_getComputedProperty(e,Ae,1);Re&&Re!==_e?(r=Ae,_e=Re):r==="borderColor"&&(_e=_getComputedProperty(e,"borderTopColor"))}var Ee=new PropTween(this._pt,e.style,r,0,1,_renderComplexString),Ce=0,Te=0,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze;if(Ee.b=_e,Ee.e=Se,_e+="",Se+="",Se==="auto"&&(e.style[r]=Se,Se=_getComputedProperty(e,r)||Se,e.style[r]=_e),De=[_e,Se],_colorStringFilter(De),_e=De[0],Se=De[1],Pe=_e.match(_numWithUnitExp)||[],ze=Se.match(_numWithUnitExp)||[],ze.length){for(;ke=_numWithUnitExp.exec(Se);)Me=ke[0],Be=Se.substring(Ce,ke.index),Fe?Fe=(Fe+1)%5:(Be.substr(-5)==="rgba("||Be.substr(-5)==="hsla(")&&(Fe=1),Me!==(Ie=Pe[Te++]||"")&&(xe=parseFloat(Ie)||0,Ve=Ie.substr((xe+"").length),Me.charAt(1)==="="&&(Me=_parseRelative(xe,Me)+Ve),Oe=parseFloat(Me),je=Me.substr((Oe+"").length),Ce=_numWithUnitExp.lastIndex-je.length,je||(je=je||_config.units[r]||Ve,Ce===Se.length&&(Se+=je,Ee.e+=je)),Ve!==je&&(xe=_convertToUnit(e,r,Ie,je)||0),Ee._pt={_next:Ee._pt,p:Be||Te===1?Be:",",s:xe,c:Oe-xe,m:Fe&&Fe<4||r==="zIndex"?Math.round:0});Ee.c=Ce<Se.length?Se.substring(Ce,Se.length):""}else Ee.r=r==="display"&&Se==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(Se)&&(Ee.e=0),this._pt=Ee,Ee},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function(e){var r=e.split(" "),_e=r[0],Se=r[1]||"50%";return(_e==="top"||_e==="bottom"||Se==="left"||Se==="right")&&(e=_e,_e=Se,Se=e),r[0]=_keywordToPercent[_e]||_e,r[1]=_keywordToPercent[Se]||Se,r.join(" ")},_renderClearProps=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var _e=r.t,Se=_e.style,Ae=r.u,Re=_e._gsap,Ee,Ce,Te;if(Ae==="all"||Ae===!0)Se.cssText="",Ce=1;else for(Ae=Ae.split(","),Te=Ae.length;--Te>-1;)Ee=Ae[Te],_transformProps[Ee]&&(Ce=1,Ee=Ee==="transformOrigin"?_transformOriginProp:_transformProp$1),_removeProperty(_e,Ee);Ce&&(_removeProperty(_e,_transformProp$1),Re&&(Re.svg&&_e.removeAttribute("transform"),_parseTransform(_e,1),Re.uncache=1,_removeIndependentTransforms(Se)))}},_specialProps={clearProps:function(e,r,_e,Se,Ae){if(Ae.data!=="isFromStart"){var Re=e._pt=new PropTween(e._pt,r,_e,0,0,_renderClearProps);return Re.u=Se,Re.pr=-10,Re.tween=Ae,e._props.push(_e),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},_getComputedTransformMatrixAsArray=function(e){var r=_getComputedProperty(e,_transformProp$1);return _isNullTransform(r)?_identity2DMatrix:r.substr(7).match(_numExp).map(_round$1)},_getMatrix=function(e,r){var _e=e._gsap||_getCache(e),Se=e.style,Ae=_getComputedTransformMatrixAsArray(e),Re,Ee,Ce,Te;return _e.svg&&e.getAttribute("transform")?(Ce=e.transform.baseVal.consolidate().matrix,Ae=[Ce.a,Ce.b,Ce.c,Ce.d,Ce.e,Ce.f],Ae.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:Ae):(Ae===_identity2DMatrix&&!e.offsetParent&&e!==_docElement&&!_e.svg&&(Ce=Se.display,Se.display="block",Re=e.parentNode,(!Re||!e.offsetParent)&&(Te=1,Ee=e.nextElementSibling,_docElement.appendChild(e)),Ae=_getComputedTransformMatrixAsArray(e),Ce?Se.display=Ce:_removeProperty(e,"display"),Te&&(Ee?Re.insertBefore(e,Ee):Re?Re.appendChild(e):_docElement.removeChild(e))),r&&Ae.length>6?[Ae[0],Ae[1],Ae[4],Ae[5],Ae[12],Ae[13]]:Ae)},_applySVGOrigin=function(e,r,_e,Se,Ae,Re){var Ee=e._gsap,Ce=Ae||_getMatrix(e,!0),Te=Ee.xOrigin||0,De=Ee.yOrigin||0,ke=Ee.xOffset||0,Pe=Ee.yOffset||0,xe=Ce[0],Fe=Ce[1],Ie=Ce[2],Me=Ce[3],Oe=Ce[4],Be=Ce[5],je=r.split(" "),Ve=parseFloat(je[0])||0,ze=parseFloat(je[1])||0,He,$e,Ue,Xe;_e?Ce!==_identity2DMatrix&&($e=xe*Me-Fe*Ie)&&(Ue=Ve*(Me/$e)+ze*(-Ie/$e)+(Ie*Be-Me*Oe)/$e,Xe=Ve*(-Fe/$e)+ze*(xe/$e)-(xe*Be-Fe*Oe)/$e,Ve=Ue,ze=Xe):(He=_getBBox(e),Ve=He.x+(~je[0].indexOf("%")?Ve/100*He.width:Ve),ze=He.y+(~(je[1]||je[0]).indexOf("%")?ze/100*He.height:ze)),Se||Se!==!1&&Ee.smooth?(Oe=Ve-Te,Be=ze-De,Ee.xOffset=ke+(Oe*xe+Be*Ie)-Oe,Ee.yOffset=Pe+(Oe*Fe+Be*Me)-Be):Ee.xOffset=Ee.yOffset=0,Ee.xOrigin=Ve,Ee.yOrigin=ze,Ee.smooth=!!Se,Ee.origin=r,Ee.originIsAbsolute=!!_e,e.style[_transformOriginProp]="0px 0px",Re&&(_addNonTweeningPT(Re,Ee,"xOrigin",Te,Ve),_addNonTweeningPT(Re,Ee,"yOrigin",De,ze),_addNonTweeningPT(Re,Ee,"xOffset",ke,Ee.xOffset),_addNonTweeningPT(Re,Ee,"yOffset",Pe,Ee.yOffset)),e.setAttribute("data-svg-origin",Ve+" "+ze)},_parseTransform=function(e,r){var _e=e._gsap||new GSCache(e);if("x"in _e&&!r&&!_e.uncache)return _e;var Se=e.style,Ae=_e.scaleX<0,Re="px",Ee="deg",Ce=getComputedStyle(e),Te=_getComputedProperty(e,_transformOriginProp)||"0",De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr,hr,Sr,Je,Ze,Ye,We;return De=ke=Pe=Ie=Me=Oe=Be=je=Ve=0,xe=Fe=1,_e.svg=!!(e.getCTM&&_isSVG(e)),Ce.translate&&((Ce.translate!=="none"||Ce.scale!=="none"||Ce.rotate!=="none")&&(Se[_transformProp$1]=(Ce.translate!=="none"?"translate3d("+(Ce.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(Ce.rotate!=="none"?"rotate("+Ce.rotate+") ":"")+(Ce.scale!=="none"?"scale("+Ce.scale.split(" ").join(",")+") ":"")+(Ce[_transformProp$1]!=="none"?Ce[_transformProp$1]:"")),Se.scale=Se.rotate=Se.translate="none"),$e=_getMatrix(e,_e.svg),_e.svg&&(_e.uncache?(sr=e.getBBox(),Te=_e.xOrigin-sr.x+"px "+(_e.yOrigin-sr.y)+"px",gr=""):gr=!r&&e.getAttribute("data-svg-origin"),_applySVGOrigin(e,gr||Te,!!gr||_e.originIsAbsolute,_e.smooth!==!1,$e)),ze=_e.xOrigin||0,He=_e.yOrigin||0,$e!==_identity2DMatrix&&(Ge=$e[0],St=$e[1],mr=$e[2],pr=$e[3],De=vr=$e[4],ke=dr=$e[5],$e.length===6?(xe=Math.sqrt(Ge*Ge+St*St),Fe=Math.sqrt(pr*pr+mr*mr),Ie=Ge||St?_atan2(St,Ge)*_RAD2DEG:0,Be=mr||pr?_atan2(mr,pr)*_RAD2DEG+Ie:0,Be&&(Fe*=Math.abs(Math.cos(Be*_DEG2RAD))),_e.svg&&(De-=ze-(ze*Ge+He*mr),ke-=He-(ze*St+He*pr))):(We=$e[6],Ze=$e[7],hr=$e[8],Sr=$e[9],Je=$e[10],Ye=$e[11],De=$e[12],ke=$e[13],Pe=$e[14],Ue=_atan2(We,Je),Me=Ue*_RAD2DEG,Ue&&(Xe=Math.cos(-Ue),nr=Math.sin(-Ue),gr=vr*Xe+hr*nr,sr=dr*Xe+Sr*nr,tr=We*Xe+Je*nr,hr=vr*-nr+hr*Xe,Sr=dr*-nr+Sr*Xe,Je=We*-nr+Je*Xe,Ye=Ze*-nr+Ye*Xe,vr=gr,dr=sr,We=tr),Ue=_atan2(-mr,Je),Oe=Ue*_RAD2DEG,Ue&&(Xe=Math.cos(-Ue),nr=Math.sin(-Ue),gr=Ge*Xe-hr*nr,sr=St*Xe-Sr*nr,tr=mr*Xe-Je*nr,Ye=pr*nr+Ye*Xe,Ge=gr,St=sr,mr=tr),Ue=_atan2(St,Ge),Ie=Ue*_RAD2DEG,Ue&&(Xe=Math.cos(Ue),nr=Math.sin(Ue),gr=Ge*Xe+St*nr,sr=vr*Xe+dr*nr,St=St*Xe-Ge*nr,dr=dr*Xe-vr*nr,Ge=gr,vr=sr),Me&&Math.abs(Me)+Math.abs(Ie)>359.9&&(Me=Ie=0,Oe=180-Oe),xe=_round$1(Math.sqrt(Ge*Ge+St*St+mr*mr)),Fe=_round$1(Math.sqrt(dr*dr+We*We)),Ue=_atan2(vr,dr),Be=Math.abs(Ue)>2e-4?Ue*_RAD2DEG:0,Ve=Ye?1/(Ye<0?-Ye:Ye):0),_e.svg&&(gr=e.getAttribute("transform"),_e.forceCSS=e.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(e,_transformProp$1)),gr&&e.setAttribute("transform",gr))),Math.abs(Be)>90&&Math.abs(Be)<270&&(Ae?(xe*=-1,Be+=Ie<=0?180:-180,Ie+=Ie<=0?180:-180):(Fe*=-1,Be+=Be<=0?180:-180)),r=r||_e.uncache,_e.x=De-((_e.xPercent=De&&(!r&&_e.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-De)?-50:0)))?e.offsetWidth*_e.xPercent/100:0)+Re,_e.y=ke-((_e.yPercent=ke&&(!r&&_e.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-ke)?-50:0)))?e.offsetHeight*_e.yPercent/100:0)+Re,_e.z=Pe+Re,_e.scaleX=_round$1(xe),_e.scaleY=_round$1(Fe),_e.rotation=_round$1(Ie)+Ee,_e.rotationX=_round$1(Me)+Ee,_e.rotationY=_round$1(Oe)+Ee,_e.skewX=Be+Ee,_e.skewY=je+Ee,_e.transformPerspective=Ve+Re,(_e.zOrigin=parseFloat(Te.split(" ")[2])||0)&&(Se[_transformOriginProp]=_firstTwoOnly(Te)),_e.xOffset=_e.yOffset=0,_e.force3D=_config.force3D,_e.renderTransform=_e.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,_e.uncache=0,_e},_firstTwoOnly=function(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate=function(e,r,_e){var Se=getUnit(r);return _round$1(parseFloat(r)+parseFloat(_convertToUnit(e,"x",_e+"px",Se)))+Se},_renderNon3DTransforms=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,_renderCSSTransforms(e,r)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function(e,r){var _e=r||this,Se=_e.xPercent,Ae=_e.yPercent,Re=_e.x,Ee=_e.y,Ce=_e.z,Te=_e.rotation,De=_e.rotationY,ke=_e.rotationX,Pe=_e.skewX,xe=_e.skewY,Fe=_e.scaleX,Ie=_e.scaleY,Me=_e.transformPerspective,Oe=_e.force3D,Be=_e.target,je=_e.zOrigin,Ve="",ze=Oe==="auto"&&e&&e!==1||Oe===!0;if(je&&(ke!==_zeroDeg||De!==_zeroDeg)){var He=parseFloat(De)*_DEG2RAD,$e=Math.sin(He),Ue=Math.cos(He),Xe;He=parseFloat(ke)*_DEG2RAD,Xe=Math.cos(He),Re=_addPxTranslate(Be,Re,$e*Xe*-je),Ee=_addPxTranslate(Be,Ee,-Math.sin(He)*-je),Ce=_addPxTranslate(Be,Ce,Ue*Xe*-je+je)}Me!==_zeroPx&&(Ve+="perspective("+Me+_endParenthesis),(Se||Ae)&&(Ve+="translate("+Se+"%, "+Ae+"%) "),(ze||Re!==_zeroPx||Ee!==_zeroPx||Ce!==_zeroPx)&&(Ve+=Ce!==_zeroPx||ze?"translate3d("+Re+", "+Ee+", "+Ce+") ":"translate("+Re+", "+Ee+_endParenthesis),Te!==_zeroDeg&&(Ve+="rotate("+Te+_endParenthesis),De!==_zeroDeg&&(Ve+="rotateY("+De+_endParenthesis),ke!==_zeroDeg&&(Ve+="rotateX("+ke+_endParenthesis),(Pe!==_zeroDeg||xe!==_zeroDeg)&&(Ve+="skew("+Pe+", "+xe+_endParenthesis),(Fe!==1||Ie!==1)&&(Ve+="scale("+Fe+", "+Ie+_endParenthesis),Be.style[_transformProp$1]=Ve||"translate(0, 0)"},_renderSVGTransforms=function(e,r){var _e=r||this,Se=_e.xPercent,Ae=_e.yPercent,Re=_e.x,Ee=_e.y,Ce=_e.rotation,Te=_e.skewX,De=_e.skewY,ke=_e.scaleX,Pe=_e.scaleY,xe=_e.target,Fe=_e.xOrigin,Ie=_e.yOrigin,Me=_e.xOffset,Oe=_e.yOffset,Be=_e.forceCSS,je=parseFloat(Re),Ve=parseFloat(Ee),ze,He,$e,Ue,Xe;Ce=parseFloat(Ce),Te=parseFloat(Te),De=parseFloat(De),De&&(De=parseFloat(De),Te+=De,Ce+=De),Ce||Te?(Ce*=_DEG2RAD,Te*=_DEG2RAD,ze=Math.cos(Ce)*ke,He=Math.sin(Ce)*ke,$e=Math.sin(Ce-Te)*-Pe,Ue=Math.cos(Ce-Te)*Pe,Te&&(De*=_DEG2RAD,Xe=Math.tan(Te-De),Xe=Math.sqrt(1+Xe*Xe),$e*=Xe,Ue*=Xe,De&&(Xe=Math.tan(De),Xe=Math.sqrt(1+Xe*Xe),ze*=Xe,He*=Xe)),ze=_round$1(ze),He=_round$1(He),$e=_round$1($e),Ue=_round$1(Ue)):(ze=ke,Ue=Pe,He=$e=0),(je&&!~(Re+"").indexOf("px")||Ve&&!~(Ee+"").indexOf("px"))&&(je=_convertToUnit(xe,"x",Re,"px"),Ve=_convertToUnit(xe,"y",Ee,"px")),(Fe||Ie||Me||Oe)&&(je=_round$1(je+Fe-(Fe*ze+Ie*$e)+Me),Ve=_round$1(Ve+Ie-(Fe*He+Ie*Ue)+Oe)),(Se||Ae)&&(Xe=xe.getBBox(),je=_round$1(je+Se/100*Xe.width),Ve=_round$1(Ve+Ae/100*Xe.height)),Xe="matrix("+ze+","+He+","+$e+","+Ue+","+je+","+Ve+")",xe.setAttribute("transform",Xe),Be&&(xe.style[_transformProp$1]=Xe)},_addRotationalPropTween=function(e,r,_e,Se,Ae){var Re=360,Ee=_isString$1(Ae),Ce=parseFloat(Ae)*(Ee&&~Ae.indexOf("rad")?_RAD2DEG:1),Te=Ce-Se,De=Se+Te+"deg",ke,Pe;return Ee&&(ke=Ae.split("_")[1],ke==="short"&&(Te%=Re,Te!==Te%(Re/2)&&(Te+=Te<0?Re:-Re)),ke==="cw"&&Te<0?Te=(Te+Re*_bigNum)%Re-~~(Te/Re)*Re:ke==="ccw"&&Te>0&&(Te=(Te-Re*_bigNum)%Re-~~(Te/Re)*Re)),e._pt=Pe=new PropTween(e._pt,r,_e,Se,Te,_renderPropWithEnd),Pe.e=De,Pe.u="deg",e._props.push(_e),Pe},_assign=function(e,r){for(var _e in r)e[_e]=r[_e];return e},_addRawTransformPTs=function(e,r,_e){var Se=_assign({},_e._gsap),Ae="perspective,force3D,transformOrigin,svgOrigin",Re=_e.style,Ee,Ce,Te,De,ke,Pe,xe,Fe;Se.svg?(Te=_e.getAttribute("transform"),_e.setAttribute("transform",""),Re[_transformProp$1]=r,Ee=_parseTransform(_e,1),_removeProperty(_e,_transformProp$1),_e.setAttribute("transform",Te)):(Te=getComputedStyle(_e)[_transformProp$1],Re[_transformProp$1]=r,Ee=_parseTransform(_e,1),Re[_transformProp$1]=Te);for(Ce in _transformProps)Te=Se[Ce],De=Ee[Ce],Te!==De&&Ae.indexOf(Ce)<0&&(xe=getUnit(Te),Fe=getUnit(De),ke=xe!==Fe?_convertToUnit(_e,Ce,Te,Fe):parseFloat(Te),Pe=parseFloat(De),e._pt=new PropTween(e._pt,Ee,Ce,ke,Pe-ke,_renderCSSProp),e._pt.u=Fe||0,e._props.push(Ce));_assign(Ee,Se)};_forEachName("padding,margin,Width,Radius",function(t,e){var r="Top",_e="Right",Se="Bottom",Ae="Left",Re=(e<3?[r,_e,Se,Ae]:[r+Ae,r+_e,Se+_e,Se+Ae]).map(function(Ee){return e<2?t+Ee:"border"+Ee+t});_specialProps[e>1?"border"+t:t]=function(Ee,Ce,Te,De,ke){var Pe,xe;if(arguments.length<4)return Pe=Re.map(function(Fe){return _get(Ee,Fe,Te)}),xe=Pe.join(" "),xe.split(Pe[0]).length===5?Pe[0]:xe;Pe=(De+"").split(" "),xe={},Re.forEach(function(Fe,Ie){return xe[Fe]=Pe[Ie]=Pe[Ie]||Pe[(Ie-1)/2|0]}),Ee.init(Ce,xe,ke)}});var CSSPlugin={name:"css",register:_initCore$1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,_e,Se,Ae){var Re=this._props,Ee=e.style,Ce=_e.vars.startAt,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze,He,$e,Ue;_pluginInitted||_initCore$1(),this.styles=this.styles||_getStyleSaver(e),Ue=this.styles.props,this.tween=_e;for(Ie in r)if(Ie!=="autoRound"&&(De=r[Ie],!(_plugins$1[Ie]&&_checkPlugin(Ie,r,_e,Se,e,Ae)))){if(xe=typeof De,Fe=_specialProps[Ie],xe==="function"&&(De=De.call(_e,Se,e,Ae),xe=typeof De),xe==="string"&&~De.indexOf("random(")&&(De=_replaceRandom(De)),Fe)Fe(this,e,Ie,De,_e)&&($e=1);else if(Ie.substr(0,2)==="--")Te=(getComputedStyle(e).getPropertyValue(Ie)+"").trim(),De+="",_colorExp.lastIndex=0,_colorExp.test(Te)||(Me=getUnit(Te),Oe=getUnit(De)),Oe?Me!==Oe&&(Te=_convertToUnit(e,Ie,Te,Oe)+Oe):Me&&(De+=Me),this.add(Ee,"setProperty",Te,De,Se,Ae,0,0,Ie),Re.push(Ie),Ue.push(Ie,0,Ee[Ie]);else if(xe!=="undefined"){if(Ce&&Ie in Ce?(Te=typeof Ce[Ie]=="function"?Ce[Ie].call(_e,Se,e,Ae):Ce[Ie],_isString$1(Te)&&~Te.indexOf("random(")&&(Te=_replaceRandom(Te)),getUnit(Te+"")||(Te+=_config.units[Ie]||getUnit(_get(e,Ie))||""),(Te+"").charAt(1)==="="&&(Te=_get(e,Ie))):Te=_get(e,Ie),Pe=parseFloat(Te),Be=xe==="string"&&De.charAt(1)==="="&&De.substr(0,2),Be&&(De=De.substr(2)),ke=parseFloat(De),Ie in _propertyAliases&&(Ie==="autoAlpha"&&(Pe===1&&_get(e,"visibility")==="hidden"&&ke&&(Pe=0),Ue.push("visibility",0,Ee.visibility),_addNonTweeningPT(this,Ee,"visibility",Pe?"inherit":"hidden",ke?"inherit":"hidden",!ke)),Ie!=="scale"&&Ie!=="transform"&&(Ie=_propertyAliases[Ie],~Ie.indexOf(",")&&(Ie=Ie.split(",")[0]))),je=Ie in _transformProps,je){if(this.styles.save(Ie),Ve||(ze=e._gsap,ze.renderTransform&&!r.parseTransform||_parseTransform(e,r.parseTransform),He=r.smoothOrigin!==!1&&ze.smooth,Ve=this._pt=new PropTween(this._pt,Ee,_transformProp$1,0,1,ze.renderTransform,ze,0,-1),Ve.dep=1),Ie==="scale")this._pt=new PropTween(this._pt,ze,"scaleY",Pe,(Be?_parseRelative(Pe,Be+ke):ke)-Pe||0,_renderCSSProp),this._pt.u=0,Re.push("scaleY",Ie),Ie+="X";else if(Ie==="transformOrigin"){Ue.push(_transformOriginProp,0,Ee[_transformOriginProp]),De=_convertKeywordsToPercentages(De),ze.svg?_applySVGOrigin(e,De,0,He,0,this):(Oe=parseFloat(De.split(" ")[2])||0,Oe!==ze.zOrigin&&_addNonTweeningPT(this,ze,"zOrigin",ze.zOrigin,Oe),_addNonTweeningPT(this,Ee,Ie,_firstTwoOnly(Te),_firstTwoOnly(De)));continue}else if(Ie==="svgOrigin"){_applySVGOrigin(e,De,1,He,0,this);continue}else if(Ie in _rotationalProperties){_addRotationalPropTween(this,ze,Ie,Pe,Be?_parseRelative(Pe,Be+De):De);continue}else if(Ie==="smoothOrigin"){_addNonTweeningPT(this,ze,"smooth",ze.smooth,De);continue}else if(Ie==="force3D"){ze[Ie]=De;continue}else if(Ie==="transform"){_addRawTransformPTs(this,De,e);continue}}else Ie in Ee||(Ie=_checkPropPrefix(Ie)||Ie);if(je||(ke||ke===0)&&(Pe||Pe===0)&&!_complexExp.test(De)&&Ie in Ee)Me=(Te+"").substr((Pe+"").length),ke||(ke=0),Oe=getUnit(De)||(Ie in _config.units?_config.units[Ie]:Me),Me!==Oe&&(Pe=_convertToUnit(e,Ie,Te,Oe)),this._pt=new PropTween(this._pt,je?ze:Ee,Ie,Pe,(Be?_parseRelative(Pe,Be+ke):ke)-Pe,!je&&(Oe==="px"||Ie==="zIndex")&&r.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=Oe||0,Me!==Oe&&Oe!=="%"&&(this._pt.b=Te,this._pt.r=_renderCSSPropWithBeginning);else if(Ie in Ee)_tweenComplexCSSString.call(this,e,Ie,Te,Be?Be+De:De);else if(Ie in e)this.add(e,Ie,Te||e[Ie],Be?Be+De:De,Se,Ae);else{_missingPlugin(Ie,De);continue}je||(Ie in Ee?Ue.push(Ie,0,Ee[Ie]):Ue.push(Ie,1,Te||e[Ie])),Re.push(Ie)}}$e&&_sortPropTweensByPriority(this)},render:function(e,r){if(r.tween._time||!_reverting())for(var _e=r._pt;_e;)_e.r(e,_e.d),_e=_e._next;else r.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function(e,r,_e){var Se=_propertyAliases[r];return Se&&Se.indexOf(",")<0&&(r=Se),r in _transformProps&&r!==_transformOriginProp&&(e._gsap.x||_get(e,"x"))?_e&&_recentSetterPlugin===_e?r==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=_e||{})&&(r==="scale"?_setterScaleWithRender:_setterTransformWithRender):e.style&&!_isUndefined(e.style[r])?_setterCSSStyle:~r.indexOf("-")?_setterCSSProp:_getSetter(e,r)},core:{_removeProperty,_getMatrix}};gsap$3.utils.checkPrefix=_checkPropPrefix;gsap$3.core.getStyleSaver=_getStyleSaver;(function(t,e,r,_e){var Se=_forEachName(t+","+e+","+r,function(Ae){_transformProps[Ae]=1});_forEachName(e,function(Ae){_config.units[Ae]="deg",_rotationalProperties[Ae]=1}),_propertyAliases[Se[13]]=t+","+e,_forEachName(_e,function(Ae){var Re=Ae.split(":");_propertyAliases[Re[1]]=Se[Re[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){_config.units[t]="px"});gsap$3.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$3.registerPlugin(CSSPlugin)||gsap$3;gsapWithCSS.core.Tween;function _defineProperties(t,e){for(var r=0;r<e.length;r++){var _e=e[r];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_e.key,_e)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}/*!
 * Observer 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$2,_coreInitted$1,_win$1,_doc$1,_docEl$1,_body$1,_isTouch,_pointerType,ScrollTrigger$1,_root$1,_normalizer$1,_eventTypes,_getGSAP$2=function(){return gsap$2||typeof window<"u"&&(gsap$2=window.gsap)&&gsap$2.registerPlugin&&gsap$2},_startup$1=1,_observers=[],_scrollers=[],_proxies=[],_getTime$1=Date.now,_bridge=function(e,r){return r},_integrate=function(){var e=ScrollTrigger$1.core,r=e.bridge||{},_e=e._scrollers,Se=e._proxies;_e.push.apply(_e,_scrollers),Se.push.apply(Se,_proxies),_scrollers=_e,_proxies=Se,_bridge=function(Re,Ee){return r[Re](Ee)}},_getProxyProp=function(e,r){return~_proxies.indexOf(e)&&_proxies[_proxies.indexOf(e)+1][r]},_isViewport$1=function(e){return!!~_root$1.indexOf(e)},_addListener$1=function(e,r,_e,Se,Ae){return e.addEventListener(r,_e,{passive:!Se,capture:!!Ae})},_removeListener$1=function(e,r,_e,Se){return e.removeEventListener(r,_e,!!Se)},_scrollLeft="scrollLeft",_scrollTop="scrollTop",_onScroll$1=function(){return _normalizer$1&&_normalizer$1.isPressed||_scrollers.cache++},_scrollCacheFunc=function(e,r){var _e=function Se(Ae){if(Ae||Ae===0){_startup$1&&(_win$1.history.scrollRestoration="manual");var Re=_normalizer$1&&_normalizer$1.isPressed;Ae=Se.v=Math.round(Ae)||(_normalizer$1&&_normalizer$1.iOS?1:0),e(Ae),Se.cacheID=_scrollers.cache,Re&&_bridge("ss",Ae)}else(r||_scrollers.cache!==Se.cacheID||_bridge("ref"))&&(Se.cacheID=_scrollers.cache,Se.v=e());return Se.v+Se.offset};return _e.offset=0,e&&_e},_horizontal={s:_scrollLeft,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_scrollCacheFunc(function(t){return arguments.length?_win$1.scrollTo(t,_vertical.sc()):_win$1.pageXOffset||_doc$1[_scrollLeft]||_docEl$1[_scrollLeft]||_body$1[_scrollLeft]||0})},_vertical={s:_scrollTop,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_horizontal,sc:_scrollCacheFunc(function(t){return arguments.length?_win$1.scrollTo(_horizontal.sc(),t):_win$1.pageYOffset||_doc$1[_scrollTop]||_docEl$1[_scrollTop]||_body$1[_scrollTop]||0})},_getTarget=function(e){return gsap$2.utils.toArray(e)[0]||(typeof e=="string"&&gsap$2.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},_getScrollFunc=function(e,r){var _e=r.s,Se=r.sc;_isViewport$1(e)&&(e=_doc$1.scrollingElement||_docEl$1);var Ae=_scrollers.indexOf(e),Re=Se===_vertical.sc?1:2;!~Ae&&(Ae=_scrollers.push(e)-1),_scrollers[Ae+Re]||e.addEventListener("scroll",_onScroll$1);var Ee=_scrollers[Ae+Re],Ce=Ee||(_scrollers[Ae+Re]=_scrollCacheFunc(_getProxyProp(e,_e),!0)||(_isViewport$1(e)?Se:_scrollCacheFunc(function(Te){return arguments.length?e[_e]=Te:e[_e]})));return Ce.target=e,Ee||(Ce.smooth=gsap$2.getProperty(e,"scrollBehavior")==="smooth"),Ce},_getVelocityProp=function(e,r,_e){var Se=e,Ae=e,Re=_getTime$1(),Ee=Re,Ce=r||50,Te=Math.max(500,Ce*3),De=function(Fe,Ie){var Me=_getTime$1();Ie||Me-Re>Ce?(Ae=Se,Se=Fe,Ee=Re,Re=Me):_e?Se+=Fe:Se=Ae+(Fe-Ae)/(Me-Ee)*(Re-Ee)},ke=function(){Ae=Se=_e?0:Se,Ee=Re=0},Pe=function(Fe){var Ie=Ee,Me=Ae,Oe=_getTime$1();return(Fe||Fe===0)&&Fe!==Se&&De(Fe),Re===Ee||Oe-Ee>Te?0:(Se+(_e?Me:-Me))/((_e?Oe:Re)-Ie)*1e3};return{update:De,reset:ke,getVelocity:Pe}},_getEvent=function(e,r){return r&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},_getAbsoluteMax=function(e){var r=Math.max.apply(Math,e),_e=Math.min.apply(Math,e);return Math.abs(r)>=Math.abs(_e)?r:_e},_setScrollTrigger=function(){ScrollTrigger$1=gsap$2.core.globals().ScrollTrigger,ScrollTrigger$1&&ScrollTrigger$1.core&&_integrate()},_initCore=function(e){return gsap$2=e||_getGSAP$2(),gsap$2&&typeof document<"u"&&document.body&&(_win$1=window,_doc$1=document,_docEl$1=_doc$1.documentElement,_body$1=_doc$1.body,_root$1=[_win$1,_doc$1,_docEl$1,_body$1],gsap$2.utils.clamp,_pointerType="onpointerenter"in _body$1?"pointer":"mouse",_isTouch=Observer.isTouch=_win$1.matchMedia&&_win$1.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _win$1||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_eventTypes=Observer.eventTypes=("ontouchstart"in _docEl$1?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in _docEl$1?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _startup$1=0},500),_setScrollTrigger(),_coreInitted$1=1),_coreInitted$1};_horizontal.op=_vertical;_scrollers.cache=0;var Observer=function(){function t(r){this.init(r)}var e=t.prototype;return e.init=function(_e){_coreInitted$1||_initCore(gsap$2)||console.warn("Please gsap.registerPlugin(Observer)"),ScrollTrigger$1||_setScrollTrigger();var Se=_e.tolerance,Ae=_e.dragMinimum,Re=_e.type,Ee=_e.target,Ce=_e.lineHeight,Te=_e.debounce,De=_e.preventDefault,ke=_e.onStop,Pe=_e.onStopDelay,xe=_e.ignore,Fe=_e.wheelSpeed,Ie=_e.event,Me=_e.onDragStart,Oe=_e.onDragEnd,Be=_e.onDrag,je=_e.onPress,Ve=_e.onRelease,ze=_e.onRight,He=_e.onLeft,$e=_e.onUp,Ue=_e.onDown,Xe=_e.onChangeX,nr=_e.onChangeY,Ge=_e.onChange,St=_e.onToggleX,mr=_e.onToggleY,pr=_e.onHover,vr=_e.onHoverEnd,dr=_e.onMove,gr=_e.ignoreCheck,sr=_e.isNormalizer,tr=_e.onGestureStart,hr=_e.onGestureEnd,Sr=_e.onWheel,Je=_e.onEnable,Ze=_e.onDisable,Ye=_e.onClick,We=_e.scrollSpeed,or=_e.capture,fr=_e.allowClicks,_r=_e.lockAxis,yr=_e.onLockAxis;this.target=Ee=_getTarget(Ee)||_docEl$1,this.vars=_e,xe&&(xe=gsap$2.utils.toArray(xe)),Se=Se||1e-9,Ae=Ae||0,Fe=Fe||1,We=We||1,Re=Re||"wheel,touch,pointer",Te=Te!==!1,Ce||(Ce=parseFloat(_win$1.getComputedStyle(_body$1).lineHeight)||22);var xr,Ar,cr,ar,Qe,rr,er,ur=this,Cr=0,wr=0,Or=_getScrollFunc(Ee,_horizontal),kr=_getScrollFunc(Ee,_vertical),Pr=Or(),Ir=kr(),Vr=~Re.indexOf("touch")&&!~Re.indexOf("pointer")&&_eventTypes[0]==="pointerdown",zr=_isViewport$1(Ee),$r=Ee.ownerDocument||_doc$1,Gr=[0,0,0],ii=[0,0,0],Qr=0,di=function(){return Qr=_getTime$1()},Lr=function(si,Si){return(ur.event=si)&&xe&&~xe.indexOf(si.target)||Si&&Vr&&si.pointerType!=="touch"||gr&&gr(si,Si)},Hr=function(){ur._vx.reset(),ur._vy.reset(),Ar.pause(),ke&&ke(ur)},jr=function(){var si=ur.deltaX=_getAbsoluteMax(Gr),Si=ur.deltaY=_getAbsoluteMax(ii),hi=Math.abs(si)>=Se,xi=Math.abs(Si)>=Se;Ge&&(hi||xi)&&Ge(ur,si,Si,Gr,ii),hi&&(ze&&ur.deltaX>0&&ze(ur),He&&ur.deltaX<0&&He(ur),Xe&&Xe(ur),St&&ur.deltaX<0!=Cr<0&&St(ur),Cr=ur.deltaX,Gr[0]=Gr[1]=Gr[2]=0),xi&&(Ue&&ur.deltaY>0&&Ue(ur),$e&&ur.deltaY<0&&$e(ur),nr&&nr(ur),mr&&ur.deltaY<0!=wr<0&&mr(ur),wr=ur.deltaY,ii[0]=ii[1]=ii[2]=0),(ar||cr)&&(dr&&dr(ur),cr&&(Be(ur),cr=!1),ar=!1),rr&&!(rr=!1)&&yr&&yr(ur),Qe&&(Sr(ur),Qe=!1),xr=0},ci=function(si,Si,hi){Gr[hi]+=si,ii[hi]+=Si,ur._vx.update(si),ur._vy.update(Si),Te?xr||(xr=requestAnimationFrame(jr)):jr()},vi=function(si,Si){_r&&!er&&(ur.axis=er=Math.abs(si)>Math.abs(Si)?"x":"y",rr=!0),er!=="y"&&(Gr[2]+=si,ur._vx.update(si,!0)),er!=="x"&&(ii[2]+=Si,ur._vy.update(Si,!0)),Te?xr||(xr=requestAnimationFrame(jr)):jr()},qr=function(si){if(!Lr(si,1)){si=_getEvent(si,De);var Si=si.clientX,hi=si.clientY,xi=Si-ur.x,ji=hi-ur.y,Li=ur.isDragging;ur.x=Si,ur.y=hi,(Li||Math.abs(ur.startX-Si)>=Ae||Math.abs(ur.startY-hi)>=Ae)&&(Be&&(cr=!0),Li||(ur.isDragging=!0),vi(xi,ji),Li||Me&&Me(ur))}},ni=ur.onPress=function(Ti){Lr(Ti,1)||(ur.axis=er=null,Ar.pause(),ur.isPressed=!0,Ti=_getEvent(Ti),Cr=wr=0,ur.startX=ur.x=Ti.clientX,ur.startY=ur.y=Ti.clientY,ur._vx.reset(),ur._vy.reset(),_addListener$1(sr?Ee:$r,_eventTypes[1],qr,De,!0),ur.deltaX=ur.deltaY=0,je&&je(ur))},fi=function(si){if(!Lr(si,1)){_removeListener$1(sr?Ee:$r,_eventTypes[1],qr,!0);var Si=ur.isDragging&&(Math.abs(ur.x-ur.startX)>3||Math.abs(ur.y-ur.startY)>3),hi=_getEvent(si);Si||(ur._vx.reset(),ur._vy.reset(),De&&fr&&gsap$2.delayedCall(.08,function(){if(_getTime$1()-Qr>300&&!si.defaultPrevented){if(si.target.click)si.target.click();else if($r.createEvent){var xi=$r.createEvent("MouseEvents");xi.initMouseEvent("click",!0,!0,_win$1,1,hi.screenX,hi.screenY,hi.clientX,hi.clientY,!1,!1,!1,!1,0,null),si.target.dispatchEvent(xi)}}})),ur.isDragging=ur.isGesturing=ur.isPressed=!1,ke&&!sr&&Ar.restart(!0),Oe&&Si&&Oe(ur),Ve&&Ve(ur,Si)}},Ai=function(si){return si.touches&&si.touches.length>1&&(ur.isGesturing=!0)&&tr(si,ur.isDragging)},Di=function(){return(ur.isGesturing=!1)||hr(ur)},Oi=function(si){if(!Lr(si)){var Si=Or(),hi=kr();ci((Si-Pr)*We,(hi-Ir)*We,1),Pr=Si,Ir=hi,ke&&Ar.restart(!0)}},Ri=function(si){if(!Lr(si)){si=_getEvent(si,De),Sr&&(Qe=!0);var Si=(si.deltaMode===1?Ce:si.deltaMode===2?_win$1.innerHeight:1)*Fe;ci(si.deltaX*Si,si.deltaY*Si,0),ke&&!sr&&Ar.restart(!0)}},ki=function(si){if(!Lr(si)){var Si=si.clientX,hi=si.clientY,xi=Si-ur.x,ji=hi-ur.y;ur.x=Si,ur.y=hi,ar=!0,(xi||ji)&&vi(xi,ji)}},Ci=function(si){ur.event=si,pr(ur)},wi=function(si){ur.event=si,vr(ur)},Yi=function(si){return Lr(si)||_getEvent(si,De)&&Ye(ur)};Ar=ur._dc=gsap$2.delayedCall(Pe||.25,Hr).pause(),ur.deltaX=ur.deltaY=0,ur._vx=_getVelocityProp(0,50,!0),ur._vy=_getVelocityProp(0,50,!0),ur.scrollX=Or,ur.scrollY=kr,ur.isDragging=ur.isGesturing=ur.isPressed=!1,ur.enable=function(Ti){return ur.isEnabled||(_addListener$1(zr?$r:Ee,"scroll",_onScroll$1),Re.indexOf("scroll")>=0&&_addListener$1(zr?$r:Ee,"scroll",Oi,De,or),Re.indexOf("wheel")>=0&&_addListener$1(Ee,"wheel",Ri,De,or),(Re.indexOf("touch")>=0&&_isTouch||Re.indexOf("pointer")>=0)&&(_addListener$1(Ee,_eventTypes[0],ni,De,or),_addListener$1($r,_eventTypes[2],fi),_addListener$1($r,_eventTypes[3],fi),fr&&_addListener$1(Ee,"click",di,!1,!0),Ye&&_addListener$1(Ee,"click",Yi),tr&&_addListener$1($r,"gesturestart",Ai),hr&&_addListener$1($r,"gestureend",Di),pr&&_addListener$1(Ee,_pointerType+"enter",Ci),vr&&_addListener$1(Ee,_pointerType+"leave",wi),dr&&_addListener$1(Ee,_pointerType+"move",ki)),ur.isEnabled=!0,Ti&&Ti.type&&ni(Ti),Je&&Je(ur)),ur},ur.disable=function(){ur.isEnabled&&(_observers.filter(function(Ti){return Ti!==ur&&_isViewport$1(Ti.target)}).length||_removeListener$1(zr?$r:Ee,"scroll",_onScroll$1),ur.isPressed&&(ur._vx.reset(),ur._vy.reset(),_removeListener$1(sr?Ee:$r,_eventTypes[1],qr,!0)),_removeListener$1(zr?$r:Ee,"scroll",Oi,or),_removeListener$1(Ee,"wheel",Ri,or),_removeListener$1(Ee,_eventTypes[0],ni,or),_removeListener$1($r,_eventTypes[2],fi),_removeListener$1($r,_eventTypes[3],fi),_removeListener$1(Ee,"click",di,!0),_removeListener$1(Ee,"click",Yi),_removeListener$1($r,"gesturestart",Ai),_removeListener$1($r,"gestureend",Di),_removeListener$1(Ee,_pointerType+"enter",Ci),_removeListener$1(Ee,_pointerType+"leave",wi),_removeListener$1(Ee,_pointerType+"move",ki),ur.isEnabled=ur.isPressed=ur.isDragging=!1,Ze&&Ze(ur))},ur.kill=function(){ur.disable();var Ti=_observers.indexOf(ur);Ti>=0&&_observers.splice(Ti,1),_normalizer$1===ur&&(_normalizer$1=0)},_observers.push(ur),sr&&_isViewport$1(Ee)&&(_normalizer$1=ur),ur.enable(Ie)},_createClass(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();Observer.version="3.11.3";Observer.create=function(t){return new Observer(t)};Observer.register=_initCore;Observer.getAll=function(){return _observers.slice()};Observer.getById=function(t){return _observers.filter(function(e){return e.vars.id===t})[0]};_getGSAP$2()&&gsap$2.registerPlugin(Observer);/*!
 * ScrollTrigger 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$1,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context,_scrollRestoration,_limitCallbacks,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_pointerDownHandler=function(){return _pointerIsDown=1},_pointerUpHandler=function(){return _pointerIsDown=0},_passThrough=function(e){return e},_round=function(e){return Math.round(e*1e5)/1e5||0},_windowExists=function(){return typeof window<"u"},_getGSAP$1=function(){return gsap$1||_windowExists()&&(gsap$1=window.gsap)&&gsap$1.registerPlugin&&gsap$1},_isViewport=function(e){return!!~_root.indexOf(e)},_getBoundsFunc=function(e){return _getProxyProp(e,"getBoundingClientRect")||(_isViewport(e)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds(e)})},_getSizeFunc=function(e,r,_e){var Se=_e.d,Ae=_e.d2,Re=_e.a;return(Re=_getProxyProp(e,"getBoundingClientRect"))?function(){return Re()[Se]}:function(){return(r?_win["inner"+Ae]:e["client"+Ae])||0}},_getOffsetsFunc=function(e,r){return!r||~_proxies.indexOf(e)?_getBoundsFunc(e):function(){return _winOffsets}},_maxScroll=function(e,r){var _e=r.s,Se=r.d2,Ae=r.d,Re=r.a;return(_e="scroll"+Se)&&(Re=_getProxyProp(e,_e))?Re()-_getBoundsFunc(e)()[Ae]:_isViewport(e)?(_docEl[_e]||_body[_e])-(_win["inner"+Se]||_docEl["client"+Se]||_body["client"+Se]):e[_e]-e["offset"+Se]},_iterateAutoRefresh=function(e,r){for(var _e=0;_e<_autoRefresh.length;_e+=3)(!r||~r.indexOf(_autoRefresh[_e+1]))&&e(_autoRefresh[_e],_autoRefresh[_e+1],_autoRefresh[_e+2])},_isString=function(e){return typeof e=="string"},_isFunction=function(e){return typeof e=="function"},_isNumber=function(e){return typeof e=="number"},_isObject=function(e){return typeof e=="object"},_endAnimation=function(e,r,_e){return e&&e.progress(r?0:1)&&_e&&e.pause()},_callback=function(e,r){if(e.enabled){var _e=r(e);_e&&_e.totalTime&&(e.callbackAnimation=_e)}},_abs=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle=function(e){return _win.getComputedStyle(e)},_makePositionable=function(e){var r=_getComputedStyle(e).position;e.style.position=r==="absolute"||r==="fixed"?r:"relative"},_setDefaults=function(e,r){for(var _e in r)_e in e||(e[_e]=r[_e]);return e},_getBounds=function(e,r){var _e=r&&_getComputedStyle(e)[_transformProp]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap$1.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),Se=e.getBoundingClientRect();return _e&&_e.progress(0).kill(),Se},_getSize=function(e,r){var _e=r.d2;return e["offset"+_e]||e["client"+_e]||0},_getLabelRatioArray=function(e){var r=[],_e=e.labels,Se=e.duration(),Ae;for(Ae in _e)r.push(_e[Ae]/Se);return r},_getClosestLabel=function(e){return function(r){return gsap$1.utils.snap(_getLabelRatioArray(e),r)}},_snapDirectional=function(e){var r=gsap$1.utils.snap(e),_e=Array.isArray(e)&&e.slice(0).sort(function(Se,Ae){return Se-Ae});return _e?function(Se,Ae,Re){Re===void 0&&(Re=.001);var Ee;if(!Ae)return r(Se);if(Ae>0){for(Se-=Re,Ee=0;Ee<_e.length;Ee++)if(_e[Ee]>=Se)return _e[Ee];return _e[Ee-1]}else for(Ee=_e.length,Se+=Re;Ee--;)if(_e[Ee]<=Se)return _e[Ee];return _e[0]}:function(Se,Ae,Re){Re===void 0&&(Re=.001);var Ee=r(Se);return!Ae||Math.abs(Ee-Se)<Re||Ee-Se<0==Ae<0?Ee:r(Ae<0?Se-e:Se+e)}},_getLabelAtDirection=function(e){return function(r,_e){return _snapDirectional(_getLabelRatioArray(e))(r,_e.direction)}},_multiListener=function(e,r,_e,Se){return _e.split(",").forEach(function(Ae){return e(r,Ae,Se)})},_addListener=function(e,r,_e,Se,Ae){return e.addEventListener(r,_e,{passive:!Se,capture:!!Ae})},_removeListener=function(e,r,_e,Se){return e.removeEventListener(r,_e,!!Se)},_wheelListener=function(e,r,_e){return _e&&_e.wheelHandler&&e(r,"wheel",_e)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function(e,r){if(_isString(e)){var _e=e.indexOf("="),Se=~_e?+(e.charAt(_e-1)+1)*parseFloat(e.substr(_e+1)):0;~_e&&(e.indexOf("%")>_e&&(Se*=r/100),e=e.substr(0,_e-1)),e=Se+(e in _keywords?_keywords[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},_createMarker=function(e,r,_e,Se,Ae,Re,Ee,Ce){var Te=Ae.startColor,De=Ae.endColor,ke=Ae.fontSize,Pe=Ae.indent,xe=Ae.fontWeight,Fe=_doc.createElement("div"),Ie=_isViewport(_e)||_getProxyProp(_e,"pinType")==="fixed",Me=e.indexOf("scroller")!==-1,Oe=Ie?_body:_e,Be=e.indexOf("start")!==-1,je=Be?Te:De,Ve="border-color:"+je+";font-size:"+ke+";color:"+je+";font-weight:"+xe+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return Ve+="position:"+((Me||Ce)&&Ie?"fixed;":"absolute;"),(Me||Ce||!Ie)&&(Ve+=(Se===_vertical?_right:_bottom)+":"+(Re+parseFloat(Pe))+"px;"),Ee&&(Ve+="box-sizing:border-box;text-align:left;width:"+Ee.offsetWidth+"px;"),Fe._isStart=Be,Fe.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),Fe.style.cssText=Ve,Fe.innerText=r||r===0?e+"-"+r:e,Oe.children[0]?Oe.insertBefore(Fe,Oe.children[0]):Oe.appendChild(Fe),Fe._offset=Fe["offset"+Se.op.d2],_positionMarker(Fe,0,Se,Be),Fe},_positionMarker=function(e,r,_e,Se){var Ae={display:"block"},Re=_e[Se?"os2":"p2"],Ee=_e[Se?"p2":"os2"];e._isFlipped=Se,Ae[_e.a+"Percent"]=Se?-100:0,Ae[_e.a]=Se?"1px":0,Ae["border"+Re+_Width]=1,Ae["border"+Ee+_Width]=0,Ae[_e.p]=r+"px",gsap$1.set(e,Ae)},_triggers=[],_ids={},_rafID,_sync=function(){return _getTime()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll)))},_onScroll=function(){(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_normalizer?_rafID||(_rafID=requestAnimationFrame(_updateAll)):_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=function(){_baseScreenWidth=_win.innerWidth,_baseScreenHeight=_win.innerHeight},_onResize=function(){_scrollers.cache++,!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&!_doc.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win.innerWidth||Math.abs(_win.innerHeight-_baseScreenHeight)>_win.innerHeight*.25)&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_softRefresh=function t(){return _removeListener(ScrollTrigger,"scrollEnd",t)||_refreshAll(!0)},_dispatch=function(e){return _listeners[e]&&_listeners[e].map(function(r){return r()})||_emptyArray},_savedStyles=[],_revertRecorded=function(e){for(var r=0;r<_savedStyles.length;r+=5)(!e||_savedStyles[r+4]&&_savedStyles[r+4].query===e)&&(_savedStyles[r].style.cssText=_savedStyles[r+1],_savedStyles[r].getBBox&&_savedStyles[r].setAttribute("transform",_savedStyles[r+2]||""),_savedStyles[r+3].uncache=1)},_revertAll=function(e,r){var _e;for(_i=0;_i<_triggers.length;_i++)_e=_triggers[_i],_e&&(!r||_e._ctx===r)&&(e?_e.kill(1):_e.revert(!0,!0));r&&_revertRecorded(r),r||_dispatch("revert")},_clearScrollMemory=function(e,r){_scrollers.cache++,(r||!_refreshingAll)&&_scrollers.forEach(function(_e){return _isFunction(_e)&&_e.cacheID++&&(_e.rec=0)}),_isString(e)&&(_win.history.scrollRestoration=_scrollRestoration=e)},_refreshingAll,_refreshID=0,_queueRefreshID,_queueRefreshAll=function(){if(_queueRefreshID!==_refreshID){var e=_queueRefreshID=_refreshID;requestAnimationFrame(function(){return e===_refreshID&&_refreshAll(!0)})}},_refreshAll=function(e,r){if(_lastScrollTime&&!e){_addListener(ScrollTrigger,"scrollEnd",_softRefresh);return}_refreshingAll=ScrollTrigger.isRefreshing=!0,_scrollers.forEach(function(Se){return _isFunction(Se)&&Se.cacheID++&&(Se.rec=Se())});var _e=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),r||_revertAll(),_scrollers.forEach(function(Se){_isFunction(Se)&&(Se.smooth&&(Se.target.style.scrollBehavior="auto"),Se(0))}),_triggers.slice(0).forEach(function(Se){return Se.refresh()}),_triggers.forEach(function(Se,Ae){if(Se._subPinOffset&&Se.pin){var Re=Se.vars.horizontal?"offsetWidth":"offsetHeight",Ee=Se.pin[Re];Se.revert(!0,1),Se.adjustPinSpacing(Se.pin[Re]-Ee),Se.revert(!1,1)}}),_triggers.forEach(function(Se){return Se.vars.end==="max"&&Se.setPositions(Se.start,Math.max(Se.start+1,_maxScroll(Se.scroller,Se._dir)))}),_e.forEach(function(Se){return Se&&Se.render&&Se.render(-1)}),_scrollers.forEach(function(Se){_isFunction(Se)&&(Se.smooth&&requestAnimationFrame(function(){return Se.target.style.scrollBehavior="smooth"}),Se.rec&&Se(Se.rec))}),_clearScrollMemory(_scrollRestoration,1),_resizeDelay.pause(),_refreshID++,_updateAll(2),_triggers.forEach(function(Se){return _isFunction(Se.vars.onRefresh)&&Se.vars.onRefresh(Se)}),_refreshingAll=ScrollTrigger.isRefreshing=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_primary,_updateAll=function(e){if(!_refreshingAll||e===2){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);var r=_triggers.length,_e=_getTime(),Se=_e-_time1>=50,Ae=r&&_triggers[0].scroll();if(_direction=_lastScroll>Ae?-1:1,_lastScroll=Ae,Se&&(_lastScrollTime&&!_pointerIsDown&&_e-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=_e),_direction<0){for(_i=r;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,Se);_direction=1}else for(_i=0;_i<r;_i++)_triggers[_i]&&_triggers[_i].update(0,Se);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function(e,r,_e){_setState(_e);var Se=e._gsap;if(Se.spacerIsNative)_setState(Se.spacerState);else if(e._gsap.swappedIn){var Ae=r.parentNode;Ae&&(Ae.insertBefore(e,r),Ae.removeChild(r))}e._gsap.swappedIn=!1},_swapPinIn=function(e,r,_e,Se){if(!e._gsap.swappedIn){for(var Ae=_propNamesToCopy.length,Re=r.style,Ee=e.style,Ce;Ae--;)Ce=_propNamesToCopy[Ae],Re[Ce]=_e[Ce];Re.position=_e.position==="absolute"?"absolute":"relative",_e.display==="inline"&&(Re.display="inline-block"),Ee[_bottom]=Ee[_right]="auto",Re.flexBasis=_e.flexBasis||"auto",Re.overflow="visible",Re.boxSizing="border-box",Re[_width]=_getSize(e,_horizontal)+_px,Re[_height]=_getSize(e,_vertical)+_px,Re[_padding]=Ee[_margin]=Ee[_top]=Ee[_left]="0",_setState(Se),Ee[_width]=Ee["max"+_Width]=_e[_width],Ee[_height]=Ee["max"+_Height]=_e[_height],Ee[_padding]=_e[_padding],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=function(e){if(e){var r=e.t.style,_e=e.length,Se=0,Ae,Re;for((e.t._gsap||gsap$1.core.getCache(e.t)).uncache=1;Se<_e;Se+=2)Re=e[Se+1],Ae=e[Se],Re?r[Ae]=Re:r[Ae]&&r.removeProperty(Ae.replace(_capsExp,"-$1").toLowerCase())}},_getState=function(e){for(var r=_stateProps.length,_e=e.style,Se=[],Ae=0;Ae<r;Ae++)Se.push(_stateProps[Ae],_e[_stateProps[Ae]]);return Se.t=e,Se},_copyState=function(e,r,_e){for(var Se=[],Ae=e.length,Re=_e?8:0,Ee;Re<Ae;Re+=2)Ee=e[Re],Se.push(Ee,Ee in r?r[Ee]:e[Re+1]);return Se.t=e.t,Se},_winOffsets={left:0,top:0},_parsePosition=function(e,r,_e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe){_isFunction(e)&&(e=e(Ce)),_isString(e)&&e.substr(0,3)==="max"&&(e=Pe+(e.charAt(4)==="="?_offsetToPx("0"+e.substr(3),_e):0));var Fe=xe?xe.time():0,Ie,Me,Oe;if(xe&&xe.seek(0),_isNumber(e))Ee&&_positionMarker(Ee,_e,Se,!0);else{_isFunction(r)&&(r=r(Ce));var Be=(e||"0").split(" "),je,Ve,ze,He;Oe=_getTarget(r)||_body,je=_getBounds(Oe)||{},(!je||!je.left&&!je.top)&&_getComputedStyle(Oe).display==="none"&&(He=Oe.style.display,Oe.style.display="block",je=_getBounds(Oe),He?Oe.style.display=He:Oe.style.removeProperty("display")),Ve=_offsetToPx(Be[0],je[Se.d]),ze=_offsetToPx(Be[1]||"0",_e),e=je[Se.p]-Te[Se.p]-De+Ve+Ae-ze,Ee&&_positionMarker(Ee,ze,Se,_e-ze<20||Ee._isStart&&ze>20),_e-=_e-ze}if(Re){var $e=e+_e,Ue=Re._isStart;Ie="scroll"+Se.d2,_positionMarker(Re,$e,Se,Ue&&$e>20||!Ue&&(ke?Math.max(_body[Ie],_docEl[Ie]):Re.parentNode[Ie])<=$e+1),ke&&(Te=_getBounds(Ee),ke&&(Re.style[Se.op.p]=Te[Se.op.p]-Se.op.m-Re._offset+_px))}return xe&&Oe&&(Ie=_getBounds(Oe),xe.seek(Pe),Me=_getBounds(Oe),xe._caScrollDist=Ie[Se.p]-Me[Se.p],e=e/xe._caScrollDist*Pe),xe&&xe.seek(Fe),xe?e:Math.round(e)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function(e,r,_e,Se){if(e.parentNode!==r){var Ae=e.style,Re,Ee;if(r===_body){e._stOrig=Ae.cssText,Ee=_getComputedStyle(e);for(Re in Ee)!+Re&&!_prefixExp.test(Re)&&Ee[Re]&&typeof Ae[Re]=="string"&&Re!=="0"&&(Ae[Re]=Ee[Re]);Ae.top=_e,Ae.left=Se}else Ae.cssText=e._stOrig;gsap$1.core.getCache(e).uncache=1,r.appendChild(e)}},_getTweenCreator=function(e,r){var _e=_getScrollFunc(e,r),Se="_scroll"+r.p2,Ae,Re,Ee=function Ce(Te,De,ke,Pe,xe){var Fe=Ce.tween,Ie=De.onComplete,Me={};return ke=ke||_e(),xe=Pe&&xe||0,Pe=Pe||Te-ke,Fe&&Fe.kill(),Ae=Math.round(ke),De[Se]=Te,De.modifiers=Me,Me[Se]=function(Oe){return Oe=Math.round(_e()),Oe!==Ae&&Oe!==Re&&Math.abs(Oe-Ae)>3&&Math.abs(Oe-Re)>3?(Fe.kill(),Ce.tween=0):Oe=ke+Pe*Fe.ratio+xe*Fe.ratio*Fe.ratio,Re=Ae,Ae=Math.round(Oe)},De.onComplete=function(){Ce.tween=0,Ie&&Ie.call(Fe)},Fe=Ce.tween=gsap$1.to(e,De),Fe};return e[Se]=_e,_e.wheelHandler=function(){return Ee.tween&&Ee.tween.kill()&&(Ee.tween=0)},_addListener(e,"wheel",_e.wheelHandler),Ee},ScrollTrigger=function(){function t(r,_e){_coreInitted||t.register(gsap$1)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(r,_e)}var e=t.prototype;return e.init=function(_e,Se){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!_enabled){this.update=this.refresh=this.kill=_passThrough;return}_e=_setDefaults(_isString(_e)||_isNumber(_e)||_e.nodeType?{trigger:_e}:_e,_defaults);var Ae=_e,Re=Ae.onUpdate,Ee=Ae.toggleClass,Ce=Ae.id,Te=Ae.onToggle,De=Ae.onRefresh,ke=Ae.scrub,Pe=Ae.trigger,xe=Ae.pin,Fe=Ae.pinSpacing,Ie=Ae.invalidateOnRefresh,Me=Ae.anticipatePin,Oe=Ae.onScrubComplete,Be=Ae.onSnapComplete,je=Ae.once,Ve=Ae.snap,ze=Ae.pinReparent,He=Ae.pinSpacer,$e=Ae.containerAnimation,Ue=Ae.fastScrollEnd,Xe=Ae.preventOverlaps,nr=_e.horizontal||_e.containerAnimation&&_e.horizontal!==!1?_horizontal:_vertical,Ge=!ke&&ke!==0,St=_getTarget(_e.scroller||_win),mr=gsap$1.core.getCache(St),pr=_isViewport(St),vr=("pinType"in _e?_e.pinType:_getProxyProp(St,"pinType")||pr&&"fixed")==="fixed",dr=[_e.onEnter,_e.onLeave,_e.onEnterBack,_e.onLeaveBack],gr=Ge&&_e.toggleActions.split(" "),sr="markers"in _e?_e.markers:_defaults.markers,tr=pr?0:parseFloat(_getComputedStyle(St)["border"+nr.p2+_Width])||0,hr=this,Sr=_e.onRefreshInit&&function(){return _e.onRefreshInit(hr)},Je=_getSizeFunc(St,pr,nr),Ze=_getOffsetsFunc(St,pr),Ye=0,We=0,or=_getScrollFunc(St,nr),fr,_r,yr,xr,Ar,cr,ar,Qe,rr,er,ur,Cr,wr,Or,kr,Pr,Ir,Vr,zr,$r,Gr,ii,Qr,di,Lr,Hr,jr,ci,vi,qr,ni,fi,Ai,Di,Oi,Ri,ki,Ci;if(_context(hr),hr._dir=nr,Me*=45,hr.scroller=St,hr.scroll=$e?$e.time.bind($e):or,xr=or(),hr.vars=_e,Se=Se||_e.animation,"refreshPriority"in _e&&(_sort=1,_e.refreshPriority===-9999&&(_primary=hr)),mr.tweenScroll=mr.tweenScroll||{top:_getTweenCreator(St,_vertical),left:_getTweenCreator(St,_horizontal)},hr.tweenTo=fr=mr.tweenScroll[nr.p],hr.scrubDuration=function(si){ni=_isNumber(si)&&si,ni?qr?qr.duration(si):qr=gsap$1.to(Se,{ease:"expo",totalProgress:"+=0.001",duration:ni,paused:!0,onComplete:function(){return Oe&&Oe(hr)}}):(qr&&qr.progress(1).kill(),qr=0)},Se&&(Se.vars.lazy=!1,Se._initted||Se.vars.immediateRender!==!1&&_e.immediateRender!==!1&&Se.duration()&&Se.render(0,!0,!0),hr.animation=Se.pause(),Se.scrollTrigger=hr,hr.scrubDuration(ke),ci=0,Ce||(Ce=Se.vars.id)),_triggers.push(hr),Ve&&((!_isObject(Ve)||Ve.push)&&(Ve={snapTo:Ve}),"scrollBehavior"in _body.style&&gsap$1.set(pr?[_body,_docEl]:St,{scrollBehavior:"auto"}),_scrollers.forEach(function(si){return _isFunction(si)&&si.target===(pr?_doc.scrollingElement||_docEl:St)&&(si.smooth=!1)}),yr=_isFunction(Ve.snapTo)?Ve.snapTo:Ve.snapTo==="labels"?_getClosestLabel(Se):Ve.snapTo==="labelsDirectional"?_getLabelAtDirection(Se):Ve.directional!==!1?function(si,Si){return _snapDirectional(Ve.snapTo)(si,_getTime()-We<500?0:Si.direction)}:gsap$1.utils.snap(Ve.snapTo),fi=Ve.duration||{min:.1,max:2},fi=_isObject(fi)?_clamp(fi.min,fi.max):_clamp(fi,fi),Ai=gsap$1.delayedCall(Ve.delay||ni/2||.1,function(){var si=or(),Si=_getTime()-We<500,hi=fr.tween;if((Si||Math.abs(hr.getVelocity())<10)&&!hi&&!_pointerIsDown&&Ye!==si){var xi=(si-cr)/wr,ji=Se&&!Ge?Se.totalProgress():xi,Li=Si?0:(ji-vi)/(_getTime()-_time2)*1e3||0,Ii=gsap$1.utils.clamp(-xi,1-xi,_abs(Li/2)*Li/.185),Vi=xi+(Ve.inertia===!1?0:Ii),tn=_clamp(0,1,yr(Vi,hr)),qi=Math.round(cr+tn*wr),Ji=Ve,an=Ji.onStart,Gi=Ji.onInterrupt,Wi=Ji.onComplete;if(si<=ar&&si>=cr&&qi!==si){if(hi&&!hi._initted&&hi.data<=_abs(qi-si))return;Ve.inertia===!1&&(Ii=tn-xi),fr(qi,{duration:fi(_abs(Math.max(_abs(Vi-ji),_abs(tn-ji))*.185/Li/.05||0)),ease:Ve.ease||"power3",data:_abs(qi-si),onInterrupt:function(){return Ai.restart(!0)&&Gi&&Gi(hr)},onComplete:function(){hr.update(),Ye=or(),ci=vi=Se&&!Ge?Se.totalProgress():hr.progress,Be&&Be(hr),Wi&&Wi(hr)}},si,Ii*wr,qi-si-Ii*wr),an&&an(hr,fr.tween)}}else hr.isActive&&Ye!==si&&Ai.restart(!0)}).pause()),Ce&&(_ids[Ce]=hr),Pe=hr.trigger=_getTarget(Pe||xe),Ci=Pe&&Pe._gsap&&Pe._gsap.stRevert,Ci&&(Ci=Ci(hr)),xe=xe===!0?Pe:_getTarget(xe),_isString(Ee)&&(Ee={targets:Pe,className:Ee}),xe&&(Fe===!1||Fe===_margin||(Fe=!Fe&&xe.parentNode&&xe.parentNode.style&&_getComputedStyle(xe.parentNode).display==="flex"?!1:_padding),hr.pin=xe,_r=gsap$1.core.getCache(xe),_r.spacer?Or=_r.pinState:(He&&(He=_getTarget(He),He&&!He.nodeType&&(He=He.current||He.nativeElement),_r.spacerIsNative=!!He,He&&(_r.spacerState=_getState(He))),_r.spacer=Ir=He||_doc.createElement("div"),Ir.classList.add("pin-spacer"),Ce&&Ir.classList.add("pin-spacer-"+Ce),_r.pinState=Or=_getState(xe)),_e.force3D!==!1&&gsap$1.set(xe,{force3D:!0}),hr.spacer=Ir=_r.spacer,jr=_getComputedStyle(xe),Qr=jr[Fe+nr.os2],zr=gsap$1.getProperty(xe),$r=gsap$1.quickSetter(xe,nr.a,_px),_swapPinIn(xe,Ir,jr),Pr=_getState(xe)),sr){Cr=_isObject(sr)?_setDefaults(sr,_markerDefaults):_markerDefaults,er=_createMarker("scroller-start",Ce,St,nr,Cr,0),ur=_createMarker("scroller-end",Ce,St,nr,Cr,0,er),Vr=er["offset"+nr.op.d2];var wi=_getTarget(_getProxyProp(St,"content")||St);Qe=this.markerStart=_createMarker("start",Ce,wi,nr,Cr,Vr,0,$e),rr=this.markerEnd=_createMarker("end",Ce,wi,nr,Cr,Vr,0,$e),$e&&(ki=gsap$1.quickSetter([Qe,rr],nr.a,_px)),!vr&&!(_proxies.length&&_getProxyProp(St,"fixedMarkers")===!0)&&(_makePositionable(pr?_body:St),gsap$1.set([er,ur],{force3D:!0}),Lr=gsap$1.quickSetter(er,nr.a,_px),Hr=gsap$1.quickSetter(ur,nr.a,_px))}if($e){var Yi=$e.vars.onUpdate,Ti=$e.vars.onUpdateParams;$e.eventCallback("onUpdate",function(){hr.update(0,0,1),Yi&&Yi.apply(Ti||[])})}hr.previous=function(){return _triggers[_triggers.indexOf(hr)-1]},hr.next=function(){return _triggers[_triggers.indexOf(hr)+1]},hr.revert=function(si,Si){if(!Si)return hr.kill(!0);var hi=si!==!1||!hr.enabled,xi=_refreshing;hi!==hr.isReverted&&(hi&&(Oi=Math.max(or(),hr.scroll.rec||0),Di=hr.progress,Ri=Se&&Se.progress()),Qe&&[Qe,rr,er,ur].forEach(function(ji){return ji.style.display=hi?"none":"block"}),hi&&(_refreshing=1,hr.update(hi)),xe&&(hi?_swapPinOut(xe,Ir,Or):(!ze||!hr.isActive)&&_swapPinIn(xe,Ir,_getComputedStyle(xe),di)),hi||hr.update(hi),_refreshing=xi,hr.isReverted=hi)},hr.refresh=function(si,Si){if(!((_refreshing||!hr.enabled)&&!Si)){if(xe&&si&&_lastScrollTime){_addListener(t,"scrollEnd",_softRefresh);return}!_refreshingAll&&Sr&&Sr(hr),_refreshing=1,We=_getTime(),fr.tween&&(fr.tween.kill(),fr.tween=0),qr&&qr.pause(),Ie&&Se&&Se.revert({kill:!1}).invalidate(),hr.isReverted||hr.revert(!0,!0),hr._subPinOffset=!1;for(var hi=Je(),xi=Ze(),ji=$e?$e.duration():_maxScroll(St,nr),Li=0,Ii=0,Vi=_e.end,tn=_e.endTrigger||Pe,qi=_e.start||(_e.start===0||!Pe?0:xe?"0 0":"0 100%"),Ji=hr.pinnedContainer=_e.pinnedContainer&&_getTarget(_e.pinnedContainer),an=Pe&&Math.max(0,_triggers.indexOf(hr))||0,Gi=an,Wi,Zi,wn,An,hn,rn,kn,is,cs,ns;Gi--;)rn=_triggers[Gi],rn.end||rn.refresh(0,1)||(_refreshing=1),kn=rn.pin,kn&&(kn===Pe||kn===xe)&&!rn.isReverted&&(ns||(ns=[]),ns.unshift(rn),rn.revert(!0,!0)),rn!==_triggers[Gi]&&(an--,Gi--);for(_isFunction(qi)&&(qi=qi(hr)),cr=_parsePosition(qi,Pe,hi,nr,or(),Qe,er,hr,xi,tr,vr,ji,$e)||(xe?-.001:0),_isFunction(Vi)&&(Vi=Vi(hr)),_isString(Vi)&&!Vi.indexOf("+=")&&(~Vi.indexOf(" ")?Vi=(_isString(qi)?qi.split(" ")[0]:"")+Vi:(Li=_offsetToPx(Vi.substr(2),hi),Vi=_isString(qi)?qi:cr+Li,tn=Pe)),ar=Math.max(cr,_parsePosition(Vi||(tn?"100% 0":ji),tn,hi,nr,or()+Li,rr,ur,hr,xi,tr,vr,ji,$e))||-.001,wr=ar-cr||(cr-=.01)&&.001,Li=0,Gi=an;Gi--;)rn=_triggers[Gi],kn=rn.pin,kn&&rn.start-rn._pinPush<=cr&&!$e&&rn.end>0&&(Wi=rn.end-rn.start,(kn===Pe&&rn.start-rn._pinPush<cr||kn===Ji)&&!_isNumber(qi)&&(Li+=Wi*(1-rn.progress)),kn===xe&&(Ii+=Wi));if(cr+=Li,ar+=Li,hr._pinPush=Ii,Qe&&Li&&(Wi={},Wi[nr.a]="+="+Li,Ji&&(Wi[nr.p]="-="+or()),gsap$1.set([Qe,rr],Wi)),xe)Wi=_getComputedStyle(xe),An=nr===_vertical,wn=or(),Gr=parseFloat(zr(nr.a))+Ii,!ji&&ar>1&&((pr?_body:St).style["overflow-"+nr.a]="scroll"),_swapPinIn(xe,Ir,Wi),Pr=_getState(xe),Zi=_getBounds(xe,!0),is=vr&&_getScrollFunc(St,An?_horizontal:_vertical)(),Fe&&(di=[Fe+nr.os2,wr+Ii+_px],di.t=Ir,Gi=Fe===_padding?_getSize(xe,nr)+wr+Ii:0,Gi&&di.push(nr.d,Gi+_px),_setState(di),Ji&&_triggers.forEach(function(us){us.pin===Ji&&us.vars.pinSpacing!==!1&&(us._subPinOffset=!0)}),vr&&or(Oi)),vr&&(hn={top:Zi.top+(An?wn-cr:is)+_px,left:Zi.left+(An?is:wn-cr)+_px,boxSizing:"border-box",position:"fixed"},hn[_width]=hn["max"+_Width]=Math.ceil(Zi.width)+_px,hn[_height]=hn["max"+_Height]=Math.ceil(Zi.height)+_px,hn[_margin]=hn[_margin+_Top]=hn[_margin+_Right]=hn[_margin+_Bottom]=hn[_margin+_Left]="0",hn[_padding]=Wi[_padding],hn[_padding+_Top]=Wi[_padding+_Top],hn[_padding+_Right]=Wi[_padding+_Right],hn[_padding+_Bottom]=Wi[_padding+_Bottom],hn[_padding+_Left]=Wi[_padding+_Left],kr=_copyState(Or,hn,ze),_refreshingAll&&or(0)),Se?(cs=Se._initted,_suppressOverwrites(1),Se.render(Se.duration(),!0,!0),ii=zr(nr.a)-Gr+wr+Ii,wr!==ii&&vr&&kr.splice(kr.length-2,2),Se.render(0,!0,!0),cs||Se.invalidate(!0),Se.parent||Se.totalTime(Se.totalTime()),_suppressOverwrites(0)):ii=wr;else if(Pe&&or()&&!$e)for(Zi=Pe.parentNode;Zi&&Zi!==_body;)Zi._pinOffset&&(cr-=Zi._pinOffset,ar-=Zi._pinOffset),Zi=Zi.parentNode;ns&&ns.forEach(function(us){return us.revert(!1,!0)}),hr.start=cr,hr.end=ar,xr=Ar=_refreshingAll?Oi:or(),!$e&&!_refreshingAll&&(xr<Oi&&or(Oi),hr.scroll.rec=0),hr.revert(!1,!0),Ai&&(Ye=-1,hr.isActive&&or(cr+wr*Di),Ai.restart(!0)),_refreshing=0,Se&&Ge&&(Se._initted||Ri)&&Se.progress()!==Ri&&Se.progress(Ri,!0).render(Se.time(),!0,!0),(Di!==hr.progress||$e)&&(Se&&!Ge&&Se.totalProgress(Di,!0),hr.progress=(xr-cr)/wr===Di?0:Di),xe&&Fe&&(Ir._pinOffset=Math.round(hr.progress*ii)),De&&!_refreshingAll&&De(hr)}},hr.getVelocity=function(){return(or()-Ar)/(_getTime()-_time2)*1e3||0},hr.endAnimation=function(){_endAnimation(hr.callbackAnimation),Se&&(qr?qr.progress(1):Se.paused()?Ge||_endAnimation(Se,hr.direction<0,1):_endAnimation(Se,Se.reversed()))},hr.labelToScroll=function(si){return Se&&Se.labels&&(cr||hr.refresh()||cr)+Se.labels[si]/Se.duration()*wr||0},hr.getTrailing=function(si){var Si=_triggers.indexOf(hr),hi=hr.direction>0?_triggers.slice(0,Si).reverse():_triggers.slice(Si+1);return(_isString(si)?hi.filter(function(xi){return xi.vars.preventOverlaps===si}):hi).filter(function(xi){return hr.direction>0?xi.end<=cr:xi.start>=ar})},hr.update=function(si,Si,hi){if(!($e&&!hi&&!si)){var xi=_refreshingAll?Oi:hr.scroll(),ji=si?0:(xi-cr)/wr,Li=ji<0?0:ji>1?1:ji||0,Ii=hr.progress,Vi,tn,qi,Ji,an,Gi,Wi,Zi;if(Si&&(Ar=xr,xr=$e?or():xi,Ve&&(vi=ci,ci=Se&&!Ge?Se.totalProgress():Li)),Me&&!Li&&xe&&!_refreshing&&!_startup&&_lastScrollTime&&cr<xi+(xi-Ar)/(_getTime()-_time2)*Me&&(Li=1e-4),Li!==Ii&&hr.enabled){if(Vi=hr.isActive=!!Li&&Li<1,tn=!!Ii&&Ii<1,Gi=Vi!==tn,an=Gi||!!Li!=!!Ii,hr.direction=Li>Ii?1:-1,hr.progress=Li,an&&!_refreshing&&(qi=Li&&!Ii?0:Li===1?1:Ii===1?2:3,Ge&&(Ji=!Gi&&gr[qi+1]!=="none"&&gr[qi+1]||gr[qi],Zi=Se&&(Ji==="complete"||Ji==="reset"||Ji in Se))),Xe&&(Gi||Zi)&&(Zi||ke||!Se)&&(_isFunction(Xe)?Xe(hr):hr.getTrailing(Xe).forEach(function(rn){return rn.endAnimation()})),Ge||(qr&&!_refreshing&&!_startup?(($e||_primary&&_primary!==hr)&&qr.render(qr._dp._time-qr._start),qr.resetTo?qr.resetTo("totalProgress",Li,Se._tTime/Se._tDur):(qr.vars.totalProgress=Li,qr.invalidate().restart())):Se&&Se.totalProgress(Li,!!_refreshing)),xe){if(si&&Fe&&(Ir.style[Fe+nr.os2]=Qr),!vr)$r(_round(Gr+ii*Li));else if(an){if(Wi=!si&&Li>Ii&&ar+1>xi&&xi+1>=_maxScroll(St,nr),ze)if(!si&&(Vi||Wi)){var wn=_getBounds(xe,!0),An=xi-cr;_reparent(xe,_body,wn.top+(nr===_vertical?An:0)+_px,wn.left+(nr===_vertical?0:An)+_px)}else _reparent(xe,Ir);_setState(Vi||Wi?kr:Pr),ii!==wr&&Li<1&&Vi||$r(Gr+(Li===1&&!Wi?ii:0))}}Ve&&!fr.tween&&!_refreshing&&!_startup&&Ai.restart(!0),Ee&&(Gi||je&&Li&&(Li<1||!_limitCallbacks))&&_toArray(Ee.targets).forEach(function(rn){return rn.classList[Vi||je?"add":"remove"](Ee.className)}),Re&&!Ge&&!si&&Re(hr),an&&!_refreshing?(Ge&&(Zi&&(Ji==="complete"?Se.pause().totalProgress(1):Ji==="reset"?Se.restart(!0).pause():Ji==="restart"?Se.restart(!0):Se[Ji]()),Re&&Re(hr)),(Gi||!_limitCallbacks)&&(Te&&Gi&&_callback(hr,Te),dr[qi]&&_callback(hr,dr[qi]),je&&(Li===1?hr.kill(!1,1):dr[qi]=0),Gi||(qi=Li===1?1:3,dr[qi]&&_callback(hr,dr[qi]))),Ue&&!Vi&&Math.abs(hr.getVelocity())>(_isNumber(Ue)?Ue:2500)&&(_endAnimation(hr.callbackAnimation),qr?qr.progress(1):_endAnimation(Se,Ji==="reverse"?1:!Li,1))):Ge&&Re&&!_refreshing&&Re(hr)}if(Hr){var hn=$e?xi/$e.duration()*($e._caScrollDist||0):xi;Lr(hn+(er._isFlipped?1:0)),Hr(hn)}ki&&ki(-xi/$e.duration()*($e._caScrollDist||0))}},hr.enable=function(si,Si){hr.enabled||(hr.enabled=!0,_addListener(St,"resize",_onResize),_addListener(pr?_doc:St,"scroll",_onScroll),Sr&&_addListener(t,"refreshInit",Sr),si!==!1&&(hr.progress=Di=0,xr=Ar=Ye=or()),Si!==!1&&hr.refresh())},hr.getTween=function(si){return si&&fr?fr.tween:qr},hr.setPositions=function(si,Si){xe&&(Gr+=si-cr,ii+=Si-si-wr,Fe===_padding&&hr.adjustPinSpacing(Si-si-wr)),hr.start=cr=si,hr.end=ar=Si,wr=Si-si,hr.update()},hr.adjustPinSpacing=function(si){if(di){var Si=di.indexOf(nr.d)+1;di[Si]=parseFloat(di[Si])+si+_px,di[1]=parseFloat(di[1])+si+_px,_setState(di)}},hr.disable=function(si,Si){if(hr.enabled&&(si!==!1&&hr.revert(!0,!0),hr.enabled=hr.isActive=!1,Si||qr&&qr.pause(),Oi=0,_r&&(_r.uncache=1),Sr&&_removeListener(t,"refreshInit",Sr),Ai&&(Ai.pause(),fr.tween&&fr.tween.kill()&&(fr.tween=0)),!pr)){for(var hi=_triggers.length;hi--;)if(_triggers[hi].scroller===St&&_triggers[hi]!==hr)return;_removeListener(St,"resize",_onResize),_removeListener(St,"scroll",_onScroll)}},hr.kill=function(si,Si){hr.disable(si,Si),qr&&!Si&&qr.kill(),Ce&&delete _ids[Ce];var hi=_triggers.indexOf(hr);hi>=0&&_triggers.splice(hi,1),hi===_i&&_direction>0&&_i--,hi=0,_triggers.forEach(function(xi){return xi.scroller===hr.scroller&&(hi=1)}),hi||_refreshingAll||(hr.scroll.rec=0),Se&&(Se.scrollTrigger=null,si&&Se.revert({kill:!1}),Si||Se.kill()),Qe&&[Qe,rr,er,ur].forEach(function(xi){return xi.parentNode&&xi.parentNode.removeChild(xi)}),_primary===hr&&(_primary=0),xe&&(_r&&(_r.uncache=1),hi=0,_triggers.forEach(function(xi){return xi.pin===xe&&hi++}),hi||(_r.spacer=0)),_e.onKill&&_e.onKill(hr)},hr.enable(!1,!1),Ci&&Ci(hr),!Se||!Se.add||wr?hr.refresh():gsap$1.delayedCall(.01,function(){return cr||ar||hr.refresh()})&&(wr=.01)&&(cr=ar=0),xe&&_queueRefreshAll()},t.register=function(_e){return _coreInitted||(gsap$1=_e||_getGSAP$1(),_windowExists()&&window.document&&t.enable(),_coreInitted=_enabled),_coreInitted},t.defaults=function(_e){if(_e)for(var Se in _e)_defaults[Se]=_e[Se];return _defaults},t.disable=function(_e,Se){_enabled=0,_triggers.forEach(function(Re){return Re[Se?"kill":"disable"](_e)}),_removeListener(_win,"wheel",_onScroll),_removeListener(_doc,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(var Ae=0;Ae<_scrollers.length;Ae+=3)_wheelListener(_removeListener,_scrollers[Ae],_scrollers[Ae+1]),_wheelListener(_removeListener,_scrollers[Ae],_scrollers[Ae+2])},t.enable=function(){if(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body,gsap$1&&(_toArray=gsap$1.utils.toArray,_clamp=gsap$1.utils.clamp,_context=gsap$1.core.context||_passThrough,_suppressOverwrites=gsap$1.core.suppressOverwrites||_passThrough,_scrollRestoration=_win.history.scrollRestoration||"auto",gsap$1.core.globals("ScrollTrigger",t),_body)){_enabled=1,Observer.register(gsap$1),t.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],gsap$1.matchMedia?(t.matchMedia=function(Ce){var Te=gsap$1.matchMedia(),De;for(De in Ce)Te.add(De,Ce[De]);return Te},gsap$1.addEventListener("matchMediaInit",function(){return _revertAll()}),gsap$1.addEventListener("matchMediaRevert",function(){return _revertRecorded()}),gsap$1.addEventListener("matchMedia",function(){_refreshAll(0,1),_dispatch("matchMedia")}),gsap$1.matchMedia("(orientation: portrait)",function(){return _setBaseDimensions(),_setBaseDimensions})):console.warn("Requires GSAP 3.11.0 or later"),_setBaseDimensions(),_addListener(_doc,"scroll",_onScroll);var _e=_body.style,Se=_e.borderTopStyle,Ae=gsap$1.core.Animation.prototype,Re,Ee;for(Ae.revert||Object.defineProperty(Ae,"revert",{value:function(){return this.time(-.01,!0)}}),_e.borderTopStyle="solid",Re=_getBounds(_body),_vertical.m=Math.round(Re.top+_vertical.sc())||0,_horizontal.m=Math.round(Re.left+_horizontal.sc())||0,Se?_e.borderTopStyle=Se:_e.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,250),gsap$1.delayedCall(.5,function(){return _startup=0}),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap$1.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap$1.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var Ce=_win.innerWidth,Te=_win.innerHeight;_doc.hidden?(_prevWidth=Ce,_prevHeight=Te):(_prevWidth!==Ce||_prevHeight!==Te)&&_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",_refreshAll,_win,"resize",_onResize],_iterateAutoRefresh(_addListener),_triggers.forEach(function(Ce){return Ce.enable(0,1)}),Ee=0;Ee<_scrollers.length;Ee+=3)_wheelListener(_removeListener,_scrollers[Ee],_scrollers[Ee+1]),_wheelListener(_removeListener,_scrollers[Ee],_scrollers[Ee+2])}},t.config=function(_e){"limitCallbacks"in _e&&(_limitCallbacks=!!_e.limitCallbacks);var Se=_e.syncInterval;Se&&clearInterval(_syncInterval)||(_syncInterval=Se)&&setInterval(_sync,Se),"ignoreMobileResize"in _e&&(_ignoreMobileResize=t.isTouch===1&&_e.ignoreMobileResize),"autoRefreshEvents"in _e&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,_e.autoRefreshEvents||"none"),_ignoreResize=(_e.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(_e,Se){var Ae=_getTarget(_e),Re=_scrollers.indexOf(Ae),Ee=_isViewport(Ae);~Re&&_scrollers.splice(Re,Ee?6:2),Se&&(Ee?_proxies.unshift(_win,Se,_body,Se,_docEl,Se):_proxies.unshift(Ae,Se))},t.clearMatchMedia=function(_e){_triggers.forEach(function(Se){return Se._ctx&&Se._ctx.query===_e&&Se._ctx.kill(!0,!0)})},t.isInViewport=function(_e,Se,Ae){var Re=(_isString(_e)?_getTarget(_e):_e).getBoundingClientRect(),Ee=Re[Ae?_width:_height]*Se||0;return Ae?Re.right-Ee>0&&Re.left+Ee<_win.innerWidth:Re.bottom-Ee>0&&Re.top+Ee<_win.innerHeight},t.positionInViewport=function(_e,Se,Ae){_isString(_e)&&(_e=_getTarget(_e));var Re=_e.getBoundingClientRect(),Ee=Re[Ae?_width:_height],Ce=Se==null?Ee/2:Se in _keywords?_keywords[Se]*Ee:~Se.indexOf("%")?parseFloat(Se)*Ee/100:parseFloat(Se)||0;return Ae?(Re.left+Ce)/_win.innerWidth:(Re.top+Ce)/_win.innerHeight},t.killAll=function(_e){if(_triggers.forEach(function(Ae){return Ae.vars.id!=="ScrollSmoother"&&Ae.kill()}),_e!==!0){var Se=_listeners.killAll||[];_listeners={},Se.forEach(function(Ae){return Ae()})}},t}();ScrollTrigger.version="3.11.3";ScrollTrigger.saveStyles=function(t){return t?_toArray(t).forEach(function(e){if(e&&e.style){var r=_savedStyles.indexOf(e);r>=0&&_savedStyles.splice(r,5),_savedStyles.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),gsap$1.core.getCache(e),_context())}}):_savedStyles};ScrollTrigger.revert=function(t,e){return _revertAll(!t,e)};ScrollTrigger.create=function(t,e){return new ScrollTrigger(t,e)};ScrollTrigger.refresh=function(t){return t?_onResize():(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)};ScrollTrigger.update=_updateAll;ScrollTrigger.clearScrollMemory=_clearScrollMemory;ScrollTrigger.maxScroll=function(t,e){return _maxScroll(t,e?_horizontal:_vertical)};ScrollTrigger.getScrollFunc=function(t,e){return _getScrollFunc(_getTarget(t),e?_horizontal:_vertical)};ScrollTrigger.getById=function(t){return _ids[t]};ScrollTrigger.getAll=function(){return _triggers.filter(function(t){return t.vars.id!=="ScrollSmoother"})};ScrollTrigger.isScrolling=function(){return!!_lastScrollTime};ScrollTrigger.snapDirectional=_snapDirectional;ScrollTrigger.addEventListener=function(t,e){var r=_listeners[t]||(_listeners[t]=[]);~r.indexOf(e)||r.push(e)};ScrollTrigger.removeEventListener=function(t,e){var r=_listeners[t],_e=r&&r.indexOf(e);_e>=0&&r.splice(_e,1)};ScrollTrigger.batch=function(t,e){var r=[],_e={},Se=e.interval||.016,Ae=e.batchMax||1e9,Re=function(Te,De){var ke=[],Pe=[],xe=gsap$1.delayedCall(Se,function(){De(ke,Pe),ke=[],Pe=[]}).pause();return function(Fe){ke.length||xe.restart(!0),ke.push(Fe.trigger),Pe.push(Fe),Ae<=ke.length&&xe.progress(1)}},Ee;for(Ee in e)_e[Ee]=Ee.substr(0,2)==="on"&&_isFunction(e[Ee])&&Ee!=="onRefreshInit"?Re(Ee,e[Ee]):e[Ee];return _isFunction(Ae)&&(Ae=Ae(),_addListener(ScrollTrigger,"refresh",function(){return Ae=e.batchMax()})),_toArray(t).forEach(function(Ce){var Te={};for(Ee in _e)Te[Ee]=_e[Ee];Te.trigger=Ce,r.push(ScrollTrigger.create(Te))}),r};var _clampScrollAndGetDurationMultiplier=function(e,r,_e,Se){return r>Se?e(Se):r<0&&e(0),_e>Se?(Se-r)/(_e-r):_e<0?r/(r-_e):1},_allowNativePanning=function t(e,r){r===!0?e.style.removeProperty("touch-action"):e.style.touchAction=r===!0?"auto":r?"pan-"+r+(Observer.isTouch?" pinch-zoom":""):"none",e===_docEl&&t(_body,r)},_overflow={auto:1,scroll:1},_nestedScroll=function(e){var r=e.event,_e=e.target,Se=e.axis,Ae=(r.changedTouches?r.changedTouches[0]:r).target,Re=Ae._gsap||gsap$1.core.getCache(Ae),Ee=_getTime(),Ce;if(!Re._isScrollT||Ee-Re._isScrollT>2e3){for(;Ae&&Ae.scrollHeight<=Ae.clientHeight;)Ae=Ae.parentNode;Re._isScroll=Ae&&!_isViewport(Ae)&&Ae!==_e&&(_overflow[(Ce=_getComputedStyle(Ae)).overflowY]||_overflow[Ce.overflowX]),Re._isScrollT=Ee}(Re._isScroll||Se==="x")&&(r.stopPropagation(),r._gsapAllow=!0)},_inputObserver=function(e,r,_e,Se){return Observer.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:Se=Se&&_nestedScroll,onPress:Se,onDrag:Se,onScroll:Se,onEnable:function(){return _e&&_addListener(_doc,Observer.eventTypes[0],_captureInputs,!1,!0)},onDisable:function(){return _removeListener(_doc,Observer.eventTypes[0],_captureInputs,!0)}})},_inputExp=/(input|label|select|textarea)/i,_inputIsFocused,_captureInputs=function(e){var r=_inputExp.test(e.target.tagName);(r||_inputIsFocused)&&(e._gsapAllow=!0,_inputIsFocused=r)},_getScrollNormalizer=function(e){_isObject(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r=e,_e=r.normalizeScrollX,Se=r.momentum,Ae=r.allowNestedScroll,Re,Ee,Ce=_getTarget(e.target)||_docEl,Te=gsap$1.core.globals().ScrollSmoother,De=Te&&Te.get(),ke=_fixIOSBug&&(e.content&&_getTarget(e.content)||De&&e.content!==!1&&!De.smooth()&&De.content()),Pe=_getScrollFunc(Ce,_vertical),xe=_getScrollFunc(Ce,_horizontal),Fe=1,Ie=(Observer.isTouch&&_win.visualViewport?_win.visualViewport.scale*_win.visualViewport.width:_win.outerWidth)/_win.innerWidth,Me=0,Oe=_isFunction(Se)?function(){return Se(Re)}:function(){return Se||2.8},Be,je,Ve=_inputObserver(Ce,e.type,!0,Ae),ze=function(){return je=!1},He=_passThrough,$e=_passThrough,Ue=function(){Ee=_maxScroll(Ce,_vertical),$e=_clamp(_fixIOSBug?1:0,Ee),_e&&(He=_clamp(0,_maxScroll(Ce,_horizontal))),Be=_refreshID},Xe=function(){ke._gsap.y=_round(parseFloat(ke._gsap.y)+Pe.offset)+"px",ke.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(ke._gsap.y)+", 0, 1)",Pe.offset=Pe.cacheID=0},nr=function(){if(je){requestAnimationFrame(ze);var gr=_round(Re.deltaY/2),sr=$e(Pe.v-gr);if(ke&&sr!==Pe.v+Pe.offset){Pe.offset=sr-Pe.v;var tr=_round((parseFloat(ke&&ke._gsap.y)||0)-Pe.offset);ke.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+tr+", 0, 1)",ke._gsap.y=tr+"px",Pe.cacheID=_scrollers.cache,_updateAll()}return!0}Pe.offset&&Xe(),je=!0},Ge,St,mr,pr,vr=function(){Ue(),Ge.isActive()&&Ge.vars.scrollY>Ee&&(Pe()>Ee?Ge.progress(1)&&Pe(Ee):Ge.resetTo("scrollY",Ee))};return ke&&gsap$1.set(ke,{y:"+=0"}),e.ignoreCheck=function(dr){return _fixIOSBug&&dr.type==="touchmove"&&nr()||Fe>1.05&&dr.type!=="touchstart"||Re.isGesturing||dr.touches&&dr.touches.length>1},e.onPress=function(){var dr=Fe;Fe=_round((_win.visualViewport&&_win.visualViewport.scale||1)/Ie),Ge.pause(),dr!==Fe&&_allowNativePanning(Ce,Fe>1.01?!0:_e?!1:"x"),St=xe(),mr=Pe(),Ue(),Be=_refreshID},e.onRelease=e.onGestureStart=function(dr,gr){if(Pe.offset&&Xe(),!gr)pr.restart(!0);else{_scrollers.cache++;var sr=Oe(),tr,hr;_e&&(tr=xe(),hr=tr+sr*.05*-dr.velocityX/.227,sr*=_clampScrollAndGetDurationMultiplier(xe,tr,hr,_maxScroll(Ce,_horizontal)),Ge.vars.scrollX=He(hr)),tr=Pe(),hr=tr+sr*.05*-dr.velocityY/.227,sr*=_clampScrollAndGetDurationMultiplier(Pe,tr,hr,_maxScroll(Ce,_vertical)),Ge.vars.scrollY=$e(hr),Ge.invalidate().duration(sr).play(.01),(_fixIOSBug&&Ge.vars.scrollY>=Ee||tr>=Ee-1)&&gsap$1.to({},{onUpdate:vr,duration:sr})}},e.onWheel=function(){Ge._ts&&Ge.pause(),_getTime()-Me>1e3&&(Be=0,Me=_getTime())},e.onChange=function(dr,gr,sr,tr,hr){if(_refreshID!==Be&&Ue(),gr&&_e&&xe(He(tr[2]===gr?St+(dr.startX-dr.x):xe()+gr-tr[1])),sr){Pe.offset&&Xe();var Sr=hr[2]===sr,Je=Sr?mr+dr.startY-dr.y:Pe()+sr-hr[1],Ze=$e(Je);Sr&&Je!==Ze&&(mr+=Ze-Je),Pe(Ze)}(sr||gr)&&_updateAll()},e.onEnable=function(){_allowNativePanning(Ce,_e?!1:"x"),ScrollTrigger.addEventListener("refresh",vr),_addListener(_win,"resize",vr),Pe.smooth&&(Pe.target.style.scrollBehavior="auto",Pe.smooth=xe.smooth=!1),Ve.enable()},e.onDisable=function(){_allowNativePanning(Ce,!0),_removeListener(_win,"resize",vr),ScrollTrigger.removeEventListener("refresh",vr),Ve.kill()},e.lockAxis=e.lockAxis!==!1,Re=new Observer(e),Re.iOS=_fixIOSBug,_fixIOSBug&&!Pe()&&Pe(1),_fixIOSBug&&gsap$1.ticker.add(_passThrough),pr=Re._dc,Ge=gsap$1.to(Re,{ease:"power4",paused:!0,scrollX:_e?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:pr.vars.onComplete}),Re};ScrollTrigger.sort=function(t){return _triggers.sort(t||function(e,r){return(e.vars.refreshPriority||0)*-1e6+e.start-(r.start+(r.vars.refreshPriority||0)*-1e6)})};ScrollTrigger.observe=function(t){return new Observer(t)};ScrollTrigger.normalizeScroll=function(t){if(typeof t>"u")return _normalizer;if(t===!0&&_normalizer)return _normalizer.enable();if(t===!1)return _normalizer&&_normalizer.kill();var e=t instanceof Observer?t:_getScrollNormalizer(t);return _normalizer&&_normalizer.target===e.target&&_normalizer.kill(),_isViewport(e.target)&&(_normalizer=e),e};ScrollTrigger.core={_getVelocityProp,_inputObserver,_scrollers,_proxies,bridge:{ss:function(){_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:function(){return _refreshing}}};_getGSAP$1()&&gsap$1.registerPlugin(ScrollTrigger);/*!
 * strings: 3.11.3
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _trimExp=/(?:^\s+|\s+$)/g,emojiExp=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function getText(t){var e=t.nodeType,r="";if(e===1||e===9||e===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=getText(t)}else if(e===3||e===4)return t.nodeValue;return r}function splitInnerHTML(t,e,r,_e){for(var Se=t.firstChild,Ae=[],Re;Se;)Se.nodeType===3?(Re=(Se.nodeValue+"").replace(/^\n+/g,""),_e||(Re=Re.replace(/\s+/g," ")),Ae.push.apply(Ae,emojiSafeSplit(Re,e,r,_e))):(Se.nodeName+"").toLowerCase()==="br"?Ae[Ae.length-1]+="<br>":Ae.push(Se.outerHTML),Se=Se.nextSibling;for(Re=Ae.length;Re--;)Ae[Re]==="&"&&Ae.splice(Re,1,"&amp;");return Ae}function emojiSafeSplit(t,e,r,_e){if(t+="",r&&(t=t.trim?t.trim():t.replace(_trimExp,"")),e&&e!=="")return t.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var Se=[],Ae=t.length,Re=0,Ee,Ce;Re<Ae;Re++)Ce=t.charAt(Re),(Ce.charCodeAt(0)>=55296&&Ce.charCodeAt(0)<=56319||t.charCodeAt(Re+1)>=65024&&t.charCodeAt(Re+1)<=65039)&&(Ee=((t.substr(Re,12).split(emojiExp)||[])[1]||"").length||2,Ce=t.substr(Re,Ee),Se.emoji=1,Re+=Ee-1),Se.push(Ce===">"?"&gt;":Ce==="<"?"&lt;":_e&&Ce===" "&&(t.charAt(Re-1)===" "||t.charAt(Re+1)===" ")?"&nbsp;":Ce);return Se}/*!
 * TextPlugin 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap,_tempDiv,_getGSAP=function(){return gsap||typeof window<"u"&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},TextPlugin={version:"3.11.3",name:"text",init:function(e,r,_e){typeof r!="object"&&(r={value:r});var Se=e.nodeName.toUpperCase(),Ae=this,Re=r,Ee=Re.newClass,Ce=Re.oldClass,Te=Re.preserveSpaces,De=Re.rtl,ke=Ae.delimiter=r.delimiter||"",Pe=Ae.fillChar=r.fillChar||(r.padSpace?"&nbsp;":""),xe,Fe,Ie,Me,Oe,Be,je,Ve;if(Ae.svg=e.getBBox&&(Se==="TEXT"||Se==="TSPAN"),!("innerHTML"in e)&&!Ae.svg)return!1;if(Ae.target=e,!("value"in r)){Ae.text=Ae.original=[""];return}for(Ie=splitInnerHTML(e,ke,!1,Te),_tempDiv||(_tempDiv=document.createElement("div")),_tempDiv.innerHTML=r.value,Fe=splitInnerHTML(_tempDiv,ke,!1,Te),Ae.from=_e._from,(Ae.from||De)&&!(De&&Ae.from)&&(Se=Ie,Ie=Fe,Fe=Se),Ae.hasClass=!!(Ee||Ce),Ae.newClass=De?Ce:Ee,Ae.oldClass=De?Ee:Ce,Se=Ie.length-Fe.length,xe=Se<0?Ie:Fe,Se<0&&(Se=-Se);--Se>-1;)xe.push(Pe);if(r.type==="diff"){for(Me=0,Oe=[],Be=[],je="",Se=0;Se<Fe.length;Se++)Ve=Fe[Se],Ve===Ie[Se]?je+=Ve:(Oe[Me]=je+Ve,Be[Me++]=je+Ie[Se],je="");Fe=Oe,Ie=Be,je&&(Fe.push(je),Ie.push(je))}r.speed&&_e.duration(Math.min(.05/r.speed*xe.length,r.maxDuration||9999)),Ae.rtl=De,Ae.original=Ie,Ae.text=Fe,Ae._props.push("text")},render:function(e,r){e>1?e=1:e<0&&(e=0),r.from&&(e=1-e);var _e=r.text,Se=r.hasClass,Ae=r.newClass,Re=r.oldClass,Ee=r.delimiter,Ce=r.target,Te=r.fillChar,De=r.original,ke=r.rtl,Pe=_e.length,xe=(ke?1-e:e)*Pe+.5|0,Fe,Ie,Me;Se&&e?(Fe=Ae&&xe,Ie=Re&&xe!==Pe,Me=(Fe?"<span class='"+Ae+"'>":"")+_e.slice(0,xe).join(Ee)+(Fe?"</span>":"")+(Ie?"<span class='"+Re+"'>":"")+Ee+De.slice(xe).join(Ee)+(Ie?"</span>":"")):Me=_e.slice(0,xe).join(Ee)+Ee+De.slice(xe).join(Ee),r.svg?Ce.textContent=Me:Ce.innerHTML=Te==="&nbsp;"&&~Me.indexOf("  ")?Me.split("  ").join("&nbsp;&nbsp;"):Me}};TextPlugin.splitInnerHTML=splitInnerHTML;TextPlugin.emojiSafeSplit=emojiSafeSplit;TextPlugin.getText=getText;_getGSAP()&&gsap.registerPlugin(TextPlugin);const plugins_gasp_ts_dji8aXnUl1=defineNuxtPlugin(t=>(gsapWithCSS.registerPlugin(ScrollTrigger,TextPlugin),{provide:{gsap:gsapWithCSS}}));function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(t,e){for(var r=new u16(31),_e=0;_e<31;++_e)r[_e]=e+=1<<t[_e-1];for(var Se=new u32(r[30]),_e=1;_e<30;++_e)for(var Ae=r[_e];Ae<r[_e+1];++Ae)Se[Ae]=Ae-r[_e]<<5|_e;return[r,Se]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(t,e,r){for(var _e=t.length,Se=0,Ae=new u16(e);Se<_e;++Se)++Ae[t[Se]-1];var Re=new u16(e);for(Se=0;Se<e;++Se)Re[Se]=Re[Se-1]+Ae[Se-1]<<1;var Ee;if(r){Ee=new u16(1<<e);var Ce=15-e;for(Se=0;Se<_e;++Se)if(t[Se])for(var Te=Se<<4|t[Se],De=e-t[Se],ke=Re[t[Se]-1]++<<De,Pe=ke|(1<<De)-1;ke<=Pe;++ke)Ee[rev[ke]>>>Ce]=Te}else for(Ee=new u16(_e),Se=0;Se<_e;++Se)Ee[Se]=rev[Re[t[Se]-1]++]>>>15-t[Se];return Ee},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},bits=function(t,e,r){var _e=e/8>>0;return(t[_e]|t[_e+1]<<8)>>>(e&7)&r},bits16=function(t,e){var r=e/8>>0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>>(e&7)},shft=function(t){return(t/8>>0)+(t&7&&1)},slc=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var _e=new(t instanceof u16?u16:t instanceof u32?u32:u8)(r-e);return _e.set(t.subarray(e,r)),_e},inflt=function(t,e,r){var _e=t.length,Se=!e||r,Ae=!r||r.i;r||(r={}),e||(e=new u8(_e*3));var Re=function(or){var fr=e.length;if(or>fr){var _r=new u8(Math.max(fr*2,or));_r.set(e),e=_r}},Ee=r.f||0,Ce=r.p||0,Te=r.b||0,De=r.l,ke=r.d,Pe=r.m,xe=r.n,Fe=_e*8;do{if(!De){r.f=Ee=bits(t,Ce,1);var Ie=bits(t,Ce+1,3);if(Ce+=3,Ie)if(Ie==1)De=flrm,ke=fdrm,Pe=9,xe=5;else if(Ie==2){var je=bits(t,Ce,31)+257,Ve=bits(t,Ce+10,15)+4,ze=je+bits(t,Ce+5,31)+1;Ce+=14;for(var He=new u8(ze),$e=new u8(19),Ue=0;Ue<Ve;++Ue)$e[clim[Ue]]=bits(t,Ce+Ue*3,7);Ce+=Ve*3;var Xe=max($e),nr=(1<<Xe)-1;if(!Ae&&Ce+ze*(Xe+7)>Fe)break;for(var Ge=hMap($e,Xe,1),Ue=0;Ue<ze;){var St=Ge[bits(t,Ce,nr)];Ce+=St&15;var Me=St>>>4;if(Me<16)He[Ue++]=Me;else{var mr=0,pr=0;for(Me==16?(pr=3+bits(t,Ce,3),Ce+=2,mr=He[Ue-1]):Me==17?(pr=3+bits(t,Ce,7),Ce+=3):Me==18&&(pr=11+bits(t,Ce,127),Ce+=7);pr--;)He[Ue++]=mr}}var vr=He.subarray(0,je),dr=He.subarray(je);Pe=max(vr),xe=max(dr),De=hMap(vr,Pe,1),ke=hMap(dr,xe,1)}else throw"invalid block type";else{var Me=shft(Ce)+4,Oe=t[Me-4]|t[Me-3]<<8,Be=Me+Oe;if(Be>_e){if(Ae)throw"unexpected EOF";break}Se&&Re(Te+Oe),e.set(t.subarray(Me,Be),Te),r.b=Te+=Oe,r.p=Ce=Be*8;continue}if(Ce>Fe)throw"unexpected EOF"}Se&&Re(Te+131072);for(var gr=(1<<Pe)-1,sr=(1<<xe)-1,tr=Pe+xe+18;Ae||Ce+tr<Fe;){var mr=De[bits16(t,Ce)&gr],hr=mr>>>4;if(Ce+=mr&15,Ce>Fe)throw"unexpected EOF";if(!mr)throw"invalid length/literal";if(hr<256)e[Te++]=hr;else if(hr==256){De=null;break}else{var Sr=hr-254;if(hr>264){var Ue=hr-257,Je=fleb[Ue];Sr=bits(t,Ce,(1<<Je)-1)+fl[Ue],Ce+=Je}var Ze=ke[bits16(t,Ce)&sr],Ye=Ze>>>4;if(!Ze)throw"invalid distance";Ce+=Ze&15;var dr=fd[Ye];if(Ye>3){var Je=fdeb[Ye];dr+=bits16(t,Ce)&(1<<Je)-1,Ce+=Je}if(Ce>Fe)throw"unexpected EOF";Se&&Re(Te+131072);for(var We=Te+Sr;Te<We;Te+=4)e[Te]=e[Te-dr],e[Te+1]=e[Te+1-dr],e[Te+2]=e[Te+2-dr],e[Te+3]=e[Te+3-dr];Te=We}}r.l=De,r.p=Ce,r.b=Te,De&&(Ee=1,r.m=Pe,r.d=ke,r.n=xe)}while(!Ee);return Te==e.length?e:slc(e,0,Te)},wbits=function(t,e,r){r<<=e&7;var _e=e/8>>0;t[_e]|=r,t[_e+1]|=r>>>8},wbits16=function(t,e,r){r<<=e&7;var _e=e/8>>0;t[_e]|=r,t[_e+1]|=r>>>8,t[_e+2]|=r>>>16},hTree=function(t,e){for(var r=[],_e=0;_e<t.length;++_e)t[_e]&&r.push({s:_e,f:t[_e]});var Se=r.length,Ae=r.slice();if(!Se)return[new u8(0),0];if(Se==1){var Re=new u8(r[0].s+1);return Re[r[0].s]=1,[Re,1]}r.sort(function(ze,He){return ze.f-He.f}),r.push({s:-1,f:25001});var Ee=r[0],Ce=r[1],Te=0,De=1,ke=2;for(r[0]={s:-1,f:Ee.f+Ce.f,l:Ee,r:Ce};De!=Se-1;)Ee=r[r[Te].f<r[ke].f?Te++:ke++],Ce=r[Te!=De&&r[Te].f<r[ke].f?Te++:ke++],r[De++]={s:-1,f:Ee.f+Ce.f,l:Ee,r:Ce};for(var Pe=Ae[0].s,_e=1;_e<Se;++_e)Ae[_e].s>Pe&&(Pe=Ae[_e].s);var xe=new u16(Pe+1),Fe=ln(r[De-1],xe,0);if(Fe>e){var _e=0,Ie=0,Me=Fe-e,Oe=1<<Me;for(Ae.sort(function(He,$e){return xe[$e.s]-xe[He.s]||He.f-$e.f});_e<Se;++_e){var Be=Ae[_e].s;if(xe[Be]>e)Ie+=Oe-(1<<Fe-xe[Be]),xe[Be]=e;else break}for(Ie>>>=Me;Ie>0;){var je=Ae[_e].s;xe[je]<e?Ie-=1<<e-xe[je]++-1:++_e}for(;_e>=0&&Ie;--_e){var Ve=Ae[_e].s;xe[Ve]==e&&(--xe[Ve],++Ie)}Fe=e}return[new u8(xe),Fe]},ln=function(t,e,r){return t.s==-1?Math.max(ln(t.l,e,r+1),ln(t.r,e,r+1)):e[t.s]=r},lc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new u16(++e),_e=0,Se=t[0],Ae=1,Re=function(Ce){r[_e++]=Ce},Ee=1;Ee<=e;++Ee)if(t[Ee]==Se&&Ee!=e)++Ae;else{if(!Se&&Ae>2){for(;Ae>138;Ae-=138)Re(32754);Ae>2&&(Re(Ae>10?Ae-11<<5|28690:Ae-3<<5|12305),Ae=0)}else if(Ae>3){for(Re(Se),--Ae;Ae>6;Ae-=6)Re(8304);Ae>2&&(Re(Ae-3<<5|8208),Ae=0)}for(;Ae--;)Re(Se);Ae=1,Se=t[Ee]}return[r.subarray(0,_e),e]},clen=function(t,e){for(var r=0,_e=0;_e<e.length;++_e)r+=t[_e]*e[_e];return r},wfblk=function(t,e,r){var _e=r.length,Se=shft(e+2);t[Se]=_e&255,t[Se+1]=_e>>>8,t[Se+2]=t[Se]^255,t[Se+3]=t[Se+1]^255;for(var Ae=0;Ae<_e;++Ae)t[Se+Ae+4]=r[Ae];return(Se+4+_e)*8},wblk=function(t,e,r,_e,Se,Ae,Re,Ee,Ce,Te,De){wbits(e,De++,r),++Se[256];for(var ke=hTree(Se,15),Pe=ke[0],xe=ke[1],Fe=hTree(Ae,15),Ie=Fe[0],Me=Fe[1],Oe=lc(Pe),Be=Oe[0],je=Oe[1],Ve=lc(Ie),ze=Ve[0],He=Ve[1],$e=new u16(19),Ue=0;Ue<Be.length;++Ue)$e[Be[Ue]&31]++;for(var Ue=0;Ue<ze.length;++Ue)$e[ze[Ue]&31]++;for(var Xe=hTree($e,7),nr=Xe[0],Ge=Xe[1],St=19;St>4&&!nr[clim[St-1]];--St);var mr=Te+5<<3,pr=clen(Se,flt)+clen(Ae,fdt)+Re,vr=clen(Se,Pe)+clen(Ae,Ie)+Re+14+3*St+clen($e,nr)+(2*$e[16]+3*$e[17]+7*$e[18]);if(mr<=pr&&mr<=vr)return wfblk(e,De,t.subarray(Ce,Ce+Te));var dr,gr,sr,tr;if(wbits(e,De,1+(vr<pr)),De+=2,vr<pr){dr=hMap(Pe,xe,0),gr=Pe,sr=hMap(Ie,Me,0),tr=Ie;var hr=hMap(nr,Ge,0);wbits(e,De,je-257),wbits(e,De+5,He-1),wbits(e,De+10,St-4),De+=14;for(var Ue=0;Ue<St;++Ue)wbits(e,De+3*Ue,nr[clim[Ue]]);De+=3*St;for(var Sr=[Be,ze],Je=0;Je<2;++Je)for(var Ze=Sr[Je],Ue=0;Ue<Ze.length;++Ue){var Ye=Ze[Ue]&31;wbits(e,De,hr[Ye]),De+=nr[Ye],Ye>15&&(wbits(e,De,Ze[Ue]>>>5&127),De+=Ze[Ue]>>>12)}}else dr=flm,gr=flt,sr=fdm,tr=fdt;for(var Ue=0;Ue<Ee;++Ue)if(_e[Ue]>255){var Ye=_e[Ue]>>>18&31;wbits16(e,De,dr[Ye+257]),De+=gr[Ye+257],Ye>7&&(wbits(e,De,_e[Ue]>>>23&31),De+=fleb[Ye]);var We=_e[Ue]&31;wbits16(e,De,sr[We]),De+=tr[We],We>3&&(wbits16(e,De,_e[Ue]>>>5&8191),De+=fdeb[We])}else wbits16(e,De,dr[_e[Ue]]),De+=gr[_e[Ue]];return wbits16(e,De,dr[256]),De+gr[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(t,e,r,_e,Se,Ae){var Re=t.length,Ee=new u8(_e+Re+5*(1+Math.floor(Re/7e3))+Se),Ce=Ee.subarray(_e,Ee.length-Se),Te=0;if(!e||Re<8)for(var De=0;De<=Re;De+=65535){var ke=De+65535;ke<Re?Te=wfblk(Ce,Te,t.subarray(De,ke)):(Ce[De]=Ae,Te=wfblk(Ce,Te,t.subarray(De,Re)))}else{for(var Pe=deo[e-1],xe=Pe>>>13,Fe=Pe&8191,Ie=(1<<r)-1,Me=new u16(32768),Oe=new u16(Ie+1),Be=Math.ceil(r/3),je=2*Be,Ve=function(Qe){return(t[Qe]^t[Qe+1]<<Be^t[Qe+2]<<je)&Ie},ze=new u32(25e3),He=new u16(288),$e=new u16(32),Ue=0,Xe=0,De=0,nr=0,Ge=0,St=0;De<Re;++De){var mr=Ve(De),pr=De&32767,vr=Oe[mr];if(Me[pr]=vr,Oe[mr]=pr,Ge<=De){var dr=Re-De;if((Ue>7e3||nr>24576)&&dr>423){Te=wblk(t,Ce,0,ze,He,$e,Xe,nr,St,De-St,Te),nr=Ue=Xe=0,St=De;for(var gr=0;gr<286;++gr)He[gr]=0;for(var gr=0;gr<30;++gr)$e[gr]=0}var sr=2,tr=0,hr=Fe,Sr=pr-vr&32767;if(dr>2&&mr==Ve(De-Sr))for(var Je=Math.min(xe,dr)-1,Ze=Math.min(32767,De),Ye=Math.min(258,dr);Sr<=Ze&&--hr&&pr!=vr;){if(t[De+sr]==t[De+sr-Sr]){for(var We=0;We<Ye&&t[De+We]==t[De+We-Sr];++We);if(We>sr){if(sr=We,tr=Sr,We>Je)break;for(var or=Math.min(Sr,We-2),fr=0,gr=0;gr<or;++gr){var _r=De-Sr+gr+32768&32767,yr=Me[_r],xr=_r-yr+32768&32767;xr>fr&&(fr=xr,vr=_r)}}}pr=vr,vr=Me[pr],Sr+=pr-vr+32768&32767}if(tr){ze[nr++]=268435456|revfl[sr]<<18|revfd[tr];var Ar=revfl[sr]&31,cr=revfd[tr]&31;Xe+=fleb[Ar]+fdeb[cr],++He[257+Ar],++$e[cr],Ge=De+sr,++Ue}else ze[nr++]=t[De],++He[t[De]]}}Te=wblk(t,Ce,Ae,ze,He,$e,Xe,nr,St,De-St,Te),Ae||(Te=wfblk(Ce,Te,et$1))}return slc(Ee,0,_e+shft(Te)+Se)},adler=function(){var t=1,e=0;return{p:function(r){for(var _e=t,Se=e,Ae=r.length,Re=0;Re!=Ae;){for(var Ee=Math.min(Re+5552,Ae);Re<Ee;++Re)_e+=r[Re],Se+=_e;_e%=65521,Se%=65521}t=_e,e=Se},d:function(){return(t>>>8<<16|(e&255)<<8|e>>>8)+((t&255)<<23)*2}}},dopt=function(t,e,r,_e,Se){return dflt(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,r,_e,!Se)},wbytes=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},zlh=function(t,e){var r=e.level,_e=r==0?0:r<6?1:r==9?3:2;t[0]=120,t[1]=_e<<6|(_e?32-2*_e:1)},zlv=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(t,e){e===void 0&&(e={});var r=adler();r.p(t);var _e=dopt(t,e,2,4);return zlh(_e,e),wbytes(_e,_e.length-4,r.d()),_e}function unzlibSync(t,e){return inflt((zlv(t),t.subarray(2,-4)),e)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(t){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(t){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(t))}};function o(t,e,r){var _e=new XMLHttpRequest;_e.open("GET",t),_e.responseType="blob",_e.onload=function(){l(_e.response,e,r)},_e.onerror=function(){a.error("could not download file")},_e.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var _e=n.URL||n.webkitURL,Se=document.createElement("a");e=e||t.name||"download",Se.download=e,Se.rel="noopener",typeof t=="string"?(Se.href=t,Se.origin!==location.origin?s(Se.href)?o(t,e,r):c(Se,Se.target="_blank"):c(Se)):(Se.href=_e.createObjectURL(t),setTimeout(function(){_e.revokeObjectURL(Se.href)},4e4),setTimeout(function(){c(Se)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(s(t))o(t,e,r);else{var _e=document.createElement("a");_e.href=t,_e.target="_blank",setTimeout(function(){c(_e)})}else navigator.msSaveOrOpenBlob(function(Se,Ae){return Ae===void 0?Ae={autoBom:!1}:_typeof(Ae)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Ae={autoBom:!Ae}),Ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Se.type)?new Blob([String.fromCharCode(65279),Se],{type:Se.type}):Se}(t,r),e)}:function(t,e,r,_e){if((_e=_e||open("","_blank"))&&(_e.document.title=_e.document.body.innerText="downloading..."),typeof t=="string")return o(t,e,r);var Se=t.type==="application/octet-stream",Ae=/constructor/i.test(n.HTMLElement)||n.safari,Re=/CriOS\/[\d]+/.test(navigator.userAgent);if((Re||Se&&Ae)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Ee=new FileReader;Ee.onloadend=function(){var De=Ee.result;De=Re?De:De.replace(/^data:[^;]*;/,"data:attachment/file;"),_e?_e.location.href=De:location=De,_e=null},Ee.readAsDataURL(t)}else{var Ce=n.URL||n.webkitURL,Te=Ce.createObjectURL(t);_e?_e.location=Te:location.href=Te,_e=null,setTimeout(function(){Ce.revokeObjectURL(Te)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Ee){return[parseInt(Ee[1]),parseInt(Ee[2]),parseInt(Ee[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Ee){return[parseInt(Ee[1],16),parseInt(Ee[2],16),parseInt(Ee[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Ee){return[parseInt(Ee[1]+Ee[1],16),parseInt(Ee[2]+Ee[2],16),parseInt(Ee[3]+Ee[3],16)]}}],_e=0;_e<r.length;_e++){var Se=r[_e].re,Ae=r[_e].process,Re=Se.exec(t);Re&&(e=Ae(Re),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Ee=this.r.toString(16),Ce=this.g.toString(16),Te=this.b.toString(16);return Ee.length==1&&(Ee="0"+Ee),Ce.length==1&&(Ce="0"+Ce),Te.length==1&&(Te="0"+Te),"#"+Ee+Ce+Te}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(t,e){var r=t[0],_e=t[1],Se=t[2],Ae=t[3];r=g(r,_e,Se,Ae,e[0],7,-680876936),Ae=g(Ae,r,_e,Se,e[1],12,-389564586),Se=g(Se,Ae,r,_e,e[2],17,606105819),_e=g(_e,Se,Ae,r,e[3],22,-1044525330),r=g(r,_e,Se,Ae,e[4],7,-176418897),Ae=g(Ae,r,_e,Se,e[5],12,1200080426),Se=g(Se,Ae,r,_e,e[6],17,-1473231341),_e=g(_e,Se,Ae,r,e[7],22,-45705983),r=g(r,_e,Se,Ae,e[8],7,1770035416),Ae=g(Ae,r,_e,Se,e[9],12,-1958414417),Se=g(Se,Ae,r,_e,e[10],17,-42063),_e=g(_e,Se,Ae,r,e[11],22,-1990404162),r=g(r,_e,Se,Ae,e[12],7,1804603682),Ae=g(Ae,r,_e,Se,e[13],12,-40341101),Se=g(Se,Ae,r,_e,e[14],17,-1502002290),r=m(r,_e=g(_e,Se,Ae,r,e[15],22,1236535329),Se,Ae,e[1],5,-165796510),Ae=m(Ae,r,_e,Se,e[6],9,-1069501632),Se=m(Se,Ae,r,_e,e[11],14,643717713),_e=m(_e,Se,Ae,r,e[0],20,-373897302),r=m(r,_e,Se,Ae,e[5],5,-701558691),Ae=m(Ae,r,_e,Se,e[10],9,38016083),Se=m(Se,Ae,r,_e,e[15],14,-660478335),_e=m(_e,Se,Ae,r,e[4],20,-405537848),r=m(r,_e,Se,Ae,e[9],5,568446438),Ae=m(Ae,r,_e,Se,e[14],9,-1019803690),Se=m(Se,Ae,r,_e,e[3],14,-187363961),_e=m(_e,Se,Ae,r,e[8],20,1163531501),r=m(r,_e,Se,Ae,e[13],5,-1444681467),Ae=m(Ae,r,_e,Se,e[2],9,-51403784),Se=m(Se,Ae,r,_e,e[7],14,1735328473),r=v(r,_e=m(_e,Se,Ae,r,e[12],20,-1926607734),Se,Ae,e[5],4,-378558),Ae=v(Ae,r,_e,Se,e[8],11,-2022574463),Se=v(Se,Ae,r,_e,e[11],16,1839030562),_e=v(_e,Se,Ae,r,e[14],23,-35309556),r=v(r,_e,Se,Ae,e[1],4,-1530992060),Ae=v(Ae,r,_e,Se,e[4],11,1272893353),Se=v(Se,Ae,r,_e,e[7],16,-155497632),_e=v(_e,Se,Ae,r,e[10],23,-1094730640),r=v(r,_e,Se,Ae,e[13],4,681279174),Ae=v(Ae,r,_e,Se,e[0],11,-358537222),Se=v(Se,Ae,r,_e,e[3],16,-722521979),_e=v(_e,Se,Ae,r,e[6],23,76029189),r=v(r,_e,Se,Ae,e[9],4,-640364487),Ae=v(Ae,r,_e,Se,e[12],11,-421815835),Se=v(Se,Ae,r,_e,e[15],16,530742520),r=b(r,_e=v(_e,Se,Ae,r,e[2],23,-995338651),Se,Ae,e[0],6,-198630844),Ae=b(Ae,r,_e,Se,e[7],10,1126891415),Se=b(Se,Ae,r,_e,e[14],15,-1416354905),_e=b(_e,Se,Ae,r,e[5],21,-57434055),r=b(r,_e,Se,Ae,e[12],6,1700485571),Ae=b(Ae,r,_e,Se,e[3],10,-1894986606),Se=b(Se,Ae,r,_e,e[10],15,-1051523),_e=b(_e,Se,Ae,r,e[1],21,-2054922799),r=b(r,_e,Se,Ae,e[8],6,1873313359),Ae=b(Ae,r,_e,Se,e[15],10,-30611744),Se=b(Se,Ae,r,_e,e[6],15,-1560198380),_e=b(_e,Se,Ae,r,e[13],21,1309151649),r=b(r,_e,Se,Ae,e[4],6,-145523070),Ae=b(Ae,r,_e,Se,e[11],10,-1120210379),Se=b(Se,Ae,r,_e,e[2],15,718787259),_e=b(_e,Se,Ae,r,e[9],21,-343485551),t[0]=_(r,t[0]),t[1]=_(_e,t[1]),t[2]=_(Se,t[2]),t[3]=_(Ae,t[3])}function p(t,e,r,_e,Se,Ae){return e=_(_(e,t),_(_e,Ae)),_(e<<Se|e>>>32-Se,r)}function g(t,e,r,_e,Se,Ae,Re){return p(e&r|~e&_e,t,e,Se,Ae,Re)}function m(t,e,r,_e,Se,Ae,Re){return p(e&_e|r&~_e,t,e,Se,Ae,Re)}function v(t,e,r,_e,Se,Ae,Re){return p(e^r^_e,t,e,Se,Ae,Re)}function b(t,e,r,_e,Se,Ae,Re){return p(r^(e|~_e),t,e,Se,Ae,Re)}function y(t){var e,r=t.length,_e=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d(_e,w(t.substring(e-64,e)));t=t.substring(e-64);var Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)Se[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(Se[e>>2]|=128<<(e%4<<3),e>55)for(d(_e,Se),e=0;e<16;e++)Se[e]=0;return Se[14]=8*r,d(_e,Se),_e}function w(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(t){for(var e="",r=0;r<4;r++)e+=N[t>>8*r+4&15]+N[t>>8*r&15];return e}function A(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function x(t){return y(t).map(A).join("")}var S=function(t){for(var e=0;e<t.length;e++)t[e]=L(t[e]);return t.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(t,e){if(S){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(t,e){var r,_e,Se,Ae;if(t!==r){for(var Re=(Se=t,Ae=1+(256/t.length>>0),new Array(Ae+1).join(Se)),Ee=[],Ce=0;Ce<256;Ce++)Ee[Ce]=Ce;var Te=0;for(Ce=0;Ce<256;Ce++){var De=Ee[Ce];Te=(Te+De+Re.charCodeAt(Ce))%256,Ee[Ce]=Ee[Te],Ee[Te]=De}r=t,_e=Ee}else Ee=_e;var ke=e.length,Pe=0,xe=0,Fe="";for(Ce=0;Ce<ke;Ce++)xe=(xe+(De=Ee[Pe=(Pe+1)%256]))%256,Ee[Pe]=Ee[xe],Ee[xe]=De,Re=Ee[(Ee[Pe]+Ee[xe])%256],Fe+=String.fromCharCode(e.charCodeAt(Ce)^Re);return Fe}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(t,e,r,_e){this.v=1,this.r=2;var Se=192;t.forEach(function(Ee){if(k.perm!==void 0)throw new Error("Invalid permission: "+Ee);Se+=k[Ee]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var Ae=(e+this.padding).substr(0,32),Re=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(Ae,Re),this.P=-(1+(255^Se)),this.encryptionKey=x(Ae+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_e)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,_e=0;_e<r;_e++){var Se=t.charCodeAt(_e);Se<33||Se===35||Se===37||Se===40||Se===41||Se===47||Se===60||Se===62||Se===91||Se===93||Se===123||Se===125||Se>126?e+="#"+("0"+Se.toString(16)).slice(-2):e+=t[_e]}return e}function C(t){if(_typeof(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,_e,Se){if(Se=Se||!1,typeof r!="string"||typeof _e!="function"||typeof Se!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var Ae=Math.random().toString(35);return e[r][Ae]=[_e,!!Se],Ae},this.unsubscribe=function(r){for(var _e in e)if(e[_e][r])return delete e[_e][r],Object.keys(e[_e]).length===0&&delete e[_e],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var _e=Array.prototype.slice.call(arguments,1),Se=[];for(var Ae in e[r]){var Re=e[r][Ae];try{Re[0].apply(t,_e)}catch(Ee){n.console&&a.error("jsPDF PubSub Error",Ee.message,Ee)}Re[1]&&Se.push(Ae)}Se.length&&Se.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(t){if(!(this instanceof j))return new j(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function O(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function B(t,e,r,_e,Se){if(!(this instanceof B))return new B(t,e,r,_e,Se);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,O.call(this,_e,Se)}function M(t,e,r,_e,Se){if(!(this instanceof M))return new M(t,e,r,_e,Se);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,O.call(this,_e,Se)}function E(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",_e=arguments[1],Se=arguments[2],Ae=arguments[3],Re=[],Ee=1,Ce=16,Te="S",De=null;_typeof(t=t||{})==="object"&&(r=t.orientation,_e=t.unit||_e,Se=t.format||Se,Ae=t.compress||t.compressPdf||Ae,(De=t.encryption||null)!==null&&(De.userPassword=De.userPassword||"",De.ownerPassword=De.ownerPassword||"",De.userPermissions=De.userPermissions||[]),Ee=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(Ce=t.floatPrecision),Te=t.defaultPathOperation||"S"),Re=t.filters||(Ae===!0?["FlateEncode"]:Re),_e=_e||"mm",r=(""+(r||"P")).toLowerCase();var ke=t.putOnlyUsedFonts||!1,Pe={},xe={internal:{},__private__:{}};xe.__private__.PubSub=C;var Fe="1.3",Ie=xe.__private__.getPdfVersion=function(){return Fe};xe.__private__.setPdfVersion=function(ir){Fe=ir};var Me={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};xe.__private__.getPageFormats=function(){return Me};var Oe=xe.__private__.getPageFormat=function(ir){return Me[ir]};Se=Se||"a4";var Be={COMPAT:"compat",ADVANCED:"advanced"},je=Be.COMPAT;function Ve(){this.saveGraphicsState(),er(new hi(Lr,0,0,-Lr,0,xs()*Lr).toString()+" cm"),this.setFontSize(this.getFontSize()/Lr),Te="n",je=Be.ADVANCED}function ze(){this.restoreGraphicsState(),Te="S",je=Be.COMPAT}var He=xe.__private__.combineFontStyleAndFontWeight=function(ir,Tr){if(ir=="bold"&&Tr=="normal"||ir=="bold"&&Tr==400||ir=="normal"&&Tr=="italic"||ir=="bold"&&Tr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Tr&&(ir=Tr==400||Tr==="normal"?ir==="italic"?"italic":"normal":Tr!=700&&Tr!=="bold"||ir!=="normal"?(Tr==700?"bold":Tr)+""+ir:"bold"),ir};xe.advancedAPI=function(ir){var Tr=je===Be.COMPAT;return Tr&&Ve.call(this),typeof ir!="function"||(ir(this),Tr&&ze.call(this)),this},xe.compatAPI=function(ir){var Tr=je===Be.ADVANCED;return Tr&&ze.call(this),typeof ir!="function"||(ir(this),Tr&&Ve.call(this)),this},xe.isAdvancedAPI=function(){return je===Be.ADVANCED};var $e,Ue=function(ir){if(je!==Be.ADVANCED)throw new Error(ir+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Xe=xe.roundToPrecision=xe.__private__.roundToPrecision=function(ir,Tr){var Ur=e||Tr;if(isNaN(ir)||isNaN(Ur))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ir.toFixed(Ur).replace(/0+$/,"")};$e=xe.hpf=xe.__private__.hpf=typeof Ce=="number"?function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.hpf");return Xe(ir,Ce)}:Ce==="smart"?function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.hpf");return Xe(ir,ir>-1&&ir<1?16:5)}:function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.hpf");return Xe(ir,16)};var nr=xe.f2=xe.__private__.f2=function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.f2");return Xe(ir,2)},Ge=xe.__private__.f3=function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.f3");return Xe(ir,3)},St=xe.scale=xe.__private__.scale=function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.scale");return je===Be.COMPAT?ir*Lr:je===Be.ADVANCED?ir:void 0},mr=function(ir){return je===Be.COMPAT?xs()-ir:je===Be.ADVANCED?ir:void 0},pr=function(ir){return St(mr(ir))};xe.__private__.setPrecision=xe.setPrecision=function(ir){typeof parseInt(ir,10)=="number"&&(e=parseInt(ir,10))};var vr,dr="00000000000000000000000000000000",gr=xe.__private__.getFileId=function(){return dr},sr=xe.__private__.setFileId=function(ir){return dr=ir!==void 0&&/^[a-fA-F0-9]{32}$/.test(ir)?ir.toUpperCase():dr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),De!==null&&(Dn=new I(De.userPermissions,De.userPassword,De.ownerPassword,dr)),dr};xe.setFileId=function(ir){return sr(ir),this},xe.getFileId=function(){return gr()};var tr=xe.__private__.convertDateToPDFDate=function(ir){var Tr=ir.getTimezoneOffset(),Ur=Tr<0?"+":"-",Wr=Math.floor(Math.abs(Tr/60)),Zr=Math.abs(Tr%60),li=[Ur,Ye(Wr),"'",Ye(Zr),"'"].join("");return["D:",ir.getFullYear(),Ye(ir.getMonth()+1),Ye(ir.getDate()),Ye(ir.getHours()),Ye(ir.getMinutes()),Ye(ir.getSeconds()),li].join("")},hr=xe.__private__.convertPDFDateToDate=function(ir){var Tr=parseInt(ir.substr(2,4),10),Ur=parseInt(ir.substr(6,2),10)-1,Wr=parseInt(ir.substr(8,2),10),Zr=parseInt(ir.substr(10,2),10),li=parseInt(ir.substr(12,2),10),bi=parseInt(ir.substr(14,2),10);return new Date(Tr,Ur,Wr,Zr,li,bi,0)},Sr=xe.__private__.setCreationDate=function(ir){var Tr;if(ir===void 0&&(ir=new Date),ir instanceof Date)Tr=tr(ir);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ir))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Tr=ir}return vr=Tr},Je=xe.__private__.getCreationDate=function(ir){var Tr=vr;return ir==="jsDate"&&(Tr=hr(vr)),Tr};xe.setCreationDate=function(ir){return Sr(ir),this},xe.getCreationDate=function(ir){return Je(ir)};var Ze,Ye=xe.__private__.padd2=function(ir){return("0"+parseInt(ir)).slice(-2)},We=xe.__private__.padd2Hex=function(ir){return("00"+(ir=ir.toString())).substr(ir.length)},or=0,fr=[],_r=[],yr=0,xr=[],Ar=[],cr=!1,ar=_r,Qe=function(){or=0,yr=0,_r=[],fr=[],xr=[],Ji=Vi(),an=Vi()};xe.__private__.setCustomOutputDestination=function(ir){cr=!0,ar=ir};var rr=function(ir){cr||(ar=ir)};xe.__private__.resetCustomOutputDestination=function(){cr=!1,ar=_r};var er=xe.__private__.out=function(ir){return ir=ir.toString(),yr+=ir.length+1,ar.push(ir),ar},ur=xe.__private__.write=function(ir){return er(arguments.length===1?ir.toString():Array.prototype.join.call(arguments," "))},Cr=xe.__private__.getArrayBuffer=function(ir){for(var Tr=ir.length,Ur=new ArrayBuffer(Tr),Wr=new Uint8Array(Ur);Tr--;)Wr[Tr]=ir.charCodeAt(Tr);return Ur},wr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];xe.__private__.getStandardFonts=function(){return wr};var Or=t.fontSize||16;xe.__private__.setFontSize=xe.setFontSize=function(ir){return Or=je===Be.ADVANCED?ir/Lr:ir,this};var kr,Pr=xe.__private__.getFontSize=xe.getFontSize=function(){return je===Be.COMPAT?Or:Or*Lr},Ir=t.R2L||!1;xe.__private__.setR2L=xe.setR2L=function(ir){return Ir=ir,this},xe.__private__.getR2L=xe.getR2L=function(){return Ir};var Vr,zr=xe.__private__.setZoomMode=function(ir){var Tr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ir))kr=ir;else if(isNaN(ir)){if(Tr.indexOf(ir)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ir+'" is not recognized.');kr=ir}else kr=parseInt(ir,10)};xe.__private__.getZoomMode=function(){return kr};var $r,Gr=xe.__private__.setPageMode=function(ir){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ir)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ir+'" is not recognized.');Vr=ir};xe.__private__.getPageMode=function(){return Vr};var ii=xe.__private__.setLayoutMode=function(ir){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ir)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ir+'" is not recognized.');$r=ir};xe.__private__.getLayoutMode=function(){return $r},xe.__private__.setDisplayMode=xe.setDisplayMode=function(ir,Tr,Ur){return zr(ir),ii(Tr),Gr(Ur),this};var Qr={title:"",subject:"",author:"",keywords:"",creator:""};xe.__private__.getDocumentProperty=function(ir){if(Object.keys(Qr).indexOf(ir)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qr[ir]},xe.__private__.getDocumentProperties=function(){return Qr},xe.__private__.setDocumentProperties=xe.setProperties=xe.setDocumentProperties=function(ir){for(var Tr in Qr)Qr.hasOwnProperty(Tr)&&ir[Tr]&&(Qr[Tr]=ir[Tr]);return this},xe.__private__.setDocumentProperty=function(ir,Tr){if(Object.keys(Qr).indexOf(ir)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qr[ir]=Tr};var di,Lr,Hr,jr,ci,vi={},qr={},ni=[],fi={},Ai={},Di={},Oi={},Ri=null,ki=0,Ci=[],wi=new C(xe),Yi=t.hotfixes||[],Ti={},si={},Si=[],hi=function ir(Tr,Ur,Wr,Zr,li,bi){if(!(this instanceof ir))return new ir(Tr,Ur,Wr,Zr,li,bi);isNaN(Tr)&&(Tr=1),isNaN(Ur)&&(Ur=0),isNaN(Wr)&&(Wr=0),isNaN(Zr)&&(Zr=1),isNaN(li)&&(li=0),isNaN(bi)&&(bi=0),this._matrix=[Tr,Ur,Wr,Zr,li,bi]};Object.defineProperty(hi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ir){this._matrix[0]=ir}}),Object.defineProperty(hi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ir){this._matrix[1]=ir}}),Object.defineProperty(hi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ir){this._matrix[2]=ir}}),Object.defineProperty(hi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ir){this._matrix[3]=ir}}),Object.defineProperty(hi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ir){this._matrix[4]=ir}}),Object.defineProperty(hi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ir){this._matrix[5]=ir}}),Object.defineProperty(hi.prototype,"a",{get:function(){return this._matrix[0]},set:function(ir){this._matrix[0]=ir}}),Object.defineProperty(hi.prototype,"b",{get:function(){return this._matrix[1]},set:function(ir){this._matrix[1]=ir}}),Object.defineProperty(hi.prototype,"c",{get:function(){return this._matrix[2]},set:function(ir){this._matrix[2]=ir}}),Object.defineProperty(hi.prototype,"d",{get:function(){return this._matrix[3]},set:function(ir){this._matrix[3]=ir}}),Object.defineProperty(hi.prototype,"e",{get:function(){return this._matrix[4]},set:function(ir){this._matrix[4]=ir}}),Object.defineProperty(hi.prototype,"f",{get:function(){return this._matrix[5]},set:function(ir){this._matrix[5]=ir}}),Object.defineProperty(hi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hi.prototype.join=function(ir){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($e).join(ir)},hi.prototype.multiply=function(ir){var Tr=ir.sx*this.sx+ir.shy*this.shx,Ur=ir.sx*this.shy+ir.shy*this.sy,Wr=ir.shx*this.sx+ir.sy*this.shx,Zr=ir.shx*this.shy+ir.sy*this.sy,li=ir.tx*this.sx+ir.ty*this.shx+this.tx,bi=ir.tx*this.shy+ir.ty*this.sy+this.ty;return new hi(Tr,Ur,Wr,Zr,li,bi)},hi.prototype.decompose=function(){var ir=this.sx,Tr=this.shy,Ur=this.shx,Wr=this.sy,Zr=this.tx,li=this.ty,bi=Math.sqrt(ir*ir+Tr*Tr),Fi=(ir/=bi)*Ur+(Tr/=bi)*Wr;Ur-=ir*Fi,Wr-=Tr*Fi;var Ni=Math.sqrt(Ur*Ur+Wr*Wr);return Fi/=Ni,ir*(Wr/=Ni)<Tr*(Ur/=Ni)&&(ir=-ir,Tr=-Tr,Fi=-Fi,bi=-bi),{scale:new hi(bi,0,0,Ni,0,0),translate:new hi(1,0,0,1,Zr,li),rotate:new hi(ir,Tr,-Tr,ir,0,0),skew:new hi(1,0,Fi,1,0,0)}},hi.prototype.toString=function(ir){return this.join(" ")},hi.prototype.inversed=function(){var ir=this.sx,Tr=this.shy,Ur=this.shx,Wr=this.sy,Zr=this.tx,li=this.ty,bi=1/(ir*Wr-Tr*Ur),Fi=Wr*bi,Ni=-Tr*bi,Hi=-Ur*bi,$i=ir*bi;return new hi(Fi,Ni,Hi,$i,-Fi*Zr-Hi*li,-Ni*Zr-$i*li)},hi.prototype.applyToPoint=function(ir){var Tr=ir.x*this.sx+ir.y*this.shx+this.tx,Ur=ir.x*this.shy+ir.y*this.sy+this.ty;return new ta(Tr,Ur)},hi.prototype.applyToRectangle=function(ir){var Tr=this.applyToPoint(ir),Ur=this.applyToPoint(new ta(ir.x+ir.w,ir.y+ir.h));return new Fa(Tr.x,Tr.y,Ur.x-Tr.x,Ur.y-Tr.y)},hi.prototype.clone=function(){var ir=this.sx,Tr=this.shy,Ur=this.shx,Wr=this.sy,Zr=this.tx,li=this.ty;return new hi(ir,Tr,Ur,Wr,Zr,li)},xe.Matrix=hi;var xi=xe.matrixMult=function(ir,Tr){return Tr.multiply(ir)},ji=new hi(1,0,0,1,0,0);xe.unitMatrix=xe.identityMatrix=ji;var Li=function(ir,Tr){if(!Ai[ir]){var Ur=(Tr instanceof B?"Sh":"P")+(Object.keys(fi).length+1).toString(10);Tr.id=Ur,Ai[ir]=Ur,fi[Ur]=Tr,wi.publish("addPattern",Tr)}};xe.ShadingPattern=B,xe.TilingPattern=M,xe.addShadingPattern=function(ir,Tr){return Ue("addShadingPattern()"),Li(ir,Tr),this},xe.beginTilingPattern=function(ir){Ue("beginTilingPattern()"),mo(ir.boundingBox[0],ir.boundingBox[1],ir.boundingBox[2]-ir.boundingBox[0],ir.boundingBox[3]-ir.boundingBox[1],ir.matrix)},xe.endTilingPattern=function(ir,Tr){Ue("endTilingPattern()"),Tr.stream=Ar[Ze].join(`
`),Li(ir,Tr),wi.publish("endTilingPattern",Tr),Si.pop().restore()};var Ii=xe.__private__.newObject=function(){var ir=Vi();return tn(ir,!0),ir},Vi=xe.__private__.newObjectDeferred=function(){return or++,fr[or]=function(){return yr},or},tn=function(ir,Tr){return Tr=typeof Tr=="boolean"&&Tr,fr[ir]=yr,Tr&&er(ir+" 0 obj"),ir},qi=xe.__private__.newAdditionalObject=function(){var ir={objId:Vi(),content:""};return xr.push(ir),ir},Ji=Vi(),an=Vi(),Gi=xe.__private__.decodeColorString=function(ir){var Tr=ir.split(" ");if(Tr.length!==2||Tr[1]!=="g"&&Tr[1]!=="G")Tr.length===5&&(Tr[4]==="k"||Tr[4]==="K")&&(Tr=[(1-Tr[0])*(1-Tr[3]),(1-Tr[1])*(1-Tr[3]),(1-Tr[2])*(1-Tr[3]),"r"]);else{var Ur=parseFloat(Tr[0]);Tr=[Ur,Ur,Ur,"r"]}for(var Wr="#",Zr=0;Zr<3;Zr++)Wr+=("0"+Math.floor(255*parseFloat(Tr[Zr])).toString(16)).slice(-2);return Wr},Wi=xe.__private__.encodeColorString=function(ir){var Tr;typeof ir=="string"&&(ir={ch1:ir});var Ur=ir.ch1,Wr=ir.ch2,Zr=ir.ch3,li=ir.ch4,bi=ir.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ur=="string"&&Ur.charAt(0)!=="#"){var Fi=new f(Ur);if(Fi.ok)Ur=Fi.toHex();else if(!/^\d*\.?\d*$/.test(Ur))throw new Error('Invalid color "'+Ur+'" passed to jsPDF.encodeColorString.')}if(typeof Ur=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ur)&&(Ur="#"+Ur[1]+Ur[1]+Ur[2]+Ur[2]+Ur[3]+Ur[3]),typeof Ur=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ur)){var Ni=parseInt(Ur.substr(1),16);Ur=Ni>>16&255,Wr=Ni>>8&255,Zr=255&Ni}if(Wr===void 0||li===void 0&&Ur===Wr&&Wr===Zr)if(typeof Ur=="string")Tr=Ur+" "+bi[0];else switch(ir.precision){case 2:Tr=nr(Ur/255)+" "+bi[0];break;case 3:default:Tr=Ge(Ur/255)+" "+bi[0]}else if(li===void 0||_typeof(li)==="object"){if(li&&!isNaN(li.a)&&li.a===0)return Tr=["1.","1.","1.",bi[1]].join(" ");if(typeof Ur=="string")Tr=[Ur,Wr,Zr,bi[1]].join(" ");else switch(ir.precision){case 2:Tr=[nr(Ur/255),nr(Wr/255),nr(Zr/255),bi[1]].join(" ");break;default:case 3:Tr=[Ge(Ur/255),Ge(Wr/255),Ge(Zr/255),bi[1]].join(" ")}}else if(typeof Ur=="string")Tr=[Ur,Wr,Zr,li,bi[2]].join(" ");else switch(ir.precision){case 2:Tr=[nr(Ur),nr(Wr),nr(Zr),nr(li),bi[2]].join(" ");break;case 3:default:Tr=[Ge(Ur),Ge(Wr),Ge(Zr),Ge(li),bi[2]].join(" ")}return Tr},Zi=xe.__private__.getFilters=function(){return Re},wn=xe.__private__.putStream=function(ir){var Tr=(ir=ir||{}).data||"",Ur=ir.filters||Zi(),Wr=ir.alreadyAppliedFilters||[],Zr=ir.addLength1||!1,li=Tr.length,bi=ir.objectId,Fi=function(Fn){return Fn};if(De!==null&&bi===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");De!==null&&(Fi=Dn.encryptor(bi,0));var Ni={};Ur===!0&&(Ur=["FlateEncode"]);var Hi=ir.additionalKeyValues||[],$i=(Ni=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Tr,Ur):{data:Tr,reverseChain:[]}).reverseChain+(Array.isArray(Wr)?Wr.join(" "):Wr.toString());if(Ni.data.length!==0&&(Hi.push({key:"Length",value:Ni.data.length}),Zr===!0&&Hi.push({key:"Length1",value:li})),$i.length!=0)if($i.split("/").length-1==1)Hi.push({key:"Filter",value:$i});else{Hi.push({key:"Filter",value:"["+$i+"]"});for(var Ki=0;Ki<Hi.length;Ki+=1)if(Hi[Ki].key==="DecodeParms"){for(var pn=[],gn=0;gn<Ni.reverseChain.split("/").length-1;gn+=1)pn.push("null");pn.push(Hi[Ki].value),Hi[Ki].value="["+pn.join(" ")+"]"}}er("<<");for(var yn=0;yn<Hi.length;yn++)er("/"+Hi[yn].key+" "+Hi[yn].value);er(">>"),Ni.data.length!==0&&(er("stream"),er(Fi(Ni.data)),er("endstream"))},An=xe.__private__.putPage=function(ir){var Tr=ir.number,Ur=ir.data,Wr=ir.objId,Zr=ir.contentsObjId;tn(Wr,!0),er("<</Type /Page"),er("/Parent "+ir.rootDictionaryObjId+" 0 R"),er("/Resources "+ir.resourceDictionaryObjId+" 0 R"),er("/MediaBox ["+parseFloat($e(ir.mediaBox.bottomLeftX))+" "+parseFloat($e(ir.mediaBox.bottomLeftY))+" "+$e(ir.mediaBox.topRightX)+" "+$e(ir.mediaBox.topRightY)+"]"),ir.cropBox!==null&&er("/CropBox ["+$e(ir.cropBox.bottomLeftX)+" "+$e(ir.cropBox.bottomLeftY)+" "+$e(ir.cropBox.topRightX)+" "+$e(ir.cropBox.topRightY)+"]"),ir.bleedBox!==null&&er("/BleedBox ["+$e(ir.bleedBox.bottomLeftX)+" "+$e(ir.bleedBox.bottomLeftY)+" "+$e(ir.bleedBox.topRightX)+" "+$e(ir.bleedBox.topRightY)+"]"),ir.trimBox!==null&&er("/TrimBox ["+$e(ir.trimBox.bottomLeftX)+" "+$e(ir.trimBox.bottomLeftY)+" "+$e(ir.trimBox.topRightX)+" "+$e(ir.trimBox.topRightY)+"]"),ir.artBox!==null&&er("/ArtBox ["+$e(ir.artBox.bottomLeftX)+" "+$e(ir.artBox.bottomLeftY)+" "+$e(ir.artBox.topRightX)+" "+$e(ir.artBox.topRightY)+"]"),typeof ir.userUnit=="number"&&ir.userUnit!==1&&er("/UserUnit "+ir.userUnit),wi.publish("putPage",{objId:Wr,pageContext:Ci[Tr],pageNumber:Tr,page:Ur}),er("/Contents "+Zr+" 0 R"),er(">>"),er("endobj");var li=Ur.join(`
`);return je===Be.ADVANCED&&(li+=`
Q`),tn(Zr,!0),wn({data:li,filters:Zi(),objectId:Zr}),er("endobj"),Wr},hn=xe.__private__.putPages=function(){var ir,Tr,Ur=[];for(ir=1;ir<=ki;ir++)Ci[ir].objId=Vi(),Ci[ir].contentsObjId=Vi();for(ir=1;ir<=ki;ir++)Ur.push(An({number:ir,data:Ar[ir],objId:Ci[ir].objId,contentsObjId:Ci[ir].contentsObjId,mediaBox:Ci[ir].mediaBox,cropBox:Ci[ir].cropBox,bleedBox:Ci[ir].bleedBox,trimBox:Ci[ir].trimBox,artBox:Ci[ir].artBox,userUnit:Ci[ir].userUnit,rootDictionaryObjId:Ji,resourceDictionaryObjId:an}));tn(Ji,!0),er("<</Type /Pages");var Wr="/Kids [";for(Tr=0;Tr<ki;Tr++)Wr+=Ur[Tr]+" 0 R ";er(Wr+"]"),er("/Count "+ki),er(">>"),er("endobj"),wi.publish("postPutPages")},rn=function(ir){wi.publish("putFont",{font:ir,out:er,newObject:Ii,putStream:wn}),ir.isAlreadyPutted!==!0&&(ir.objectNumber=Ii(),er("<<"),er("/Type /Font"),er("/BaseFont /"+F(ir.postScriptName)),er("/Subtype /Type1"),typeof ir.encoding=="string"&&er("/Encoding /"+ir.encoding),er("/FirstChar 32"),er("/LastChar 255"),er(">>"),er("endobj"))},kn=function(){for(var ir in vi)vi.hasOwnProperty(ir)&&(ke===!1||ke===!0&&Pe.hasOwnProperty(ir))&&rn(vi[ir])},is=function(ir){ir.objectNumber=Ii();var Tr=[];Tr.push({key:"Type",value:"/XObject"}),Tr.push({key:"Subtype",value:"/Form"}),Tr.push({key:"BBox",value:"["+[$e(ir.x),$e(ir.y),$e(ir.x+ir.width),$e(ir.y+ir.height)].join(" ")+"]"}),Tr.push({key:"Matrix",value:"["+ir.matrix.toString()+"]"});var Ur=ir.pages[1].join(`
`);wn({data:Ur,additionalKeyValues:Tr,objectId:ir.objectNumber}),er("endobj")},cs=function(){for(var ir in Ti)Ti.hasOwnProperty(ir)&&is(Ti[ir])},ns=function(ir,Tr){var Ur,Wr=[],Zr=1/(Tr-1);for(Ur=0;Ur<1;Ur+=Zr)Wr.push(Ur);if(Wr.push(1),ir[0].offset!=0){var li={offset:0,color:ir[0].color};ir.unshift(li)}if(ir[ir.length-1].offset!=1){var bi={offset:1,color:ir[ir.length-1].color};ir.push(bi)}for(var Fi="",Ni=0,Hi=0;Hi<Wr.length;Hi++){for(Ur=Wr[Hi];Ur>ir[Ni+1].offset;)Ni++;var $i=ir[Ni].offset,Ki=(Ur-$i)/(ir[Ni+1].offset-$i),pn=ir[Ni].color,gn=ir[Ni+1].color;Fi+=We(Math.round((1-Ki)*pn[0]+Ki*gn[0]).toString(16))+We(Math.round((1-Ki)*pn[1]+Ki*gn[1]).toString(16))+We(Math.round((1-Ki)*pn[2]+Ki*gn[2]).toString(16))}return Fi.trim()},us=function(ir,Tr){Tr||(Tr=21);var Ur=Ii(),Wr=ns(ir.colors,Tr),Zr=[];Zr.push({key:"FunctionType",value:"0"}),Zr.push({key:"Domain",value:"[0.0 1.0]"}),Zr.push({key:"Size",value:"["+Tr+"]"}),Zr.push({key:"BitsPerSample",value:"8"}),Zr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wn({data:Wr,additionalKeyValues:Zr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ur}),er("endobj"),ir.objectNumber=Ii(),er("<< /ShadingType "+ir.type),er("/ColorSpace /DeviceRGB");var li="/Coords ["+$e(parseFloat(ir.coords[0]))+" "+$e(parseFloat(ir.coords[1]))+" ";ir.type===2?li+=$e(parseFloat(ir.coords[2]))+" "+$e(parseFloat(ir.coords[3])):li+=$e(parseFloat(ir.coords[2]))+" "+$e(parseFloat(ir.coords[3]))+" "+$e(parseFloat(ir.coords[4]))+" "+$e(parseFloat(ir.coords[5])),er(li+="]"),ir.matrix&&er("/Matrix ["+ir.matrix.toString()+"]"),er("/Function "+Ur+" 0 R"),er("/Extend [true true]"),er(">>"),er("endobj")},qo=function(ir,Tr){var Ur=Vi(),Wr=Ii();Tr.push({resourcesOid:Ur,objectOid:Wr}),ir.objectNumber=Wr;var Zr=[];Zr.push({key:"Type",value:"/Pattern"}),Zr.push({key:"PatternType",value:"1"}),Zr.push({key:"PaintType",value:"1"}),Zr.push({key:"TilingType",value:"1"}),Zr.push({key:"BBox",value:"["+ir.boundingBox.map($e).join(" ")+"]"}),Zr.push({key:"XStep",value:$e(ir.xStep)}),Zr.push({key:"YStep",value:$e(ir.yStep)}),Zr.push({key:"Resources",value:Ur+" 0 R"}),ir.matrix&&Zr.push({key:"Matrix",value:"["+ir.matrix.toString()+"]"}),wn({data:ir.stream,additionalKeyValues:Zr,objectId:ir.objectNumber}),er("endobj")},Ws=function(ir){var Tr;for(Tr in fi)fi.hasOwnProperty(Tr)&&(fi[Tr]instanceof B?us(fi[Tr]):fi[Tr]instanceof M&&qo(fi[Tr],ir))},Qa=function(ir){for(var Tr in ir.objectNumber=Ii(),er("<<"),ir)switch(Tr){case"opacity":er("/ca "+nr(ir[Tr]));break;case"stroke-opacity":er("/CA "+nr(ir[Tr]))}er(">>"),er("endobj")},Go=function(){var ir;for(ir in Di)Di.hasOwnProperty(ir)&&Qa(Di[ir])},Sa=function(){for(var ir in er("/XObject <<"),Ti)Ti.hasOwnProperty(ir)&&Ti[ir].objectNumber>=0&&er("/"+ir+" "+Ti[ir].objectNumber+" 0 R");wi.publish("putXobjectDict"),er(">>")},Wo=function(){Dn.oid=Ii(),er("<<"),er("/Filter /Standard"),er("/V "+Dn.v),er("/R "+Dn.r),er("/U <"+Dn.toHexString(Dn.U)+">"),er("/O <"+Dn.toHexString(Dn.O)+">"),er("/P "+Dn.P),er(">>"),er("endobj")},Za=function(){for(var ir in er("/Font <<"),vi)vi.hasOwnProperty(ir)&&(ke===!1||ke===!0&&Pe.hasOwnProperty(ir))&&er("/"+ir+" "+vi[ir].objectNumber+" 0 R");er(">>")},Xo=function(){if(Object.keys(fi).length>0){for(var ir in er("/Shading <<"),fi)fi.hasOwnProperty(ir)&&fi[ir]instanceof B&&fi[ir].objectNumber>=0&&er("/"+ir+" "+fi[ir].objectNumber+" 0 R");wi.publish("putShadingPatternDict"),er(">>")}},Xs=function(ir){if(Object.keys(fi).length>0){for(var Tr in er("/Pattern <<"),fi)fi.hasOwnProperty(Tr)&&fi[Tr]instanceof xe.TilingPattern&&fi[Tr].objectNumber>=0&&fi[Tr].objectNumber<ir&&er("/"+Tr+" "+fi[Tr].objectNumber+" 0 R");wi.publish("putTilingPatternDict"),er(">>")}},Yo=function(){if(Object.keys(Di).length>0){var ir;for(ir in er("/ExtGState <<"),Di)Di.hasOwnProperty(ir)&&Di[ir].objectNumber>=0&&er("/"+ir+" "+Di[ir].objectNumber+" 0 R");wi.publish("putGStateDict"),er(">>")}},vn=function(ir){tn(ir.resourcesOid,!0),er("<<"),er("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Za(),Xo(),Xs(ir.objectOid),Yo(),Sa(),er(">>"),er("endobj")},eo=function(){var ir=[];kn(),Go(),cs(),Ws(ir),wi.publish("putResources"),ir.forEach(vn),vn({resourcesOid:an,objectOid:Number.MAX_SAFE_INTEGER}),wi.publish("postPutResources")},to=function(){wi.publish("putAdditionalObjects");for(var ir=0;ir<xr.length;ir++){var Tr=xr[ir];tn(Tr.objId,!0),er(Tr.content),er("endobj")}wi.publish("postPutAdditionalObjects")},ro=function(ir){qr[ir.fontName]=qr[ir.fontName]||{},qr[ir.fontName][ir.fontStyle]=ir.id},wa=function(ir,Tr,Ur,Wr,Zr){var li={id:"F"+(Object.keys(vi).length+1).toString(10),postScriptName:ir,fontName:Tr,fontStyle:Ur,encoding:Wr,isStandardFont:Zr||!1,metadata:{}};return wi.publish("addFont",{font:li,instance:this}),vi[li.id]=li,ro(li),li.id},Ko=function(ir){for(var Tr=0,Ur=wr.length;Tr<Ur;Tr++){var Wr=wa.call(this,ir[Tr][0],ir[Tr][1],ir[Tr][2],wr[Tr][3],!0);ke===!1&&(Pe[Wr]=!0);var Zr=ir[Tr][0].split("-");ro({id:Wr,fontName:Zr[0],fontStyle:Zr[1]||""})}wi.publish("addFonts",{fonts:vi,dictionary:qr})},Xn=function(ir){return ir.foo=function(){try{return ir.apply(this,arguments)}catch(Wr){var Tr=Wr.stack||"";~Tr.indexOf(" at ")&&(Tr=Tr.split(" at ")[1]);var Ur="Error in function "+Tr.split(`
`)[0].split("<")[0]+": "+Wr.message;if(!n.console)throw new Error(Ur);n.console.error(Ur,Wr),n.alert&&alert(Ur)}},ir.foo.bar=ir,ir.foo},Ys=function(ir,Tr){var Ur,Wr,Zr,li,bi,Fi,Ni,Hi,$i;if(Zr=(Tr=Tr||{}).sourceEncoding||"Unicode",bi=Tr.outputEncoding,(Tr.autoencode||bi)&&vi[di].metadata&&vi[di].metadata[Zr]&&vi[di].metadata[Zr].encoding&&(li=vi[di].metadata[Zr].encoding,!bi&&vi[di].encoding&&(bi=vi[di].encoding),!bi&&li.codePages&&(bi=li.codePages[0]),typeof bi=="string"&&(bi=li[bi]),bi)){for(Ni=!1,Fi=[],Ur=0,Wr=ir.length;Ur<Wr;Ur++)(Hi=bi[ir.charCodeAt(Ur)])?Fi.push(String.fromCharCode(Hi)):Fi.push(ir[Ur]),Fi[Ur].charCodeAt(0)>>8&&(Ni=!0);ir=Fi.join("")}for(Ur=ir.length;Ni===void 0&&Ur!==0;)ir.charCodeAt(Ur-1)>>8&&(Ni=!0),Ur--;if(!Ni)return ir;for(Fi=Tr.noBOM?[]:[254,255],Ur=0,Wr=ir.length;Ur<Wr;Ur++){if(($i=(Hi=ir.charCodeAt(Ur))>>8)>>8)throw new Error("Character at position "+Ur+" of string '"+ir+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fi.push($i),Fi.push(Hi-($i<<8))}return String.fromCharCode.apply(void 0,Fi)},Ln=xe.__private__.pdfEscape=xe.pdfEscape=function(ir,Tr){return Ys(ir,Tr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ca=xe.__private__.beginPage=function(ir){Ar[++ki]=[],Ci[ki]={objId:0,contentsObjId:0,userUnit:Number(Ee),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ir[0]),topRightY:Number(ir[1])}},no(ki),rr(Ar[Ze])},io=function(ir,Tr){var Ur,Wr,Zr;switch(r=Tr||r,typeof ir=="string"&&(Ur=Oe(ir.toLowerCase()),Array.isArray(Ur)&&(Wr=Ur[0],Zr=Ur[1])),Array.isArray(ir)&&(Wr=ir[0]*Lr,Zr=ir[1]*Lr),isNaN(Wr)&&(Wr=Se[0],Zr=Se[1]),(Wr>14400||Zr>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Wr=Math.min(14400,Wr),Zr=Math.min(14400,Zr)),Se=[Wr,Zr],r.substr(0,1)){case"l":Zr>Wr&&(Se=[Zr,Wr]);break;case"p":Wr>Zr&&(Se=[Zr,Wr])}Ca(Se),co(Ta),er(Yn),ka!==0&&er(ka+" J"),Da!==0&&er(Da+" j"),wi.publish("addPage",{pageNumber:ki})},Jo=function(ir){ir>0&&ir<=ki&&(Ar.splice(ir,1),Ci.splice(ir,1),ki--,Ze>ki&&(Ze=ki),this.setPage(Ze))},no=function(ir){ir>0&&ir<=ki&&(Ze=ir)},Qo=xe.__private__.getNumberOfPages=xe.getNumberOfPages=function(){return Ar.length-1},so=function(ir,Tr,Ur){var Wr,Zr=void 0;return Ur=Ur||{},ir=ir!==void 0?ir:vi[di].fontName,Tr=Tr!==void 0?Tr:vi[di].fontStyle,Wr=ir.toLowerCase(),qr[Wr]!==void 0&&qr[Wr][Tr]!==void 0?Zr=qr[Wr][Tr]:qr[ir]!==void 0&&qr[ir][Tr]!==void 0?Zr=qr[ir][Tr]:Ur.disableWarning===!1&&a.warn("Unable to look up font label for font '"+ir+"', '"+Tr+"'. Refer to getFontList() for available fonts."),Zr||Ur.noFallback||(Zr=qr.times[Tr])==null&&(Zr=qr.times.normal),Zr},Zo=xe.__private__.putInfo=function(){var ir=Ii(),Tr=function(Wr){return Wr};for(var Ur in De!==null&&(Tr=Dn.encryptor(ir,0)),er("<<"),er("/Producer ("+Ln(Tr("jsPDF "+E.version))+")"),Qr)Qr.hasOwnProperty(Ur)&&Qr[Ur]&&er("/"+Ur.substr(0,1).toUpperCase()+Ur.substr(1)+" ("+Ln(Tr(Qr[Ur]))+")");er("/CreationDate ("+Ln(Tr(vr))+")"),er(">>"),er("endobj")},Aa=xe.__private__.putCatalog=function(ir){var Tr=(ir=ir||{}).rootDictionaryObjId||Ji;switch(Ii(),er("<<"),er("/Type /Catalog"),er("/Pages "+Tr+" 0 R"),kr||(kr="fullwidth"),kr){case"fullwidth":er("/OpenAction [3 0 R /FitH null]");break;case"fullheight":er("/OpenAction [3 0 R /FitV null]");break;case"fullpage":er("/OpenAction [3 0 R /Fit]");break;case"original":er("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ur=""+kr;Ur.substr(Ur.length-1)==="%"&&(kr=parseInt(kr)/100),typeof kr=="number"&&er("/OpenAction [3 0 R /XYZ null null "+nr(kr)+"]")}switch($r||($r="continuous"),$r){case"continuous":er("/PageLayout /OneColumn");break;case"single":er("/PageLayout /SinglePage");break;case"two":case"twoleft":er("/PageLayout /TwoColumnLeft");break;case"tworight":er("/PageLayout /TwoColumnRight")}Vr&&er("/PageMode /"+Vr),wi.publish("putCatalog"),er(">>"),er("endobj")},el=xe.__private__.putTrailer=function(){er("trailer"),er("<<"),er("/Size "+(or+1)),er("/Root "+or+" 0 R"),er("/Info "+(or-1)+" 0 R"),De!==null&&er("/Encrypt "+Dn.oid+" 0 R"),er("/ID [ <"+dr+"> <"+dr+"> ]"),er(">>")},tl=xe.__private__.putHeader=function(){er("%PDF-"+Fe),er("%\xBA\xDF\xAC\xE0")},rl=xe.__private__.putXRef=function(){var ir="0000000000";er("xref"),er("0 "+(or+1)),er("0000000000 65535 f ");for(var Tr=1;Tr<=or;Tr++)typeof fr[Tr]=="function"?er((ir+fr[Tr]()).slice(-10)+" 00000 n "):fr[Tr]!==void 0?er((ir+fr[Tr]).slice(-10)+" 00000 n "):er("0000000000 00000 n ")},fs=xe.__private__.buildDocument=function(){Qe(),rr(_r),wi.publish("buildDocument"),tl(),hn(),to(),eo(),De!==null&&Wo(),Zo(),Aa();var ir=yr;return rl(),el(),er("startxref"),er(""+ir),er("%%EOF"),rr(Ar[Ze]),_r.join(`
`)},Ks=xe.__private__.getBlob=function(ir){return new Blob([Cr(ir)],{type:"application/pdf"})},Js=xe.output=xe.__private__.output=Xn(function(ir,Tr){switch(typeof(Tr=Tr||{})=="string"?Tr={filename:Tr}:Tr.filename=Tr.filename||"generated.pdf",ir){case void 0:return fs();case"save":xe.save(Tr.filename);break;case"arraybuffer":return Cr(fs());case"blob":return Ks(fs());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Ks(fs()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ur="",Wr=fs();try{Ur=h(Wr)}catch{Ur=h(unescape(encodeURIComponent(Wr)))}return"data:application/pdf;filename="+Tr.filename+";base64,"+Ur;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Zr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",li=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Tr.pdfObjectUrl&&(Zr=Tr.pdfObjectUrl,li="");var bi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Zr+'"'+li+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Tr)+");<\/script></body></html>",Fi=n.open();return Fi!==null&&Fi.document.write(bi),Fi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Ni='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Tr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Tr.filename+'" width="500px" height="400px" /></body></html>',Hi=n.open();if(Hi!==null){Hi.document.write(Ni);var $i=this;Hi.document.documentElement.querySelector("#pdfViewer").onload=function(){Hi.document.title=Tr.filename,Hi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($i.output("bloburl"))}}return Hi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ki='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Tr)+'"></iframe></body></html>',pn=n.open();if(pn!==null&&(pn.document.write(Ki),pn.document.title=Tr.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Tr);default:return null}}),ao=function(ir){return Array.isArray(Yi)===!0&&Yi.indexOf(ir)>-1};switch(_e){case"pt":Lr=1;break;case"mm":Lr=72/25.4;break;case"cm":Lr=72/2.54;break;case"in":Lr=72;break;case"px":Lr=ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lr=12;break;case"ex":Lr=6;break;default:if(typeof _e!="number")throw new Error("Invalid unit: "+_e);Lr=_e}var Dn=null;Sr(),sr();var il=function(ir){return De!==null?Dn.encryptor(ir,0):function(Tr){return Tr}},oo=xe.__private__.getPageInfo=xe.getPageInfo=function(ir){if(isNaN(ir)||ir%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ci[ir].objId,pageNumber:ir,pageContext:Ci[ir]}},zi=xe.__private__.getPageInfoByObjId=function(ir){if(isNaN(ir)||ir%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Tr in Ci)if(Ci[Tr].objId===ir)break;return oo(Tr)},nl=xe.__private__.getCurrentPageInfo=xe.getCurrentPageInfo=function(){return{objId:Ci[Ze].objId,pageNumber:Ze,pageContext:Ci[Ze]}};xe.addPage=function(){return io.apply(this,arguments),this},xe.setPage=function(){return no.apply(this,arguments),rr.call(this,Ar[Ze]),this},xe.insertPage=function(ir){return this.addPage(),this.movePage(Ze,ir),this},xe.movePage=function(ir,Tr){var Ur,Wr;if(ir>Tr){Ur=Ar[ir],Wr=Ci[ir];for(var Zr=ir;Zr>Tr;Zr--)Ar[Zr]=Ar[Zr-1],Ci[Zr]=Ci[Zr-1];Ar[Tr]=Ur,Ci[Tr]=Wr,this.setPage(Tr)}else if(ir<Tr){Ur=Ar[ir],Wr=Ci[ir];for(var li=ir;li<Tr;li++)Ar[li]=Ar[li+1],Ci[li]=Ci[li+1];Ar[Tr]=Ur,Ci[Tr]=Wr,this.setPage(Tr)}return this},xe.deletePage=function(){return Jo.apply(this,arguments),this},xe.__private__.text=xe.text=function(ir,Tr,Ur,Wr,Zr){var li,bi,Fi,Ni,Hi,$i,Ki,pn,gn,yn=(Wr=Wr||{}).scope||this;if(typeof ir=="number"&&typeof Tr=="number"&&(typeof Ur=="string"||Array.isArray(Ur))){var Fn=Ur;Ur=Tr,Tr=ir,ir=Fn}if(arguments[3]instanceof hi?(Ue("The transform parameter of text() with a Matrix value"),gn=Zr):(Fi=arguments[4],Ni=arguments[5],_typeof(Ki=arguments[3])==="object"&&Ki!==null||(typeof Fi=="string"&&(Ni=Fi,Fi=null),typeof Ki=="string"&&(Ni=Ki,Ki=null),typeof Ki=="number"&&(Fi=Ki,Ki=null),Wr={flags:Ki,angle:Fi,align:Ni})),isNaN(Tr)||isNaN(Ur)||ir==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ir.length===0)return yn;var xn="",Kn=!1,Bn=typeof Wr.lineHeightFactor=="number"?Wr.lineHeightFactor:Vs,ps=yn.internal.scaleFactor;function vo(un){return un=un.split("	").join(Array(Wr.TabLen||9).join(" ")),Ln(un,Ki)}function Ra(un){for(var fn,_n=un.concat(),Cn=[],_s=_n.length;_s--;)typeof(fn=_n.shift())=="string"?Cn.push(fn):Array.isArray(un)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?Cn.push(fn[0]):Cn.push([fn[0],fn[1],fn[2]]);return Cn}function Ia(un,fn){var _n;if(typeof un=="string")_n=fn(un)[0];else if(Array.isArray(un)){for(var Cn,_s,Ds=un.concat(),ua=[],yo=Ds.length;yo--;)typeof(Cn=Ds.shift())=="string"?ua.push(fn(Cn)[0]):Array.isArray(Cn)&&typeof Cn[0]=="string"&&(_s=fn(Cn[0],Cn[1],Cn[2]),ua.push([_s[0],_s[1],_s[2]]));_n=ua}return _n}var ia=!1,Na=!0;if(typeof ir=="string")ia=!0;else if(Array.isArray(ir)){var Ba=ir.concat();bi=[];for(var na,On=Ba.length;On--;)(typeof(na=Ba.shift())!="string"||Array.isArray(na)&&typeof na[0]!="string")&&(Na=!1);ia=Na}if(ia===!1)throw new Error('Type of text must be string or Array. "'+ir+'" is not recognized.');typeof ir=="string"&&(ir=ir.match(/[\r?\n]/)?ir.split(/\r\n|\r|\n/g):[ir]);var sa=Or/yn.internal.scaleFactor,aa=sa*(Bn-1);switch(Wr.baseline){case"bottom":Ur-=aa;break;case"top":Ur+=sa-aa;break;case"hanging":Ur+=sa-2*aa;break;case"middle":Ur+=sa/2-aa}if(($i=Wr.maxWidth||0)>0&&(typeof ir=="string"?ir=yn.splitTextToSize(ir,$i):Object.prototype.toString.call(ir)==="[object Array]"&&(ir=ir.reduce(function(un,fn){return un.concat(yn.splitTextToSize(fn,$i))},[]))),li={text:ir,x:Tr,y:Ur,options:Wr,mutex:{pdfEscape:Ln,activeFontKey:di,fonts:vi,activeFontSize:Or}},wi.publish("preProcessText",li),ir=li.text,Fi=(Wr=li.options).angle,!(gn instanceof hi)&&Fi&&typeof Fi=="number"){Fi*=Math.PI/180,Wr.rotationDirection===0&&(Fi=-Fi),je===Be.ADVANCED&&(Fi=-Fi);var oa=Math.cos(Fi),ja=Math.sin(Fi);gn=new hi(oa,ja,-ja,oa,0,0)}else Fi&&Fi instanceof hi&&(gn=Fi);je!==Be.ADVANCED||gn||(gn=ji),(Hi=Wr.charSpace||ea)!==void 0&&(xn+=$e(St(Hi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=Wr.horizontalScale)!==void 0&&(xn+=$e(100*pn)+` Tz
`),Wr.lang;var Rn=-1,gl=Wr.renderingMode!==void 0?Wr.renderingMode:Wr.stroke,Va=yn.internal.getCurrentPageInfo().pageContext;switch(gl){case 0:case!1:case"fill":Rn=0;break;case 1:case!0:case"stroke":Rn=1;break;case 2:case"fillThenStroke":Rn=2;break;case 3:case"invisible":Rn=3;break;case 4:case"fillAndAddForClipping":Rn=4;break;case 5:case"strokeAndAddPathForClipping":Rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rn=6;break;case 7:case"addToPathForClipping":Rn=7}var _o=Va.usedRenderingMode!==void 0?Va.usedRenderingMode:-1;Rn!==-1?xn+=Rn+` Tr
`:_o!==-1&&(xn+=`0 Tr
`),Rn!==-1&&(Va.usedRenderingMode=Rn),Ni=Wr.align||"left";var Jn,za=Or*Bn,ml=yn.internal.pageSize.getWidth(),vl=vi[di];Hi=Wr.charSpace||ea,$i=Wr.maxWidth||0,Ki=Object.assign({autoencode:!0,noBOM:!0},Wr.flags);var Es=[];if(Object.prototype.toString.call(ir)==="[object Array]"){var Hn;bi=Ra(ir),Ni!=="left"&&(Jn=bi.map(function(un){return yn.getStringUnitWidth(un,{font:vl,charSpace:Hi,fontSize:Or,doKerning:!1})*Or/ps}));var Qn,Ts=0;if(Ni==="right"){Tr-=Jn[0],ir=[],On=bi.length;for(var as=0;as<On;as++)as===0?(Qn=ds(Tr),Hn=Cs(Ur)):(Qn=St(Ts-Jn[as]),Hn=-za),ir.push([bi[as],Qn,Hn]),Ts=Jn[as]}else if(Ni==="center"){Tr-=Jn[0]/2,ir=[],On=bi.length;for(var gs=0;gs<On;gs++)gs===0?(Qn=ds(Tr),Hn=Cs(Ur)):(Qn=St((Ts-Jn[gs])/2),Hn=-za),ir.push([bi[gs],Qn,Hn]),Ts=Jn[gs]}else if(Ni==="left"){ir=[],On=bi.length;for(var la=0;la<On;la++)ir.push(bi[la])}else{if(Ni!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');ir=[],On=bi.length,$i=$i!==0?$i:ml;for(var Zn=0;Zn<On;Zn++)Hn=Zn===0?Cs(Ur):-za,Qn=Zn===0?ds(Tr):0,Zn<On-1?Es.push($e(St(($i-Jn[Zn])/(bi[Zn].split(" ").length-1)))):Es.push(0),ir.push([bi[Zn],Qn,Hn])}}var ha=typeof Wr.R2L=="boolean"?Wr.R2L:Ir;ha===!0&&(ir=Ia(ir,function(un,fn,_n){return[un.split("").reverse().join(""),fn,_n]})),li={text:ir,x:Tr,y:Ur,options:Wr,mutex:{pdfEscape:Ln,activeFontKey:di,fonts:vi,activeFontSize:Or}},wi.publish("postProcessText",li),ir=li.text,Kn=li.mutex.isHex||!1;var Ha=vi[di].encoding;Ha!=="WinAnsiEncoding"&&Ha!=="StandardEncoding"||(ir=Ia(ir,function(un,fn,_n){return[vo(un),fn,_n]})),bi=Ra(ir),ir=[];for(var Ps,es,ms,Us=0,ca=1,$s=Array.isArray(bi[0])?ca:Us,ks="",Ua=function(un,fn,_n){var Cn="";return _n instanceof hi?(_n=typeof Wr.angle=="number"?xi(_n,new hi(1,0,0,1,un,fn)):xi(new hi(1,0,0,1,un,fn),_n),je===Be.ADVANCED&&(_n=xi(new hi(1,0,0,-1,0,0),_n)),Cn=_n.join(" ")+` Tm
`):Cn=$e(un)+" "+$e(fn)+` Td
`,Cn},Un=0;Un<bi.length;Un++){switch(ks="",$s){case ca:ms=(Kn?"<":"(")+bi[Un][0]+(Kn?">":")"),Ps=parseFloat(bi[Un][1]),es=parseFloat(bi[Un][2]);break;case Us:ms=(Kn?"<":"(")+bi[Un]+(Kn?">":")"),Ps=ds(Tr),es=Cs(Ur)}Es!==void 0&&Es[Un]!==void 0&&(ks=Es[Un]+` Tw
`),Un===0?ir.push(ks+Ua(Ps,es,gn)+ms):$s===Us?ir.push(ks+ms):$s===ca&&ir.push(ks+Ua(Ps,es,gn)+ms)}ir=$s===Us?ir.join(` Tj
T* `):ir.join(` Tj
`),ir+=` Tj
`;var vs=`BT
/`;return vs+=di+" "+Or+` Tf
`,vs+=$e(Or*Bn)+` TL
`,vs+=zs+`
`,vs+=xn,vs+=ir,er(vs+="ET"),Pe[di]=!0,yn};var sl=xe.__private__.clip=xe.clip=function(ir){return er(ir==="evenodd"?"W*":"W"),this};xe.clipEvenOdd=function(){return sl("evenodd")},xe.__private__.discardPath=xe.discardPath=function(){return er("n"),this};var ss=xe.__private__.isValidStyle=function(ir){var Tr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ir)!==-1&&(Tr=!0),Tr};xe.__private__.setDefaultPathOperation=xe.setDefaultPathOperation=function(ir){return ss(ir)&&(Te=ir),this};var lo=xe.__private__.getStyle=xe.getStyle=function(ir){var Tr=Te;switch(ir){case"D":case"S":Tr="S";break;case"F":Tr="f";break;case"FD":case"DF":Tr="B";break;case"f":case"f*":case"B":case"B*":Tr=ir}return Tr},ho=xe.close=function(){return er("h"),this};xe.stroke=function(){return er("S"),this},xe.fill=function(ir){return Qs("f",ir),this},xe.fillEvenOdd=function(ir){return Qs("f*",ir),this},xe.fillStroke=function(ir){return Qs("B",ir),this},xe.fillStrokeEvenOdd=function(ir){return Qs("B*",ir),this};var Qs=function(ir,Tr){_typeof(Tr)==="object"?ol(Tr,ir):er(ir)},xa=function(ir){ir===null||je===Be.ADVANCED&&ir===void 0||(ir=lo(ir),er(ir))};function al(ir,Tr,Ur,Wr,Zr){var li=new M(Tr||this.boundingBox,Ur||this.xStep,Wr||this.yStep,this.gState,Zr||this.matrix);li.stream=this.stream;var bi=ir+"$$"+this.cloneIndex+++"$$";return Li(bi,li),li}var ol=function(ir,Tr){var Ur=Ai[ir.key],Wr=fi[Ur];if(Wr instanceof B)er("q"),er(ll(Tr)),Wr.gState&&xe.setGState(Wr.gState),er(ir.matrix.toString()+" cm"),er("/"+Ur+" sh"),er("Q");else if(Wr instanceof M){var Zr=new hi(1,0,0,-1,0,xs());ir.matrix&&(Zr=Zr.multiply(ir.matrix||ji),Ur=al.call(Wr,ir.key,ir.boundingBox,ir.xStep,ir.yStep,Zr).id),er("q"),er("/Pattern cs"),er("/"+Ur+" scn"),Wr.gState&&xe.setGState(Wr.gState),er(Tr),er("Q")}},ll=function(ir){switch(ir){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ea=xe.moveTo=function(ir,Tr){return er($e(St(ir))+" "+$e(pr(Tr))+" m"),this},js=xe.lineTo=function(ir,Tr){return er($e(St(ir))+" "+$e(pr(Tr))+" l"),this},ws=xe.curveTo=function(ir,Tr,Ur,Wr,Zr,li){return er([$e(St(ir)),$e(pr(Tr)),$e(St(Ur)),$e(pr(Wr)),$e(St(Zr)),$e(pr(li)),"c"].join(" ")),this};xe.__private__.line=xe.line=function(ir,Tr,Ur,Wr,Zr){if(isNaN(ir)||isNaN(Tr)||isNaN(Ur)||isNaN(Wr)||!ss(Zr))throw new Error("Invalid arguments passed to jsPDF.line");return je===Be.COMPAT?this.lines([[Ur-ir,Wr-Tr]],ir,Tr,[1,1],Zr||"S"):this.lines([[Ur-ir,Wr-Tr]],ir,Tr,[1,1]).stroke()},xe.__private__.lines=xe.lines=function(ir,Tr,Ur,Wr,Zr,li){var bi,Fi,Ni,Hi,$i,Ki,pn,gn,yn,Fn,xn,Kn;if(typeof ir=="number"&&(Kn=Ur,Ur=Tr,Tr=ir,ir=Kn),Wr=Wr||[1,1],li=li||!1,isNaN(Tr)||isNaN(Ur)||!Array.isArray(ir)||!Array.isArray(Wr)||!ss(Zr)||typeof li!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ea(Tr,Ur),bi=Wr[0],Fi=Wr[1],Hi=ir.length,Fn=Tr,xn=Ur,Ni=0;Ni<Hi;Ni++)($i=ir[Ni]).length===2?(Fn=$i[0]*bi+Fn,xn=$i[1]*Fi+xn,js(Fn,xn)):(Ki=$i[0]*bi+Fn,pn=$i[1]*Fi+xn,gn=$i[2]*bi+Fn,yn=$i[3]*Fi+xn,Fn=$i[4]*bi+Fn,xn=$i[5]*Fi+xn,ws(Ki,pn,gn,yn,Fn,xn));return li&&ho(),xa(Zr),this},xe.path=function(ir){for(var Tr=0;Tr<ir.length;Tr++){var Ur=ir[Tr],Wr=Ur.c;switch(Ur.op){case"m":Ea(Wr[0],Wr[1]);break;case"l":js(Wr[0],Wr[1]);break;case"c":ws.apply(this,Wr);break;case"h":ho()}}return this},xe.__private__.rect=xe.rect=function(ir,Tr,Ur,Wr,Zr){if(isNaN(ir)||isNaN(Tr)||isNaN(Ur)||isNaN(Wr)||!ss(Zr))throw new Error("Invalid arguments passed to jsPDF.rect");return je===Be.COMPAT&&(Wr=-Wr),er([$e(St(ir)),$e(pr(Tr)),$e(St(Ur)),$e(St(Wr)),"re"].join(" ")),xa(Zr),this},xe.__private__.triangle=xe.triangle=function(ir,Tr,Ur,Wr,Zr,li,bi){if(isNaN(ir)||isNaN(Tr)||isNaN(Ur)||isNaN(Wr)||isNaN(Zr)||isNaN(li)||!ss(bi))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ur-ir,Wr-Tr],[Zr-Ur,li-Wr],[ir-Zr,Tr-li]],ir,Tr,[1,1],bi,!0),this},xe.__private__.roundedRect=xe.roundedRect=function(ir,Tr,Ur,Wr,Zr,li,bi){if(isNaN(ir)||isNaN(Tr)||isNaN(Ur)||isNaN(Wr)||isNaN(Zr)||isNaN(li)||!ss(bi))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fi=4/3*(Math.SQRT2-1);return Zr=Math.min(Zr,.5*Ur),li=Math.min(li,.5*Wr),this.lines([[Ur-2*Zr,0],[Zr*Fi,0,Zr,li-li*Fi,Zr,li],[0,Wr-2*li],[0,li*Fi,-Zr*Fi,li,-Zr,li],[2*Zr-Ur,0],[-Zr*Fi,0,-Zr,-li*Fi,-Zr,-li],[0,2*li-Wr],[0,-li*Fi,Zr*Fi,-li,Zr,-li]],ir+Zr,Tr,[1,1],bi,!0),this},xe.__private__.ellipse=xe.ellipse=function(ir,Tr,Ur,Wr,Zr){if(isNaN(ir)||isNaN(Tr)||isNaN(Ur)||isNaN(Wr)||!ss(Zr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var li=4/3*(Math.SQRT2-1)*Ur,bi=4/3*(Math.SQRT2-1)*Wr;return Ea(ir+Ur,Tr),ws(ir+Ur,Tr-bi,ir+li,Tr-Wr,ir,Tr-Wr),ws(ir-li,Tr-Wr,ir-Ur,Tr-bi,ir-Ur,Tr),ws(ir-Ur,Tr+bi,ir-li,Tr+Wr,ir,Tr+Wr),ws(ir+li,Tr+Wr,ir+Ur,Tr+bi,ir+Ur,Tr),xa(Zr),this},xe.__private__.circle=xe.circle=function(ir,Tr,Ur,Wr){if(isNaN(ir)||isNaN(Tr)||isNaN(Ur)||!ss(Wr))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ir,Tr,Ur,Ur,Wr)},xe.setFont=function(ir,Tr,Ur){return Ur&&(Tr=He(Tr,Ur)),di=so(ir,Tr,{disableWarning:!1}),this};var hl=xe.__private__.getFont=xe.getFont=function(){return vi[so.apply(xe,arguments)]};xe.__private__.getFontList=xe.getFontList=function(){var ir,Tr,Ur={};for(ir in qr)if(qr.hasOwnProperty(ir))for(Tr in Ur[ir]=[],qr[ir])qr[ir].hasOwnProperty(Tr)&&Ur[ir].push(Tr);return Ur},xe.addFont=function(ir,Tr,Ur,Wr,Zr){var li=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&li.indexOf(arguments[3])!==-1?Zr=arguments[3]:arguments[3]&&li.indexOf(arguments[3])==-1&&(Ur=He(Ur,Wr)),Zr=Zr||"Identity-H",wa.call(this,ir,Tr,Ur,Zr)};var Vs,Ta=t.lineWidth||.200025,Zs=xe.__private__.getLineWidth=xe.getLineWidth=function(){return Ta},co=xe.__private__.setLineWidth=xe.setLineWidth=function(ir){return Ta=ir,er($e(St(ir))+" w"),this};xe.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(ir,Tr){if(ir=ir||[],Tr=Tr||0,isNaN(Tr)||!Array.isArray(ir))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ir=ir.map(function(Ur){return $e(St(Ur))}).join(" "),Tr=$e(St(Tr)),er("["+ir+"] "+Tr+" d"),this};var uo=xe.__private__.getLineHeight=xe.getLineHeight=function(){return Or*Vs};xe.__private__.getLineHeight=xe.getLineHeight=function(){return Or*Vs};var fo=xe.__private__.setLineHeightFactor=xe.setLineHeightFactor=function(ir){return typeof(ir=ir||1.15)=="number"&&(Vs=ir),this},po=xe.__private__.getLineHeightFactor=xe.getLineHeightFactor=function(){return Vs};fo(t.lineHeight);var ds=xe.__private__.getHorizontalCoordinate=function(ir){return St(ir)},Cs=xe.__private__.getVerticalCoordinate=function(ir){return je===Be.ADVANCED?ir:Ci[Ze].mediaBox.topRightY-Ci[Ze].mediaBox.bottomLeftY-St(ir)},cl=xe.__private__.getHorizontalCoordinateString=xe.getHorizontalCoordinateString=function(ir){return $e(ds(ir))},As=xe.__private__.getVerticalCoordinateString=xe.getVerticalCoordinateString=function(ir){return $e(Cs(ir))},Yn=t.strokeColor||"0 G";xe.__private__.getStrokeColor=xe.getDrawColor=function(){return Gi(Yn)},xe.__private__.setStrokeColor=xe.setDrawColor=function(ir,Tr,Ur,Wr){return Yn=Wi({ch1:ir,ch2:Tr,ch3:Ur,ch4:Wr,pdfColorType:"draw",precision:2}),er(Yn),this};var Pa=t.fillColor||"0 g";xe.__private__.getFillColor=xe.getFillColor=function(){return Gi(Pa)},xe.__private__.setFillColor=xe.setFillColor=function(ir,Tr,Ur,Wr){return Pa=Wi({ch1:ir,ch2:Tr,ch3:Ur,ch4:Wr,pdfColorType:"fill",precision:2}),er(Pa),this};var zs=t.textColor||"0 g",ul=xe.__private__.getTextColor=xe.getTextColor=function(){return Gi(zs)};xe.__private__.setTextColor=xe.setTextColor=function(ir,Tr,Ur,Wr){return zs=Wi({ch1:ir,ch2:Tr,ch3:Ur,ch4:Wr,pdfColorType:"text",precision:3}),this};var ea=t.charSpace,dl=xe.__private__.getCharSpace=xe.getCharSpace=function(){return parseFloat(ea||0)};xe.__private__.setCharSpace=xe.setCharSpace=function(ir){if(isNaN(ir))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ea=ir,this};var ka=0;xe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},xe.__private__.setLineCap=xe.setLineCap=function(ir){var Tr=xe.CapJoinStyles[ir];if(Tr===void 0)throw new Error("Line cap style of '"+ir+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ka=Tr,er(Tr+" J"),this};var Da=0;xe.__private__.setLineJoin=xe.setLineJoin=function(ir){var Tr=xe.CapJoinStyles[ir];if(Tr===void 0)throw new Error("Line join style of '"+ir+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Da=Tr,er(Tr+" j"),this},xe.__private__.setLineMiterLimit=xe.__private__.setMiterLimit=xe.setLineMiterLimit=xe.setMiterLimit=function(ir){if(ir=ir||0,isNaN(ir))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return er($e(St(ir))+" M"),this},xe.GState=j,xe.setGState=function(ir){(ir=typeof ir=="string"?Di[Oi[ir]]:go(null,ir)).equals(Ri)||(er("/"+ir.id+" gs"),Ri=ir)};var go=function(ir,Tr){if(!ir||!Oi[ir]){var Ur=!1;for(var Wr in Di)if(Di.hasOwnProperty(Wr)&&Di[Wr].equals(Tr)){Ur=!0;break}if(Ur)Tr=Di[Wr];else{var Zr="GS"+(Object.keys(Di).length+1).toString(10);Di[Zr]=Tr,Tr.id=Zr}return ir&&(Oi[ir]=Tr.id),wi.publish("addGState",Tr),Tr}};xe.addGState=function(ir,Tr){return go(ir,Tr),this},xe.saveGraphicsState=function(){return er("q"),ni.push({key:di,size:Or,color:zs}),this},xe.restoreGraphicsState=function(){er("Q");var ir=ni.pop();return di=ir.key,Or=ir.size,zs=ir.color,Ri=null,this},xe.setCurrentTransformationMatrix=function(ir){return er(ir.toString()+" cm"),this},xe.comment=function(ir){return er("#"+ir),this};var ta=function(ir,Tr){var Ur=ir||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ur},set:function(li){isNaN(li)||(Ur=parseFloat(li))}});var Wr=Tr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Wr},set:function(li){isNaN(li)||(Wr=parseFloat(li))}});var Zr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Zr},set:function(li){Zr=li.toString()}}),this},Fa=function(ir,Tr,Ur,Wr){ta.call(this,ir,Tr),this.type="rect";var Zr=Ur||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Zr},set:function(bi){isNaN(bi)||(Zr=parseFloat(bi))}});var li=Wr||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return li},set:function(bi){isNaN(bi)||(li=parseFloat(bi))}}),this},Ma=function(){this.page=ki,this.currentPage=Ze,this.pages=Ar.slice(0),this.pagesContext=Ci.slice(0),this.x=Hr,this.y=jr,this.matrix=ci,this.width=Hs(Ze),this.height=xs(Ze),this.outputDestination=ar,this.id="",this.objectNumber=-1};Ma.prototype.restore=function(){ki=this.page,Ze=this.currentPage,Ci=this.pagesContext,Ar=this.pages,Hr=this.x,jr=this.y,ci=this.matrix,La(Ze,this.width),Oa(Ze,this.height),ar=this.outputDestination};var mo=function(ir,Tr,Ur,Wr,Zr){Si.push(new Ma),ki=Ze=0,Ar=[],Hr=ir,jr=Tr,ci=Zr,Ca([Ur,Wr])},pl=function(ir){if(si[ir])Si.pop().restore();else{var Tr=new Ma,Ur="Xo"+(Object.keys(Ti).length+1).toString(10);Tr.id=Ur,si[ir]=Ur,Ti[Ur]=Tr,wi.publish("addFormObject",Tr),Si.pop().restore()}};for(var ra in xe.beginFormObject=function(ir,Tr,Ur,Wr,Zr){return mo(ir,Tr,Ur,Wr,Zr),this},xe.endFormObject=function(ir){return pl(ir),this},xe.doFormObject=function(ir,Tr){var Ur=Ti[si[ir]];return er("q"),er(Tr.toString()+" cm"),er("/"+Ur.id+" Do"),er("Q"),this},xe.getFormObject=function(ir){var Tr=Ti[si[ir]];return{x:Tr.x,y:Tr.y,width:Tr.width,height:Tr.height,matrix:Tr.matrix}},xe.save=function(ir,Tr){return ir=ir||"generated.pdf",(Tr=Tr||{}).returnPromise=Tr.returnPromise||!1,Tr.returnPromise===!1?(l(Ks(fs()),ir),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Ur,Wr){try{var Zr=l(Ks(fs()),ir);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Ur(Zr)}catch(li){Wr(li.message)}})},E.API)E.API.hasOwnProperty(ra)&&(ra==="events"&&E.API.events.length?function(ir,Tr){var Ur,Wr,Zr;for(Zr=Tr.length-1;Zr!==-1;Zr--)Ur=Tr[Zr][0],Wr=Tr[Zr][1],ir.subscribe.apply(ir,[Ur].concat(typeof Wr=="function"?[Wr]:Wr))}(wi,E.API.events):xe[ra]=E.API[ra]);var Hs=xe.getPageWidth=function(ir){return(Ci[ir=ir||Ze].mediaBox.topRightX-Ci[ir].mediaBox.bottomLeftX)/Lr},La=xe.setPageWidth=function(ir,Tr){Ci[ir].mediaBox.topRightX=Tr*Lr+Ci[ir].mediaBox.bottomLeftX},xs=xe.getPageHeight=function(ir){return(Ci[ir=ir||Ze].mediaBox.topRightY-Ci[ir].mediaBox.bottomLeftY)/Lr},Oa=xe.setPageHeight=function(ir,Tr){Ci[ir].mediaBox.topRightY=Tr*Lr+Ci[ir].mediaBox.bottomLeftY};return xe.internal={pdfEscape:Ln,getStyle:lo,getFont:hl,getFontSize:Pr,getCharSpace:dl,getTextColor:ul,getLineHeight:uo,getLineHeightFactor:po,getLineWidth:Zs,write:ur,getHorizontalCoordinate:ds,getVerticalCoordinate:Cs,getCoordinateString:cl,getVerticalCoordinateString:As,collections:{},newObject:Ii,newAdditionalObject:qi,newObjectDeferred:Vi,newObjectDeferredBegin:tn,getFilters:Zi,putStream:wn,events:wi,scaleFactor:Lr,pageSize:{getWidth:function(){return Hs(Ze)},setWidth:function(ir){La(Ze,ir)},getHeight:function(){return xs(Ze)},setHeight:function(ir){Oa(Ze,ir)}},encryptionOptions:De,encryption:Dn,getEncryptor:il,output:Js,getNumberOfPages:Qo,pages:Ar,out:er,f2:nr,f3:Ge,getPageInfo:oo,getPageInfoByObjId:zi,getCurrentPageInfo:nl,getPDFVersion:Ie,Point:ta,Rectangle:Fa,Matrix:hi,hasHotfix:ao},Object.defineProperty(xe.internal.pageSize,"width",{get:function(){return Hs(Ze)},set:function(ir){La(Ze,ir)},enumerable:!0,configurable:!0}),Object.defineProperty(xe.internal.pageSize,"height",{get:function(){return xs(Ze)},set:function(ir){Oa(Ze,ir)},enumerable:!0,configurable:!0}),Ko.call(xe,wr),di="F1",io(Se,r),wi.publish("initialized"),xe}I.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},I.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(t,e){return P(x(e).substr(0,5),t)},I.prototype.encryptor=function(t,e){var r=x(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(_e){return P(r,_e)}},j.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||_typeof(t)!==_typeof(this))return!1;var _e=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;_e++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&_e--;return _e===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(t){return t.toFixed(2)},z=function(t){return t.toFixed(5)};q.__acroform__={};var H=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},W=function(t){return t*D},V=function(t){var e=new ut,r=At.internal.getHeight(t)||0,_e=At.internal.getWidth(t)||0;return e.BBox=[0,0,Number(U(_e)),Number(U(r))],e},G=q.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Y=q.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},J=q.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},X=q.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(t,e-1)},K=q.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(t,e-1)},Z=q.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(t,e-1)},$=q.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,_e=e.internal.getVerticalCoordinate,Se=t[0],Ae=t[1],Re=t[2],Ee=t[3],Ce={};return Ce.lowerLeft_X=r(Se)||0,Ce.lowerLeft_Y=_e(Ae+Ee)||0,Ce.upperRight_X=r(Se+Re)||0,Ce.upperRight_Y=_e(Ae)||0,[Number(U(Ce.lowerLeft_X)),Number(U(Ce.lowerLeft_Y)),Number(U(Ce.upperRight_X)),Number(U(Ce.upperRight_Y))]},Q=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,_e=tt(t,r),Se=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+Se+" "+U(_e.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(_e.text),e.push("ET"),e.push("Q"),e.push("EMC");var Ae=V(t);return Ae.scope=t.scope,Ae.stream=e.join(`
`),Ae}},tt=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,_e={text:"",fontSize:""},Se=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");Se=t.multiline?Se.map(function(Ge){return Ge.split(`
`)}):Se.map(function(Ge){return[Ge]});var Ae=r,Re=At.internal.getHeight(t)||0;Re=Re<0?-Re:Re;var Ee=At.internal.getWidth(t)||0;Ee=Ee<0?-Ee:Ee;var Ce=function(Ge,St,mr){if(Ge+1<Se.length){var pr=St+" "+Se[Ge+1][0];return et(pr,t,mr).width<=Ee-4}return!1};Ae++;e:for(;Ae>0;){e="",Ae--;var Te,De,ke=et("3",t,Ae).height,Pe=t.multiline?Re-Ae:(Re-ke)/2,xe=Pe+=2,Fe=0,Ie=0,Me=0;if(Ae<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,t,Ae=12).width+", FieldWidth:"+Ee+`
`;break}for(var Oe="",Be=0,je=0;je<Se.length;je++)if(Se.hasOwnProperty(je)){var Ve=!1;if(Se[je].length!==1&&Me!==Se[je].length-1){if((ke+2)*(Be+2)+2>Re)continue e;Oe+=Se[je][Me],Ve=!0,Ie=je,je--}else{Oe=(Oe+=Se[je][Me]+" ").substr(Oe.length-1)==" "?Oe.substr(0,Oe.length-1):Oe;var ze=parseInt(je),He=Ce(ze,Oe,Ae),$e=je>=Se.length-1;if(He&&!$e){Oe+=" ",Me=0;continue}if(He||$e){if($e)Ie=ze;else if(t.multiline&&(ke+2)*(Be+2)+2>Re)continue e}else{if(!t.multiline||(ke+2)*(Be+2)+2>Re)continue e;Ie=ze}}for(var Ue="",Xe=Fe;Xe<=Ie;Xe++){var nr=Se[Xe];if(t.multiline){if(Xe===Ie){Ue+=nr[Me]+" ",Me=(Me+1)%nr.length;continue}if(Xe===Fe){Ue+=nr[nr.length-1]+" ";continue}}Ue+=nr[0]+" "}switch(Ue=Ue.substr(Ue.length-1)==" "?Ue.substr(0,Ue.length-1):Ue,De=et(Ue,t,Ae).width,t.textAlign){case"right":Te=Ee-De-2;break;case"center":Te=(Ee-De)/2;break;case"left":default:Te=2}e+=U(Te)+" "+U(xe)+` Td
`,e+="("+R(Ue)+`) Tj
`,e+=-U(Te)+` 0 Td
`,xe=-(Ae+2),De=0,Fe=Ve?Ie:Ie+1,Be++,Oe=""}break}return _e.text=e,_e.fontSize=Ae,_e},et=function(t,e,r){var _e=e.scope.internal.getFont(e.fontName,e.fontStyle),Se=e.scope.getStringUnitWidth(t,{font:_e,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:_e,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:Se}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(_e){return _e.type===r.type&&_e.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},it=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var _e=r,Se=t[r];e.internal.newObjectDeferredBegin(Se.objId,!0),_typeof(Se)==="object"&&typeof Se.putStream=="function"&&Se.putStream(),delete t[_e]}},at=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ht,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _e=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Se in _e)if(_e.hasOwnProperty(Se)){var Ae=_e[Se];Ae.objId=void 0,Ae.hasAnnotation&&nt(Ae,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(_e,Se){var Ae=!_e;for(var Re in _e||(Se.internal.newObjectDeferredBegin(Se.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Se.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_e=_e||Se.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_e.hasOwnProperty(Re)){var Ee=_e[Re],Ce=[],Te=Ee.Rect;if(Ee.Rect&&(Ee.Rect=$(Ee.Rect,Se)),Se.internal.newObjectDeferredBegin(Ee.objId,!0),Ee.DA=At.createDefaultAppearanceStream(Ee),_typeof(Ee)==="object"&&typeof Ee.getKeyValueListForStream=="function"&&(Ce=Ee.getKeyValueListForStream()),Ee.Rect=Te,Ee.hasAppearanceStream&&!Ee.appearanceStreamContent){var De=Q(Ee);Ce.push({key:"AP",value:"<</N "+De+">>"}),Se.internal.acroformPlugin.xForms.push(De)}if(Ee.appearanceStreamContent){var ke="";for(var Pe in Ee.appearanceStreamContent)if(Ee.appearanceStreamContent.hasOwnProperty(Pe)){var xe=Ee.appearanceStreamContent[Pe];if(ke+="/"+Pe+" ",ke+="<<",Object.keys(xe).length>=1||Array.isArray(xe)){for(var Re in xe)if(xe.hasOwnProperty(Re)){var Fe=xe[Re];typeof Fe=="function"&&(Fe=Fe.call(Se,Ee)),ke+="/"+Re+" "+Fe+" ",Se.internal.acroformPlugin.xForms.indexOf(Fe)>=0||Se.internal.acroformPlugin.xForms.push(Fe)}}else typeof(Fe=xe)=="function"&&(Fe=Fe.call(Se,Ee)),ke+="/"+Re+" "+Fe,Se.internal.acroformPlugin.xForms.indexOf(Fe)>=0||Se.internal.acroformPlugin.xForms.push(Fe);ke+=">>"}Ce.push({key:"AP",value:`<<
`+ke+">>"})}Se.internal.putStream({additionalKeyValues:Ce,objectId:Ee.objId}),Se.internal.out("endobj")}Ae&&it(Se.internal.acroformPlugin.xForms,Se)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(t,e,r){var _e=function(Re){return Re};if(Array.isArray(t)){for(var Se="[",Ae=0;Ae<t.length;Ae++)switch(Ae!==0&&(Se+=" "),_typeof(t[Ae])){case"boolean":case"number":case"object":Se+=t[Ae].toString();break;case"string":t[Ae].substr(0,1)!=="/"?(e!==void 0&&r&&(_e=r.internal.getEncryptor(e)),Se+="("+R(_e(t[Ae].toString()))+")"):Se+=t[Ae].toString()}return Se+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(t,e,r){var _e=function(Se){return Se};return e!==void 0&&r&&(_e=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+R(_e(t))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(Ae){return Ae!="content"&&Ae!="appearanceStreamContent"&&Ae!="scope"&&Ae!="objId"&&Ae.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var _e=e[r],Se=this[_e];Se&&(Array.isArray(Se)?t.push({key:_e,value:ot(Se,this.objId,this.scope)}):Se instanceof ct?(Se.scope=this.scope,t.push({key:_e,value:Se.objId+" 0 R"})):typeof Se!="function"&&t.push({key:_e,value:Se}))}return t};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};H(ut,ct);var ht=function(){ct.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(_e){return _e};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+R(r(t))+")"}},set:function(r){t=r}})};H(ht,ct);var lt=function t(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Oe){if(isNaN(Oe))throw new Error('Invalid value "'+Oe+'" for attribute F supplied.');e=Oe}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(e,3))},set:function(Oe){Boolean(Oe)===!0?this.F=K(e,3):this.F=Z(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Oe){if(isNaN(Oe))throw new Error('Invalid value "'+Oe+'" for attribute Ff supplied.');r=Oe}});var _e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_e.length!==0)return _e},set:function(Oe){_e=Oe!==void 0?Oe:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[0])?0:_e[0]},set:function(Oe){_e[0]=Oe}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[1])?0:_e[1]},set:function(Oe){_e[1]=Oe}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[2])?0:_e[2]},set:function(Oe){_e[2]=Oe}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[3])?0:_e[3]},set:function(Oe){_e[3]=Oe}});var Se="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Se},set:function(Oe){switch(Oe){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Se=Oe;break;default:throw new Error('Invalid value "'+Oe+'" for attribute FT supplied.')}}});var Ae=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Ae||Ae.length<1){if(this instanceof yt)return;Ae="FieldObject"+t.FieldNum++}var Oe=function(Be){return Be};return this.scope&&(Oe=this.scope.internal.getEncryptor(this.objId)),"("+R(Oe(Ae))+")"},set:function(Oe){Ae=Oe.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Ae},set:function(Oe){Ae=Oe}});var Re="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Oe){Re=Oe}});var Ee="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Ee},set:function(Oe){Ee=Oe}});var Ce=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Oe){Ce=Oe}});var Te=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Te===void 0?50/D:Te},set:function(Oe){Te=Oe}});var De="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return De},set:function(Oe){De=Oe}});var ke="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ke||this instanceof yt||this instanceof Nt))return st(ke,this.objId,this.scope)},set:function(Oe){Oe=Oe.toString(),ke=Oe}});var Pe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Pe)return this instanceof mt?Pe:st(Pe,this.objId,this.scope)},set:function(Oe){Oe=Oe.toString(),Pe=this instanceof mt?Oe:Oe.substr(0,1)==="("?T(Oe.substr(1,Oe.length-2)):T(Oe)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Pe.substr(1,Pe.length-1)):Pe},set:function(Oe){Oe=Oe.toString(),Pe=this instanceof mt?"/"+Oe:Oe}});var xe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(xe)return xe},set:function(Oe){this.V=Oe}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof mt?xe:st(xe,this.objId,this.scope)},set:function(Oe){Oe=Oe.toString(),xe=this instanceof mt?Oe:Oe.substr(0,1)==="("?T(Oe.substr(1,Oe.length-2)):T(Oe)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(xe.substr(1,xe.length-1)):xe},set:function(Oe){Oe=Oe.toString(),xe=this instanceof mt?"/"+Oe:Oe}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Fe,Ie=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(Oe){Oe=Boolean(Oe),Ie=Oe}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Fe)return Fe},set:function(Oe){Fe=Oe}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(Oe){Boolean(Oe)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(Oe){Boolean(Oe)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(Oe){Boolean(Oe)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var Me=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Me!==null)return Me},set:function(Oe){if([0,1,2].indexOf(Oe)===-1)throw new Error('Invalid value "'+Oe+'" for attribute Q supplied.');Me=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){var Oe;switch(Me){case 0:default:Oe="left";break;case 1:Oe="center";break;case 2:Oe="right"}return Oe},configurable:!0,enumerable:!0,set:function(Oe){switch(Oe){case"right":case 2:Me=2;break;case"center":case 1:Me=1;break;case"left":case 0:default:Me=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(r){var _e,Se;Se=[],typeof(_e=r)=="string"&&(Se=function(Ae,Re,Ee){Ee||(Ee=1);for(var Ce,Te=[];Ce=Re.exec(Ae);)Te.push(Ce[Ee]);return Te}(_e,/\((.*?)\)/g)),e=Se}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,_e){for(_e=_e||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),_e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(r){this.combo===!0&&(Boolean(r)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(r){Boolean(r)===!0?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(r){Boolean(r)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(Ae){return Ae};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var _e,Se=[];for(_e in Se.push("<<"),e)Se.push("/"+_e+" ("+R(r(e[_e]))+")");return Se.push(">>"),Se.join(`
`)}},set:function(r){_typeof(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var t,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Se){t=Se}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(Se){e=Se}});var r,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Se=function(Ee){return Ee};this.scope&&(Se=this.scope.internal.getEncryptor(this.objId));var Ae,Re=[];for(Ae in Re.push("<<"),_e)Re.push("/"+Ae+" ("+R(Se(_e[Ae]))+")");return Re.push(">>"),Re.join(`
`)},set:function(Se){_typeof(Se)==="object"&&(_e=Se)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(Se){typeof Se=="string"&&(_e.CA=Se)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(Se){r=Se}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(Se){r="/"+Se}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},bt.prototype.createOption=function(t){var e=new yt;return e.Parent=this,e.optionName=t,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(t){Boolean(t)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,Se=t.scope.__private__.encodeColorString(t.color),Ae=tt(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+_e+" "+U(Ae.fontSize)+" Tf "+Se),r.push("BT"),r.push(Ae.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=V(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,_e=t.scope.__private__.encodeColorString(t.color),Se=[],Ae=At.internal.getHeight(t),Re=At.internal.getWidth(t),Ee=tt(t,t.caption);return Se.push("1 g"),Se.push("0 0 "+U(Re)+" "+U(Ae)+" re"),Se.push("f"),Se.push("q"),Se.push("0 0 1 rg"),Se.push("0 0 "+U(Re-1)+" "+U(Ae-1)+" re"),Se.push("W"),Se.push("n"),Se.push("0 g"),Se.push("BT"),Se.push("/"+r+" "+U(Ee.fontSize)+" Tf "+_e),Se.push(Ee.text),Se.push("ET"),Se.push("Q"),e.stream=Se.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Circle.YesNormal,e.D[t]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Se=At.internal.Bezier_C,Ae=Number((_e*Se).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(_e+" 0 m"),r.push(_e+" "+Ae+" "+Ae+" "+_e+" 0 "+_e+" c"),r.push("-"+Ae+" "+_e+" -"+_e+" "+Ae+" -"+_e+" 0 c"),r.push("-"+_e+" -"+Ae+" -"+Ae+" -"+_e+" 0 -"+_e+" c"),r.push(Ae+" -"+_e+" "+_e+" -"+Ae+" "+_e+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Se=Number((2*_e).toFixed(5)),Ae=Number((Se*At.internal.Bezier_C).toFixed(5)),Re=Number((_e*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(Se+" 0 m"),r.push(Se+" "+Ae+" "+Ae+" "+Se+" 0 "+Se+" c"),r.push("-"+Ae+" "+Se+" -"+Se+" "+Ae+" -"+Se+" 0 c"),r.push("-"+Se+" -"+Ae+" -"+Ae+" -"+Se+" 0 -"+Se+" c"),r.push(Ae+" -"+Se+" "+Se+" -"+Ae+" "+Se+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(_e+" 0 m"),r.push(_e+" "+Re+" "+Re+" "+_e+" 0 "+_e+" c"),r.push("-"+Re+" "+_e+" -"+_e+" "+Re+" -"+_e+" 0 c"),r.push("-"+_e+" -"+Re+" -"+Re+" -"+_e+" 0 -"+_e+" c"),r.push(Re+" -"+_e+" "+_e+" -"+Re+" "+_e+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Se=Number((2*_e).toFixed(5)),Ae=Number((Se*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),r.push(Se+" 0 m"),r.push(Se+" "+Ae+" "+Ae+" "+Se+" 0 "+Se+" c"),r.push("-"+Ae+" "+Se+" -"+Se+" "+Ae+" -"+Se+" 0 c"),r.push("-"+Se+" -"+Ae+" -"+Ae+" -"+Se+" 0 -"+Se+" c"),r.push(Ae+" -"+Se+" "+Se+" -"+Ae+" "+Se+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Cross.YesNormal,e.D[t]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=V(t);e.scope=t.scope;var r=[],_e=At.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+U(At.internal.getWidth(t)-2)+" "+U(At.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(U(_e.x1.x)+" "+U(_e.x1.y)+" m"),r.push(U(_e.x2.x)+" "+U(_e.x2.y)+" l"),r.push(U(_e.x4.x)+" "+U(_e.x4.y)+" m"),r.push(U(_e.x3.x)+" "+U(_e.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var r=At.internal.calculateCross(t),_e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),_e.push("f"),_e.push("q"),_e.push("1 1 "+U(At.internal.getWidth(t)-2)+" "+U(At.internal.getHeight(t)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U(r.x1.x)+" "+U(r.x1.y)+" m"),_e.push(U(r.x2.x)+" "+U(r.x2.y)+" l"),_e.push(U(r.x4.x)+" "+U(r.x4.y)+" m"),_e.push(U(r.x3.x)+" "+U(r.x3.y)+" l"),_e.push("s"),_e.push("Q"),e.stream=_e.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=At.internal.getWidth(t),r=At.internal.getHeight(t),_e=Math.min(e,r);return{x1:{x:(e-_e)/2,y:(r-_e)/2+_e},x2:{x:(e-_e)/2+_e,y:(r-_e)/2},x3:{x:(e-_e)/2,y:(r-_e)/2},x4:{x:(e-_e)/2+_e,y:(r-_e)/2+_e}}}},At.internal.getWidth=function(t){var e=0;return _typeof(t)==="object"&&(e=W(t.Rect[2])),e},At.internal.getHeight=function(t){var e=0;return _typeof(t)==="object"&&(e=W(t.Rect[3])),e};var xt=q.addField=function(t){if(at(this,t),!(t instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(t){return t.reduce(function(e,r,_e){return e[r]=_e,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_e=t.__addimage__.getImageFileTypeByImageData=function(Ge,St){var mr,pr,vr,dr,gr,sr=e;if((St=St||e)==="RGBA"||Ge.data!==void 0&&Ge.data instanceof Uint8ClampedArray&&"height"in Ge&&"width"in Ge)return"RGBA";if(He(Ge))for(gr in r)for(vr=r[gr],mr=0;mr<vr.length;mr+=1){for(dr=!0,pr=0;pr<vr[mr].length;pr+=1)if(vr[mr][pr]!==void 0&&vr[mr][pr]!==Ge[pr]){dr=!1;break}if(dr===!0){sr=gr;break}}else for(gr in r)for(vr=r[gr],mr=0;mr<vr.length;mr+=1){for(dr=!0,pr=0;pr<vr[mr].length;pr+=1)if(vr[mr][pr]!==void 0&&vr[mr][pr]!==Ge.charCodeAt(pr)){dr=!1;break}if(dr===!0){sr=gr;break}}return sr===e&&St!==e&&(sr=St),sr},Se=function Ge(St){for(var mr=this.internal.write,pr=this.internal.putStream,vr=(0,this.internal.getFilters)();vr.indexOf("FlateEncode")!==-1;)vr.splice(vr.indexOf("FlateEncode"),1);St.objectId=this.internal.newObject();var dr=[];if(dr.push({key:"Type",value:"/XObject"}),dr.push({key:"Subtype",value:"/Image"}),dr.push({key:"Width",value:St.width}),dr.push({key:"Height",value:St.height}),St.colorSpace===Me.INDEXED?dr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(St.palette.length/3-1)+" "+("sMask"in St&&St.sMask!==void 0?St.objectId+2:St.objectId+1)+" 0 R]"}):(dr.push({key:"ColorSpace",value:"/"+St.colorSpace}),St.colorSpace===Me.DEVICE_CMYK&&dr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),dr.push({key:"BitsPerComponent",value:St.bitsPerComponent}),"decodeParameters"in St&&St.decodeParameters!==void 0&&dr.push({key:"DecodeParms",value:"<<"+St.decodeParameters+">>"}),"transparency"in St&&Array.isArray(St.transparency)){for(var gr="",sr=0,tr=St.transparency.length;sr<tr;sr++)gr+=St.transparency[sr]+" "+St.transparency[sr]+" ";dr.push({key:"Mask",value:"["+gr+"]"})}St.sMask!==void 0&&dr.push({key:"SMask",value:St.objectId+1+" 0 R"});var hr=St.filter!==void 0?["/"+St.filter]:void 0;if(pr({data:St.data,additionalKeyValues:dr,alreadyAppliedFilters:hr,objectId:St.objectId}),mr("endobj"),"sMask"in St&&St.sMask!==void 0){var Sr="/Predictor "+St.predictor+" /Colors 1 /BitsPerComponent "+St.bitsPerComponent+" /Columns "+St.width,Je={width:St.width,height:St.height,colorSpace:"DeviceGray",bitsPerComponent:St.bitsPerComponent,decodeParameters:Sr,data:St.sMask};"filter"in St&&(Je.filter=St.filter),Ge.call(this,Je)}if(St.colorSpace===Me.INDEXED){var Ze=this.internal.newObject();pr({data:Ue(new Uint8Array(St.palette)),objectId:Ze}),mr("endobj")}},Ae=function(){var Ge=this.internal.collections.addImage_images;for(var St in Ge)Se.call(this,Ge[St])},Re=function(){var Ge,St=this.internal.collections.addImage_images,mr=this.internal.write;for(var pr in St)mr("/I"+(Ge=St[pr]).index,Ge.objectId,"0","R")},Ee=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Ae),this.internal.events.subscribe("putXobjectDict",Re))},Ce=function(){var Ge=this.internal.collections.addImage_images;return Ee.call(this),Ge},Te=function(){return Object.keys(this.internal.collections.addImage_images).length},De=function(Ge){return typeof t["process"+Ge.toUpperCase()]=="function"},ke=function(Ge){return _typeof(Ge)==="object"&&Ge.nodeType===1},Pe=function(Ge,St){if(Ge.nodeName==="IMG"&&Ge.hasAttribute("src")){var mr=""+Ge.getAttribute("src");if(mr.indexOf("data:image/")===0)return u(unescape(mr).split("base64,").pop());var pr=t.loadFile(mr,!0);if(pr!==void 0)return pr}if(Ge.nodeName==="CANVAS"){if(Ge.width===0||Ge.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ge.width+", height: "+Ge.height);var vr;switch(St){case"PNG":vr="image/png";break;case"WEBP":vr="image/webp";break;case"JPEG":case"JPG":default:vr="image/jpeg"}return u(Ge.toDataURL(vr,1).split("base64,").pop())}},xe=function(Ge){var St=this.internal.collections.addImage_images;if(St){for(var mr in St)if(Ge===St[mr].alias)return St[mr]}},Fe=function(Ge,St,mr){return Ge||St||(Ge=-96,St=-96),Ge<0&&(Ge=-1*mr.width*72/Ge/this.internal.scaleFactor),St<0&&(St=-1*mr.height*72/St/this.internal.scaleFactor),Ge===0&&(Ge=St*mr.width/mr.height),St===0&&(St=Ge*mr.height/mr.width),[Ge,St]},Ie=function(Ge,St,mr,pr,vr,dr){var gr=Fe.call(this,mr,pr,vr),sr=this.internal.getCoordinateString,tr=this.internal.getVerticalCoordinateString,hr=Ce.call(this);if(mr=gr[0],pr=gr[1],hr[vr.index]=vr,dr){dr*=Math.PI/180;var Sr=Math.cos(dr),Je=Math.sin(dr),Ze=function(We){return We.toFixed(4)},Ye=[Ze(Sr),Ze(Je),Ze(-1*Je),Ze(Sr),0,0,"cm"]}this.internal.write("q"),dr?(this.internal.write([1,"0","0",1,sr(Ge),tr(St+pr),"cm"].join(" ")),this.internal.write(Ye.join(" ")),this.internal.write([sr(mr),"0","0",sr(pr),"0","0","cm"].join(" "))):this.internal.write([sr(mr),"0","0",sr(pr),sr(Ge),tr(St+pr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+vr.index+" Do"),this.internal.write("Q")},Me=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Oe=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Be=t.__addimage__.sHashCode=function(Ge){var St,mr,pr=0;if(typeof Ge=="string")for(mr=Ge.length,St=0;St<mr;St++)pr=(pr<<5)-pr+Ge.charCodeAt(St),pr|=0;else if(He(Ge))for(mr=Ge.byteLength/2,St=0;St<mr;St++)pr=(pr<<5)-pr+Ge[St],pr|=0;return pr},je=t.__addimage__.validateStringAsBase64=function(Ge){(Ge=Ge||"").toString().trim();var St=!0;return Ge.length===0&&(St=!1),Ge.length%4!=0&&(St=!1),/^[A-Za-z0-9+/]+$/.test(Ge.substr(0,Ge.length-2))===!1&&(St=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ge.substr(-2))===!1&&(St=!1),St},Ve=t.__addimage__.extractImageFromDataUrl=function(Ge){var St=(Ge=Ge||"").split("base64,"),mr=null;if(St.length===2){var pr=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(St[0]);Array.isArray(pr)&&(mr={mimeType:pr[1],charset:pr[2],data:St[1]})}return mr},ze=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(Ge){return ze()&&Ge instanceof ArrayBuffer};var He=t.__addimage__.isArrayBufferView=function(Ge){return ze()&&typeof Uint32Array<"u"&&(Ge instanceof Int8Array||Ge instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ge instanceof Uint8ClampedArray||Ge instanceof Int16Array||Ge instanceof Uint16Array||Ge instanceof Int32Array||Ge instanceof Uint32Array||Ge instanceof Float32Array||Ge instanceof Float64Array)},$e=t.__addimage__.binaryStringToUint8Array=function(Ge){for(var St=Ge.length,mr=new Uint8Array(St),pr=0;pr<St;pr++)mr[pr]=Ge.charCodeAt(pr);return mr},Ue=t.__addimage__.arrayBufferToBinaryString=function(Ge){for(var St="",mr=He(Ge)?Ge:new Uint8Array(Ge),pr=0;pr<mr.length;pr+=8192)St+=String.fromCharCode.apply(null,mr.subarray(pr,pr+8192));return St};t.addImage=function(){var Ge,St,mr,pr,vr,dr,gr,sr,tr;if(typeof arguments[1]=="number"?(St=e,mr=arguments[1],pr=arguments[2],vr=arguments[3],dr=arguments[4],gr=arguments[5],sr=arguments[6],tr=arguments[7]):(St=arguments[1],mr=arguments[2],pr=arguments[3],vr=arguments[4],dr=arguments[5],gr=arguments[6],sr=arguments[7],tr=arguments[8]),_typeof(Ge=arguments[0])==="object"&&!ke(Ge)&&"imageData"in Ge){var hr=Ge;Ge=hr.imageData,St=hr.format||St||e,mr=hr.x||mr||0,pr=hr.y||pr||0,vr=hr.w||hr.width||vr,dr=hr.h||hr.height||dr,gr=hr.alias||gr,sr=hr.compression||sr,tr=hr.rotation||hr.angle||tr}var Sr=this.internal.getFilters();if(sr===void 0&&Sr.indexOf("FlateEncode")!==-1&&(sr="SLOW"),isNaN(mr)||isNaN(pr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ee.call(this);var Je=Xe.call(this,Ge,St,gr,sr);return Ie.call(this,mr,pr,vr,dr,Je,tr),this};var Xe=function(Ge,St,mr,pr){var vr,dr,gr;if(typeof Ge=="string"&&_e(Ge)===e){Ge=unescape(Ge);var sr=nr(Ge,!1);(sr!==""||(sr=t.loadFile(Ge,!0))!==void 0)&&(Ge=sr)}if(ke(Ge)&&(Ge=Pe(Ge,St)),St=_e(Ge,St),!De(St))throw new Error("addImage does not support files of type '"+St+"', please ensure that a plugin for '"+St+"' support is added.");if(((gr=mr)==null||gr.length===0)&&(mr=function(tr){return typeof tr=="string"||He(tr)?Be(tr):He(tr.data)?Be(tr.data):null}(Ge)),(vr=xe.call(this,mr))||(ze()&&(Ge instanceof Uint8Array||St==="RGBA"||(dr=Ge,Ge=$e(Ge))),vr=this["process"+St.toUpperCase()](Ge,Te.call(this),mr,function(tr){return tr&&typeof tr=="string"&&(tr=tr.toUpperCase()),tr in t.image_compression?tr:Oe.NONE}(pr),dr)),!vr)throw new Error("An unknown error occurred whilst processing the image.");return vr},nr=t.__addimage__.convertBase64ToBinaryString=function(Ge,St){var mr;St=typeof St!="boolean"||St;var pr,vr="";if(typeof Ge=="string"){pr=(mr=Ve(Ge))!==null?mr.data:Ge;try{vr=u(pr)}catch(dr){if(St)throw je(pr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+dr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return vr};t.getImageProperties=function(Ge){var St,mr,pr="";if(ke(Ge)&&(Ge=Pe(Ge)),typeof Ge=="string"&&_e(Ge)===e&&((pr=nr(Ge,!1))===""&&(pr=t.loadFile(Ge)||""),Ge=pr),mr=_e(Ge),!De(mr))throw new Error("addImage does not support files of type '"+mr+"', please ensure that a plugin for '"+mr+"' support is added.");if(!ze()||Ge instanceof Uint8Array||(Ge=$e(Ge)),!(St=this["process"+mr.toUpperCase()](Ge)))throw new Error("An unknown error occurred whilst processing the image");return St.fileType=mr,St}})(E.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};E.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var _e,Se,Ae,Re=this.internal.getCoordinateString,Ee=this.internal.getVerticalCoordinateString,Ce=this.internal.getPageInfoByObjId(r.objId),Te=r.pageContext.annotations,De=!1,ke=0;ke<Te.length&&!De;ke++)switch((_e=Te[ke]).type){case"link":(e(_e.options.url)||e(_e.options.pageNumber))&&(De=!0);break;case"reference":case"text":case"freetext":De=!0}if(De!=0){this.internal.write("/Annots [");for(var Pe=0;Pe<Te.length;Pe++){_e=Te[Pe];var xe=this.internal.pdfEscape,Fe=this.internal.getEncryptor(r.objId);switch(_e.type){case"reference":this.internal.write(" "+_e.object.objId+" 0 R ");break;case"text":var Ie=this.internal.newAdditionalObject(),Me=this.internal.newAdditionalObject(),Oe=this.internal.getEncryptor(Ie.objId),Be=_e.title||"Note";Ae="<</Type /Annot /Subtype /Text "+(Se="/Rect ["+Re(_e.bounds.x)+" "+Ee(_e.bounds.y+_e.bounds.h)+" "+Re(_e.bounds.x+_e.bounds.w)+" "+Ee(_e.bounds.y)+"] ")+"/Contents ("+xe(Oe(_e.contents))+")",Ae+=" /Popup "+Me.objId+" 0 R",Ae+=" /P "+Ce.objId+" 0 R",Ae+=" /T ("+xe(Oe(Be))+") >>",Ie.content=Ae;var je=Ie.objId+" 0 R";Ae="<</Type /Annot /Subtype /Popup "+(Se="/Rect ["+Re(_e.bounds.x+30)+" "+Ee(_e.bounds.y+_e.bounds.h)+" "+Re(_e.bounds.x+_e.bounds.w+30)+" "+Ee(_e.bounds.y)+"] ")+" /Parent "+je,_e.open&&(Ae+=" /Open true"),Ae+=" >>",Me.content=Ae,this.internal.write(Ie.objId,"0 R",Me.objId,"0 R");break;case"freetext":Se="/Rect ["+Re(_e.bounds.x)+" "+Ee(_e.bounds.y)+" "+Re(_e.bounds.x+_e.bounds.w)+" "+Ee(_e.bounds.y+_e.bounds.h)+"] ";var Ve=_e.color||"#000000";Ae="<</Type /Annot /Subtype /FreeText "+Se+"/Contents ("+xe(Fe(_e.contents))+")",Ae+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ve+")",Ae+=" /Border [0 0 0]",Ae+=" >>",this.internal.write(Ae);break;case"link":if(_e.options.name){var ze=this.annotations._nameMap[_e.options.name];_e.options.pageNumber=ze.page,_e.options.top=ze.y}else _e.options.top||(_e.options.top=0);if(Se="/Rect ["+_e.finalBounds.x+" "+_e.finalBounds.y+" "+_e.finalBounds.w+" "+_e.finalBounds.h+"] ",Ae="",_e.options.url)Ae="<</Type /Annot /Subtype /Link "+Se+"/Border [0 0 0] /A <</S /URI /URI ("+xe(Fe(_e.options.url))+") >>";else if(_e.options.pageNumber)switch(Ae="<</Type /Annot /Subtype /Link "+Se+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_e.options.pageNumber).objId+" 0 R",_e.options.magFactor=_e.options.magFactor||"XYZ",_e.options.magFactor){case"Fit":Ae+=" /Fit]";break;case"FitH":Ae+=" /FitH "+_e.options.top+"]";break;case"FitV":_e.options.left=_e.options.left||0,Ae+=" /FitV "+_e.options.left+"]";break;case"XYZ":default:var He=Ee(_e.options.top);_e.options.left=_e.options.left||0,_e.options.zoom===void 0&&(_e.options.zoom=0),Ae+=" /XYZ "+_e.options.left+" "+He+" "+_e.options.zoom+"]"}Ae!=""&&(Ae+=" >>",this.internal.write(Ae))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var _e=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":_e.pageContext.annotations.push(r)}},t.link=function(r,_e,Se,Ae,Re){var Ee=this.internal.getCurrentPageInfo(),Ce=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString;Ee.pageContext.annotations.push({finalBounds:{x:Ce(r),y:Te(_e),w:Ce(r+Se),h:Te(_e+Ae)},options:Re,type:"link"})},t.textWithLink=function(r,_e,Se,Ae){var Re,Ee,Ce=this.getTextWidth(r),Te=this.internal.getLineHeight()/this.internal.scaleFactor;if(Ae.maxWidth!==void 0){Ee=Ae.maxWidth;var De=this.splitTextToSize(r,Ee).length;Re=Math.ceil(Te*De)}else Ee=Ce,Re=Te;return this.text(r,_e,Se,Ae),Se+=.2*Te,Ae.align==="center"&&(_e-=Ce/2),Ae.align==="right"&&(_e-=Ce),this.link(_e,Se-Te,Ee,Re,Ae),Ce},t.getTextWidth=function(r){var _e=this.internal.getFontSize();return this.getStringUnitWidth(r)*_e/this.internal.scaleFactor}}(E.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Se=[1570,1571,1573,1575];t.__arabicParser__={};var Ae=t.__arabicParser__.isInArabicSubstitutionA=function(Ie){return e[Ie.charCodeAt(0)]!==void 0},Re=t.__arabicParser__.isArabicLetter=function(Ie){return typeof Ie=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ie)},Ee=t.__arabicParser__.isArabicEndLetter=function(Ie){return Re(Ie)&&Ae(Ie)&&e[Ie.charCodeAt(0)].length<=2},Ce=t.__arabicParser__.isArabicAlfLetter=function(Ie){return Re(Ie)&&Se.indexOf(Ie.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(Ie){return Re(Ie)&&Ae(Ie)&&e[Ie.charCodeAt(0)].length>=1};var Te=t.__arabicParser__.arabicLetterHasFinalForm=function(Ie){return Re(Ie)&&Ae(Ie)&&e[Ie.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(Ie){return Re(Ie)&&Ae(Ie)&&e[Ie.charCodeAt(0)].length>=3};var De=t.__arabicParser__.arabicLetterHasMedialForm=function(Ie){return Re(Ie)&&Ae(Ie)&&e[Ie.charCodeAt(0)].length==4},ke=t.__arabicParser__.resolveLigatures=function(Ie){var Me=0,Oe=r,Be="",je=0;for(Me=0;Me<Ie.length;Me+=1)Oe[Ie.charCodeAt(Me)]!==void 0?(je++,typeof(Oe=Oe[Ie.charCodeAt(Me)])=="number"&&(Be+=String.fromCharCode(Oe),Oe=r,je=0),Me===Ie.length-1&&(Oe=r,Be+=Ie.charAt(Me-(je-1)),Me-=je-1,je=0)):(Oe=r,Be+=Ie.charAt(Me-je),Me-=je,je=0);return Be};t.__arabicParser__.isArabicDiacritic=function(Ie){return Ie!==void 0&&_e[Ie.charCodeAt(0)]!==void 0};var Pe=t.__arabicParser__.getCorrectForm=function(Ie,Me,Oe){return Re(Ie)?Ae(Ie)===!1?-1:!Te(Ie)||!Re(Me)&&!Re(Oe)||!Re(Oe)&&Ee(Me)||Ee(Ie)&&!Re(Me)||Ee(Ie)&&Ce(Me)||Ee(Ie)&&Ee(Me)?0:De(Ie)&&Re(Me)&&!Ee(Me)&&Re(Oe)&&Te(Oe)?3:Ee(Ie)||!Re(Oe)?1:2:-1},xe=function(Ie){var Me=0,Oe=0,Be=0,je="",Ve="",ze="",He=(Ie=Ie||"").split("\\s+"),$e=[];for(Me=0;Me<He.length;Me+=1){for($e.push(""),Oe=0;Oe<He[Me].length;Oe+=1)je=He[Me][Oe],Ve=He[Me][Oe-1],ze=He[Me][Oe+1],Re(je)?(Be=Pe(je,Ve,ze),$e[Me]+=Be!==-1?String.fromCharCode(e[je.charCodeAt(0)][Be]):je):$e[Me]+=je;$e[Me]=ke($e[Me])}return $e.join(" ")},Fe=t.__arabicParser__.processArabic=t.processArabic=function(){var Ie,Me=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Oe=[];if(Array.isArray(Me)){var Be=0;for(Oe=[],Be=0;Be<Me.length;Be+=1)Array.isArray(Me[Be])?Oe.push([xe(Me[Be][0]),Me[Be][1],Me[Be][2]]):Oe.push([xe(Me[Be])]);Ie=Oe}else Ie=xe(Me);return typeof arguments[0]=="string"?Ie:(arguments[0].text=Ie,arguments[0])};t.events.push(["preProcessText",Fe])}(E.API),E.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(Ee){r=Ee}});var _e=150;Object.defineProperty(this,"width",{get:function(){return _e},set:function(Ee){_e=isNaN(Ee)||Number.isInteger(Ee)===!1||Ee<0?150:Ee,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_e+1)}});var Se=300;Object.defineProperty(this,"height",{get:function(){return Se},set:function(Ee){Se=isNaN(Ee)||Number.isInteger(Ee)===!1||Ee<0?300:Ee,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Se+1)}});var Ae=[];Object.defineProperty(this,"childNodes",{get:function(){return Ae},set:function(Ee){Ae=Ee}});var Re={};Object.defineProperty(this,"style",{get:function(){return Re},set:function(Ee){Re=Ee}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,_e){var Se;if((r=r||"2d")!=="2d")return null;for(Se in _e)this.pdf.context2d.hasOwnProperty(Se)&&(this.pdf.context2d[Se]=_e[Se]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,_e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),Se.call(this))},Se=function(){this.internal.__cell__.lastCell=new Ae,this.internal.__cell__.pages=1},Ae=function(){var Ce=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(Ie){Ce=Ie}});var Te=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Ie){Te=Ie}});var De=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return De},set:function(Ie){De=Ie}});var ke=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ke},set:function(Ie){ke=Ie}});var Pe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Pe},set:function(Ie){Pe=Ie}});var xe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return xe},set:function(Ie){xe=Ie}});var Fe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Fe},set:function(Ie){Fe=Ie}}),this};Ae.prototype.clone=function(){return new Ae(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Ae.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(Ce){return _e.call(this),this.internal.__cell__.headerFunction=typeof Ce=="function"?Ce:void 0,this},t.getTextDimensions=function(Ce,Te){_e.call(this);var De=(Te=Te||{}).fontSize||this.getFontSize(),ke=Te.font||this.getFont(),Pe=Te.scaleFactor||this.internal.scaleFactor,xe=0,Fe=0,Ie=0,Me=this;if(!Array.isArray(Ce)&&typeof Ce!="string"){if(typeof Ce!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Ce=String(Ce)}var Oe=Te.maxWidth;Oe>0?typeof Ce=="string"?Ce=this.splitTextToSize(Ce,Oe):Object.prototype.toString.call(Ce)==="[object Array]"&&(Ce=Ce.reduce(function(je,Ve){return je.concat(Me.splitTextToSize(Ve,Oe))},[])):Ce=Array.isArray(Ce)?Ce:[Ce];for(var Be=0;Be<Ce.length;Be++)xe<(Ie=this.getStringUnitWidth(Ce[Be],{font:ke})*De)&&(xe=Ie);return xe!==0&&(Fe=Ce.length),{w:xe/=Pe,h:Math.max((Fe*De*this.getLineHeightFactor()-De*(this.getLineHeightFactor()-1))/Pe,0)}},t.cellAddPage=function(){_e.call(this),this.addPage();var Ce=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new Ae(Ce.left,Ce.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Re=t.cell=function(){var Ce;Ce=arguments[0]instanceof Ae?arguments[0]:new Ae(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_e.call(this);var Te=this.internal.__cell__.lastCell,De=this.internal.__cell__.padding,ke=this.internal.__cell__.margins||e,Pe=this.internal.__cell__.tableHeaderRow,xe=this.internal.__cell__.printHeaders;return Te.lineNumber!==void 0&&(Te.lineNumber===Ce.lineNumber?(Ce.x=(Te.x||0)+(Te.width||0),Ce.y=Te.y||0):Te.y+Te.height+Ce.height+ke.bottom>this.getPageHeight()?(this.cellAddPage(),Ce.y=ke.top,xe&&Pe&&(this.printHeaderRow(Ce.lineNumber,!0),Ce.y+=Pe[0].height)):Ce.y=Te.y+Te.height||Ce.y),Ce.text[0]!==void 0&&(this.rect(Ce.x,Ce.y,Ce.width,Ce.height,r===!0?"FD":void 0),Ce.align==="right"?this.text(Ce.text,Ce.x+Ce.width-De,Ce.y+De,{align:"right",baseline:"top"}):Ce.align==="center"?this.text(Ce.text,Ce.x+Ce.width/2,Ce.y+De,{align:"center",baseline:"top",maxWidth:Ce.width-De-De}):this.text(Ce.text,Ce.x+De,Ce.y+De,{align:"left",baseline:"top",maxWidth:Ce.width-De-De})),this.internal.__cell__.lastCell=Ce,this};t.table=function(Ce,Te,De,ke,Pe){if(_e.call(this),!De)throw new Error("No data for PDF table.");var xe,Fe,Ie,Me,Oe=[],Be=[],je=[],Ve={},ze={},He=[],$e=[],Ue=(Pe=Pe||{}).autoSize||!1,Xe=Pe.printHeaders!==!1,nr=Pe.css&&Pe.css["font-size"]!==void 0?16*Pe.css["font-size"]:Pe.fontSize||12,Ge=Pe.margins||Object.assign({width:this.getPageWidth()},e),St=typeof Pe.padding=="number"?Pe.padding:3,mr=Pe.headerBackgroundColor||"#c8c8c8",pr=Pe.headerTextColor||"#000";if(Se.call(this),this.internal.__cell__.printHeaders=Xe,this.internal.__cell__.margins=Ge,this.internal.__cell__.table_font_size=nr,this.internal.__cell__.padding=St,this.internal.__cell__.headerBackgroundColor=mr,this.internal.__cell__.headerTextColor=pr,this.setFontSize(nr),ke==null)Be=Oe=Object.keys(De[0]),je=Oe.map(function(){return"left"});else if(Array.isArray(ke)&&_typeof(ke[0])==="object")for(Oe=ke.map(function(hr){return hr.name}),Be=ke.map(function(hr){return hr.prompt||hr.name||""}),je=ke.map(function(hr){return hr.align||"left"}),xe=0;xe<ke.length;xe+=1)ze[ke[xe].name]=ke[xe].width*(19.049976/25.4);else Array.isArray(ke)&&typeof ke[0]=="string"&&(Be=Oe=ke,je=Oe.map(function(){return"left"}));if(Ue||Array.isArray(ke)&&typeof ke[0]=="string")for(xe=0;xe<Oe.length;xe+=1){for(Ve[Me=Oe[xe]]=De.map(function(hr){return hr[Me]}),this.setFont(void 0,"bold"),He.push(this.getTextDimensions(Be[xe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Fe=Ve[Me],this.setFont(void 0,"normal"),Ie=0;Ie<Fe.length;Ie+=1)He.push(this.getTextDimensions(Fe[Ie],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ze[Me]=Math.max.apply(null,He)+St+St,He=[]}if(Xe){var vr={};for(xe=0;xe<Oe.length;xe+=1)vr[Oe[xe]]={},vr[Oe[xe]].text=Be[xe],vr[Oe[xe]].align=je[xe];var dr=Ee.call(this,vr,ze);$e=Oe.map(function(hr){return new Ae(Ce,Te,ze[hr],dr,vr[hr].text,void 0,vr[hr].align)}),this.setTableHeaderRow($e),this.printHeaderRow(1,!1)}var gr=ke.reduce(function(hr,Sr){return hr[Sr.name]=Sr.align,hr},{});for(xe=0;xe<De.length;xe+=1){"rowStart"in Pe&&Pe.rowStart instanceof Function&&Pe.rowStart({row:xe,data:De[xe]},this);var sr=Ee.call(this,De[xe],ze);for(Ie=0;Ie<Oe.length;Ie+=1){var tr=De[xe][Oe[Ie]];"cellStart"in Pe&&Pe.cellStart instanceof Function&&Pe.cellStart({row:xe,col:Ie,data:tr},this),Re.call(this,new Ae(Ce,Te,ze[Oe[Ie]],sr,tr,xe+2,gr[Oe[Ie]]))}}return this.internal.__cell__.table_x=Ce,this.internal.__cell__.table_y=Te,this};var Ee=function(Ce,Te){var De=this.internal.__cell__.padding,ke=this.internal.__cell__.table_font_size,Pe=this.internal.scaleFactor;return Object.keys(Ce).map(function(xe){var Fe=Ce[xe];return this.splitTextToSize(Fe.hasOwnProperty("text")?Fe.text:Fe,Te[xe]-De-De)},this).map(function(xe){return this.getLineHeightFactor()*xe.length*ke/Pe+De+De},this).reduce(function(xe,Fe){return Math.max(xe,Fe)},0)};t.setTableHeaderRow=function(Ce){_e.call(this),this.internal.__cell__.tableHeaderRow=Ce},t.printHeaderRow=function(Ce,Te){if(_e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var De;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var ke=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Ae(ke[0],ke[1],ke[2],ke[3],void 0,-1)}this.setFont(void 0,"bold");for(var Pe=[],xe=0;xe<this.internal.__cell__.tableHeaderRow.length;xe+=1){De=this.internal.__cell__.tableHeaderRow[xe].clone(),Te&&(De.y=this.internal.__cell__.margins.top||0,Pe.push(De)),De.lineNumber=Ce;var Fe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Re.call(this,De),this.setTextColor(Fe)}Pe.length>0&&this.setTableHeaderRow(Pe),this.setFont(void 0,"normal"),r=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(Ae){return Pt[Ae=Ae||"normal"]?Ae:"normal"}(t.style),_e=function(Ae){if(!Ae)return 400;if(typeof Ae=="number")return Ae>=100&&Ae<=900&&Ae%100==0?Ae:400;if(/^\d00$/.test(Ae))return parseInt(Ae);switch(Ae){case"bold":return 700;case"normal":default:return 400}}(t.weight),Se=function(Ae){return typeof It[Ae=Ae||"normal"]=="number"?Ae:"normal"}(t.stretch);return{family:e,style:r,weight:_e,stretch:Se,src:t.src||[],ref:t.ref||{name:e,style:[Se,r,_e].join(" ")}}}function Ot(t,e,r,_e){var Se;for(Se=r;Se>=0&&Se<e.length;Se+=_e)if(t[e[Se]])return t[e[Se]];for(Se=r;Se>=0&&Se<e.length;Se-=_e)if(t[e[Se]])return t[e[Se]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qt(t,e,r){for(var _e=(r=r||{}).defaultFontFamily||"times",Se=Object.assign({},Bt,r.genericFontFamilies||{}),Ae=null,Re=null,Ee=0;Ee<e.length;++Ee)if(Se[(Ae=jt(e[Ee])).family]&&(Ae.family=Se[Ae.family]),t.hasOwnProperty(Ae.family)){Re=t[Ae.family];break}if(!(Re=Re||t[_e]))throw new Error("Could not find a font-family for the rule '"+Et(Ae)+"' and default family '"+_e+"'.");if(Re=function(Ce,Te){if(Te[Ce])return Te[Ce];var De=It[Ce],ke=De<=It.normal?-1:1,Pe=Ot(Te,kt,De,ke);if(!Pe)throw new Error("Could not find a matching font-stretch value for "+Ce);return Pe}(Ae.stretch,Re),Re=function(Ce,Te){if(Te[Ce])return Te[Ce];for(var De=Pt[Ce],ke=0;ke<De.length;++ke)if(Te[De[ke]])return Te[De[ke]];throw new Error("Could not find a matching font-style for "+Ce)}(Ae.style,Re),!(Re=function(Ce,Te){if(Te[Ce])return Te[Ce];if(Ce===400&&Te[500])return Te[500];if(Ce===500&&Te[400])return Te[400];var De=Ct[Ce],ke=Ot(Te,Ft,De,Ce<400?-1:1);if(!ke)throw new Error("Could not find a matching font-weight for value "+Ce);return ke}(Ae.weight,Re)))throw new Error("Failed to resolve a font for the rule '"+Et(Ae)+"'.");return Re}function Dt(t){return t.trimLeft()}function Rt(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Tt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(t){var e,r,_e,Se,Ae,Re,Ee,Ce,Te,De=function(Je){return Je=Je||{},this.isStrokeTransparent=Je.isStrokeTransparent||!1,this.strokeOpacity=Je.strokeOpacity||1,this.strokeStyle=Je.strokeStyle||"#000000",this.fillStyle=Je.fillStyle||"#000000",this.isFillTransparent=Je.isFillTransparent||!1,this.fillOpacity=Je.fillOpacity||1,this.font=Je.font||"10px sans-serif",this.textBaseline=Je.textBaseline||"alphabetic",this.textAlign=Je.textAlign||"left",this.lineWidth=Je.lineWidth||1,this.lineJoin=Je.lineJoin||"miter",this.lineCap=Je.lineCap||"butt",this.path=Je.path||[],this.transform=Je.transform!==void 0?Je.transform.clone():new Ce,this.globalCompositeOperation=Je.globalCompositeOperation||"normal",this.globalAlpha=Je.globalAlpha||1,this.clip_path=Je.clip_path||[],this.currentPoint=Je.currentPoint||new Re,this.miterLimit=Je.miterLimit||10,this.lastPoint=Je.lastPoint||new Re,this.lineDashOffset=Je.lineDashOffset||0,this.lineDash=Je.lineDash||[],this.margin=Je.margin||[0,0,0,0],this.prevPageLastElemOffset=Je.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Je.ignoreClearRect!="boolean"||Je.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new ke(this),e=this.internal.f2,r=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Se=this.internal.getHorizontalCoordinate,Ae=this.internal.getVerticalCoordinate,Re=this.internal.Point,Ee=this.internal.Rectangle,Ce=this.internal.Matrix,Te=new De}]);var ke=function(Je){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ze=Je;Object.defineProperty(this,"pdf",{get:function(){return Ze}});var Ye=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ye},set:function(rr){Ye=Boolean(rr)}});var We=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return We},set:function(rr){We=Boolean(rr)}});var or=0;Object.defineProperty(this,"posX",{get:function(){return or},set:function(rr){isNaN(rr)||(or=rr)}});var fr=0;Object.defineProperty(this,"posY",{get:function(){return fr},set:function(rr){isNaN(rr)||(fr=rr)}}),Object.defineProperty(this,"margin",{get:function(){return Te.margin},set:function(rr){var er;typeof rr=="number"?er=[rr,rr,rr,rr]:((er=new Array(4))[0]=rr[0],er[1]=rr.length>=2?rr[1]:er[0],er[2]=rr.length>=3?rr[2]:er[0],er[3]=rr.length>=4?rr[3]:er[1]),Te.margin=er}});var _r=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _r},set:function(rr){_r=rr}});var yr=0;Object.defineProperty(this,"lastBreak",{get:function(){return yr},set:function(rr){yr=rr}});var xr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xr},set:function(rr){xr=rr}}),Object.defineProperty(this,"ctx",{get:function(){return Te},set:function(rr){rr instanceof De&&(Te=rr)}}),Object.defineProperty(this,"path",{get:function(){return Te.path},set:function(rr){Te.path=rr}});var Ar=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ar},set:function(rr){Ar=rr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(rr){var er;er=Pe(rr),this.ctx.fillStyle=er.style,this.ctx.isFillTransparent=er.a===0,this.ctx.fillOpacity=er.a,this.pdf.setFillColor(er.r,er.g,er.b,{a:er.a}),this.pdf.setTextColor(er.r,er.g,er.b,{a:er.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(rr){var er=Pe(rr);this.ctx.strokeStyle=er.style,this.ctx.isStrokeTransparent=er.a===0,this.ctx.strokeOpacity=er.a,er.a===0?this.pdf.setDrawColor(255,255,255):(er.a,this.pdf.setDrawColor(er.r,er.g,er.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(rr){["butt","round","square"].indexOf(rr)!==-1&&(this.ctx.lineCap=rr,this.pdf.setLineCap(rr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(rr){isNaN(rr)||(this.ctx.lineWidth=rr,this.pdf.setLineWidth(rr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(rr){["bevel","round","miter"].indexOf(rr)!==-1&&(this.ctx.lineJoin=rr,this.pdf.setLineJoin(rr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(rr){isNaN(rr)||(this.ctx.miterLimit=rr,this.pdf.setMiterLimit(rr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(rr){this.ctx.textBaseline=rr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(rr){["right","end","center","left","start"].indexOf(rr)!==-1&&(this.ctx.textAlign=rr)}});var cr=null;function ar(rr,er){if(cr===null){var ur=function(Cr){var wr=[];return Object.keys(Cr).forEach(function(Or){Cr[Or].forEach(function(kr){var Pr=null;switch(kr){case"bold":Pr={family:Or,weight:"bold"};break;case"italic":Pr={family:Or,style:"italic"};break;case"bolditalic":Pr={family:Or,weight:"bold",style:"italic"};break;case"":case"normal":Pr={family:Or}}Pr!==null&&(Pr.ref={name:Or,style:kr},wr.push(Pr))})}),wr}(rr.getFontList());cr=function(Cr){for(var wr={},Or=0;Or<Cr.length;++Or){var kr=jt(Cr[Or]),Pr=kr.family,Ir=kr.stretch,Vr=kr.style,zr=kr.weight;wr[Pr]=wr[Pr]||{},wr[Pr][Ir]=wr[Pr][Ir]||{},wr[Pr][Ir][Vr]=wr[Pr][Ir][Vr]||{},wr[Pr][Ir][Vr][zr]=kr}return wr}(ur.concat(er))}return cr}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(rr){cr=null,Qe=rr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(rr){var er;if(this.ctx.font=rr,(er=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(rr))!==null){var ur=er[1],Cr=(er[2],er[3]),wr=er[4],Or=(er[5],er[6]),kr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wr)[2];wr=Math.floor(kr==="px"?parseFloat(wr)*this.pdf.internal.scaleFactor:kr==="em"?parseFloat(wr)*this.pdf.getFontSize():parseFloat(wr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wr);var Pr=function(Qr){var di,Lr,Hr=[],jr=Qr.trim();if(jr==="")return Wt;if(jr in Mt)return[Mt[jr]];for(;jr!=="";){switch(Lr=null,di=(jr=Dt(jr)).charAt(0)){case'"':case"'":Lr=Rt(jr.substring(1),di);break;default:Lr=Tt(jr)}if(Lr===null||(Hr.push(Lr[0]),(jr=Dt(Lr[1]))!==""&&jr.charAt(0)!==","))return Wt;jr=jr.replace(/^,/,"")}return Hr}(Or);if(this.fontFaces){var Ir=qt(ar(this.pdf,this.fontFaces),Pr.map(function(Qr){return{family:Qr,stretch:"normal",weight:Cr,style:ur}}));this.pdf.setFont(Ir.ref.name,Ir.ref.style)}else{var Vr="";(Cr==="bold"||parseInt(Cr,10)>=700||ur==="bold")&&(Vr="bold"),ur==="italic"&&(Vr+="italic"),Vr.length===0&&(Vr="normal");for(var zr="",$r={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Gr=0;Gr<Pr.length;Gr++){if(this.pdf.internal.getFont(Pr[Gr],Vr,{noFallback:!0,disableWarning:!0})!==void 0){zr=Pr[Gr];break}if(Vr==="bolditalic"&&this.pdf.internal.getFont(Pr[Gr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zr=Pr[Gr],Vr="bold";else if(this.pdf.internal.getFont(Pr[Gr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zr=Pr[Gr],Vr="normal";break}}if(zr===""){for(var ii=0;ii<Pr.length;ii++)if($r[Pr[ii]]){zr=$r[Pr[ii]];break}}zr=zr===""?"Times":zr,this.pdf.setFont(zr,Vr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(rr){this.ctx.globalCompositeOperation=rr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(rr){this.ctx.globalAlpha=rr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(rr){this.ctx.lineDashOffset=rr,Sr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(rr){this.ctx.lineDash=rr,Sr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(rr){this.ctx.ignoreClearRect=Boolean(rr)}})};ke.prototype.setLineDash=function(Je){this.lineDash=Je},ke.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ke.prototype.fill=function(){Ve.call(this,"fill",!1)},ke.prototype.stroke=function(){Ve.call(this,"stroke",!1)},ke.prototype.beginPath=function(){this.path=[{type:"begin"}]},ke.prototype.moveTo=function(Je,Ze){if(isNaN(Je)||isNaN(Ze))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ye=this.ctx.transform.applyToPoint(new Re(Je,Ze));this.path.push({type:"mt",x:Ye.x,y:Ye.y}),this.ctx.lastPoint=new Re(Je,Ze)},ke.prototype.closePath=function(){var Je=new Re(0,0),Ze=0;for(Ze=this.path.length-1;Ze!==-1;Ze--)if(this.path[Ze].type==="begin"&&_typeof(this.path[Ze+1])==="object"&&typeof this.path[Ze+1].x=="number"){Je=new Re(this.path[Ze+1].x,this.path[Ze+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Re(Je.x,Je.y)},ke.prototype.lineTo=function(Je,Ze){if(isNaN(Je)||isNaN(Ze))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ye=this.ctx.transform.applyToPoint(new Re(Je,Ze));this.path.push({type:"lt",x:Ye.x,y:Ye.y}),this.ctx.lastPoint=new Re(Ye.x,Ye.y)},ke.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ve.call(this,null,!0)},ke.prototype.quadraticCurveTo=function(Je,Ze,Ye,We){if(isNaN(Ye)||isNaN(We)||isNaN(Je)||isNaN(Ze))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var or=this.ctx.transform.applyToPoint(new Re(Ye,We)),fr=this.ctx.transform.applyToPoint(new Re(Je,Ze));this.path.push({type:"qct",x1:fr.x,y1:fr.y,x:or.x,y:or.y}),this.ctx.lastPoint=new Re(or.x,or.y)},ke.prototype.bezierCurveTo=function(Je,Ze,Ye,We,or,fr){if(isNaN(or)||isNaN(fr)||isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _r=this.ctx.transform.applyToPoint(new Re(or,fr)),yr=this.ctx.transform.applyToPoint(new Re(Je,Ze)),xr=this.ctx.transform.applyToPoint(new Re(Ye,We));this.path.push({type:"bct",x1:yr.x,y1:yr.y,x2:xr.x,y2:xr.y,x:_r.x,y:_r.y}),this.ctx.lastPoint=new Re(_r.x,_r.y)},ke.prototype.arc=function(Je,Ze,Ye,We,or,fr){if(isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We)||isNaN(or))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fr=Boolean(fr),!this.ctx.transform.isIdentity){var _r=this.ctx.transform.applyToPoint(new Re(Je,Ze));Je=_r.x,Ze=_r.y;var yr=this.ctx.transform.applyToPoint(new Re(0,Ye)),xr=this.ctx.transform.applyToPoint(new Re(0,0));Ye=Math.sqrt(Math.pow(yr.x-xr.x,2)+Math.pow(yr.y-xr.y,2))}Math.abs(or-We)>=2*Math.PI&&(We=0,or=2*Math.PI),this.path.push({type:"arc",x:Je,y:Ze,radius:Ye,startAngle:We,endAngle:or,counterclockwise:fr})},ke.prototype.arcTo=function(Je,Ze,Ye,We,or){throw new Error("arcTo not implemented.")},ke.prototype.rect=function(Je,Ze,Ye,We){if(isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Je,Ze),this.lineTo(Je+Ye,Ze),this.lineTo(Je+Ye,Ze+We),this.lineTo(Je,Ze+We),this.lineTo(Je,Ze),this.lineTo(Je+Ye,Ze),this.lineTo(Je,Ze)},ke.prototype.fillRect=function(Je,Ze,Ye,We){if(isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!xe.call(this)){var or={};this.lineCap!=="butt"&&(or.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(or.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Je,Ze,Ye,We),this.fill(),or.hasOwnProperty("lineCap")&&(this.lineCap=or.lineCap),or.hasOwnProperty("lineJoin")&&(this.lineJoin=or.lineJoin)}},ke.prototype.strokeRect=function(Je,Ze,Ye,We){if(isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Fe.call(this)||(this.beginPath(),this.rect(Je,Ze,Ye,We),this.stroke())},ke.prototype.clearRect=function(Je,Ze,Ye,We){if(isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Je,Ze,Ye,We))},ke.prototype.save=function(Je){Je=typeof Je!="boolean"||Je;for(var Ze=this.pdf.internal.getCurrentPageInfo().pageNumber,Ye=0;Ye<this.pdf.internal.getNumberOfPages();Ye++)this.pdf.setPage(Ye+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ze),Je){this.ctx.fontSize=this.pdf.internal.getFontSize();var We=new De(this.ctx);this.ctxStack.push(this.ctx),this.ctx=We}},ke.prototype.restore=function(Je){Je=typeof Je!="boolean"||Je;for(var Ze=this.pdf.internal.getCurrentPageInfo().pageNumber,Ye=0;Ye<this.pdf.internal.getNumberOfPages();Ye++)this.pdf.setPage(Ye+1),this.pdf.internal.out("Q");this.pdf.setPage(Ze),Je&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ke.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Pe=function(Je){var Ze,Ye,We,or;if(Je.isCanvasGradient===!0&&(Je=Je.getColor()),!Je)return{r:0,g:0,b:0,a:0,style:Je};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Je))Ze=0,Ye=0,We=0,or=0;else{var fr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Je);if(fr!==null)Ze=parseInt(fr[1]),Ye=parseInt(fr[2]),We=parseInt(fr[3]),or=1;else if((fr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Je))!==null)Ze=parseInt(fr[1]),Ye=parseInt(fr[2]),We=parseInt(fr[3]),or=parseFloat(fr[4]);else{if(or=1,typeof Je=="string"&&Je.charAt(0)!=="#"){var _r=new f(Je);Je=_r.ok?_r.toHex():"#000000"}Je.length===4?(Ze=Je.substring(1,2),Ze+=Ze,Ye=Je.substring(2,3),Ye+=Ye,We=Je.substring(3,4),We+=We):(Ze=Je.substring(1,3),Ye=Je.substring(3,5),We=Je.substring(5,7)),Ze=parseInt(Ze,16),Ye=parseInt(Ye,16),We=parseInt(We,16)}}return{r:Ze,g:Ye,b:We,a:or,style:Je}},xe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Fe=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ke.prototype.fillText=function(Je,Ze,Ye,We){if(isNaN(Ze)||isNaN(Ye)||typeof Je!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(We=isNaN(We)?void 0:We,!xe.call(this)){var or=sr(this.ctx.transform.rotation),fr=this.ctx.transform.scaleX;St.call(this,{text:Je,x:Ze,y:Ye,scale:fr,angle:or,align:this.textAlign,maxWidth:We})}},ke.prototype.strokeText=function(Je,Ze,Ye,We){if(isNaN(Ze)||isNaN(Ye)||typeof Je!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Fe.call(this)){We=isNaN(We)?void 0:We;var or=sr(this.ctx.transform.rotation),fr=this.ctx.transform.scaleX;St.call(this,{text:Je,x:Ze,y:Ye,scale:fr,renderingMode:"stroke",angle:or,align:this.textAlign,maxWidth:We})}},ke.prototype.measureText=function(Je){if(typeof Je!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ze=this.pdf,Ye=this.pdf.internal.scaleFactor,We=Ze.internal.getFontSize(),or=Ze.getStringUnitWidth(Je)*We/Ze.internal.scaleFactor,fr=function(_r){var yr=(_r=_r||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yr}}),this};return new fr({width:or*=Math.round(96*Ye/72*1e4)/1e4})},ke.prototype.scale=function(Je,Ze){if(isNaN(Je)||isNaN(Ze))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ye=new Ce(Je,0,0,Ze,0,0);this.ctx.transform=this.ctx.transform.multiply(Ye)},ke.prototype.rotate=function(Je){if(isNaN(Je))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ze=new Ce(Math.cos(Je),Math.sin(Je),-Math.sin(Je),Math.cos(Je),0,0);this.ctx.transform=this.ctx.transform.multiply(Ze)},ke.prototype.translate=function(Je,Ze){if(isNaN(Je)||isNaN(Ze))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ye=new Ce(1,0,0,1,Je,Ze);this.ctx.transform=this.ctx.transform.multiply(Ye)},ke.prototype.transform=function(Je,Ze,Ye,We,or,fr){if(isNaN(Je)||isNaN(Ze)||isNaN(Ye)||isNaN(We)||isNaN(or)||isNaN(fr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _r=new Ce(Je,Ze,Ye,We,or,fr);this.ctx.transform=this.ctx.transform.multiply(_r)},ke.prototype.setTransform=function(Je,Ze,Ye,We,or,fr){Je=isNaN(Je)?1:Je,Ze=isNaN(Ze)?0:Ze,Ye=isNaN(Ye)?0:Ye,We=isNaN(We)?1:We,or=isNaN(or)?0:or,fr=isNaN(fr)?0:fr,this.ctx.transform=new Ce(Je,Ze,Ye,We,or,fr)};var Ie=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ke.prototype.drawImage=function(Je,Ze,Ye,We,or,fr,_r,yr,xr){var Ar=this.pdf.getImageProperties(Je),cr=1,ar=1,Qe=1,rr=1;We!==void 0&&yr!==void 0&&(Qe=yr/We,rr=xr/or,cr=Ar.width/We*yr/We,ar=Ar.height/or*xr/or),fr===void 0&&(fr=Ze,_r=Ye,Ze=0,Ye=0),We!==void 0&&yr===void 0&&(yr=We,xr=or),We===void 0&&yr===void 0&&(yr=Ar.width,xr=Ar.height);for(var er,ur=this.ctx.transform.decompose(),Cr=sr(ur.rotate.shx),wr=new Ce,Or=(wr=(wr=(wr=wr.multiply(ur.translate)).multiply(ur.skew)).multiply(ur.scale)).applyToRectangle(new Ee(fr-Ze*Qe,_r-Ye*rr,We*cr,or*ar)),kr=Me.call(this,Or),Pr=[],Ir=0;Ir<kr.length;Ir+=1)Pr.indexOf(kr[Ir])===-1&&Pr.push(kr[Ir]);if(je(Pr),this.autoPaging)for(var Vr=Pr[0],zr=Pr[Pr.length-1],$r=Vr;$r<zr+1;$r++){this.pdf.setPage($r);var Gr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ii=$r===1?this.posY+this.margin[0]:this.margin[0],Qr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],di=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lr=$r===1?0:Qr+($r-2)*di;if(this.ctx.clip_path.length!==0){var Hr=this.path;er=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Be(er,this.posX+this.margin[3],-Lr+ii+this.ctx.prevPageLastElemOffset),ze.call(this,"fill",!0),this.path=Hr}var jr=JSON.parse(JSON.stringify(Or));jr=Be([jr],this.posX+this.margin[3],-Lr+ii+this.ctx.prevPageLastElemOffset)[0];var ci=($r>Vr||$r<zr)&&Ie.call(this);ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gr,di,null).clip().discardPath()),this.pdf.addImage(Je,"JPEG",jr.x,jr.y,jr.w,jr.h,null,null,Cr),ci&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Je,"JPEG",Or.x,Or.y,Or.w,Or.h,null,null,Cr)};var Me=function(Je,Ze,Ye){var We=[];Ze=Ze||this.pdf.internal.pageSize.width,Ye=Ye||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var or=this.posY+this.ctx.prevPageLastElemOffset;switch(Je.type){default:case"mt":case"lt":We.push(Math.floor((Je.y+or)/Ye)+1);break;case"arc":We.push(Math.floor((Je.y+or-Je.radius)/Ye)+1),We.push(Math.floor((Je.y+or+Je.radius)/Ye)+1);break;case"qct":var fr=tr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Je.x1,Je.y1,Je.x,Je.y);We.push(Math.floor((fr.y+or)/Ye)+1),We.push(Math.floor((fr.y+fr.h+or)/Ye)+1);break;case"bct":var _r=hr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Je.x1,Je.y1,Je.x2,Je.y2,Je.x,Je.y);We.push(Math.floor((_r.y+or)/Ye)+1),We.push(Math.floor((_r.y+_r.h+or)/Ye)+1);break;case"rect":We.push(Math.floor((Je.y+or)/Ye)+1),We.push(Math.floor((Je.y+Je.h+or)/Ye)+1)}for(var yr=0;yr<We.length;yr+=1)for(;this.pdf.internal.getNumberOfPages()<We[yr];)Oe.call(this);return We},Oe=function(){var Je=this.fillStyle,Ze=this.strokeStyle,Ye=this.font,We=this.lineCap,or=this.lineWidth,fr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Je,this.strokeStyle=Ze,this.font=Ye,this.lineCap=We,this.lineWidth=or,this.lineJoin=fr},Be=function(Je,Ze,Ye){for(var We=0;We<Je.length;We++)switch(Je[We].type){case"bct":Je[We].x2+=Ze,Je[We].y2+=Ye;case"qct":Je[We].x1+=Ze,Je[We].y1+=Ye;case"mt":case"lt":case"arc":default:Je[We].x+=Ze,Je[We].y+=Ye}return Je},je=function(Je){return Je.sort(function(Ze,Ye){return Ze-Ye})},Ve=function(Je,Ze){for(var Ye,We,or=this.fillStyle,fr=this.strokeStyle,_r=this.lineCap,yr=this.lineWidth,xr=Math.abs(yr*this.ctx.transform.scaleX),Ar=this.lineJoin,cr=JSON.parse(JSON.stringify(this.path)),ar=JSON.parse(JSON.stringify(this.path)),Qe=[],rr=0;rr<ar.length;rr++)if(ar[rr].x!==void 0)for(var er=Me.call(this,ar[rr]),ur=0;ur<er.length;ur+=1)Qe.indexOf(er[ur])===-1&&Qe.push(er[ur]);for(var Cr=0;Cr<Qe.length;Cr++)for(;this.pdf.internal.getNumberOfPages()<Qe[Cr];)Oe.call(this);if(je(Qe),this.autoPaging)for(var wr=Qe[0],Or=Qe[Qe.length-1],kr=wr;kr<Or+1;kr++){this.pdf.setPage(kr),this.fillStyle=or,this.strokeStyle=fr,this.lineCap=_r,this.lineWidth=xr,this.lineJoin=Ar;var Pr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ir=kr===1?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$r=kr===1?0:Vr+(kr-2)*zr;if(this.ctx.clip_path.length!==0){var Gr=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Be(Ye,this.posX+this.margin[3],-$r+Ir+this.ctx.prevPageLastElemOffset),ze.call(this,Je,!0),this.path=Gr}if(We=JSON.parse(JSON.stringify(cr)),this.path=Be(We,this.posX+this.margin[3],-$r+Ir+this.ctx.prevPageLastElemOffset),Ze===!1||kr===0){var ii=(kr>wr||kr<Or)&&Ie.call(this);ii&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pr,zr,null).clip().discardPath()),ze.call(this,Je,Ze),ii&&this.pdf.restoreGraphicsState()}this.lineWidth=yr}else this.lineWidth=xr,ze.call(this,Je,Ze),this.lineWidth=yr;this.path=cr},ze=function(Je,Ze){if((Je!=="stroke"||Ze||!Fe.call(this))&&(Je==="stroke"||Ze||!xe.call(this))){for(var Ye,We,or=[],fr=this.path,_r=0;_r<fr.length;_r++){var yr=fr[_r];switch(yr.type){case"begin":or.push({begin:!0});break;case"close":or.push({close:!0});break;case"mt":or.push({start:yr,deltas:[],abs:[]});break;case"lt":var xr=or.length;if(fr[_r-1]&&!isNaN(fr[_r-1].x)&&(Ye=[yr.x-fr[_r-1].x,yr.y-fr[_r-1].y],xr>0)){for(;xr>=0;xr--)if(or[xr-1].close!==!0&&or[xr-1].begin!==!0){or[xr-1].deltas.push(Ye),or[xr-1].abs.push(yr);break}}break;case"bct":Ye=[yr.x1-fr[_r-1].x,yr.y1-fr[_r-1].y,yr.x2-fr[_r-1].x,yr.y2-fr[_r-1].y,yr.x-fr[_r-1].x,yr.y-fr[_r-1].y],or[or.length-1].deltas.push(Ye);break;case"qct":var Ar=fr[_r-1].x+2/3*(yr.x1-fr[_r-1].x),cr=fr[_r-1].y+2/3*(yr.y1-fr[_r-1].y),ar=yr.x+2/3*(yr.x1-yr.x),Qe=yr.y+2/3*(yr.y1-yr.y),rr=yr.x,er=yr.y;Ye=[Ar-fr[_r-1].x,cr-fr[_r-1].y,ar-fr[_r-1].x,Qe-fr[_r-1].y,rr-fr[_r-1].x,er-fr[_r-1].y],or[or.length-1].deltas.push(Ye);break;case"arc":or.push({deltas:[],abs:[],arc:!0}),Array.isArray(or[or.length-1].abs)&&or[or.length-1].abs.push(yr)}}We=Ze?null:Je==="stroke"?"stroke":"fill";for(var ur=!1,Cr=0;Cr<or.length;Cr++)if(or[Cr].arc)for(var wr=or[Cr].abs,Or=0;Or<wr.length;Or++){var kr=wr[Or];kr.type==="arc"?Ue.call(this,kr.x,kr.y,kr.radius,kr.startAngle,kr.endAngle,kr.counterclockwise,void 0,Ze,!ur):mr.call(this,kr.x,kr.y),ur=!0}else if(or[Cr].close===!0)this.pdf.internal.out("h"),ur=!1;else if(or[Cr].begin!==!0){var Pr=or[Cr].start.x,Ir=or[Cr].start.y;pr.call(this,or[Cr].deltas,Pr,Ir),ur=!0}We&&Xe.call(this,We),Ze&&nr.call(this)}},He=function(Je){var Ze=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ye=Ze*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Je-Ye;case"top":return Je+Ze-Ye;case"hanging":return Je+Ze-2*Ye;case"middle":return Je+Ze/2-Ye;case"ideographic":return Je;case"alphabetic":default:return Je}},$e=function(Je){return Je+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ke.prototype.createLinearGradient=function(){var Je=function(){};return Je.colorStops=[],Je.addColorStop=function(Ze,Ye){this.colorStops.push([Ze,Ye])},Je.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Je.isCanvasGradient=!0,Je},ke.prototype.createPattern=function(){return this.createLinearGradient()},ke.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ue=function(Je,Ze,Ye,We,or,fr,_r,yr,xr){for(var Ar=dr.call(this,Ye,We,or,fr),cr=0;cr<Ar.length;cr++){var ar=Ar[cr];cr===0&&(xr?Ge.call(this,ar.x1+Je,ar.y1+Ze):mr.call(this,ar.x1+Je,ar.y1+Ze)),vr.call(this,Je,Ze,ar.x2,ar.y2,ar.x3,ar.y3,ar.x4,ar.y4)}yr?nr.call(this):Xe.call(this,_r)},Xe=function(Je){switch(Je){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},nr=function(){this.pdf.clip(),this.pdf.discardPath()},Ge=function(Je,Ze){this.pdf.internal.out(r(Je)+" "+_e(Ze)+" m")},St=function(Je){var Ze;switch(Je.align){case"right":case"end":Ze="right";break;case"center":Ze="center";break;case"left":case"start":default:Ze="left"}var Ye=this.pdf.getTextDimensions(Je.text),We=He.call(this,Je.y),or=$e.call(this,We)-Ye.h,fr=this.ctx.transform.applyToPoint(new Re(Je.x,We)),_r=this.ctx.transform.decompose(),yr=new Ce;yr=(yr=(yr=yr.multiply(_r.translate)).multiply(_r.skew)).multiply(_r.scale);for(var xr,Ar,cr,ar=this.ctx.transform.applyToRectangle(new Ee(Je.x,We,Ye.w,Ye.h)),Qe=yr.applyToRectangle(new Ee(Je.x,or,Ye.w,Ye.h)),rr=Me.call(this,Qe),er=[],ur=0;ur<rr.length;ur+=1)er.indexOf(rr[ur])===-1&&er.push(rr[ur]);if(je(er),this.autoPaging)for(var Cr=er[0],wr=er[er.length-1],Or=Cr;Or<wr+1;Or++){this.pdf.setPage(Or);var kr=Or===1?this.posY+this.margin[0]:this.margin[0],Pr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ir=this.pdf.internal.pageSize.height-this.margin[2],Vr=Ir-this.margin[0],zr=this.pdf.internal.pageSize.width-this.margin[1],$r=zr-this.margin[3],Gr=Or===1?0:Pr+(Or-2)*Vr;if(this.ctx.clip_path.length!==0){var ii=this.path;xr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Be(xr,this.posX+this.margin[3],-1*Gr+kr),ze.call(this,"fill",!0),this.path=ii}var Qr=Be([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Gr+kr+this.ctx.prevPageLastElemOffset)[0];Je.scale>=.01&&(Ar=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ar*Je.scale),cr=this.lineWidth,this.lineWidth=cr*Je.scale);var di=this.autoPaging!=="text";if(di||Qr.y+Qr.h<=Ir){if(di||Qr.y>=kr&&Qr.x<=zr){var Lr=di?Je.text:this.pdf.splitTextToSize(Je.text,Je.maxWidth||zr-Qr.x)[0],Hr=Be([JSON.parse(JSON.stringify(ar))],this.posX+this.margin[3],-Gr+kr+this.ctx.prevPageLastElemOffset)[0],jr=di&&(Or>Cr||Or<wr)&&Ie.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$r,Vr,null).clip().discardPath()),this.pdf.text(Lr,Hr.x,Hr.y,{angle:Je.angle,align:Ze,renderingMode:Je.renderingMode}),jr&&this.pdf.restoreGraphicsState()}}else Qr.y<Ir&&(this.ctx.prevPageLastElemOffset+=Ir-Qr.y);Je.scale>=.01&&(this.pdf.setFontSize(Ar),this.lineWidth=cr)}else Je.scale>=.01&&(Ar=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ar*Je.scale),cr=this.lineWidth,this.lineWidth=cr*Je.scale),this.pdf.text(Je.text,fr.x+this.posX,fr.y+this.posY,{angle:Je.angle,align:Ze,renderingMode:Je.renderingMode,maxWidth:Je.maxWidth}),Je.scale>=.01&&(this.pdf.setFontSize(Ar),this.lineWidth=cr)},mr=function(Je,Ze,Ye,We){Ye=Ye||0,We=We||0,this.pdf.internal.out(r(Je+Ye)+" "+_e(Ze+We)+" l")},pr=function(Je,Ze,Ye){return this.pdf.lines(Je,Ze,Ye,null,null)},vr=function(Je,Ze,Ye,We,or,fr,_r,yr){this.pdf.internal.out([e(Se(Ye+Je)),e(Ae(We+Ze)),e(Se(or+Je)),e(Ae(fr+Ze)),e(Se(_r+Je)),e(Ae(yr+Ze)),"c"].join(" "))},dr=function(Je,Ze,Ye,We){for(var or=2*Math.PI,fr=Math.PI/2;Ze>Ye;)Ze-=or;var _r=Math.abs(Ye-Ze);_r<or&&We&&(_r=or-_r);for(var yr=[],xr=We?-1:1,Ar=Ze;_r>1e-5;){var cr=Ar+xr*Math.min(_r,fr);yr.push(gr.call(this,Je,Ar,cr)),_r-=Math.abs(cr-Ar),Ar=cr}return yr},gr=function(Je,Ze,Ye){var We=(Ye-Ze)/2,or=Je*Math.cos(We),fr=Je*Math.sin(We),_r=or,yr=-fr,xr=_r*_r+yr*yr,Ar=xr+_r*or+yr*fr,cr=4/3*(Math.sqrt(2*xr*Ar)-Ar)/(_r*fr-yr*or),ar=_r-cr*yr,Qe=yr+cr*_r,rr=ar,er=-Qe,ur=We+Ze,Cr=Math.cos(ur),wr=Math.sin(ur);return{x1:Je*Math.cos(Ze),y1:Je*Math.sin(Ze),x2:ar*Cr-Qe*wr,y2:ar*wr+Qe*Cr,x3:rr*Cr-er*wr,y3:rr*wr+er*Cr,x4:Je*Math.cos(Ye),y4:Je*Math.sin(Ye)}},sr=function(Je){return 180*Je/Math.PI},tr=function(Je,Ze,Ye,We,or,fr){var _r=Je+.5*(Ye-Je),yr=Ze+.5*(We-Ze),xr=or+.5*(Ye-or),Ar=fr+.5*(We-fr),cr=Math.min(Je,or,_r,xr),ar=Math.max(Je,or,_r,xr),Qe=Math.min(Ze,fr,yr,Ar),rr=Math.max(Ze,fr,yr,Ar);return new Ee(cr,Qe,ar-cr,rr-Qe)},hr=function(Je,Ze,Ye,We,or,fr,_r,yr){var xr,Ar,cr,ar,Qe,rr,er,ur,Cr,wr,Or,kr,Pr,Ir,Vr=Ye-Je,zr=We-Ze,$r=or-Ye,Gr=fr-We,ii=_r-or,Qr=yr-fr;for(Ar=0;Ar<41;Ar++)Cr=(er=(cr=Je+(xr=Ar/40)*Vr)+xr*((Qe=Ye+xr*$r)-cr))+xr*(Qe+xr*(or+xr*ii-Qe)-er),wr=(ur=(ar=Ze+xr*zr)+xr*((rr=We+xr*Gr)-ar))+xr*(rr+xr*(fr+xr*Qr-rr)-ur),Ar==0?(Or=Cr,kr=wr,Pr=Cr,Ir=wr):(Or=Math.min(Or,Cr),kr=Math.min(kr,wr),Pr=Math.max(Pr,Cr),Ir=Math.max(Ir,wr));return new Ee(Math.round(Or),Math.round(kr),Math.round(Pr-Or),Math.round(Ir-kr))},Sr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Je,Ze,Ye=(Je=this.ctx.lineDash,Ze=this.ctx.lineDashOffset,JSON.stringify({lineDash:Je,lineDashOffset:Ze}));this.prevLineDash!==Ye&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ye)}}})(E.API),function(t){var e=function(Ae){var Re,Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie;for(/[^\x00-\xFF]/.test(Ae),Ee=[],Ce=0,Te=(Ae+=Re="\0\0\0\0".slice(Ae.length%4||4)).length;Te>Ce;Ce+=4)(De=(Ae.charCodeAt(Ce)<<24)+(Ae.charCodeAt(Ce+1)<<16)+(Ae.charCodeAt(Ce+2)<<8)+Ae.charCodeAt(Ce+3))!==0?(ke=(De=((De=((De=((De=(De-(Ie=De%85))/85)-(Fe=De%85))/85)-(xe=De%85))/85)-(Pe=De%85))/85)%85,Ee.push(ke+33,Pe+33,xe+33,Fe+33,Ie+33)):Ee.push(122);return function(Me,Oe){for(var Be=Oe;Be>0;Be--)Me.pop()}(Ee,Re.length),String.fromCharCode.apply(String,Ee)+"~>"},r=function(Ae){var Re,Ee,Ce,Te,De,ke=String,Pe="length",xe=255,Fe="charCodeAt",Ie="slice",Me="replace";for(Ae[Ie](-2),Ae=Ae[Ie](0,-2)[Me](/\s/g,"")[Me]("z","!!!!!"),Ce=[],Te=0,De=(Ae+=Re="uuuuu"[Ie](Ae[Pe]%5||5))[Pe];De>Te;Te+=5)Ee=52200625*(Ae[Fe](Te)-33)+614125*(Ae[Fe](Te+1)-33)+7225*(Ae[Fe](Te+2)-33)+85*(Ae[Fe](Te+3)-33)+(Ae[Fe](Te+4)-33),Ce.push(xe&Ee>>24,xe&Ee>>16,xe&Ee>>8,xe&Ee);return function(Oe,Be){for(var je=Be;je>0;je--)Oe.pop()}(Ce,Re[Pe]),ke.fromCharCode.apply(ke,Ce)},_e=function(Ae){var Re=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ae=Ae.replace(/\s/g,"")).indexOf(">")!==-1&&(Ae=Ae.substr(0,Ae.indexOf(">"))),Ae.length%2&&(Ae+="0"),Re.test(Ae)===!1)return"";for(var Ee="",Ce=0;Ce<Ae.length;Ce+=2)Ee+=String.fromCharCode("0x"+(Ae[Ce]+Ae[Ce+1]));return Ee},Se=function(Ae){for(var Re=new Uint8Array(Ae.length),Ee=Ae.length;Ee--;)Re[Ee]=Ae.charCodeAt(Ee);return Ae=(Re=zlibSync(Re)).reduce(function(Ce,Te){return Ce+String.fromCharCode(Te)},"")};t.processDataByFilters=function(Ae,Re){var Ee=0,Ce=Ae||"",Te=[];for(typeof(Re=Re||[])=="string"&&(Re=[Re]),Ee=0;Ee<Re.length;Ee+=1)switch(Re[Ee]){case"ASCII85Decode":case"/ASCII85Decode":Ce=r(Ce),Te.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Ce=e(Ce),Te.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Ce=_e(Ce),Te.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Ce=Ce.split("").map(function(De){return("0"+De.charCodeAt().toString(16)).slice(-2)}).join("")+">",Te.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Ce=Se(Ce),Te.push("/FlateDecode");break;default:throw new Error('The filter: "'+Re[Ee]+'" is not implemented')}return{data:Ce,reverseChain:Te.reverse().join(" ")}}}(E.API),function(t){t.loadFile=function(e,r,_e){return function(Se,Ae,Re){Ae=Ae!==!1,Re=typeof Re=="function"?Re:function(){};var Ee=void 0;try{Ee=function(Ce,Te,De){var ke=new XMLHttpRequest,Pe=0,xe=function(Fe){var Ie=Fe.length,Me=[],Oe=String.fromCharCode;for(Pe=0;Pe<Ie;Pe+=1)Me.push(Oe(255&Fe.charCodeAt(Pe)));return Me.join("")};if(ke.open("GET",Ce,!Te),ke.overrideMimeType("text/plain; charset=x-user-defined"),Te===!1&&(ke.onload=function(){ke.status===200?De(xe(this.responseText)):De(void 0)}),ke.send(null),Te&&ke.status===200)return xe(ke.responseText)}(Se,Ae,Re)}catch{}return Ee}(e,r,_e)},t.loadImageFile=t.loadFile}(E.API),function(t){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.5a82863d.js"),[],import.meta.url)).catch(function(Re){return Promise.reject(new Error("Could not load html2canvas: "+Re))}).then(function(Re){return Re.default?Re.default:Re})}function r(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.ab249ccb.js"),[],import.meta.url)).catch(function(Re){return Promise.reject(new Error("Could not load dompurify: "+Re))}).then(function(Re){return Re.default?Re.default:Re})}var _e=function(Re){var Ee=_typeof(Re);return Ee==="undefined"?"undefined":Ee==="string"||Re instanceof String?"string":Ee==="number"||Re instanceof Number?"number":Ee==="function"||Re instanceof Function?"function":Re&&Re.constructor===Array?"array":Re&&Re.nodeType===1?"element":Ee==="object"?"object":"unknown"},Se=function(Re,Ee){var Ce=document.createElement(Re);for(var Te in Ee.className&&(Ce.className=Ee.className),Ee.innerHTML&&Ee.dompurify&&(Ce.innerHTML=Ee.dompurify.sanitize(Ee.innerHTML)),Ee.style)Ce.style[Te]=Ee.style[Te];return Ce},Ae=function Re(Ee){var Ce=Object.assign(Re.convert(Promise.resolve()),JSON.parse(JSON.stringify(Re.template))),Te=Re.convert(Promise.resolve(),Ce);return Te=(Te=Te.setProgress(1,Re,1,[Re])).set(Ee)};(Ae.prototype=Object.create(Promise.prototype)).constructor=Ae,Ae.convert=function(Re,Ee){return Re.__proto__=Ee||Ae.prototype,Re},Ae.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ae.prototype.from=function(Re,Ee){return this.then(function(){switch(Ee=Ee||function(Ce){switch(_e(Ce)){case"string":return"string";case"element":return Ce.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Re)){case"string":return this.then(r).then(function(Ce){return this.set({src:Se("div",{innerHTML:Re,dompurify:Ce})})});case"element":return this.set({src:Re});case"canvas":return this.set({canvas:Re});case"img":return this.set({img:Re});default:return this.error("Unknown source type.")}})},Ae.prototype.to=function(Re){switch(Re){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ae.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Re={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ee=function Ce(Te,De){for(var ke=Te.nodeType===3?document.createTextNode(Te.nodeValue):Te.cloneNode(!1),Pe=Te.firstChild;Pe;Pe=Pe.nextSibling)De!==!0&&Pe.nodeType===1&&Pe.nodeName==="SCRIPT"||ke.appendChild(Ce(Pe,De));return Te.nodeType===1&&(Te.nodeName==="CANVAS"?(ke.width=Te.width,ke.height=Te.height,ke.getContext("2d").drawImage(Te,0,0)):Te.nodeName!=="TEXTAREA"&&Te.nodeName!=="SELECT"||(ke.value=Te.value),ke.addEventListener("load",function(){ke.scrollTop=Te.scrollTop,ke.scrollLeft=Te.scrollLeft},!0)),ke}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ee.tagName==="BODY"&&(Re.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Se("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Se("div",{className:"html2pdf__container",style:Re}),this.prop.container.appendChild(Ee),this.prop.container.firstChild.appendChild(Se("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ae.prototype.toCanvas=function(){var Re=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Re).then(e).then(function(Ee){var Ce=Object.assign({},this.opt.html2canvas);return delete Ce.onrendered,Ee(this.prop.container,Ce)}).then(function(Ee){(this.opt.html2canvas.onrendered||function(){})(Ee),this.prop.canvas=Ee,document.body.removeChild(this.prop.overlay)})},Ae.prototype.toContext2d=function(){var Re=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Re).then(e).then(function(Ee){var Ce=this.opt.jsPDF,Te=this.opt.fontFaces,De=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,ke=Object.assign({async:!0,allowTaint:!0,scale:De,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete ke.onrendered,Ce.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Ce.context2d.posX=this.opt.x,Ce.context2d.posY=this.opt.y,Ce.context2d.margin=this.opt.margin,Ce.context2d.fontFaces=Te,Te)for(var Pe=0;Pe<Te.length;++Pe){var xe=Te[Pe],Fe=xe.src.find(function(Ie){return Ie.format==="truetype"});Fe&&Ce.addFont(Fe.url,xe.ref.name,xe.ref.style)}return ke.windowHeight=ke.windowHeight||0,ke.windowHeight=ke.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):ke.windowHeight,Ce.context2d.save(!0),Ee(this.prop.container,ke)}).then(function(Ee){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ee),this.prop.canvas=Ee,document.body.removeChild(this.prop.overlay)})},Ae.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Re=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Re})},Ae.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ae.prototype.output=function(Re,Ee,Ce){return(Ce=Ce||"pdf").toLowerCase()==="img"||Ce.toLowerCase()==="image"?this.outputImg(Re,Ee):this.outputPdf(Re,Ee)},Ae.prototype.outputPdf=function(Re,Ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Re,Ee)})},Ae.prototype.outputImg=function(Re){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Re){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Re+'" is not supported.'}})},Ae.prototype.save=function(Re){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Re?{filename:Re}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ae.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ae.prototype.set=function(Re){if(_e(Re)!=="object")return this;var Ee=Object.keys(Re||{}).map(function(Ce){if(Ce in Ae.template.prop)return function(){this.prop[Ce]=Re[Ce]};switch(Ce){case"margin":return this.setMargin.bind(this,Re.margin);case"jsPDF":return function(){return this.opt.jsPDF=Re.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Re.pageSize);default:return function(){this.opt[Ce]=Re[Ce]}}},this);return this.then(function(){return this.thenList(Ee)})},Ae.prototype.get=function(Re,Ee){return this.then(function(){var Ce=Re in Ae.template.prop?this.prop[Re]:this.opt[Re];return Ee?Ee(Ce):Ce})},Ae.prototype.setMargin=function(Re){return this.then(function(){switch(_e(Re)){case"number":Re=[Re,Re,Re,Re];case"array":if(Re.length===2&&(Re=[Re[0],Re[1],Re[0],Re[1]]),Re.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Re}).then(this.setPageSize)},Ae.prototype.setPageSize=function(Re){function Ee(Ce,Te){return Math.floor(Ce*Te/72*96)}return this.then(function(){(Re=Re||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Re.inner={width:Re.width-this.opt.margin[1]-this.opt.margin[3],height:Re.height-this.opt.margin[0]-this.opt.margin[2]},Re.inner.px={width:Ee(Re.inner.width,Re.k),height:Ee(Re.inner.height,Re.k)},Re.inner.ratio=Re.inner.height/Re.inner.width),this.prop.pageSize=Re})},Ae.prototype.setProgress=function(Re,Ee,Ce,Te){return Re!=null&&(this.progress.val=Re),Ee!=null&&(this.progress.state=Ee),Ce!=null&&(this.progress.n=Ce),Te!=null&&(this.progress.stack=Te),this.progress.ratio=this.progress.val/this.progress.state,this},Ae.prototype.updateProgress=function(Re,Ee,Ce,Te){return this.setProgress(Re?this.progress.val+Re:null,Ee||null,Ce?this.progress.n+Ce:null,Te?this.progress.stack.concat(Te):null)},Ae.prototype.then=function(Re,Ee){var Ce=this;return this.thenCore(Re,Ee,function(Te,De){return Ce.updateProgress(null,null,1,[Te]),Promise.prototype.then.call(this,function(ke){return Ce.updateProgress(null,Te),ke}).then(Te,De).then(function(ke){return Ce.updateProgress(1),ke})})},Ae.prototype.thenCore=function(Re,Ee,Ce){Ce=Ce||Promise.prototype.then,Re&&(Re=Re.bind(this)),Ee&&(Ee=Ee.bind(this));var Te=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Ae.convert(Object.assign({},this),Promise.prototype),De=Ce.call(Te,Re,Ee);return Ae.convert(De,this.__proto__)},Ae.prototype.thenExternal=function(Re,Ee){return Promise.prototype.then.call(this,Re,Ee)},Ae.prototype.thenList=function(Re){var Ee=this;return Re.forEach(function(Ce){Ee=Ee.thenCore(Ce)}),Ee},Ae.prototype.catch=function(Re){Re&&(Re=Re.bind(this));var Ee=Promise.prototype.catch.call(this,Re);return Ae.convert(Ee,this)},Ae.prototype.catchExternal=function(Re){return Promise.prototype.catch.call(this,Re)},Ae.prototype.error=function(Re){return this.then(function(){throw new Error(Re)})},Ae.prototype.using=Ae.prototype.set,Ae.prototype.saveAs=Ae.prototype.save,Ae.prototype.export=Ae.prototype.output,Ae.prototype.run=Ae.prototype.then,E.getPageSize=function(Re,Ee,Ce){if(_typeof(Re)==="object"){var Te=Re;Re=Te.orientation,Ee=Te.unit||Ee,Ce=Te.format||Ce}Ee=Ee||"mm",Ce=Ce||"a4",Re=(""+(Re||"P")).toLowerCase();var De,ke=(""+Ce).toLowerCase(),Pe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ee){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=.75;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:throw"Invalid unit: "+Ee}var xe,Fe=0,Ie=0;if(Pe.hasOwnProperty(ke))Fe=Pe[ke][1]/De,Ie=Pe[ke][0]/De;else try{Fe=Ce[1],Ie=Ce[0]}catch{throw new Error("Invalid format: "+Ce)}if(Re==="p"||Re==="portrait")Re="p",Ie>Fe&&(xe=Ie,Ie=Fe,Fe=xe);else{if(Re!=="l"&&Re!=="landscape")throw"Invalid orientation: "+Re;Re="l",Fe>Ie&&(xe=Ie,Ie=Fe,Fe=xe)}return{width:Ie,height:Fe,unit:Ee,k:De,orientation:Re}},t.html=function(Re,Ee){(Ee=Ee||{}).callback=Ee.callback||function(){},Ee.html2canvas=Ee.html2canvas||{},Ee.html2canvas.canvas=Ee.html2canvas.canvas||this.canvas,Ee.jsPDF=Ee.jsPDF||this,Ee.fontFaces=Ee.fontFaces?Ee.fontFaces.map(jt):null;var Ce=new Ae(Ee);return Ee.worker?Ce:Ce.from(Re).doCallback()}}(E.API),E.API.addJS=function(t){return Ht=t,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,_e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Se=r.outline.render().split(/\r\n/),Ae=0;Ae<Se.length;Ae++){var Re=Se[Ae],Ee=_e.exec(Re);if(Ee!=null){var Ce=Ee[1];r.internal.newObjectDeferredBegin(Ce,!1)}r.internal.write(Re)}if(this.outline.createNamedDestinations){var Te=this.internal.pages.length,De=[];for(Ae=0;Ae<Te;Ae++){var ke=r.internal.newObject();De.push(ke);var Pe=r.internal.getPageInfo(Ae+1);r.internal.write("<< /D["+Pe.objId+" 0 R /XYZ null null null]>> endobj")}var xe=r.internal.newObject();for(r.internal.write("<< /Names [ "),Ae=0;Ae<De.length;Ae++)r.internal.write("(page_"+(Ae+1)+")"+De[Ae]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+xe+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(_e,Se,Ae){var Re={title:Se,options:Ae,children:[]};return _e==null&&(_e=this.root),_e.children.push(Re),Re},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(_e){_e.id=r.internal.newObjectDeferred();for(var Se=0;Se<_e.children.length;Se++)this.genIds_r(_e.children[Se])},r.outline.renderRoot=function(_e){this.objStart(_e),this.line("/Type /Outlines"),_e.children.length>0&&(this.line("/First "+this.makeRef(_e.children[0])),this.line("/Last "+this.makeRef(_e.children[_e.children.length-1]))),this.line("/Count "+this.count_r({count:0},_e)),this.objEnd()},r.outline.renderItems=function(_e){for(var Se=this.ctx.pdf.internal.getVerticalCoordinateString,Ae=0;Ae<_e.children.length;Ae++){var Re=_e.children[Ae];this.objStart(Re),this.line("/Title "+this.makeString(Re.title)),this.line("/Parent "+this.makeRef(_e)),Ae>0&&this.line("/Prev "+this.makeRef(_e.children[Ae-1])),Ae<_e.children.length-1&&this.line("/Next "+this.makeRef(_e.children[Ae+1])),Re.children.length>0&&(this.line("/First "+this.makeRef(Re.children[0])),this.line("/Last "+this.makeRef(Re.children[Re.children.length-1])));var Ee=this.count=this.count_r({count:0},Re);if(Ee>0&&this.line("/Count "+Ee),Re.options&&Re.options.pageNumber){var Ce=r.internal.getPageInfo(Re.options.pageNumber);this.line("/Dest ["+Ce.objId+" 0 R /XYZ 0 "+Se(0)+" 0]")}this.objEnd()}for(var Te=0;Te<_e.children.length;Te++)this.renderItems(_e.children[Te])},r.outline.line=function(_e){this.ctx.val+=_e+`\r
`},r.outline.makeRef=function(_e){return _e.id+" 0 R"},r.outline.makeString=function(_e){return"("+r.internal.pdfEscape(_e)+")"},r.outline.objStart=function(_e){this.ctx.val+=`\r
`+_e.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(_e,Se){for(var Ae=0;Ae<Se.children.length;Ae++)_e.count++,this.count_r(_e,Se.children[Ae]);return _e.count}}])}(E.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,_e,Se,Ae,Re,Ee){var Ce,Te=this.decode.DCT_DECODE,De=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=Re||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(Ce=function(ke){for(var Pe,xe=256*ke.charCodeAt(4)+ke.charCodeAt(5),Fe=ke.length,Ie={width:0,height:0,numcomponents:1},Me=4;Me<Fe;Me+=2){if(Me+=xe,e.indexOf(ke.charCodeAt(Me+1))!==-1){Pe=256*ke.charCodeAt(Me+5)+ke.charCodeAt(Me+6),Ie={width:256*ke.charCodeAt(Me+7)+ke.charCodeAt(Me+8),height:Pe,numcomponents:ke.charCodeAt(Me+9)};break}xe=256*ke.charCodeAt(Me+2)+ke.charCodeAt(Me+3)}return Ie}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:Ee=this.color_spaces.DEVICE_GRAY;break;case 4:Ee=this.color_spaces.DEVICE_CMYK;break;case 3:Ee=this.color_spaces.DEVICE_RGB}De={data:r,width:Ce.width,height:Ce.height,colorSpace:Ee,bitsPerComponent:8,filter:Te,index:_e,alias:Se}}return De}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var t,e,r;function _e(Ae){var Re,Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je;for(this.data=Ae,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},ke=null;;){switch(Re=this.readUInt32(),Fe=function(){var Ve,ze;for(ze=[],Ve=0;Ve<4;++Ve)ze.push(String.fromCharCode(this.data[this.pos++]));return ze}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Re);break;case"fcTL":ke&&this.animation.frames.push(ke),this.pos+=4,ke={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},De=this.readUInt16(),Te=this.readUInt16()||100,ke.delay=1e3*De/Te,ke.disposeOp=this.data[this.pos++],ke.blendOp=this.data[this.pos++],ke.data=[];break;case"IDAT":case"fdAT":for(Fe==="fdAT"&&(this.pos+=4,Re-=4),Ae=(ke!=null?ke.data:void 0)||this.imgData,Oe=0;0<=Re?Oe<Re:Oe>Re;0<=Re?++Oe:--Oe)Ae.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Ce=this.palette.length/3,this.transparency.indexed=this.read(Re),this.transparency.indexed.length>Ce)throw new Error("More transparent colors than palette size");if((Ie=Ce-this.transparency.indexed.length)>0)for(Be=0;0<=Ie?Be<Ie:Be>Ie;0<=Ie?++Be:--Be)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Re)[0];break;case 2:this.transparency.rgb=this.read(Re)}break;case"tEXt":Pe=(Me=this.read(Re)).indexOf(0),xe=String.fromCharCode.apply(String,Me.slice(0,Pe)),this.text[xe]=String.fromCharCode.apply(String,Me.slice(Pe+1));break;case"IEND":return ke&&this.animation.frames.push(ke),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(je=this.colorType)===4||je===6,Ee=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Ee,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Re}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_e.prototype.read=function(Ae){var Re,Ee;for(Ee=[],Re=0;0<=Ae?Re<Ae:Re>Ae;0<=Ae?++Re:--Re)Ee.push(this.data[this.pos++]);return Ee},_e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.decodePixels=function(Ae){var Re=this.pixelBitlength/8,Ee=new Uint8Array(this.width*this.height*Re),Ce=0,Te=this;if(Ae==null&&(Ae=this.imgData),Ae.length===0)return new Uint8Array(0);function De(ke,Pe,xe,Fe){var Ie,Me,Oe,Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr,hr=Math.ceil((Te.width-ke)/xe),Sr=Math.ceil((Te.height-Pe)/Fe),Je=Te.width==hr&&Te.height==Sr;for(St=Re*hr,nr=Je?Ee:new Uint8Array(St*Sr),Ve=Ae.length,Ge=0,Me=0;Ge<Sr&&Ce<Ve;){switch(Ae[Ce++]){case 0:for(Be=vr=0;vr<St;Be=vr+=1)nr[Me++]=Ae[Ce++];break;case 1:for(Be=dr=0;dr<St;Be=dr+=1)Ie=Ae[Ce++],je=Be<Re?0:nr[Me-Re],nr[Me++]=(Ie+je)%256;break;case 2:for(Be=gr=0;gr<St;Be=gr+=1)Ie=Ae[Ce++],Oe=(Be-Be%Re)/Re,mr=Ge&&nr[(Ge-1)*St+Oe*Re+Be%Re],nr[Me++]=(mr+Ie)%256;break;case 3:for(Be=sr=0;sr<St;Be=sr+=1)Ie=Ae[Ce++],Oe=(Be-Be%Re)/Re,je=Be<Re?0:nr[Me-Re],mr=Ge&&nr[(Ge-1)*St+Oe*Re+Be%Re],nr[Me++]=(Ie+Math.floor((je+mr)/2))%256;break;case 4:for(Be=tr=0;tr<St;Be=tr+=1)Ie=Ae[Ce++],Oe=(Be-Be%Re)/Re,je=Be<Re?0:nr[Me-Re],Ge===0?mr=pr=0:(mr=nr[(Ge-1)*St+Oe*Re+Be%Re],pr=Oe&&nr[(Ge-1)*St+(Oe-1)*Re+Be%Re]),ze=je+mr-pr,He=Math.abs(ze-je),Ue=Math.abs(ze-mr),Xe=Math.abs(ze-pr),$e=He<=Ue&&He<=Xe?je:Ue<=Xe?mr:pr,nr[Me++]=(Ie+$e)%256;break;default:throw new Error("Invalid filter algorithm: "+Ae[Ce-1])}if(!Je){var Ze=((Pe+Ge*Fe)*Te.width+ke)*Re,Ye=Ge*St;for(Be=0;Be<hr;Be+=1){for(var We=0;We<Re;We+=1)Ee[Ze++]=nr[Ye++];Ze+=(xe-1)*Re}}Ge++}}return Ae=unzlibSync(Ae),Te.interlaceMethod==1?(De(0,0,8,8),De(4,0,8,8),De(0,4,4,8),De(2,0,4,4),De(0,2,2,4),De(1,0,2,2),De(0,1,1,2)):De(0,0,1,1),Ee},_e.prototype.decodePalette=function(){var Ae,Re,Ee,Ce,Te,De,ke,Pe,xe;for(Ee=this.palette,De=this.transparency.indexed||[],Te=new Uint8Array((De.length||0)+Ee.length),Ce=0,Ae=0,Re=ke=0,Pe=Ee.length;ke<Pe;Re=ke+=3)Te[Ce++]=Ee[Re],Te[Ce++]=Ee[Re+1],Te[Ce++]=Ee[Re+2],Te[Ce++]=(xe=De[Ae++])!=null?xe:255;return Te},_e.prototype.copyToImageData=function(Ae,Re){var Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe;if(Ce=this.colors,Ie=null,Ee=this.hasAlphaChannel,this.palette.length&&(Ie=(Oe=this._decodedPalette)!=null?Oe:this._decodedPalette=this.decodePalette(),Ce=4,Ee=!0),Fe=(Te=Ae.data||Ae).length,ke=Ie||Re,De=Pe=0,Ce===1)for(;De<Fe;)xe=Ie?4*Re[De/4]:Pe,Me=ke[xe++],Te[De++]=Me,Te[De++]=Me,Te[De++]=Me,Te[De++]=Ee?ke[xe++]:255,Pe=xe;else for(;De<Fe;)xe=Ie?4*Re[De/4]:Pe,Te[De++]=ke[xe++],Te[De++]=ke[xe++],Te[De++]=ke[xe++],Te[De++]=Ee?ke[xe++]:255,Pe=xe},_e.prototype.decode=function(){var Ae;return Ae=new Uint8Array(this.width*this.height*4),this.copyToImageData(Ae,this.decodePixels()),Ae};var Se=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return Se(),t=function(Ae){var Re;if(Se()===!0)return r.width=Ae.width,r.height=Ae.height,r.clearRect(0,0,Ae.width,Ae.height),r.putImageData(Ae,0,0),(Re=new Image).src=e.toDataURL(),Re;throw new Error("This method requires a Browser with Canvas-capability.")},_e.prototype.decodeFrames=function(Ae){var Re,Ee,Ce,Te,De,ke,Pe,xe;if(this.animation){for(xe=[],Ee=De=0,ke=(Pe=this.animation.frames).length;De<ke;Ee=++De)Re=Pe[Ee],Ce=Ae.createImageData(Re.width,Re.height),Te=this.decodePixels(new Uint8Array(Re.data)),this.copyToImageData(Ce,Te),Re.imageData=Ce,xe.push(Re.image=t(Ce));return xe}},_e.prototype.renderFrame=function(Ae,Re){var Ee,Ce,Te;return Ee=(Ce=this.animation.frames)[Re],Te=Ce[Re-1],Re===0&&Ae.clearRect(0,0,this.width,this.height),(Te!=null?Te.disposeOp:void 0)===1?Ae.clearRect(Te.xOffset,Te.yOffset,Te.width,Te.height):(Te!=null?Te.disposeOp:void 0)===2&&Ae.putImageData(Te.imageData,Te.xOffset,Te.yOffset),Ee.blendOp===0&&Ae.clearRect(Ee.xOffset,Ee.yOffset,Ee.width,Ee.height),Ae.drawImage(Ee.image,Ee.xOffset,Ee.yOffset)},_e.prototype.animate=function(Ae){var Re,Ee,Ce,Te,De,ke,Pe=this;return Ee=0,ke=this.animation,Te=ke.numFrames,Ce=ke.frames,De=ke.numPlays,(Re=function(){var xe,Fe;if(xe=Ee++%Te,Fe=Ce[xe],Pe.renderFrame(Ae,xe),Te>1&&Ee/Te<De)return Pe.animation._timeout=setTimeout(Re,Fe.delay)})()},_e.prototype.stopAnimation=function(){var Ae;return clearTimeout((Ae=this.animation)!=null?Ae._timeout:void 0)},_e.prototype.render=function(Ae){var Re,Ee;return Ae._png&&Ae._png.stopAnimation(),Ae._png=this,Ae.width=this.width,Ae.height=this.height,Re=Ae.getContext("2d"),this.animation?(this.decodeFrames(Re),this.animate(Re)):(Ee=Re.createImageData(this.width,this.height),this.copyToImageData(Ee,this.decodePixels()),Re.putImageData(Ee,0,0))},_e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,_e=t[e++]|t[e++]<<8,Se=t[e++],Ae=Se>>7,Re=1<<(7&Se)+1;t[e++],t[e++];var Ee=null,Ce=null;Ae&&(Ee=e,Ce=Re,e+=3*Re);var Te=!0,De=[],ke=0,Pe=null,xe=0,Fe=null;for(this.width=r,this.height=_e;Te&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,Fe=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Ge=t[e++])>=0))throw Error("Invalid block size");if(Ge===0)break;e+=Ge}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var Ie=t[e++];ke=t[e++]|t[e++]<<8,Pe=t[e++],(1&Ie)==0&&(Pe=null),xe=Ie>>2&7,e++;break;case 254:for(;;){if(!((Ge=t[e++])>=0))throw Error("Invalid block size");if(Ge===0)break;e+=Ge}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var Me=t[e++]|t[e++]<<8,Oe=t[e++]|t[e++]<<8,Be=t[e++]|t[e++]<<8,je=t[e++]|t[e++]<<8,Ve=t[e++],ze=Ve>>6&1,He=1<<(7&Ve)+1,$e=Ee,Ue=Ce,Xe=!1;Ve>>7&&(Xe=!0,$e=e,Ue=He,e+=3*He);var nr=e;for(e++;;){var Ge;if(!((Ge=t[e++])>=0))throw Error("Invalid block size");if(Ge===0)break;e+=Ge}De.push({x:Me,y:Oe,width:Be,height:je,has_local_palette:Xe,palette_offset:$e,palette_size:Ue,data_offset:nr,data_length:e-nr,transparent_index:Pe,interlaced:!!ze,delay:ke,disposal:xe});break;case 59:Te=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return De.length},this.loopCount=function(){return Fe},this.frameInfo=function(St){if(St<0||St>=De.length)throw new Error("Frame index out of range.");return De[St]},this.decodeAndBlitFrameBGRA=function(St,mr){var pr=this.frameInfo(St),vr=pr.width*pr.height,dr=new Uint8Array(vr);$t(t,pr.data_offset,dr,vr);var gr=pr.palette_offset,sr=pr.transparent_index;sr===null&&(sr=256);var tr=pr.width,hr=r-tr,Sr=tr,Je=4*(pr.y*r+pr.x),Ze=4*((pr.y+pr.height)*r+pr.x),Ye=Je,We=4*hr;pr.interlaced===!0&&(We+=4*r*7);for(var or=8,fr=0,_r=dr.length;fr<_r;++fr){var yr=dr[fr];if(Sr===0&&(Sr=tr,(Ye+=We)>=Ze&&(We=4*hr+4*r*(or-1),Ye=Je+(tr+hr)*(or<<1),or>>=1)),yr===sr)Ye+=4;else{var xr=t[gr+3*yr],Ar=t[gr+3*yr+1],cr=t[gr+3*yr+2];mr[Ye++]=cr,mr[Ye++]=Ar,mr[Ye++]=xr,mr[Ye++]=255}--Sr}},this.decodeAndBlitFrameRGBA=function(St,mr){var pr=this.frameInfo(St),vr=pr.width*pr.height,dr=new Uint8Array(vr);$t(t,pr.data_offset,dr,vr);var gr=pr.palette_offset,sr=pr.transparent_index;sr===null&&(sr=256);var tr=pr.width,hr=r-tr,Sr=tr,Je=4*(pr.y*r+pr.x),Ze=4*((pr.y+pr.height)*r+pr.x),Ye=Je,We=4*hr;pr.interlaced===!0&&(We+=4*r*7);for(var or=8,fr=0,_r=dr.length;fr<_r;++fr){var yr=dr[fr];if(Sr===0&&(Sr=tr,(Ye+=We)>=Ze&&(We=4*hr+4*r*(or-1),Ye=Je+(tr+hr)*(or<<1),or>>=1)),yr===sr)Ye+=4;else{var xr=t[gr+3*yr],Ar=t[gr+3*yr+1],cr=t[gr+3*yr+2];mr[Ye++]=xr,mr[Ye++]=Ar,mr[Ye++]=cr,mr[Ye++]=255}--Sr}}}function $t(t,e,r,_e){for(var Se=t[e++],Ae=1<<Se,Re=Ae+1,Ee=Re+1,Ce=Se+1,Te=(1<<Ce)-1,De=0,ke=0,Pe=0,xe=t[e++],Fe=new Int32Array(4096),Ie=null;;){for(;De<16&&xe!==0;)ke|=t[e++]<<De,De+=8,xe===1?xe=t[e++]:--xe;if(De<Ce)break;var Me=ke&Te;if(ke>>=Ce,De-=Ce,Me!==Ae){if(Me===Re)break;for(var Oe=Me<Ee?Me:Ie,Be=0,je=Oe;je>Ae;)je=Fe[je]>>8,++Be;var Ve=je;if(Pe+Be+(Oe!==Me?1:0)>_e)return void a.log("Warning, gif stream longer than expected.");r[Pe++]=Ve;var ze=Pe+=Be;for(Oe!==Me&&(r[Pe++]=Ve),je=Oe;Be--;)je=Fe[je],r[--ze]=255&je,je>>=8;Ie!==null&&Ee<4096&&(Fe[Ee++]=Ie<<8|Ve,Ee>=Te+1&&Ce<12&&(++Ce,Te=Te<<1|1)),Ie=Me}else Ee=Re+1,Te=(1<<(Ce=Se+1))-1,Ie=null}return Pe!==_e&&a.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(t){var e,r,_e,Se,Ae,Re=Math.floor,Ee=new Array(64),Ce=new Array(64),Te=new Array(64),De=new Array(64),ke=new Array(65535),Pe=new Array(65535),xe=new Array(64),Fe=new Array(64),Ie=[],Me=0,Oe=7,Be=new Array(64),je=new Array(64),Ve=new Array(64),ze=new Array(256),He=new Array(2048),$e=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ue=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Xe=[0,1,2,3,4,5,6,7,8,9,10,11],nr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],St=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],mr=[0,1,2,3,4,5,6,7,8,9,10,11],pr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],vr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function dr(Je,Ze){for(var Ye=0,We=0,or=new Array,fr=1;fr<=16;fr++){for(var _r=1;_r<=Je[fr];_r++)or[Ze[We]]=[],or[Ze[We]][0]=Ye,or[Ze[We]][1]=fr,We++,Ye++;Ye*=2}return or}function gr(Je){for(var Ze=Je[0],Ye=Je[1]-1;Ye>=0;)Ze&1<<Ye&&(Me|=1<<Oe),Ye--,--Oe<0&&(Me==255?(sr(255),sr(0)):sr(Me),Oe=7,Me=0)}function sr(Je){Ie.push(Je)}function tr(Je){sr(Je>>8&255),sr(255&Je)}function hr(Je,Ze,Ye,We,or){for(var fr,_r=or[0],yr=or[240],xr=function(wr,Or){var kr,Pr,Ir,Vr,zr,$r,Gr,ii,Qr,di,Lr=0;for(Qr=0;Qr<8;++Qr){kr=wr[Lr],Pr=wr[Lr+1],Ir=wr[Lr+2],Vr=wr[Lr+3],zr=wr[Lr+4],$r=wr[Lr+5],Gr=wr[Lr+6];var Hr=kr+(ii=wr[Lr+7]),jr=kr-ii,ci=Pr+Gr,vi=Pr-Gr,qr=Ir+$r,ni=Ir-$r,fi=Vr+zr,Ai=Vr-zr,Di=Hr+fi,Oi=Hr-fi,Ri=ci+qr,ki=ci-qr;wr[Lr]=Di+Ri,wr[Lr+4]=Di-Ri;var Ci=.707106781*(ki+Oi);wr[Lr+2]=Oi+Ci,wr[Lr+6]=Oi-Ci;var wi=.382683433*((Di=Ai+ni)-(ki=vi+jr)),Yi=.5411961*Di+wi,Ti=1.306562965*ki+wi,si=.707106781*(Ri=ni+vi),Si=jr+si,hi=jr-si;wr[Lr+5]=hi+Yi,wr[Lr+3]=hi-Yi,wr[Lr+1]=Si+Ti,wr[Lr+7]=Si-Ti,Lr+=8}for(Lr=0,Qr=0;Qr<8;++Qr){kr=wr[Lr],Pr=wr[Lr+8],Ir=wr[Lr+16],Vr=wr[Lr+24],zr=wr[Lr+32],$r=wr[Lr+40],Gr=wr[Lr+48];var xi=kr+(ii=wr[Lr+56]),ji=kr-ii,Li=Pr+Gr,Ii=Pr-Gr,Vi=Ir+$r,tn=Ir-$r,qi=Vr+zr,Ji=Vr-zr,an=xi+qi,Gi=xi-qi,Wi=Li+Vi,Zi=Li-Vi;wr[Lr]=an+Wi,wr[Lr+32]=an-Wi;var wn=.707106781*(Zi+Gi);wr[Lr+16]=Gi+wn,wr[Lr+48]=Gi-wn;var An=.382683433*((an=Ji+tn)-(Zi=Ii+ji)),hn=.5411961*an+An,rn=1.306562965*Zi+An,kn=.707106781*(Wi=tn+Ii),is=ji+kn,cs=ji-kn;wr[Lr+40]=cs+hn,wr[Lr+24]=cs-hn,wr[Lr+8]=is+rn,wr[Lr+56]=is-rn,Lr++}for(Qr=0;Qr<64;++Qr)di=wr[Qr]*Or[Qr],xe[Qr]=di>0?di+.5|0:di-.5|0;return xe}(Je,Ze),Ar=0;Ar<64;++Ar)Fe[$e[Ar]]=xr[Ar];var cr=Fe[0]-Ye;Ye=Fe[0],cr==0?gr(We[0]):(gr(We[Pe[fr=32767+cr]]),gr(ke[fr]));for(var ar=63;ar>0&&Fe[ar]==0;)ar--;if(ar==0)return gr(_r),Ye;for(var Qe,rr=1;rr<=ar;){for(var er=rr;Fe[rr]==0&&rr<=ar;)++rr;var ur=rr-er;if(ur>=16){Qe=ur>>4;for(var Cr=1;Cr<=Qe;++Cr)gr(yr);ur&=15}fr=32767+Fe[rr],gr(or[(ur<<4)+Pe[fr]]),gr(ke[fr]),rr++}return ar!=63&&gr(_r),Ye}function Sr(Je){Je=Math.min(Math.max(Je,1),100),Ae!=Je&&(function(Ze){for(var Ye=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],We=0;We<64;We++){var or=Re((Ye[We]*Ze+50)/100);or=Math.min(Math.max(or,1),255),Ee[$e[We]]=or}for(var fr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_r=0;_r<64;_r++){var yr=Re((fr[_r]*Ze+50)/100);yr=Math.min(Math.max(yr,1),255),Ce[$e[_r]]=yr}for(var xr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ar=0,cr=0;cr<8;cr++)for(var ar=0;ar<8;ar++)Te[Ar]=1/(Ee[$e[Ar]]*xr[cr]*xr[ar]*8),De[Ar]=1/(Ce[$e[Ar]]*xr[cr]*xr[ar]*8),Ar++}(Je<50?Math.floor(5e3/Je):Math.floor(200-2*Je)),Ae=Je)}this.encode=function(Je,Ze){Ze&&Sr(Ze),Ie=new Array,Me=0,Oe=7,tr(65496),tr(65504),tr(16),sr(74),sr(70),sr(73),sr(70),sr(0),sr(1),sr(1),sr(0),tr(1),tr(1),sr(0),sr(0),function(){tr(65499),tr(132),sr(0);for(var Pr=0;Pr<64;Pr++)sr(Ee[Pr]);sr(1);for(var Ir=0;Ir<64;Ir++)sr(Ce[Ir])}(),function(Pr,Ir){tr(65472),tr(17),sr(8),tr(Ir),tr(Pr),sr(3),sr(1),sr(17),sr(0),sr(2),sr(17),sr(1),sr(3),sr(17),sr(1)}(Je.width,Je.height),function(){tr(65476),tr(418),sr(0);for(var Pr=0;Pr<16;Pr++)sr(Ue[Pr+1]);for(var Ir=0;Ir<=11;Ir++)sr(Xe[Ir]);sr(16);for(var Vr=0;Vr<16;Vr++)sr(nr[Vr+1]);for(var zr=0;zr<=161;zr++)sr(Ge[zr]);sr(1);for(var $r=0;$r<16;$r++)sr(St[$r+1]);for(var Gr=0;Gr<=11;Gr++)sr(mr[Gr]);sr(17);for(var ii=0;ii<16;ii++)sr(pr[ii+1]);for(var Qr=0;Qr<=161;Qr++)sr(vr[Qr])}(),tr(65498),tr(12),sr(3),sr(1),sr(0),sr(2),sr(17),sr(3),sr(17),sr(0),sr(63),sr(0);var Ye=0,We=0,or=0;Me=0,Oe=7,this.encode.displayName="_encode_";for(var fr,_r,yr,xr,Ar,cr,ar,Qe,rr,er=Je.data,ur=Je.width,Cr=Je.height,wr=4*ur,Or=0;Or<Cr;){for(fr=0;fr<wr;){for(Ar=wr*Or+fr,ar=-1,Qe=0,rr=0;rr<64;rr++)cr=Ar+(Qe=rr>>3)*wr+(ar=4*(7&rr)),Or+Qe>=Cr&&(cr-=wr*(Or+1+Qe-Cr)),fr+ar>=wr&&(cr-=fr+ar-wr+4),_r=er[cr++],yr=er[cr++],xr=er[cr++],Be[rr]=(He[_r]+He[yr+256>>0]+He[xr+512>>0]>>16)-128,je[rr]=(He[_r+768>>0]+He[yr+1024>>0]+He[xr+1280>>0]>>16)-128,Ve[rr]=(He[_r+1280>>0]+He[yr+1536>>0]+He[xr+1792>>0]>>16)-128;Ye=hr(Be,Te,Ye,e,_e),We=hr(je,De,We,r,Se),or=hr(Ve,De,or,r,Se),fr+=32}Or+=8}if(Oe>=0){var kr=[];kr[1]=Oe+1,kr[0]=(1<<Oe+1)-1,gr(kr)}return tr(65497),new Uint8Array(Ie)},t=t||50,function(){for(var Je=String.fromCharCode,Ze=0;Ze<256;Ze++)ze[Ze]=Je(Ze)}(),e=dr(Ue,Xe),r=dr(St,mr),_e=dr(nr,Ge),Se=dr(pr,vr),function(){for(var Je=1,Ze=2,Ye=1;Ye<=15;Ye++){for(var We=Je;We<Ze;We++)Pe[32767+We]=Ye,ke[32767+We]=[],ke[32767+We][1]=Ye,ke[32767+We][0]=We;for(var or=-(Ze-1);or<=-Je;or++)Pe[32767+or]=Ye,ke[32767+or]=[],ke[32767+or][1]=Ye,ke[32767+or][0]=Ze-1+or;Je<<=1,Ze<<=1}}(),function(){for(var Je=0;Je<256;Je++)He[Je]=19595*Je,He[Je+256>>0]=38470*Je,He[Je+512>>0]=7471*Je+32768,He[Je+768>>0]=-11059*Je,He[Je+1024>>0]=-21709*Je,He[Je+1280>>0]=32768*Je+8421375,He[Je+1536>>0]=-27439*Je,He[Je+1792>>0]=-5329*Je}(),Sr(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(t){function e(Ue){if(!Ue)throw Error("assert :P")}function r(Ue,Xe,nr){for(var Ge=0;4>Ge;Ge++)if(Ue[Xe+Ge]!=nr.charCodeAt(Ge))return!0;return!1}function _e(Ue,Xe,nr,Ge,St){for(var mr=0;mr<St;mr++)Ue[Xe+mr]=nr[Ge+mr]}function Se(Ue,Xe,nr,Ge){for(var St=0;St<Ge;St++)Ue[Xe+St]=nr}function Ae(Ue){return new Int32Array(Ue)}function Re(Ue,Xe){for(var nr=[],Ge=0;Ge<Ue;Ge++)nr.push(new Xe);return nr}function Ee(Ue,Xe){var nr=[];return function Ge(St,mr,pr){for(var vr=pr[mr],dr=0;dr<vr&&(St.push(pr.length>mr+1?[]:new Xe),!(pr.length<mr+1));dr++)Ge(St[dr],mr+1,pr)}(nr,0,Ue),nr}var Ce=function(){var Ue=this;function Xe(qe,Ke){for(var lr=1<<Ke-1>>>0;qe&lr;)lr>>>=1;return lr?(qe&lr-1)+lr:qe}function nr(qe,Ke,lr,br,Er){e(!(br%lr));do qe[Ke+(br-=lr)]=Er;while(0<br)}function Ge(qe,Ke,lr,br,Er){if(e(2328>=Er),512>=Er)var Fr=Ae(512);else if((Fr=Ae(Er))==null)return 0;return function(Mr,Rr,Nr,Br,Xr,ei){var ti,Jr,gi=Rr,ai=1<<Nr,Yr=Ae(16),Kr=Ae(16);for(e(Xr!=0),e(Br!=null),e(Mr!=null),e(0<Nr),Jr=0;Jr<Xr;++Jr){if(15<Br[Jr])return 0;++Yr[Br[Jr]]}if(Yr[0]==Xr)return 0;for(Kr[1]=0,ti=1;15>ti;++ti){if(Yr[ti]>1<<ti)return 0;Kr[ti+1]=Kr[ti]+Yr[ti]}for(Jr=0;Jr<Xr;++Jr)ti=Br[Jr],0<Br[Jr]&&(ei[Kr[ti]++]=Jr);if(Kr[15]==1)return(Br=new St).g=0,Br.value=ei[0],nr(Mr,gi,1,ai,Br),ai;var ui,mi=-1,pi=ai-1,Mi=0,Ei=1,Bi=1,Pi=1<<Nr;for(Jr=0,ti=1,Xr=2;ti<=Nr;++ti,Xr<<=1){if(Ei+=Bi<<=1,0>(Bi-=Yr[ti]))return 0;for(;0<Yr[ti];--Yr[ti])(Br=new St).g=ti,Br.value=ei[Jr++],nr(Mr,gi+Mi,Xr,Pi,Br),Mi=Xe(Mi,ti)}for(ti=Nr+1,Xr=2;15>=ti;++ti,Xr<<=1){if(Ei+=Bi<<=1,0>(Bi-=Yr[ti]))return 0;for(;0<Yr[ti];--Yr[ti]){if(Br=new St,(Mi&pi)!=mi){for(gi+=Pi,ui=1<<(mi=ti)-Nr;15>mi&&!(0>=(ui-=Yr[mi]));)++mi,ui<<=1;ai+=Pi=1<<(ui=mi-Nr),Mr[Rr+(mi=Mi&pi)].g=ui+Nr,Mr[Rr+mi].value=gi-Rr-mi}Br.g=ti-Nr,Br.value=ei[Jr++],nr(Mr,gi+(Mi>>Nr),Xr,Pi,Br),Mi=Xe(Mi,ti)}}return Ei!=2*Kr[15]-1?0:ai}(qe,Ke,lr,br,Er,Fr)}function St(){this.value=this.g=0}function mr(){this.value=this.g=0}function pr(){this.G=Re(5,St),this.H=Ae(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Re(On,mr)}function vr(qe,Ke,lr,br){e(qe!=null),e(Ke!=null),e(2147483648>br),qe.Ca=254,qe.I=0,qe.b=-8,qe.Ka=0,qe.oa=Ke,qe.pa=lr,qe.Jd=Ke,qe.Yc=lr+br,qe.Zc=4<=br?lr+br-4+1:lr,fr(qe)}function dr(qe,Ke){for(var lr=0;0<Ke--;)lr|=yr(qe,128)<<Ke;return lr}function gr(qe,Ke){var lr=dr(qe,Ke);return _r(qe)?-lr:lr}function sr(qe,Ke,lr,br){var Er,Fr=0;for(e(qe!=null),e(Ke!=null),e(4294967288>br),qe.Sb=br,qe.Ra=0,qe.u=0,qe.h=0,4<br&&(br=4),Er=0;Er<br;++Er)Fr+=Ke[lr+Er]<<8*Er;qe.Ra=Fr,qe.bb=br,qe.oa=Ke,qe.pa=lr}function tr(qe){for(;8<=qe.u&&qe.bb<qe.Sb;)qe.Ra>>>=8,qe.Ra+=qe.oa[qe.pa+qe.bb]<<oa-8>>>0,++qe.bb,qe.u-=8;Ye(qe)&&(qe.h=1,qe.u=0)}function hr(qe,Ke){if(e(0<=Ke),!qe.h&&Ke<=aa){var lr=Ze(qe)&sa[Ke];return qe.u+=Ke,tr(qe),lr}return qe.h=1,qe.u=0}function Sr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Je(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ze(qe){return qe.Ra>>>(qe.u&oa-1)>>>0}function Ye(qe){return e(qe.bb<=qe.Sb),qe.h||qe.bb==qe.Sb&&qe.u>oa}function We(qe,Ke){qe.u=Ke,qe.h=Ye(qe)}function or(qe){qe.u>=ja&&(e(qe.u>=ja),tr(qe))}function fr(qe){e(qe!=null&&qe.oa!=null),qe.pa<qe.Zc?(qe.I=(qe.oa[qe.pa++]|qe.I<<8)>>>0,qe.b+=8):(e(qe!=null&&qe.oa!=null),qe.pa<qe.Yc?(qe.b+=8,qe.I=qe.oa[qe.pa++]|qe.I<<8):qe.Ka?qe.b=0:(qe.I<<=8,qe.b+=8,qe.Ka=1))}function _r(qe){return dr(qe,1)}function yr(qe,Ke){var lr=qe.Ca;0>qe.b&&fr(qe);var br=qe.b,Er=lr*Ke>>>8,Fr=(qe.I>>>br>Er)+0;for(Fr?(lr-=Er,qe.I-=Er+1<<br>>>0):lr=Er+1,br=lr,Er=0;256<=br;)Er+=8,br>>=8;return br=7^Er+Rn[br],qe.b-=br,qe.Ca=(lr<<br)-1,Fr}function xr(qe,Ke,lr){qe[Ke+0]=lr>>24&255,qe[Ke+1]=lr>>16&255,qe[Ke+2]=lr>>8&255,qe[Ke+3]=lr>>0&255}function Ar(qe,Ke){return qe[Ke+0]<<0|qe[Ke+1]<<8}function cr(qe,Ke){return Ar(qe,Ke)|qe[Ke+2]<<16}function ar(qe,Ke){return Ar(qe,Ke)|Ar(qe,Ke+2)<<16}function Qe(qe,Ke){var lr=1<<Ke;return e(qe!=null),e(0<Ke),qe.X=Ae(lr),qe.X==null?0:(qe.Mb=32-Ke,qe.Xa=Ke,1)}function rr(qe,Ke){e(qe!=null),e(Ke!=null),e(qe.Xa==Ke.Xa),_e(Ke.X,0,qe.X,0,1<<Ke.Xa)}function er(){this.X=[],this.Xa=this.Mb=0}function ur(qe,Ke,lr,br){e(lr!=null),e(br!=null);var Er=lr[0],Fr=br[0];return Er==0&&(Er=(qe*Fr+Ke/2)/Ke),Fr==0&&(Fr=(Ke*Er+qe/2)/qe),0>=Er||0>=Fr?0:(lr[0]=Er,br[0]=Fr,1)}function Cr(qe,Ke){return qe+(1<<Ke)-1>>>Ke}function wr(qe,Ke){return((4278255360&qe)+(4278255360&Ke)>>>0&4278255360)+((16711935&qe)+(16711935&Ke)>>>0&16711935)>>>0}function Or(qe,Ke){Ue[Ke]=function(lr,br,Er,Fr,Mr,Rr,Nr){var Br;for(Br=0;Br<Mr;++Br){var Xr=Ue[qe](Rr[Nr+Br-1],Er,Fr+Br);Rr[Nr+Br]=wr(lr[br+Br],Xr)}}}function kr(){this.ud=this.hd=this.jd=0}function Pr(qe,Ke){return((4278124286&(qe^Ke))>>>1)+(qe&Ke)>>>0}function Ir(qe){return 0<=qe&&256>qe?qe:0>qe?0:255<qe?255:void 0}function Vr(qe,Ke){return Ir(qe+(qe-Ke+.5>>1))}function zr(qe,Ke,lr){return Math.abs(Ke-lr)-Math.abs(qe-lr)}function $r(qe,Ke,lr,br,Er,Fr,Mr){for(br=Fr[Mr-1],lr=0;lr<Er;++lr)Fr[Mr+lr]=br=wr(qe[Ke+lr],br)}function Gr(qe,Ke,lr,br,Er){var Fr;for(Fr=0;Fr<lr;++Fr){var Mr=qe[Ke+Fr],Rr=Mr>>8&255,Nr=16711935&(Nr=(Nr=16711935&Mr)+((Rr<<16)+Rr));br[Er+Fr]=(4278255360&Mr)+Nr>>>0}}function ii(qe,Ke){Ke.jd=qe>>0&255,Ke.hd=qe>>8&255,Ke.ud=qe>>16&255}function Qr(qe,Ke,lr,br,Er,Fr){var Mr;for(Mr=0;Mr<br;++Mr){var Rr=Ke[lr+Mr],Nr=Rr>>>8,Br=Rr,Xr=255&(Xr=(Xr=Rr>>>16)+((qe.jd<<24>>24)*(Nr<<24>>24)>>>5));Br=255&(Br=(Br=Br+((qe.hd<<24>>24)*(Nr<<24>>24)>>>5))+((qe.ud<<24>>24)*(Xr<<24>>24)>>>5)),Er[Fr+Mr]=(4278255360&Rr)+(Xr<<16)+Br}}function di(qe,Ke,lr,br,Er){Ue[Ke]=function(Fr,Mr,Rr,Nr,Br,Xr,ei,ti,Jr){for(Nr=ei;Nr<ti;++Nr)for(ei=0;ei<Jr;++ei)Br[Xr++]=Er(Rr[br(Fr[Mr++])])},Ue[qe]=function(Fr,Mr,Rr,Nr,Br,Xr,ei){var ti=8>>Fr.b,Jr=Fr.Ea,gi=Fr.K[0],ai=Fr.w;if(8>ti)for(Fr=(1<<Fr.b)-1,ai=(1<<ti)-1;Mr<Rr;++Mr){var Yr,Kr=0;for(Yr=0;Yr<Jr;++Yr)Yr&Fr||(Kr=br(Nr[Br++])),Xr[ei++]=Er(gi[Kr&ai]),Kr>>=ti}else Ue["VP8LMapColor"+lr](Nr,Br,gi,ai,Xr,ei,Mr,Rr,Jr)}}function Lr(qe,Ke,lr,br,Er){for(lr=Ke+lr;Ke<lr;){var Fr=qe[Ke++];br[Er++]=Fr>>16&255,br[Er++]=Fr>>8&255,br[Er++]=Fr>>0&255}}function Hr(qe,Ke,lr,br,Er){for(lr=Ke+lr;Ke<lr;){var Fr=qe[Ke++];br[Er++]=Fr>>16&255,br[Er++]=Fr>>8&255,br[Er++]=Fr>>0&255,br[Er++]=Fr>>24&255}}function jr(qe,Ke,lr,br,Er){for(lr=Ke+lr;Ke<lr;){var Fr=(Mr=qe[Ke++])>>16&240|Mr>>12&15,Mr=Mr>>0&240|Mr>>28&15;br[Er++]=Fr,br[Er++]=Mr}}function ci(qe,Ke,lr,br,Er){for(lr=Ke+lr;Ke<lr;){var Fr=(Mr=qe[Ke++])>>16&248|Mr>>13&7,Mr=Mr>>5&224|Mr>>3&31;br[Er++]=Fr,br[Er++]=Mr}}function vi(qe,Ke,lr,br,Er){for(lr=Ke+lr;Ke<lr;){var Fr=qe[Ke++];br[Er++]=Fr>>0&255,br[Er++]=Fr>>8&255,br[Er++]=Fr>>16&255}}function qr(qe,Ke,lr,br,Er,Fr){if(Fr==0)for(lr=Ke+lr;Ke<lr;)xr(br,((Fr=qe[Ke++])[0]>>24|Fr[1]>>8&65280|Fr[2]<<8&16711680|Fr[3]<<24)>>>0),Er+=32;else _e(br,Er,qe,Ke,lr)}function ni(qe,Ke){Ue[Ke][0]=Ue[qe+"0"],Ue[Ke][1]=Ue[qe+"1"],Ue[Ke][2]=Ue[qe+"2"],Ue[Ke][3]=Ue[qe+"3"],Ue[Ke][4]=Ue[qe+"4"],Ue[Ke][5]=Ue[qe+"5"],Ue[Ke][6]=Ue[qe+"6"],Ue[Ke][7]=Ue[qe+"7"],Ue[Ke][8]=Ue[qe+"8"],Ue[Ke][9]=Ue[qe+"9"],Ue[Ke][10]=Ue[qe+"10"],Ue[Ke][11]=Ue[qe+"11"],Ue[Ke][12]=Ue[qe+"12"],Ue[Ke][13]=Ue[qe+"13"],Ue[Ke][14]=Ue[qe+"0"],Ue[Ke][15]=Ue[qe+"0"]}function fi(qe){return qe==bl||qe==Sl||qe==xo||qe==wl}function Ai(){this.eb=[],this.size=this.A=this.fb=0}function Di(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ai,this.f.kb=new Di,this.sd=null}function Ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ki(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ci(qe){return alert("todo:WebPSamplerProcessPlane"),qe.T}function wi(qe,Ke){var lr=qe.T,br=Ke.ba.f.RGBA,Er=br.eb,Fr=br.fb+qe.ka*br.A,Mr=qn[Ke.ba.S],Rr=qe.y,Nr=qe.O,Br=qe.f,Xr=qe.N,ei=qe.ea,ti=qe.W,Jr=Ke.cc,gi=Ke.dc,ai=Ke.Mc,Yr=Ke.Nc,Kr=qe.ka,ui=qe.ka+qe.T,mi=qe.U,pi=mi+1>>1;for(Kr==0?Mr(Rr,Nr,null,null,Br,Xr,ei,ti,Br,Xr,ei,ti,Er,Fr,null,null,mi):(Mr(Ke.ec,Ke.fc,Rr,Nr,Jr,gi,ai,Yr,Br,Xr,ei,ti,Er,Fr-br.A,Er,Fr,mi),++lr);Kr+2<ui;Kr+=2)Jr=Br,gi=Xr,ai=ei,Yr=ti,Xr+=qe.Rc,ti+=qe.Rc,Fr+=2*br.A,Mr(Rr,(Nr+=2*qe.fa)-qe.fa,Rr,Nr,Jr,gi,ai,Yr,Br,Xr,ei,ti,Er,Fr-br.A,Er,Fr,mi);return Nr+=qe.fa,qe.j+ui<qe.o?(_e(Ke.ec,Ke.fc,Rr,Nr,mi),_e(Ke.cc,Ke.dc,Br,Xr,pi),_e(Ke.Mc,Ke.Nc,ei,ti,pi),lr--):1&ui||Mr(Rr,Nr,null,null,Br,Xr,ei,ti,Br,Xr,ei,ti,Er,Fr+br.A,null,null,mi),lr}function Yi(qe,Ke,lr){var br=qe.F,Er=[qe.J];if(br!=null){var Fr=qe.U,Mr=Ke.ba.S,Rr=Mr==Ao||Mr==xo;Ke=Ke.ba.f.RGBA;var Nr=[0],Br=qe.ka;Nr[0]=qe.T,qe.Kb&&(Br==0?--Nr[0]:(--Br,Er[0]-=qe.width),qe.j+qe.ka+qe.T==qe.o&&(Nr[0]=qe.o-qe.j-Br));var Xr=Ke.eb;Br=Ke.fb+Br*Ke.A,qe=yo(br,Er[0],qe.width,Fr,Nr,Xr,Br+(Rr?0:3),Ke.A),e(lr==Nr),qe&&fi(Mr)&&Ds(Xr,Br,Rr,Fr,Nr,Ke.A)}return 0}function Ti(qe){var Ke=qe.ma,lr=Ke.ba.S,br=11>lr,Er=lr==wo||lr==Co||lr==Ao||lr==yl||lr==12||fi(lr);if(Ke.memory=null,Ke.Ib=null,Ke.Jb=null,Ke.Nd=null,!Na(Ke.Oa,qe,Er?11:12))return 0;if(Er&&fi(lr)&&bi(),qe.da)alert("todo:use_scaling");else{if(br){if(Ke.Ib=Ci,qe.Kb){if(lr=qe.U+1>>1,Ke.memory=Ae(qe.U+2*lr),Ke.memory==null)return 0;Ke.ec=Ke.memory,Ke.fc=0,Ke.cc=Ke.ec,Ke.dc=Ke.fc+qe.U,Ke.Mc=Ke.cc,Ke.Nc=Ke.dc+lr,Ke.Ib=wi,bi()}}else alert("todo:EmitYUV");Er&&(Ke.Jb=Yi,br&&Zr())}if(br&&!vh){for(qe=0;256>qe;++qe)wc[qe]=89858*(qe-128)+To>>Eo,xc[qe]=-22014*(qe-128)+To,Ac[qe]=-45773*(qe-128),Cc[qe]=113618*(qe-128)+To>>Eo;for(qe=qa;qe<xl;++qe)Ke=76283*(qe-16)+To>>Eo,Ec[qe-qa]=Bn(Ke,255),Tc[qe-qa]=Bn(Ke+8>>4,15);vh=1}return 1}function si(qe){var Ke=qe.ma,lr=qe.U,br=qe.T;return e(!(1&qe.ka)),0>=lr||0>=br?0:(lr=Ke.Ib(qe,Ke),Ke.Jb!=null&&Ke.Jb(qe,Ke,lr),Ke.Dc+=lr,1)}function Si(qe){qe.ma.memory=null}function hi(qe,Ke,lr,br){return hr(qe,8)!=47?0:(Ke[0]=hr(qe,14)+1,lr[0]=hr(qe,14)+1,br[0]=hr(qe,1),hr(qe,3)!=0?0:!qe.h)}function xi(qe,Ke){if(4>qe)return qe+1;var lr=qe-2>>1;return(2+(1&qe)<<lr)+hr(Ke,lr)+1}function ji(qe,Ke){return 120<Ke?Ke-120:1<=(lr=((lr=oc[Ke-1])>>4)*qe+(8-(15&lr)))?lr:1;var lr}function Li(qe,Ke,lr){var br=Ze(lr),Er=qe[Ke+=255&br].g-8;return 0<Er&&(We(lr,lr.u+8),br=Ze(lr),Ke+=qe[Ke].value,Ke+=br&(1<<Er)-1),We(lr,lr.u+qe[Ke].g),qe[Ke].value}function Ii(qe,Ke,lr){return lr.g+=qe.g,lr.value+=qe.value<<Ke>>>0,e(8>=lr.g),qe.g}function Vi(qe,Ke,lr){var br=qe.xc;return e((Ke=br==0?0:qe.vc[qe.md*(lr>>br)+(Ke>>br)])<qe.Wb),qe.Ya[Ke]}function tn(qe,Ke,lr,br){var Er=qe.ab,Fr=qe.c*Ke,Mr=qe.C;Ke=Mr+Ke;var Rr=lr,Nr=br;for(br=qe.Ta,lr=qe.Ua;0<Er--;){var Br=qe.gc[Er],Xr=Mr,ei=Ke,ti=Rr,Jr=Nr,gi=(Nr=br,Rr=lr,Br.Ea);switch(e(Xr<ei),e(ei<=Br.nc),Br.hc){case 2:_o(ti,Jr,(ei-Xr)*gi,Nr,Rr);break;case 0:var ai=Xr,Yr=ei,Kr=Nr,ui=Rr,mi=(Pi=Br).Ea;ai==0&&(gl(ti,Jr,null,null,1,Kr,ui),$r(ti,Jr+1,0,0,mi-1,Kr,ui+1),Jr+=mi,ui+=mi,++ai);for(var pi=1<<Pi.b,Mi=pi-1,Ei=Cr(mi,Pi.b),Bi=Pi.K,Pi=Pi.w+(ai>>Pi.b)*Ei;ai<Yr;){var en=Bi,nn=Pi,Qi=1;for(Va(ti,Jr,Kr,ui-mi,1,Kr,ui);Qi<mi;){var Xi=(Qi&~Mi)+pi;Xi>mi&&(Xi=mi),(0,Es[en[nn++]>>8&15])(ti,Jr+ +Qi,Kr,ui+Qi-mi,Xi-Qi,Kr,ui+Qi),Qi=Xi}Jr+=mi,ui+=mi,++ai&Mi||(Pi+=Ei)}ei!=Br.nc&&_e(Nr,Rr-gi,Nr,Rr+(ei-Xr-1)*gi,gi);break;case 1:for(gi=ti,Yr=Jr,mi=(ti=Br.Ea)-(ui=ti&~(Kr=(Jr=1<<Br.b)-1)),ai=Cr(ti,Br.b),pi=Br.K,Br=Br.w+(Xr>>Br.b)*ai;Xr<ei;){for(Mi=pi,Ei=Br,Bi=new kr,Pi=Yr+ui,en=Yr+ti;Yr<Pi;)ii(Mi[Ei++],Bi),Hn(Bi,gi,Yr,Jr,Nr,Rr),Yr+=Jr,Rr+=Jr;Yr<en&&(ii(Mi[Ei++],Bi),Hn(Bi,gi,Yr,mi,Nr,Rr),Yr+=mi,Rr+=mi),++Xr&Kr||(Br+=ai)}break;case 3:if(ti==Nr&&Jr==Rr&&0<Br.b){for(Yr=Nr,ti=gi=Rr+(ei-Xr)*gi-(ui=(ei-Xr)*Cr(Br.Ea,Br.b)),Jr=Nr,Kr=Rr,ai=[],ui=(mi=ui)-1;0<=ui;--ui)ai[ui]=Jr[Kr+ui];for(ui=mi-1;0<=ui;--ui)Yr[ti+ui]=ai[ui];Jn(Br,Xr,ei,Nr,gi,Nr,Rr)}else Jn(Br,Xr,ei,ti,Jr,Nr,Rr)}Rr=br,Nr=lr}Nr!=lr&&_e(br,lr,Rr,Nr,Fr)}function qi(qe,Ke){var lr=qe.V,br=qe.Ba+qe.c*qe.C,Er=Ke-qe.C;if(e(Ke<=qe.l.o),e(16>=Er),0<Er){var Fr=qe.l,Mr=qe.Ta,Rr=qe.Ua,Nr=Fr.width;if(tn(qe,Er,lr,br),Er=Rr=[Rr],e((lr=qe.C)<(br=Ke)),e(Fr.v<Fr.va),br>Fr.o&&(br=Fr.o),lr<Fr.j){var Br=Fr.j-lr;lr=Fr.j,Er[0]+=Br*Nr}if(lr>=br?lr=0:(Er[0]+=4*Fr.v,Fr.ka=lr-Fr.j,Fr.U=Fr.va-Fr.v,Fr.T=br-lr,lr=1),lr){if(Rr=Rr[0],11>(lr=qe.ca).S){var Xr=lr.f.RGBA,ei=(br=lr.S,Er=Fr.U,Fr=Fr.T,Br=Xr.eb,Xr.A),ti=Fr;for(Xr=Xr.fb+qe.Ma*Xr.A;0<ti--;){var Jr=Mr,gi=Rr,ai=Er,Yr=Br,Kr=Xr;switch(br){case So:Qn(Jr,gi,ai,Yr,Kr);break;case wo:Ts(Jr,gi,ai,Yr,Kr);break;case bl:Ts(Jr,gi,ai,Yr,Kr),Ds(Yr,Kr,0,ai,1,0);break;case oh:la(Jr,gi,ai,Yr,Kr);break;case Co:qr(Jr,gi,ai,Yr,Kr,1);break;case Sl:qr(Jr,gi,ai,Yr,Kr,1),Ds(Yr,Kr,0,ai,1,0);break;case Ao:qr(Jr,gi,ai,Yr,Kr,0);break;case xo:qr(Jr,gi,ai,Yr,Kr,0),Ds(Yr,Kr,1,ai,1,0);break;case yl:as(Jr,gi,ai,Yr,Kr);break;case wl:as(Jr,gi,ai,Yr,Kr),ua(Yr,Kr,ai,1,0);break;case lh:gs(Jr,gi,ai,Yr,Kr);break;default:e(0)}Rr+=Nr,Xr+=ei}qe.Ma+=Fr}else alert("todo:EmitRescaledRowsYUVA");e(qe.Ma<=lr.height)}}qe.C=Ke,e(qe.C<=qe.i)}function Ji(qe){var Ke;if(0<qe.ua)return 0;for(Ke=0;Ke<qe.Wb;++Ke){var lr=qe.Ya[Ke].G,br=qe.Ya[Ke].H;if(0<lr[1][br[1]+0].g||0<lr[2][br[2]+0].g||0<lr[3][br[3]+0].g)return 0}return 1}function an(qe,Ke,lr,br,Er,Fr){if(qe.Z!=0){var Mr=qe.qd,Rr=qe.rd;for(e(Ms[qe.Z]!=null);Ke<lr;++Ke)Ms[qe.Z](Mr,Rr,br,Er,br,Er,Fr),Mr=br,Rr=Er,Er+=Fr;qe.qd=Mr,qe.rd=Rr}}function Gi(qe,Ke){var lr=qe.l.ma,br=lr.Z==0||lr.Z==1?qe.l.j:qe.C;if(br=qe.C<br?br:qe.C,e(Ke<=qe.l.o),Ke>br){var Er=qe.l.width,Fr=lr.ca,Mr=lr.tb+Er*br,Rr=qe.V,Nr=qe.Ba+qe.c*br,Br=qe.gc;e(qe.ab==1),e(Br[0].hc==3),ml(Br[0],br,Ke,Rr,Nr,Fr,Mr),an(lr,br,Ke,Fr,Mr,Er)}qe.C=qe.Ma=Ke}function Wi(qe,Ke,lr,br,Er,Fr,Mr){var Rr=qe.$/br,Nr=qe.$%br,Br=qe.m,Xr=qe.s,ei=lr+qe.$,ti=ei;Er=lr+br*Er;var Jr=lr+br*Fr,gi=280+Xr.ua,ai=qe.Pb?Rr:16777216,Yr=0<Xr.ua?Xr.Wa:null,Kr=Xr.wc,ui=ei<Jr?Vi(Xr,Nr,Rr):null;e(qe.C<Fr),e(Jr<=Er);var mi=!1;e:for(;;){for(;mi||ei<Jr;){var pi=0;if(Rr>=ai){var Mi=ei-lr;e((ai=qe).Pb),ai.wd=ai.m,ai.xd=Mi,0<ai.s.ua&&rr(ai.s.Wa,ai.s.vb),ai=Rr+cc}if(Nr&Kr||(ui=Vi(Xr,Nr,Rr)),e(ui!=null),ui.Qb&&(Ke[ei]=ui.qb,mi=!0),!mi)if(or(Br),ui.jc){pi=Br,Mi=Ke;var Ei=ei,Bi=ui.pd[Ze(pi)&On-1];e(ui.jc),256>Bi.g?(We(pi,pi.u+Bi.g),Mi[Ei]=Bi.value,pi=0):(We(pi,pi.u+Bi.g-256),e(256<=Bi.value),pi=Bi.value),pi==0&&(mi=!0)}else pi=Li(ui.G[0],ui.H[0],Br);if(Br.h)break;if(mi||256>pi){if(!mi)if(ui.nd)Ke[ei]=(ui.qb|pi<<8)>>>0;else{if(or(Br),mi=Li(ui.G[1],ui.H[1],Br),or(Br),Mi=Li(ui.G[2],ui.H[2],Br),Ei=Li(ui.G[3],ui.H[3],Br),Br.h)break;Ke[ei]=(Ei<<24|mi<<16|pi<<8|Mi)>>>0}if(mi=!1,++ei,++Nr>=br&&(Nr=0,++Rr,Mr!=null&&Rr<=Fr&&!(Rr%16)&&Mr(qe,Rr),Yr!=null))for(;ti<ei;)pi=Ke[ti++],Yr.X[(506832829*pi&4294967295)>>>Yr.Mb]=pi}else if(280>pi){if(pi=xi(pi-256,Br),Mi=Li(ui.G[4],ui.H[4],Br),or(Br),Mi=ji(br,Mi=xi(Mi,Br)),Br.h)break;if(ei-lr<Mi||Er-ei<pi)break e;for(Ei=0;Ei<pi;++Ei)Ke[ei+Ei]=Ke[ei+Ei-Mi];for(ei+=pi,Nr+=pi;Nr>=br;)Nr-=br,++Rr,Mr!=null&&Rr<=Fr&&!(Rr%16)&&Mr(qe,Rr);if(e(ei<=Er),Nr&Kr&&(ui=Vi(Xr,Nr,Rr)),Yr!=null)for(;ti<ei;)pi=Ke[ti++],Yr.X[(506832829*pi&4294967295)>>>Yr.Mb]=pi}else{if(!(pi<gi))break e;for(mi=pi-280,e(Yr!=null);ti<ei;)pi=Ke[ti++],Yr.X[(506832829*pi&4294967295)>>>Yr.Mb]=pi;pi=ei,e(!(mi>>>(Mi=Yr).Xa)),Ke[pi]=Mi.X[mi],mi=!0}mi||e(Br.h==Ye(Br))}if(qe.Pb&&Br.h&&ei<Er)e(qe.m.h),qe.a=5,qe.m=qe.wd,qe.$=qe.xd,0<qe.s.ua&&rr(qe.s.vb,qe.s.Wa);else{if(Br.h)break e;Mr!=null&&Mr(qe,Rr>Fr?Fr:Rr),qe.a=0,qe.$=ei-lr}return 1}return qe.a=3,0}function Zi(qe){e(qe!=null),qe.vc=null,qe.yc=null,qe.Ya=null;var Ke=qe.Wa;Ke!=null&&(Ke.X=null),qe.vb=null,e(qe!=null)}function wn(){var qe=new pl;return qe==null?null:(qe.a=0,qe.xb=uh,ni("Predictor","VP8LPredictors"),ni("Predictor","VP8LPredictors_C"),ni("PredictorAdd","VP8LPredictorsAdd"),ni("PredictorAdd","VP8LPredictorsAdd_C"),_o=Gr,Hn=Qr,Qn=Lr,Ts=Hr,as=jr,gs=ci,la=vi,Ue.VP8LMapColor32b=za,Ue.VP8LMapColor8b=vl,qe)}function An(qe,Ke,lr,br,Er){var Fr=1,Mr=[qe],Rr=[Ke],Nr=br.m,Br=br.s,Xr=null,ei=0;e:for(;;){if(lr)for(;Fr&&hr(Nr,1);){var ti=Mr,Jr=Rr,gi=br,ai=1,Yr=gi.m,Kr=gi.gc[gi.ab],ui=hr(Yr,2);if(gi.Oc&1<<ui)Fr=0;else{switch(gi.Oc|=1<<ui,Kr.hc=ui,Kr.Ea=ti[0],Kr.nc=Jr[0],Kr.K=[null],++gi.ab,e(4>=gi.ab),ui){case 0:case 1:Kr.b=hr(Yr,3)+2,ai=An(Cr(Kr.Ea,Kr.b),Cr(Kr.nc,Kr.b),0,gi,Kr.K),Kr.K=Kr.K[0];break;case 3:var mi,pi=hr(Yr,8)+1,Mi=16<pi?0:4<pi?1:2<pi?2:3;if(ti[0]=Cr(Kr.Ea,Mi),Kr.b=Mi,mi=ai=An(pi,1,0,gi,Kr.K)){var Ei,Bi=pi,Pi=Kr,en=1<<(8>>Pi.b),nn=Ae(en);if(nn==null)mi=0;else{var Qi=Pi.K[0],Xi=Pi.w;for(nn[0]=Pi.K[0][0],Ei=1;Ei<1*Bi;++Ei)nn[Ei]=wr(Qi[Xi+Ei],nn[Ei-1]);for(;Ei<4*en;++Ei)nn[Ei]=0;Pi.K[0]=null,Pi.K[0]=nn,mi=1}}ai=mi;break;case 2:break;default:e(0)}Fr=ai}}if(Mr=Mr[0],Rr=Rr[0],Fr&&hr(Nr,1)&&!(Fr=1<=(ei=hr(Nr,4))&&11>=ei)){br.a=3;break e}var cn;if(cn=Fr)t:{var on,Ui,bn,In=br,Sn=Mr,Nn=Rr,sn=ei,Vn=lr,zn=In.m,En=In.s,Pn=[null],Mn=1,Gn=0,os=hc[sn];r:for(;;){if(Vn&&hr(zn,1)){var Tn=hr(zn,3)+2,bs=Cr(Sn,Tn),qs=Cr(Nn,Tn),fa=bs*qs;if(!An(bs,qs,0,In,Pn))break r;for(Pn=Pn[0],En.xc=Tn,on=0;on<fa;++on){var Ls=Pn[on]>>8&65535;Pn[on]=Ls,Ls>=Mn&&(Mn=Ls+1)}}if(zn.h)break r;for(Ui=0;5>Ui;++Ui){var mn=hh[Ui];!Ui&&0<sn&&(mn+=1<<sn),Gn<mn&&(Gn=mn)}var El=Re(Mn*os,St),bh=Mn,Sh=Re(bh,pr);if(Sh==null)var ko=null;else e(65536>=bh),ko=Sh;var Ga=Ae(Gn);if(ko==null||Ga==null||El==null){In.a=1;break r}var Do=El;for(on=bn=0;on<Mn;++on){var rs=ko[on],da=rs.G,pa=rs.H,wh=0,Fo=1,Ch=0;for(Ui=0;5>Ui;++Ui){mn=hh[Ui],da[Ui]=Do,pa[Ui]=bn,!Ui&&0<sn&&(mn+=1<<sn);n:{var Mo,Tl=mn,Lo=In,Wa=Ga,Dc=Do,Fc=bn,Pl=0,Os=Lo.m,Mc=hr(Os,1);if(Se(Wa,0,0,Tl),Mc){var Lc=hr(Os,1)+1,Oc=hr(Os,1),Ah=hr(Os,Oc==0?1:8);Wa[Ah]=1,Lc==2&&(Wa[Ah=hr(Os,8)]=1);var Oo=1}else{var xh=Ae(19),Eh=hr(Os,4)+4;if(19<Eh){Lo.a=3;var Ro=0;break n}for(Mo=0;Mo<Eh;++Mo)xh[ac[Mo]]=hr(Os,3);var kl=void 0,Xa=void 0,Th=Lo,Rc=xh,Io=Tl,Ph=Wa,Dl=0,Rs=Th.m,kh=8,Dh=Re(128,St);i:for(;Ge(Dh,0,7,Rc,19);){if(hr(Rs,1)){var Ic=2+2*hr(Rs,3);if((kl=2+hr(Rs,Ic))>Io)break i}else kl=Io;for(Xa=0;Xa<Io&&kl--;){or(Rs);var Fh=Dh[0+(127&Ze(Rs))];We(Rs,Rs.u+Fh.g);var ga=Fh.value;if(16>ga)Ph[Xa++]=ga,ga!=0&&(kh=ga);else{var Nc=ga==16,Mh=ga-16,Bc=nc[Mh],Lh=hr(Rs,ic[Mh])+Bc;if(Xa+Lh>Io)break i;for(var jc=Nc?kh:0;0<Lh--;)Ph[Xa++]=jc}}Dl=1;break i}Dl||(Th.a=3),Oo=Dl}(Oo=Oo&&!Os.h)&&(Pl=Ge(Dc,Fc,8,Wa,Tl)),Oo&&Pl!=0?Ro=Pl:(Lo.a=3,Ro=0)}if(Ro==0)break r;if(Fo&&sc[Ui]==1&&(Fo=Do[bn].g==0),wh+=Do[bn].g,bn+=Ro,3>=Ui){var Ya,Fl=Ga[0];for(Ya=1;Ya<mn;++Ya)Ga[Ya]>Fl&&(Fl=Ga[Ya]);Ch+=Fl}}if(rs.nd=Fo,rs.Qb=0,Fo&&(rs.qb=(da[3][pa[3]+0].value<<24|da[1][pa[1]+0].value<<16|da[2][pa[2]+0].value)>>>0,wh==0&&256>da[0][pa[0]+0].value&&(rs.Qb=1,rs.qb+=da[0][pa[0]+0].value<<8)),rs.jc=!rs.Qb&&6>Ch,rs.jc){var No,Ss=rs;for(No=0;No<On;++No){var Is=No,Ns=Ss.pd[Is],Bo=Ss.G[0][Ss.H[0]+Is];256<=Bo.value?(Ns.g=Bo.g+256,Ns.value=Bo.value):(Ns.g=0,Ns.value=0,Is>>=Ii(Bo,8,Ns),Is>>=Ii(Ss.G[1][Ss.H[1]+Is],16,Ns),Is>>=Ii(Ss.G[2][Ss.H[2]+Is],0,Ns),Ii(Ss.G[3][Ss.H[3]+Is],24,Ns))}}}En.vc=Pn,En.Wb=Mn,En.Ya=ko,En.yc=El,cn=1;break t}cn=0}if(!(Fr=cn)){br.a=3;break e}if(0<ei){if(Br.ua=1<<ei,!Qe(Br.Wa,ei)){br.a=1,Fr=0;break e}}else Br.ua=0;var Ml=br,Oh=Mr,Vc=Rr,Ll=Ml.s,Ol=Ll.xc;if(Ml.c=Oh,Ml.i=Vc,Ll.md=Cr(Oh,Ol),Ll.wc=Ol==0?-1:(1<<Ol)-1,lr){br.xb=vc;break e}if((Xr=Ae(Mr*Rr))==null){br.a=1,Fr=0;break e}Fr=(Fr=Wi(br,Xr,0,Mr,Rr,Rr,null))&&!Nr.h;break e}return Fr?(Er!=null?Er[0]=Xr:(e(Xr==null),e(lr)),br.$=0,lr||Zi(Br)):Zi(Br),Fr}function hn(qe,Ke){var lr=qe.c*qe.i,br=lr+Ke+16*Ke;return e(qe.c<=Ke),qe.V=Ae(br),qe.V==null?(qe.Ta=null,qe.Ua=0,qe.a=1,0):(qe.Ta=qe.V,qe.Ua=qe.Ba+lr+Ke,1)}function rn(qe,Ke){var lr=qe.C,br=Ke-lr,Er=qe.V,Fr=qe.Ba+qe.c*lr;for(e(Ke<=qe.l.o);0<br;){var Mr=16<br?16:br,Rr=qe.l.ma,Nr=qe.l.width,Br=Nr*Mr,Xr=Rr.ca,ei=Rr.tb+Nr*lr,ti=qe.Ta,Jr=qe.Ua;tn(qe,Mr,Er,Fr),th(ti,Jr,Xr,ei,Br),an(Rr,lr,lr+Mr,Xr,ei,Nr),br-=Mr,Er+=Mr*qe.c,lr+=Mr}e(lr==Ke),qe.C=qe.Ma=Ke}function kn(){this.ub=this.yd=this.td=this.Rb=0}function is(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cs(){this.Fb=this.Bb=this.Cb=0,this.Zb=Ae(4),this.Lb=Ae(4)}function ns(){this.Yb=function(){var qe=[];return function Ke(lr,br,Er){for(var Fr=Er[br],Mr=0;Mr<Fr&&(lr.push(Er.length>br+1?[]:0),!(Er.length<br+1));Mr++)Ke(lr[Mr],br+1,Er)}(qe,0,[3,11]),qe}()}function us(){this.jb=Ae(3),this.Wc=Ee([4,8],ns),this.Xc=Ee([4,17],ns)}function qo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Ae(4),this.od=new Ae(4)}function Ws(){this.ld=this.La=this.dd=this.tc=0}function Qa(){this.Na=this.la=0}function Go(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sa(){this.ad=Ae(384),this.Za=0,this.Ob=Ae(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ws),this.Y=0,this.ya=Array(new Sa),this.aa=0,this.l=new Xs}function Za(){this.y=Ae(16),this.f=Ae(8),this.ea=Ae(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new Sr,this.Od=new kn,this.Kc=new is,this.ed=new qo,this.Qa=new cs,this.Ic=this.$c=this.Aa=0,this.D=new Wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Re(8,Sr),this.ia=0,this.pb=Re(4,Go),this.Pa=new us,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Za),this.Hd=0,this.rb=Array(new Qa),this.sb=0,this.wa=Array(new Ws),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sa),this.L=this.aa=0,this.gd=Ee([4,2],Ws),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yo(){var qe=new Xo;return qe!=null&&(qe.a=0,qe.sc="OK",qe.cb=0,qe.Xb=0,$a||($a=ro)),qe}function vn(qe,Ke,lr){return qe.a==0&&(qe.a=Ke,qe.sc=lr,qe.cb=0),0}function eo(qe,Ke,lr){return 3<=lr&&qe[Ke+0]==157&&qe[Ke+1]==1&&qe[Ke+2]==42}function to(qe,Ke){if(qe==null)return 0;if(qe.a=0,qe.sc="OK",Ke==null)return vn(qe,2,"null VP8Io passed to VP8GetHeaders()");var lr=Ke.data,br=Ke.w,Er=Ke.ha;if(4>Er)return vn(qe,7,"Truncated header.");var Fr=lr[br+0]|lr[br+1]<<8|lr[br+2]<<16,Mr=qe.Od;if(Mr.Rb=!(1&Fr),Mr.td=Fr>>1&7,Mr.yd=Fr>>4&1,Mr.ub=Fr>>5,3<Mr.td)return vn(qe,3,"Incorrect keyframe parameters.");if(!Mr.yd)return vn(qe,4,"Frame not displayable.");br+=3,Er-=3;var Rr=qe.Kc;if(Mr.Rb){if(7>Er)return vn(qe,7,"cannot parse picture header");if(!eo(lr,br,Er))return vn(qe,3,"Bad code word");Rr.c=16383&(lr[br+4]<<8|lr[br+3]),Rr.Td=lr[br+4]>>6,Rr.i=16383&(lr[br+6]<<8|lr[br+5]),Rr.Ud=lr[br+6]>>6,br+=7,Er-=7,qe.za=Rr.c+15>>4,qe.Ub=Rr.i+15>>4,Ke.width=Rr.c,Ke.height=Rr.i,Ke.Da=0,Ke.j=0,Ke.v=0,Ke.va=Ke.width,Ke.o=Ke.height,Ke.da=0,Ke.ib=Ke.width,Ke.hb=Ke.height,Ke.U=Ke.width,Ke.T=Ke.height,Se((Fr=qe.Pa).jb,0,255,Fr.jb.length),e((Fr=qe.Qa)!=null),Fr.Cb=0,Fr.Bb=0,Fr.Fb=1,Se(Fr.Zb,0,0,Fr.Zb.length),Se(Fr.Lb,0,0,Fr.Lb)}if(Mr.ub>Er)return vn(qe,7,"bad partition length");vr(Fr=qe.m,lr,br,Mr.ub),br+=Mr.ub,Er-=Mr.ub,Mr.Rb&&(Rr.Ld=_r(Fr),Rr.Kd=_r(Fr)),Rr=qe.Qa;var Nr,Br=qe.Pa;if(e(Fr!=null),e(Rr!=null),Rr.Cb=_r(Fr),Rr.Cb){if(Rr.Bb=_r(Fr),_r(Fr)){for(Rr.Fb=_r(Fr),Nr=0;4>Nr;++Nr)Rr.Zb[Nr]=_r(Fr)?gr(Fr,7):0;for(Nr=0;4>Nr;++Nr)Rr.Lb[Nr]=_r(Fr)?gr(Fr,6):0}if(Rr.Bb)for(Nr=0;3>Nr;++Nr)Br.jb[Nr]=_r(Fr)?dr(Fr,8):255}else Rr.Bb=0;if(Fr.Ka)return vn(qe,3,"cannot parse segment header");if((Rr=qe.ed).zd=_r(Fr),Rr.Tb=dr(Fr,6),Rr.wb=dr(Fr,3),Rr.Pc=_r(Fr),Rr.Pc&&_r(Fr)){for(Br=0;4>Br;++Br)_r(Fr)&&(Rr.vd[Br]=gr(Fr,6));for(Br=0;4>Br;++Br)_r(Fr)&&(Rr.od[Br]=gr(Fr,6))}if(qe.L=Rr.Tb==0?0:Rr.zd?1:2,Fr.Ka)return vn(qe,3,"cannot parse filter header");var Xr=Er;if(Er=Nr=br,br=Nr+Xr,Rr=Xr,qe.Xb=(1<<dr(qe.m,2))-1,Xr<3*(Br=qe.Xb))lr=7;else{for(Nr+=3*Br,Rr-=3*Br,Xr=0;Xr<Br;++Xr){var ei=lr[Er+0]|lr[Er+1]<<8|lr[Er+2]<<16;ei>Rr&&(ei=Rr),vr(qe.Jc[+Xr],lr,Nr,ei),Nr+=ei,Rr-=ei,Er+=3}vr(qe.Jc[+Br],lr,Nr,Rr),lr=Nr<br?0:5}if(lr!=0)return vn(qe,lr,"cannot parse partitions");for(lr=dr(Nr=qe.m,7),Er=_r(Nr)?gr(Nr,4):0,br=_r(Nr)?gr(Nr,4):0,Rr=_r(Nr)?gr(Nr,4):0,Br=_r(Nr)?gr(Nr,4):0,Nr=_r(Nr)?gr(Nr,4):0,Xr=qe.Qa,ei=0;4>ei;++ei){if(Xr.Cb){var ti=Xr.Zb[ei];Xr.Fb||(ti+=lr)}else{if(0<ei){qe.pb[ei]=qe.pb[0];continue}ti=lr}var Jr=qe.pb[ei];Jr.Sc[0]=Cl[Bn(ti+Er,127)],Jr.Sc[1]=Al[Bn(ti+0,127)],Jr.Eb[0]=2*Cl[Bn(ti+br,127)],Jr.Eb[1]=101581*Al[Bn(ti+Rr,127)]>>16,8>Jr.Eb[1]&&(Jr.Eb[1]=8),Jr.Qc[0]=Cl[Bn(ti+Br,117)],Jr.Qc[1]=Al[Bn(ti+Nr,127)],Jr.lc=ti+Nr}if(!Mr.Rb)return vn(qe,4,"Not a key frame.");for(_r(Fr),Mr=qe.Pa,lr=0;4>lr;++lr){for(Er=0;8>Er;++Er)for(br=0;3>br;++br)for(Rr=0;11>Rr;++Rr)Br=yr(Fr,gc[lr][Er][br][Rr])?dr(Fr,8):dc[lr][Er][br][Rr],Mr.Wc[lr][Er].Yb[br][Rr]=Br;for(Er=0;17>Er;++Er)Mr.Xc[lr][Er]=Mr.Wc[lr][mc[Er]]}return qe.kc=_r(Fr),qe.kc&&(qe.Bd=dr(Fr,8)),qe.cb=1}function ro(qe,Ke,lr,br,Er,Fr,Mr){var Rr=Ke[Er].Yb[lr];for(lr=0;16>Er;++Er){if(!yr(qe,Rr[lr+0]))return Er;for(;!yr(qe,Rr[lr+1]);)if(Rr=Ke[++Er].Yb[0],lr=0,Er==16)return 16;var Nr=Ke[Er+1].Yb;if(yr(qe,Rr[lr+2])){var Br=qe,Xr=0;if(yr(Br,(ti=Rr)[(ei=lr)+3]))if(yr(Br,ti[ei+6])){for(Rr=0,ei=2*(Xr=yr(Br,ti[ei+8]))+(ti=yr(Br,ti[ei+9+Xr])),Xr=0,ti=uc[ei];ti[Rr];++Rr)Xr+=Xr+yr(Br,ti[Rr]);Xr+=3+(8<<ei)}else yr(Br,ti[ei+7])?(Xr=7+2*yr(Br,165),Xr+=yr(Br,145)):Xr=5+yr(Br,159);else Xr=yr(Br,ti[ei+4])?3+yr(Br,ti[ei+5]):2;Rr=Nr[2]}else Xr=1,Rr=Nr[1];Nr=Mr+fc[Er],0>(Br=qe).b&&fr(Br);var ei,ti=Br.b,Jr=(ei=Br.Ca>>1)-(Br.I>>ti)>>31;--Br.b,Br.Ca+=Jr,Br.Ca|=1,Br.I-=(ei+1&Jr)<<ti,Fr[Nr]=((Xr^Jr)-Jr)*br[(0<Er)+0]}return 16}function wa(qe){var Ke=qe.rb[qe.sb-1];Ke.la=0,Ke.Na=0,Se(qe.zc,0,0,qe.zc.length),qe.ja=0}function Ko(qe,Ke){if(qe==null)return 0;if(Ke==null)return vn(qe,2,"NULL VP8Io parameter in VP8Decode().");if(!qe.cb&&!to(qe,Ke))return 0;if(e(qe.cb),Ke.ac==null||Ke.ac(Ke)){Ke.ob&&(qe.L=0);var lr=Po[qe.L];if(qe.L==2?(qe.yb=0,qe.zb=0):(qe.yb=Ke.v-lr>>4,qe.zb=Ke.j-lr>>4,0>qe.yb&&(qe.yb=0),0>qe.zb&&(qe.zb=0)),qe.Va=Ke.o+15+lr>>4,qe.Hb=Ke.va+15+lr>>4,qe.Hb>qe.za&&(qe.Hb=qe.za),qe.Va>qe.Ub&&(qe.Va=qe.Ub),0<qe.L){var br=qe.ed;for(lr=0;4>lr;++lr){var Er;if(qe.Qa.Cb){var Fr=qe.Qa.Lb[lr];qe.Qa.Fb||(Fr+=br.Tb)}else Fr=br.Tb;for(Er=0;1>=Er;++Er){var Mr=qe.gd[lr][Er],Rr=Fr;if(br.Pc&&(Rr+=br.vd[0],Er&&(Rr+=br.od[0])),0<(Rr=0>Rr?0:63<Rr?63:Rr)){var Nr=Rr;0<br.wb&&(Nr=4<br.wb?Nr>>2:Nr>>1)>9-br.wb&&(Nr=9-br.wb),1>Nr&&(Nr=1),Mr.dd=Nr,Mr.tc=2*Rr+Nr,Mr.ld=40<=Rr?2:15<=Rr?1:0}else Mr.tc=0;Mr.La=Er}}}lr=0}else vn(qe,6,"Frame setup failed"),lr=qe.a;if(lr=lr==0){if(lr){qe.$c=0,0<qe.Aa||(qe.Ic=kc);e:{lr=qe.Ic,br=4*(Nr=qe.za);var Br=32*Nr,Xr=Nr+1,ei=0<qe.L?Nr*(0<qe.Aa?2:1):0,ti=(qe.Aa==2?2:1)*Nr;if((Mr=br+832+(Er=3*(16*lr+Po[qe.L])/2*Br)+(Fr=qe.Fa!=null&&0<qe.Fa.length?qe.Kc.c*qe.Kc.i:0))!=Mr)lr=0;else{if(Mr>qe.Vb){if(qe.Vb=0,qe.Ec=Ae(Mr),qe.Fc=0,qe.Ec==null){lr=vn(qe,1,"no memory during frame initialization.");break e}qe.Vb=Mr}Mr=qe.Ec,Rr=qe.Fc,qe.Ac=Mr,qe.Bc=Rr,Rr+=br,qe.Gd=Re(Br,Za),qe.Hd=0,qe.rb=Re(Xr+1,Qa),qe.sb=1,qe.wa=ei?Re(ei,Ws):null,qe.Y=0,qe.D.Nb=0,qe.D.wa=qe.wa,qe.D.Y=qe.Y,0<qe.Aa&&(qe.D.Y+=Nr),e(!0),qe.oc=Mr,qe.pc=Rr,Rr+=832,qe.ya=Re(ti,Sa),qe.aa=0,qe.D.ya=qe.ya,qe.D.aa=qe.aa,qe.Aa==2&&(qe.D.aa+=Nr),qe.R=16*Nr,qe.B=8*Nr,Nr=(Br=Po[qe.L])*qe.R,Br=Br/2*qe.B,qe.sa=Mr,qe.ta=Rr+Nr,qe.qa=qe.sa,qe.ra=qe.ta+16*lr*qe.R+Br,qe.Ha=qe.qa,qe.Ia=qe.ra+8*lr*qe.B+Br,qe.$c=0,Rr+=Er,qe.mb=Fr?Mr:null,qe.nb=Fr?Rr:null,e(Rr+Fr<=qe.Fc+qe.Vb),wa(qe),Se(qe.Ac,qe.Bc,0,br),lr=1}}if(lr){if(Ke.ka=0,Ke.y=qe.sa,Ke.O=qe.ta,Ke.f=qe.qa,Ke.N=qe.ra,Ke.ea=qe.Ha,Ke.Vd=qe.Ia,Ke.fa=qe.R,Ke.Rc=qe.B,Ke.F=null,Ke.J=0,!ah){for(lr=-255;255>=lr;++lr)rh[255+lr]=0>lr?-lr:lr;for(lr=-1020;1020>=lr;++lr)ih[1020+lr]=-128>lr?-128:127<lr?127:lr;for(lr=-112;112>=lr;++lr)nh[112+lr]=-16>lr?-16:15<lr?15:lr;for(lr=-255;510>=lr;++lr)sh[255+lr]=0>lr?0:255<lr?255:lr;ah=1}Zn=Zo,ha=Jo,Ps=no,es=Qo,ms=so,Ha=io,Us=Pa,ca=zs,$s=dl,ks=ka,Ua=ul,Un=ea,vs=Da,un=go,fn=po,_n=ds,Cn=Cs,_s=cl,ts[0]=ss,ts[1]=el,ts[2]=nl,ts[3]=sl,ts[4]=lo,ts[5]=Qs,ts[6]=ho,ts[7]=xa,ts[8]=ol,ts[9]=al,Fs[0]=ao,Fs[1]=rl,Fs[2]=fs,Fs[3]=Ks,Fs[4]=Dn,Fs[5]=il,Fs[6]=oo,ys[0]=ws,ys[1]=tl,ys[2]=ll,ys[3]=Ea,ys[4]=Vs,ys[5]=hl,ys[6]=Ta,lr=1}else lr=0}lr&&(lr=function(Jr,gi){for(Jr.M=0;Jr.M<Jr.Va;++Jr.M){var ai,Yr=Jr.Jc[Jr.M&Jr.Xb],Kr=Jr.m,ui=Jr;for(ai=0;ai<ui.za;++ai){var mi=Kr,pi=ui,Mi=pi.Ac,Ei=pi.Bc+4*ai,Bi=pi.zc,Pi=pi.ya[pi.aa+ai];if(pi.Qa.Bb?Pi.$b=yr(mi,pi.Pa.jb[0])?2+yr(mi,pi.Pa.jb[2]):yr(mi,pi.Pa.jb[1]):Pi.$b=0,pi.kc&&(Pi.Ad=yr(mi,pi.Bd)),Pi.Za=!yr(mi,145)+0,Pi.Za){var en=Pi.Ob,nn=0;for(pi=0;4>pi;++pi){var Qi,Xi=Bi[0+pi];for(Qi=0;4>Qi;++Qi){Xi=pc[Mi[Ei+Qi]][Xi];for(var cn=ch[yr(mi,Xi[0])];0<cn;)cn=ch[2*cn+yr(mi,Xi[cn])];Xi=-cn,Mi[Ei+Qi]=Xi}_e(en,nn,Mi,Ei,4),nn+=4,Bi[0+pi]=Xi}}else Xi=yr(mi,156)?yr(mi,128)?1:3:yr(mi,163)?2:0,Pi.Ob[0]=Xi,Se(Mi,Ei,Xi,4),Se(Bi,0,Xi,4);Pi.Dd=yr(mi,142)?yr(mi,114)?yr(mi,183)?1:3:2:0}if(ui.m.Ka)return vn(Jr,7,"Premature end-of-partition0 encountered.");for(;Jr.ja<Jr.za;++Jr.ja){if(ui=Yr,mi=(Kr=Jr).rb[Kr.sb-1],Mi=Kr.rb[Kr.sb+Kr.ja],ai=Kr.ya[Kr.aa+Kr.ja],Ei=Kr.kc?ai.Ad:0)mi.la=Mi.la=0,ai.Za||(mi.Na=Mi.Na=0),ai.Hc=0,ai.Gc=0,ai.ia=0;else{var on,Ui;if(mi=Mi,Mi=ui,Ei=Kr.Pa.Xc,Bi=Kr.ya[Kr.aa+Kr.ja],Pi=Kr.pb[Bi.$b],pi=Bi.ad,en=0,nn=Kr.rb[Kr.sb-1],Xi=Qi=0,Se(pi,en,0,384),Bi.Za)var bn=0,In=Ei[3];else{cn=Ae(16);var Sn=mi.Na+nn.Na;if(Sn=$a(Mi,Ei[1],Sn,Pi.Eb,0,cn,0),mi.Na=nn.Na=(0<Sn)+0,1<Sn)Zn(cn,0,pi,en);else{var Nn=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)pi[en+cn]=Nn}bn=1,In=Ei[0]}var sn=15&mi.la,Vn=15&nn.la;for(cn=0;4>cn;++cn){var zn=1&Vn;for(Nn=Ui=0;4>Nn;++Nn)sn=sn>>1|(zn=(Sn=$a(Mi,In,Sn=zn+(1&sn),Pi.Sc,bn,pi,en))>bn)<<7,Ui=Ui<<2|(3<Sn?3:1<Sn?2:pi[en+0]!=0),en+=16;sn>>=4,Vn=Vn>>1|zn<<7,Qi=(Qi<<8|Ui)>>>0}for(In=sn,bn=Vn>>4,on=0;4>on;on+=2){for(Ui=0,sn=mi.la>>4+on,Vn=nn.la>>4+on,cn=0;2>cn;++cn){for(zn=1&Vn,Nn=0;2>Nn;++Nn)Sn=zn+(1&sn),sn=sn>>1|(zn=0<(Sn=$a(Mi,Ei[2],Sn,Pi.Qc,0,pi,en)))<<3,Ui=Ui<<2|(3<Sn?3:1<Sn?2:pi[en+0]!=0),en+=16;sn>>=2,Vn=Vn>>1|zn<<5}Xi|=Ui<<4*on,In|=sn<<4<<on,bn|=(240&Vn)<<on}mi.la=In,nn.la=bn,Bi.Hc=Qi,Bi.Gc=Xi,Bi.ia=43690&Xi?0:Pi.ia,Ei=!(Qi|Xi)}if(0<Kr.L&&(Kr.wa[Kr.Y+Kr.ja]=Kr.gd[ai.$b][ai.Za],Kr.wa[Kr.Y+Kr.ja].La|=!Ei),ui.Ka)return vn(Jr,7,"Premature end-of-file encountered.")}if(wa(Jr),Kr=gi,ui=1,ai=(Yr=Jr).D,mi=0<Yr.L&&Yr.M>=Yr.zb&&Yr.M<=Yr.Va,Yr.Aa==0)e:{if(ai.M=Yr.M,ai.uc=mi,Ia(Yr,ai),ui=1,ai=(Ui=Yr.D).Nb,mi=(Xi=Po[Yr.L])*Yr.R,Mi=Xi/2*Yr.B,cn=16*ai*Yr.R,Nn=8*ai*Yr.B,Ei=Yr.sa,Bi=Yr.ta-mi+cn,Pi=Yr.qa,pi=Yr.ra-Mi+Nn,en=Yr.Ha,nn=Yr.Ia-Mi+Nn,Vn=(sn=Ui.M)==0,Qi=sn>=Yr.Va-1,Yr.Aa==2&&Ia(Yr,Ui),Ui.uc)for(zn=(Sn=Yr).D.M,e(Sn.D.uc),Ui=Sn.yb;Ui<Sn.Hb;++Ui){bn=Ui,In=zn;var En=(Pn=(mn=Sn).D).Nb;on=mn.R;var Pn=Pn.wa[Pn.Y+bn],Mn=mn.sa,Gn=mn.ta+16*En*on+16*bn,os=Pn.dd,Tn=Pn.tc;if(Tn!=0)if(e(3<=Tn),mn.L==1)0<bn&&_n(Mn,Gn,on,Tn+4),Pn.La&&_s(Mn,Gn,on,Tn),0<In&&fn(Mn,Gn,on,Tn+4),Pn.La&&Cn(Mn,Gn,on,Tn);else{var bs=mn.B,qs=mn.qa,fa=mn.ra+8*En*bs+8*bn,Ls=mn.Ha,mn=mn.Ia+8*En*bs+8*bn;En=Pn.ld,0<bn&&(ca(Mn,Gn,on,Tn+4,os,En),ks(qs,fa,Ls,mn,bs,Tn+4,os,En)),Pn.La&&(Un(Mn,Gn,on,Tn,os,En),un(qs,fa,Ls,mn,bs,Tn,os,En)),0<In&&(Us(Mn,Gn,on,Tn+4,os,En),$s(qs,fa,Ls,mn,bs,Tn+4,os,En)),Pn.La&&(Ua(Mn,Gn,on,Tn,os,En),vs(qs,fa,Ls,mn,bs,Tn,os,En))}}if(Yr.ia&&alert("todo:DitherRow"),Kr.put!=null){if(Ui=16*sn,sn=16*(sn+1),Vn?(Kr.y=Yr.sa,Kr.O=Yr.ta+cn,Kr.f=Yr.qa,Kr.N=Yr.ra+Nn,Kr.ea=Yr.Ha,Kr.W=Yr.Ia+Nn):(Ui-=Xi,Kr.y=Ei,Kr.O=Bi,Kr.f=Pi,Kr.N=pi,Kr.ea=en,Kr.W=nn),Qi||(sn-=Xi),sn>Kr.o&&(sn=Kr.o),Kr.F=null,Kr.J=null,Yr.Fa!=null&&0<Yr.Fa.length&&Ui<sn&&(Kr.J=Oa(Yr,Kr,Ui,sn-Ui),Kr.F=Yr.mb,Kr.F==null&&Kr.F.length==0)){ui=vn(Yr,3,"Could not decode alpha data.");break e}Ui<Kr.j&&(Xi=Kr.j-Ui,Ui=Kr.j,e(!(1&Xi)),Kr.O+=Yr.R*Xi,Kr.N+=Yr.B*(Xi>>1),Kr.W+=Yr.B*(Xi>>1),Kr.F!=null&&(Kr.J+=Kr.width*Xi)),Ui<sn&&(Kr.O+=Kr.v,Kr.N+=Kr.v>>1,Kr.W+=Kr.v>>1,Kr.F!=null&&(Kr.J+=Kr.v),Kr.ka=Ui-Kr.j,Kr.U=Kr.va-Kr.v,Kr.T=sn-Ui,ui=Kr.put(Kr))}ai+1!=Yr.Ic||Qi||(_e(Yr.sa,Yr.ta-mi,Ei,Bi+16*Yr.R,mi),_e(Yr.qa,Yr.ra-Mi,Pi,pi+8*Yr.B,Mi),_e(Yr.Ha,Yr.Ia-Mi,en,nn+8*Yr.B,Mi))}if(!ui)return vn(Jr,6,"Output aborted.")}return 1}(qe,Ke)),Ke.bc!=null&&Ke.bc(Ke),lr&=1}return lr?(qe.cb=0,lr):0}function Xn(qe,Ke,lr,br,Er){Er=qe[Ke+lr+32*br]+(Er>>3),qe[Ke+lr+32*br]=-256&Er?0>Er?0:255:Er}function Ys(qe,Ke,lr,br,Er,Fr){Xn(qe,Ke,0,lr,br+Er),Xn(qe,Ke,1,lr,br+Fr),Xn(qe,Ke,2,lr,br-Fr),Xn(qe,Ke,3,lr,br-Er)}function Ln(qe){return(20091*qe>>16)+qe}function Ca(qe,Ke,lr,br){var Er,Fr=0,Mr=Ae(16);for(Er=0;4>Er;++Er){var Rr=qe[Ke+0]+qe[Ke+8],Nr=qe[Ke+0]-qe[Ke+8],Br=(35468*qe[Ke+4]>>16)-Ln(qe[Ke+12]),Xr=Ln(qe[Ke+4])+(35468*qe[Ke+12]>>16);Mr[Fr+0]=Rr+Xr,Mr[Fr+1]=Nr+Br,Mr[Fr+2]=Nr-Br,Mr[Fr+3]=Rr-Xr,Fr+=4,Ke++}for(Er=Fr=0;4>Er;++Er)Rr=(qe=Mr[Fr+0]+4)+Mr[Fr+8],Nr=qe-Mr[Fr+8],Br=(35468*Mr[Fr+4]>>16)-Ln(Mr[Fr+12]),Xn(lr,br,0,0,Rr+(Xr=Ln(Mr[Fr+4])+(35468*Mr[Fr+12]>>16))),Xn(lr,br,1,0,Nr+Br),Xn(lr,br,2,0,Nr-Br),Xn(lr,br,3,0,Rr-Xr),Fr++,br+=32}function io(qe,Ke,lr,br){var Er=qe[Ke+0]+4,Fr=35468*qe[Ke+4]>>16,Mr=Ln(qe[Ke+4]),Rr=35468*qe[Ke+1]>>16;Ys(lr,br,0,Er+Mr,qe=Ln(qe[Ke+1]),Rr),Ys(lr,br,1,Er+Fr,qe,Rr),Ys(lr,br,2,Er-Fr,qe,Rr),Ys(lr,br,3,Er-Mr,qe,Rr)}function Jo(qe,Ke,lr,br,Er){Ca(qe,Ke,lr,br),Er&&Ca(qe,Ke+16,lr,br+4)}function no(qe,Ke,lr,br){ha(qe,Ke+0,lr,br,1),ha(qe,Ke+32,lr,br+128,1)}function Qo(qe,Ke,lr,br){var Er;for(qe=qe[Ke+0]+4,Er=0;4>Er;++Er)for(Ke=0;4>Ke;++Ke)Xn(lr,br,Ke,Er,qe)}function so(qe,Ke,lr,br){qe[Ke+0]&&es(qe,Ke+0,lr,br),qe[Ke+16]&&es(qe,Ke+16,lr,br+4),qe[Ke+32]&&es(qe,Ke+32,lr,br+128),qe[Ke+48]&&es(qe,Ke+48,lr,br+128+4)}function Zo(qe,Ke,lr,br){var Er,Fr=Ae(16);for(Er=0;4>Er;++Er){var Mr=qe[Ke+0+Er]+qe[Ke+12+Er],Rr=qe[Ke+4+Er]+qe[Ke+8+Er],Nr=qe[Ke+4+Er]-qe[Ke+8+Er],Br=qe[Ke+0+Er]-qe[Ke+12+Er];Fr[0+Er]=Mr+Rr,Fr[8+Er]=Mr-Rr,Fr[4+Er]=Br+Nr,Fr[12+Er]=Br-Nr}for(Er=0;4>Er;++Er)Mr=(qe=Fr[0+4*Er]+3)+Fr[3+4*Er],Rr=Fr[1+4*Er]+Fr[2+4*Er],Nr=Fr[1+4*Er]-Fr[2+4*Er],Br=qe-Fr[3+4*Er],lr[br+0]=Mr+Rr>>3,lr[br+16]=Br+Nr>>3,lr[br+32]=Mr-Rr>>3,lr[br+48]=Br-Nr>>3,br+=64}function Aa(qe,Ke,lr){var br,Er=Ke-32,Fr=jn,Mr=255-qe[Er-1];for(br=0;br<lr;++br){var Rr,Nr=Fr,Br=Mr+qe[Ke-1];for(Rr=0;Rr<lr;++Rr)qe[Ke+Rr]=Nr[Br+qe[Er+Rr]];Ke+=32}}function el(qe,Ke){Aa(qe,Ke,4)}function tl(qe,Ke){Aa(qe,Ke,8)}function rl(qe,Ke){Aa(qe,Ke,16)}function fs(qe,Ke){var lr;for(lr=0;16>lr;++lr)_e(qe,Ke+32*lr,qe,Ke-32,16)}function Ks(qe,Ke){var lr;for(lr=16;0<lr;--lr)Se(qe,Ke,qe[Ke-1],16),Ke+=32}function Js(qe,Ke,lr){var br;for(br=0;16>br;++br)Se(Ke,lr+32*br,qe,16)}function ao(qe,Ke){var lr,br=16;for(lr=0;16>lr;++lr)br+=qe[Ke-1+32*lr]+qe[Ke+lr-32];Js(br>>5,qe,Ke)}function Dn(qe,Ke){var lr,br=8;for(lr=0;16>lr;++lr)br+=qe[Ke-1+32*lr];Js(br>>4,qe,Ke)}function il(qe,Ke){var lr,br=8;for(lr=0;16>lr;++lr)br+=qe[Ke+lr-32];Js(br>>4,qe,Ke)}function oo(qe,Ke){Js(128,qe,Ke)}function zi(qe,Ke,lr){return qe+2*Ke+lr+2>>2}function nl(qe,Ke){var lr,br=Ke-32;for(br=new Uint8Array([zi(qe[br-1],qe[br+0],qe[br+1]),zi(qe[br+0],qe[br+1],qe[br+2]),zi(qe[br+1],qe[br+2],qe[br+3]),zi(qe[br+2],qe[br+3],qe[br+4])]),lr=0;4>lr;++lr)_e(qe,Ke+32*lr,br,0,br.length)}function sl(qe,Ke){var lr=qe[Ke-1],br=qe[Ke-1+32],Er=qe[Ke-1+64],Fr=qe[Ke-1+96];xr(qe,Ke+0,16843009*zi(qe[Ke-1-32],lr,br)),xr(qe,Ke+32,16843009*zi(lr,br,Er)),xr(qe,Ke+64,16843009*zi(br,Er,Fr)),xr(qe,Ke+96,16843009*zi(Er,Fr,Fr))}function ss(qe,Ke){var lr,br=4;for(lr=0;4>lr;++lr)br+=qe[Ke+lr-32]+qe[Ke-1+32*lr];for(br>>=3,lr=0;4>lr;++lr)Se(qe,Ke+32*lr,br,4)}function lo(qe,Ke){var lr=qe[Ke-1+0],br=qe[Ke-1+32],Er=qe[Ke-1+64],Fr=qe[Ke-1-32],Mr=qe[Ke+0-32],Rr=qe[Ke+1-32],Nr=qe[Ke+2-32],Br=qe[Ke+3-32];qe[Ke+0+96]=zi(br,Er,qe[Ke-1+96]),qe[Ke+1+96]=qe[Ke+0+64]=zi(lr,br,Er),qe[Ke+2+96]=qe[Ke+1+64]=qe[Ke+0+32]=zi(Fr,lr,br),qe[Ke+3+96]=qe[Ke+2+64]=qe[Ke+1+32]=qe[Ke+0+0]=zi(Mr,Fr,lr),qe[Ke+3+64]=qe[Ke+2+32]=qe[Ke+1+0]=zi(Rr,Mr,Fr),qe[Ke+3+32]=qe[Ke+2+0]=zi(Nr,Rr,Mr),qe[Ke+3+0]=zi(Br,Nr,Rr)}function ho(qe,Ke){var lr=qe[Ke+1-32],br=qe[Ke+2-32],Er=qe[Ke+3-32],Fr=qe[Ke+4-32],Mr=qe[Ke+5-32],Rr=qe[Ke+6-32],Nr=qe[Ke+7-32];qe[Ke+0+0]=zi(qe[Ke+0-32],lr,br),qe[Ke+1+0]=qe[Ke+0+32]=zi(lr,br,Er),qe[Ke+2+0]=qe[Ke+1+32]=qe[Ke+0+64]=zi(br,Er,Fr),qe[Ke+3+0]=qe[Ke+2+32]=qe[Ke+1+64]=qe[Ke+0+96]=zi(Er,Fr,Mr),qe[Ke+3+32]=qe[Ke+2+64]=qe[Ke+1+96]=zi(Fr,Mr,Rr),qe[Ke+3+64]=qe[Ke+2+96]=zi(Mr,Rr,Nr),qe[Ke+3+96]=zi(Rr,Nr,Nr)}function Qs(qe,Ke){var lr=qe[Ke-1+0],br=qe[Ke-1+32],Er=qe[Ke-1+64],Fr=qe[Ke-1-32],Mr=qe[Ke+0-32],Rr=qe[Ke+1-32],Nr=qe[Ke+2-32],Br=qe[Ke+3-32];qe[Ke+0+0]=qe[Ke+1+64]=Fr+Mr+1>>1,qe[Ke+1+0]=qe[Ke+2+64]=Mr+Rr+1>>1,qe[Ke+2+0]=qe[Ke+3+64]=Rr+Nr+1>>1,qe[Ke+3+0]=Nr+Br+1>>1,qe[Ke+0+96]=zi(Er,br,lr),qe[Ke+0+64]=zi(br,lr,Fr),qe[Ke+0+32]=qe[Ke+1+96]=zi(lr,Fr,Mr),qe[Ke+1+32]=qe[Ke+2+96]=zi(Fr,Mr,Rr),qe[Ke+2+32]=qe[Ke+3+96]=zi(Mr,Rr,Nr),qe[Ke+3+32]=zi(Rr,Nr,Br)}function xa(qe,Ke){var lr=qe[Ke+0-32],br=qe[Ke+1-32],Er=qe[Ke+2-32],Fr=qe[Ke+3-32],Mr=qe[Ke+4-32],Rr=qe[Ke+5-32],Nr=qe[Ke+6-32],Br=qe[Ke+7-32];qe[Ke+0+0]=lr+br+1>>1,qe[Ke+1+0]=qe[Ke+0+64]=br+Er+1>>1,qe[Ke+2+0]=qe[Ke+1+64]=Er+Fr+1>>1,qe[Ke+3+0]=qe[Ke+2+64]=Fr+Mr+1>>1,qe[Ke+0+32]=zi(lr,br,Er),qe[Ke+1+32]=qe[Ke+0+96]=zi(br,Er,Fr),qe[Ke+2+32]=qe[Ke+1+96]=zi(Er,Fr,Mr),qe[Ke+3+32]=qe[Ke+2+96]=zi(Fr,Mr,Rr),qe[Ke+3+64]=zi(Mr,Rr,Nr),qe[Ke+3+96]=zi(Rr,Nr,Br)}function al(qe,Ke){var lr=qe[Ke-1+0],br=qe[Ke-1+32],Er=qe[Ke-1+64],Fr=qe[Ke-1+96];qe[Ke+0+0]=lr+br+1>>1,qe[Ke+2+0]=qe[Ke+0+32]=br+Er+1>>1,qe[Ke+2+32]=qe[Ke+0+64]=Er+Fr+1>>1,qe[Ke+1+0]=zi(lr,br,Er),qe[Ke+3+0]=qe[Ke+1+32]=zi(br,Er,Fr),qe[Ke+3+32]=qe[Ke+1+64]=zi(Er,Fr,Fr),qe[Ke+3+64]=qe[Ke+2+64]=qe[Ke+0+96]=qe[Ke+1+96]=qe[Ke+2+96]=qe[Ke+3+96]=Fr}function ol(qe,Ke){var lr=qe[Ke-1+0],br=qe[Ke-1+32],Er=qe[Ke-1+64],Fr=qe[Ke-1+96],Mr=qe[Ke-1-32],Rr=qe[Ke+0-32],Nr=qe[Ke+1-32],Br=qe[Ke+2-32];qe[Ke+0+0]=qe[Ke+2+32]=lr+Mr+1>>1,qe[Ke+0+32]=qe[Ke+2+64]=br+lr+1>>1,qe[Ke+0+64]=qe[Ke+2+96]=Er+br+1>>1,qe[Ke+0+96]=Fr+Er+1>>1,qe[Ke+3+0]=zi(Rr,Nr,Br),qe[Ke+2+0]=zi(Mr,Rr,Nr),qe[Ke+1+0]=qe[Ke+3+32]=zi(lr,Mr,Rr),qe[Ke+1+32]=qe[Ke+3+64]=zi(br,lr,Mr),qe[Ke+1+64]=qe[Ke+3+96]=zi(Er,br,lr),qe[Ke+1+96]=zi(Fr,Er,br)}function ll(qe,Ke){var lr;for(lr=0;8>lr;++lr)_e(qe,Ke+32*lr,qe,Ke-32,8)}function Ea(qe,Ke){var lr;for(lr=0;8>lr;++lr)Se(qe,Ke,qe[Ke-1],8),Ke+=32}function js(qe,Ke,lr){var br;for(br=0;8>br;++br)Se(Ke,lr+32*br,qe,8)}function ws(qe,Ke){var lr,br=8;for(lr=0;8>lr;++lr)br+=qe[Ke+lr-32]+qe[Ke-1+32*lr];js(br>>4,qe,Ke)}function hl(qe,Ke){var lr,br=4;for(lr=0;8>lr;++lr)br+=qe[Ke+lr-32];js(br>>3,qe,Ke)}function Vs(qe,Ke){var lr,br=4;for(lr=0;8>lr;++lr)br+=qe[Ke-1+32*lr];js(br>>3,qe,Ke)}function Ta(qe,Ke){js(128,qe,Ke)}function Zs(qe,Ke,lr){var br=qe[Ke-lr],Er=qe[Ke+0],Fr=3*(Er-br)+_l[1020+qe[Ke-2*lr]-qe[Ke+lr]],Mr=bo[112+(Fr+4>>3)];qe[Ke-lr]=jn[255+br+bo[112+(Fr+3>>3)]],qe[Ke+0]=jn[255+Er-Mr]}function co(qe,Ke,lr,br){var Er=qe[Ke+0],Fr=qe[Ke+lr];return $n[255+qe[Ke-2*lr]-qe[Ke-lr]]>br||$n[255+Fr-Er]>br}function uo(qe,Ke,lr,br){return 4*$n[255+qe[Ke-lr]-qe[Ke+0]]+$n[255+qe[Ke-2*lr]-qe[Ke+lr]]<=br}function fo(qe,Ke,lr,br,Er){var Fr=qe[Ke-3*lr],Mr=qe[Ke-2*lr],Rr=qe[Ke-lr],Nr=qe[Ke+0],Br=qe[Ke+lr],Xr=qe[Ke+2*lr],ei=qe[Ke+3*lr];return 4*$n[255+Rr-Nr]+$n[255+Mr-Br]>br?0:$n[255+qe[Ke-4*lr]-Fr]<=Er&&$n[255+Fr-Mr]<=Er&&$n[255+Mr-Rr]<=Er&&$n[255+ei-Xr]<=Er&&$n[255+Xr-Br]<=Er&&$n[255+Br-Nr]<=Er}function po(qe,Ke,lr,br){var Er=2*br+1;for(br=0;16>br;++br)uo(qe,Ke+br,lr,Er)&&Zs(qe,Ke+br,lr)}function ds(qe,Ke,lr,br){var Er=2*br+1;for(br=0;16>br;++br)uo(qe,Ke+br*lr,1,Er)&&Zs(qe,Ke+br*lr,1)}function Cs(qe,Ke,lr,br){var Er;for(Er=3;0<Er;--Er)po(qe,Ke+=4*lr,lr,br)}function cl(qe,Ke,lr,br){var Er;for(Er=3;0<Er;--Er)ds(qe,Ke+=4,lr,br)}function As(qe,Ke,lr,br,Er,Fr,Mr,Rr){for(Fr=2*Fr+1;0<Er--;){if(fo(qe,Ke,lr,Fr,Mr))if(co(qe,Ke,lr,Rr))Zs(qe,Ke,lr);else{var Nr=qe,Br=Ke,Xr=lr,ei=Nr[Br-2*Xr],ti=Nr[Br-Xr],Jr=Nr[Br+0],gi=Nr[Br+Xr],ai=Nr[Br+2*Xr],Yr=27*(ui=_l[1020+3*(Jr-ti)+_l[1020+ei-gi]])+63>>7,Kr=18*ui+63>>7,ui=9*ui+63>>7;Nr[Br-3*Xr]=jn[255+Nr[Br-3*Xr]+ui],Nr[Br-2*Xr]=jn[255+ei+Kr],Nr[Br-Xr]=jn[255+ti+Yr],Nr[Br+0]=jn[255+Jr-Yr],Nr[Br+Xr]=jn[255+gi-Kr],Nr[Br+2*Xr]=jn[255+ai-ui]}Ke+=br}}function Yn(qe,Ke,lr,br,Er,Fr,Mr,Rr){for(Fr=2*Fr+1;0<Er--;){if(fo(qe,Ke,lr,Fr,Mr))if(co(qe,Ke,lr,Rr))Zs(qe,Ke,lr);else{var Nr=qe,Br=Ke,Xr=lr,ei=Nr[Br-Xr],ti=Nr[Br+0],Jr=Nr[Br+Xr],gi=bo[112+((ai=3*(ti-ei))+4>>3)],ai=bo[112+(ai+3>>3)],Yr=gi+1>>1;Nr[Br-2*Xr]=jn[255+Nr[Br-2*Xr]+Yr],Nr[Br-Xr]=jn[255+ei+ai],Nr[Br+0]=jn[255+ti-gi],Nr[Br+Xr]=jn[255+Jr-Yr]}Ke+=br}}function Pa(qe,Ke,lr,br,Er,Fr){As(qe,Ke,lr,1,16,br,Er,Fr)}function zs(qe,Ke,lr,br,Er,Fr){As(qe,Ke,1,lr,16,br,Er,Fr)}function ul(qe,Ke,lr,br,Er,Fr){var Mr;for(Mr=3;0<Mr;--Mr)Yn(qe,Ke+=4*lr,lr,1,16,br,Er,Fr)}function ea(qe,Ke,lr,br,Er,Fr){var Mr;for(Mr=3;0<Mr;--Mr)Yn(qe,Ke+=4,1,lr,16,br,Er,Fr)}function dl(qe,Ke,lr,br,Er,Fr,Mr,Rr){As(qe,Ke,Er,1,8,Fr,Mr,Rr),As(lr,br,Er,1,8,Fr,Mr,Rr)}function ka(qe,Ke,lr,br,Er,Fr,Mr,Rr){As(qe,Ke,1,Er,8,Fr,Mr,Rr),As(lr,br,1,Er,8,Fr,Mr,Rr)}function Da(qe,Ke,lr,br,Er,Fr,Mr,Rr){Yn(qe,Ke+4*Er,Er,1,8,Fr,Mr,Rr),Yn(lr,br+4*Er,Er,1,8,Fr,Mr,Rr)}function go(qe,Ke,lr,br,Er,Fr,Mr,Rr){Yn(qe,Ke+4,1,Er,8,Fr,Mr,Rr),Yn(lr,br+4,1,Er,8,Fr,Mr,Rr)}function ta(){this.ba=new Oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ki,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Fa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ma(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mo(){this.ua=0,this.Wa=new er,this.vb=new er,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pr,this.yc=new St}function pl(){this.xb=this.a=0,this.l=new Xs,this.ca=new Oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Je,this.Pb=0,this.wd=new Je,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mo,this.ab=0,this.gc=Re(4,Ma),this.Oc=0}function ra(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hs(qe,Ke,lr,br,Er,Fr,Mr){for(qe=qe==null?0:qe[Ke+0],Ke=0;Ke<Mr;++Ke)Er[Fr+Ke]=qe+lr[br+Ke]&255,qe=Er[Fr+Ke]}function La(qe,Ke,lr,br,Er,Fr,Mr){var Rr;if(qe==null)Hs(null,null,lr,br,Er,Fr,Mr);else for(Rr=0;Rr<Mr;++Rr)Er[Fr+Rr]=qe[Ke+Rr]+lr[br+Rr]&255}function xs(qe,Ke,lr,br,Er,Fr,Mr){if(qe==null)Hs(null,null,lr,br,Er,Fr,Mr);else{var Rr,Nr=qe[Ke+0],Br=Nr,Xr=Nr;for(Rr=0;Rr<Mr;++Rr)Br=Xr+(Nr=qe[Ke+Rr])-Br,Xr=lr[br+Rr]+(-256&Br?0>Br?0:255:Br)&255,Br=Nr,Er[Fr+Rr]=Xr}}function Oa(qe,Ke,lr,br){var Er=Ke.width,Fr=Ke.o;if(e(qe!=null&&Ke!=null),0>lr||0>=br||lr+br>Fr)return null;if(!qe.Cc){if(qe.ga==null){var Mr;if(qe.ga=new ra,(Mr=qe.ga==null)||(Mr=Ke.width*Ke.o,e(qe.Gb.length==0),qe.Gb=Ae(Mr),qe.Uc=0,qe.Gb==null?Mr=0:(qe.mb=qe.Gb,qe.nb=qe.Uc,qe.rc=null,Mr=1),Mr=!Mr),!Mr){Mr=qe.ga;var Rr=qe.Fa,Nr=qe.P,Br=qe.qc,Xr=qe.mb,ei=qe.nb,ti=Nr+1,Jr=Br-1,gi=Mr.l;if(e(Rr!=null&&Xr!=null&&Ke!=null),Ms[0]=null,Ms[1]=Hs,Ms[2]=La,Ms[3]=xs,Mr.ca=Xr,Mr.tb=ei,Mr.c=Ke.width,Mr.i=Ke.height,e(0<Mr.c&&0<Mr.i),1>=Br)Ke=0;else if(Mr.$a=Rr[Nr+0]>>0&3,Mr.Z=Rr[Nr+0]>>2&3,Mr.Lc=Rr[Nr+0]>>4&3,Nr=Rr[Nr+0]>>6&3,0>Mr.$a||1<Mr.$a||4<=Mr.Z||1<Mr.Lc||Nr)Ke=0;else if(gi.put=si,gi.ac=Ti,gi.bc=Si,gi.ma=Mr,gi.width=Ke.width,gi.height=Ke.height,gi.Da=Ke.Da,gi.v=Ke.v,gi.va=Ke.va,gi.j=Ke.j,gi.o=Ke.o,Mr.$a)e:{e(Mr.$a==1),Ke=wn();t:for(;;){if(Ke==null){Ke=0;break e}if(e(Mr!=null),Mr.mc=Ke,Ke.c=Mr.c,Ke.i=Mr.i,Ke.l=Mr.l,Ke.l.ma=Mr,Ke.l.width=Mr.c,Ke.l.height=Mr.i,Ke.a=0,sr(Ke.m,Rr,ti,Jr),!An(Mr.c,Mr.i,1,Ke,null)||(Ke.ab==1&&Ke.gc[0].hc==3&&Ji(Ke.s)?(Mr.ic=1,Rr=Ke.c*Ke.i,Ke.Ta=null,Ke.Ua=0,Ke.V=Ae(Rr),Ke.Ba=0,Ke.V==null?(Ke.a=1,Ke=0):Ke=1):(Mr.ic=0,Ke=hn(Ke,Mr.c)),!Ke))break t;Ke=1;break e}Mr.mc=null,Ke=0}else Ke=Jr>=Mr.c*Mr.i;Mr=!Ke}if(Mr)return null;qe.ga.Lc!=1?qe.Ga=0:br=Fr-lr}e(qe.ga!=null),e(lr+br<=Fr);e:{if(Ke=(Rr=qe.ga).c,Fr=Rr.l.o,Rr.$a==0){if(ti=qe.rc,Jr=qe.Vc,gi=qe.Fa,Nr=qe.P+1+lr*Ke,Br=qe.mb,Xr=qe.nb+lr*Ke,e(Nr<=qe.P+qe.qc),Rr.Z!=0)for(e(Ms[Rr.Z]!=null),Mr=0;Mr<br;++Mr)Ms[Rr.Z](ti,Jr,gi,Nr,Br,Xr,Ke),ti=Br,Jr=Xr,Xr+=Ke,Nr+=Ke;else for(Mr=0;Mr<br;++Mr)_e(Br,Xr,gi,Nr,Ke),ti=Br,Jr=Xr,Xr+=Ke,Nr+=Ke;qe.rc=ti,qe.Vc=Jr}else{if(e(Rr.mc!=null),Ke=lr+br,e((Mr=Rr.mc)!=null),e(Ke<=Mr.i),Mr.C>=Ke)Ke=1;else if(Rr.ic||Zr(),Rr.ic){Rr=Mr.V,ti=Mr.Ba,Jr=Mr.c;var ai=Mr.i,Yr=(gi=1,Nr=Mr.$/Jr,Br=Mr.$%Jr,Xr=Mr.m,ei=Mr.s,Mr.$),Kr=Jr*ai,ui=Jr*Ke,mi=ei.wc,pi=Yr<ui?Vi(ei,Br,Nr):null;e(Yr<=Kr),e(Ke<=ai),e(Ji(ei));t:for(;;){for(;!Xr.h&&Yr<ui;){if(Br&mi||(pi=Vi(ei,Br,Nr)),e(pi!=null),or(Xr),256>(ai=Li(pi.G[0],pi.H[0],Xr)))Rr[ti+Yr]=ai,++Yr,++Br>=Jr&&(Br=0,++Nr<=Ke&&!(Nr%16)&&Gi(Mr,Nr));else{if(!(280>ai)){gi=0;break t}ai=xi(ai-256,Xr);var Mi,Ei=Li(pi.G[4],pi.H[4],Xr);if(or(Xr),!(Yr>=(Ei=ji(Jr,Ei=xi(Ei,Xr)))&&Kr-Yr>=ai)){gi=0;break t}for(Mi=0;Mi<ai;++Mi)Rr[ti+Yr+Mi]=Rr[ti+Yr+Mi-Ei];for(Yr+=ai,Br+=ai;Br>=Jr;)Br-=Jr,++Nr<=Ke&&!(Nr%16)&&Gi(Mr,Nr);Yr<ui&&Br&mi&&(pi=Vi(ei,Br,Nr))}e(Xr.h==Ye(Xr))}Gi(Mr,Nr>Ke?Ke:Nr);break t}!gi||Xr.h&&Yr<Kr?(gi=0,Mr.a=Xr.h?5:3):Mr.$=Yr,Ke=gi}else Ke=Wi(Mr,Mr.V,Mr.Ba,Mr.c,Mr.i,Ke,rn);if(!Ke){br=0;break e}}lr+br>=Fr&&(qe.Cc=1),br=1}if(!br)return null;if(qe.Cc&&((br=qe.ga)!=null&&(br.mc=null),qe.ga=null,0<qe.Ga))return alert("todo:WebPDequantizeLevels"),null}return qe.nb+lr*Er}function ir(qe,Ke,lr,br,Er,Fr){for(;0<Er--;){var Mr,Rr=qe,Nr=Ke+(lr?1:0),Br=qe,Xr=Ke+(lr?0:3);for(Mr=0;Mr<br;++Mr){var ei=Br[Xr+4*Mr];ei!=255&&(ei*=32897,Rr[Nr+4*Mr+0]=Rr[Nr+4*Mr+0]*ei>>23,Rr[Nr+4*Mr+1]=Rr[Nr+4*Mr+1]*ei>>23,Rr[Nr+4*Mr+2]=Rr[Nr+4*Mr+2]*ei>>23)}Ke+=Fr}}function Tr(qe,Ke,lr,br,Er){for(;0<br--;){var Fr;for(Fr=0;Fr<lr;++Fr){var Mr=qe[Ke+2*Fr+0],Rr=15&(Br=qe[Ke+2*Fr+1]),Nr=4369*Rr,Br=(240&Br|Br>>4)*Nr>>16;qe[Ke+2*Fr+0]=(240&Mr|Mr>>4)*Nr>>16&240|(15&Mr|Mr<<4)*Nr>>16>>4&15,qe[Ke+2*Fr+1]=240&Br|Rr}Ke+=Er}}function Ur(qe,Ke,lr,br,Er,Fr,Mr,Rr){var Nr,Br,Xr=255;for(Br=0;Br<Er;++Br){for(Nr=0;Nr<br;++Nr){var ei=qe[Ke+Nr];Fr[Mr+4*Nr]=ei,Xr&=ei}Ke+=lr,Mr+=Rr}return Xr!=255}function Wr(qe,Ke,lr,br,Er){var Fr;for(Fr=0;Fr<Er;++Fr)lr[br+Fr]=qe[Ke+Fr]>>8}function Zr(){Ds=ir,ua=Tr,yo=Ur,th=Wr}function li(qe,Ke,lr){Ue[qe]=function(br,Er,Fr,Mr,Rr,Nr,Br,Xr,ei,ti,Jr,gi,ai,Yr,Kr,ui,mi){var pi,Mi=mi-1>>1,Ei=Rr[Nr+0]|Br[Xr+0]<<16,Bi=ei[ti+0]|Jr[gi+0]<<16;e(br!=null);var Pi=3*Ei+Bi+131074>>2;for(Ke(br[Er+0],255&Pi,Pi>>16,ai,Yr),Fr!=null&&(Pi=3*Bi+Ei+131074>>2,Ke(Fr[Mr+0],255&Pi,Pi>>16,Kr,ui)),pi=1;pi<=Mi;++pi){var en=Rr[Nr+pi]|Br[Xr+pi]<<16,nn=ei[ti+pi]|Jr[gi+pi]<<16,Qi=Ei+en+Bi+nn+524296,Xi=Qi+2*(en+Bi)>>3;Pi=Xi+Ei>>1,Ei=(Qi=Qi+2*(Ei+nn)>>3)+en>>1,Ke(br[Er+2*pi-1],255&Pi,Pi>>16,ai,Yr+(2*pi-1)*lr),Ke(br[Er+2*pi-0],255&Ei,Ei>>16,ai,Yr+(2*pi-0)*lr),Fr!=null&&(Pi=Qi+Bi>>1,Ei=Xi+nn>>1,Ke(Fr[Mr+2*pi-1],255&Pi,Pi>>16,Kr,ui+(2*pi-1)*lr),Ke(Fr[Mr+2*pi+0],255&Ei,Ei>>16,Kr,ui+(2*pi+0)*lr)),Ei=en,Bi=nn}1&mi||(Pi=3*Ei+Bi+131074>>2,Ke(br[Er+mi-1],255&Pi,Pi>>16,ai,Yr+(mi-1)*lr),Fr!=null&&(Pi=3*Bi+Ei+131074>>2,Ke(Fr[Mr+mi-1],255&Pi,Pi>>16,Kr,ui+(mi-1)*lr)))}}function bi(){qn[So]=_c,qn[wo]=fh,qn[oh]=yc,qn[Co]=dh,qn[Ao]=ph,qn[yl]=gh,qn[lh]=bc,qn[bl]=fh,qn[Sl]=dh,qn[xo]=ph,qn[wl]=gh}function Fi(qe){return qe&~Sc?0>qe?0:255:qe>>mh}function Ni(qe,Ke){return Fi((19077*qe>>8)+(26149*Ke>>8)-14234)}function Hi(qe,Ke,lr){return Fi((19077*qe>>8)-(6419*Ke>>8)-(13320*lr>>8)+8708)}function $i(qe,Ke){return Fi((19077*qe>>8)+(33050*Ke>>8)-17685)}function Ki(qe,Ke,lr,br,Er){br[Er+0]=Ni(qe,lr),br[Er+1]=Hi(qe,Ke,lr),br[Er+2]=$i(qe,Ke)}function pn(qe,Ke,lr,br,Er){br[Er+0]=$i(qe,Ke),br[Er+1]=Hi(qe,Ke,lr),br[Er+2]=Ni(qe,lr)}function gn(qe,Ke,lr,br,Er){var Fr=Hi(qe,Ke,lr);Ke=Fr<<3&224|$i(qe,Ke)>>3,br[Er+0]=248&Ni(qe,lr)|Fr>>5,br[Er+1]=Ke}function yn(qe,Ke,lr,br,Er){var Fr=240&$i(qe,Ke)|15;br[Er+0]=240&Ni(qe,lr)|Hi(qe,Ke,lr)>>4,br[Er+1]=Fr}function Fn(qe,Ke,lr,br,Er){br[Er+0]=255,Ki(qe,Ke,lr,br,Er+1)}function xn(qe,Ke,lr,br,Er){pn(qe,Ke,lr,br,Er),br[Er+3]=255}function Kn(qe,Ke,lr,br,Er){Ki(qe,Ke,lr,br,Er),br[Er+3]=255}function Bn(qe,Ke){return 0>qe?0:qe>Ke?Ke:qe}function ps(qe,Ke,lr){Ue[qe]=function(br,Er,Fr,Mr,Rr,Nr,Br,Xr,ei){for(var ti=Xr+(-2&ei)*lr;Xr!=ti;)Ke(br[Er+0],Fr[Mr+0],Rr[Nr+0],Br,Xr),Ke(br[Er+1],Fr[Mr+0],Rr[Nr+0],Br,Xr+lr),Er+=2,++Mr,++Nr,Xr+=2*lr;1&ei&&Ke(br[Er+0],Fr[Mr+0],Rr[Nr+0],Br,Xr)}}function vo(qe,Ke,lr){return lr==0?qe==0?Ke==0?6:5:Ke==0?4:0:lr}function Ra(qe,Ke,lr,br,Er){switch(qe>>>30){case 3:ha(Ke,lr,br,Er,0);break;case 2:Ha(Ke,lr,br,Er);break;case 1:es(Ke,lr,br,Er)}}function Ia(qe,Ke){var lr,br,Er=Ke.M,Fr=Ke.Nb,Mr=qe.oc,Rr=qe.pc+40,Nr=qe.oc,Br=qe.pc+584,Xr=qe.oc,ei=qe.pc+600;for(lr=0;16>lr;++lr)Mr[Rr+32*lr-1]=129;for(lr=0;8>lr;++lr)Nr[Br+32*lr-1]=129,Xr[ei+32*lr-1]=129;for(0<Er?Mr[Rr-1-32]=Nr[Br-1-32]=Xr[ei-1-32]=129:(Se(Mr,Rr-32-1,127,21),Se(Nr,Br-32-1,127,9),Se(Xr,ei-32-1,127,9)),br=0;br<qe.za;++br){var ti=Ke.ya[Ke.aa+br];if(0<br){for(lr=-1;16>lr;++lr)_e(Mr,Rr+32*lr-4,Mr,Rr+32*lr+12,4);for(lr=-1;8>lr;++lr)_e(Nr,Br+32*lr-4,Nr,Br+32*lr+4,4),_e(Xr,ei+32*lr-4,Xr,ei+32*lr+4,4)}var Jr=qe.Gd,gi=qe.Hd+br,ai=ti.ad,Yr=ti.Hc;if(0<Er&&(_e(Mr,Rr-32,Jr[gi].y,0,16),_e(Nr,Br-32,Jr[gi].f,0,8),_e(Xr,ei-32,Jr[gi].ea,0,8)),ti.Za){var Kr=Mr,ui=Rr-32+16;for(0<Er&&(br>=qe.za-1?Se(Kr,ui,Jr[gi].y[15],4):_e(Kr,ui,Jr[gi+1].y,0,4)),lr=0;4>lr;lr++)Kr[ui+128+lr]=Kr[ui+256+lr]=Kr[ui+384+lr]=Kr[ui+0+lr];for(lr=0;16>lr;++lr,Yr<<=2)Kr=Mr,ui=Rr+_h[lr],ts[ti.Ob[lr]](Kr,ui),Ra(Yr,ai,16*+lr,Kr,ui)}else if(Kr=vo(br,Er,ti.Ob[0]),Fs[Kr](Mr,Rr),Yr!=0)for(lr=0;16>lr;++lr,Yr<<=2)Ra(Yr,ai,16*+lr,Mr,Rr+_h[lr]);for(lr=ti.Gc,Kr=vo(br,Er,ti.Dd),ys[Kr](Nr,Br),ys[Kr](Xr,ei),Yr=ai,Kr=Nr,ui=Br,255&(ti=lr>>0)&&(170&ti?Ps(Yr,256,Kr,ui):ms(Yr,256,Kr,ui)),ti=Xr,Yr=ei,255&(lr>>=8)&&(170&lr?Ps(ai,320,ti,Yr):ms(ai,320,ti,Yr)),Er<qe.Ub-1&&(_e(Jr[gi].y,0,Mr,Rr+480,16),_e(Jr[gi].f,0,Nr,Br+224,8),_e(Jr[gi].ea,0,Xr,ei+224,8)),lr=8*Fr*qe.B,Jr=qe.sa,gi=qe.ta+16*br+16*Fr*qe.R,ai=qe.qa,ti=qe.ra+8*br+lr,Yr=qe.Ha,Kr=qe.Ia+8*br+lr,lr=0;16>lr;++lr)_e(Jr,gi+lr*qe.R,Mr,Rr+32*lr,16);for(lr=0;8>lr;++lr)_e(ai,ti+lr*qe.B,Nr,Br+32*lr,8),_e(Yr,Kr+lr*qe.B,Xr,ei+32*lr,8)}}function ia(qe,Ke,lr,br,Er,Fr,Mr,Rr,Nr){var Br=[0],Xr=[0],ei=0,ti=Nr!=null?Nr.kd:0,Jr=Nr!=null?Nr:new Fa;if(qe==null||12>lr)return 7;Jr.data=qe,Jr.w=Ke,Jr.ha=lr,Ke=[Ke],lr=[lr],Jr.gb=[Jr.gb];e:{var gi=Ke,ai=lr,Yr=Jr.gb;if(e(qe!=null),e(ai!=null),e(Yr!=null),Yr[0]=0,12<=ai[0]&&!r(qe,gi[0],"RIFF")){if(r(qe,gi[0]+8,"WEBP")){Yr=3;break e}var Kr=ar(qe,gi[0]+4);if(12>Kr||4294967286<Kr){Yr=3;break e}if(ti&&Kr>ai[0]-8){Yr=7;break e}Yr[0]=Kr,gi[0]+=12,ai[0]-=12}Yr=0}if(Yr!=0)return Yr;for(Kr=0<Jr.gb[0],lr=lr[0];;){e:{var ui=qe;ai=Ke,Yr=lr;var mi=Br,pi=Xr,Mi=gi=[0];if((Pi=ei=[ei])[0]=0,8>Yr[0])Yr=7;else{if(!r(ui,ai[0],"VP8X")){if(ar(ui,ai[0]+4)!=10){Yr=3;break e}if(18>Yr[0]){Yr=7;break e}var Ei=ar(ui,ai[0]+8),Bi=1+cr(ui,ai[0]+12);if(2147483648<=Bi*(ui=1+cr(ui,ai[0]+15))){Yr=3;break e}Mi!=null&&(Mi[0]=Ei),mi!=null&&(mi[0]=Bi),pi!=null&&(pi[0]=ui),ai[0]+=18,Yr[0]-=18,Pi[0]=1}Yr=0}}if(ei=ei[0],gi=gi[0],Yr!=0)return Yr;if(ai=!!(2&gi),!Kr&&ei)return 3;if(Fr!=null&&(Fr[0]=!!(16&gi)),Mr!=null&&(Mr[0]=ai),Rr!=null&&(Rr[0]=0),Mr=Br[0],gi=Xr[0],ei&&ai&&Nr==null){Yr=0;break}if(4>lr){Yr=7;break}if(Kr&&ei||!Kr&&!ei&&!r(qe,Ke[0],"ALPH")){lr=[lr],Jr.na=[Jr.na],Jr.P=[Jr.P],Jr.Sa=[Jr.Sa];e:{Ei=qe,Yr=Ke,Kr=lr;var Pi=Jr.gb;mi=Jr.na,pi=Jr.P,Mi=Jr.Sa,Bi=22,e(Ei!=null),e(Kr!=null),ui=Yr[0];var en=Kr[0];for(e(mi!=null),e(Mi!=null),mi[0]=null,pi[0]=null,Mi[0]=0;;){if(Yr[0]=ui,Kr[0]=en,8>en){Yr=7;break e}var nn=ar(Ei,ui+4);if(4294967286<nn){Yr=3;break e}var Qi=8+nn+1&-2;if(Bi+=Qi,0<Pi&&Bi>Pi){Yr=3;break e}if(!r(Ei,ui,"VP8 ")||!r(Ei,ui,"VP8L")){Yr=0;break e}if(en[0]<Qi){Yr=7;break e}r(Ei,ui,"ALPH")||(mi[0]=Ei,pi[0]=ui+8,Mi[0]=nn),ui+=Qi,en-=Qi}}if(lr=lr[0],Jr.na=Jr.na[0],Jr.P=Jr.P[0],Jr.Sa=Jr.Sa[0],Yr!=0)break}lr=[lr],Jr.Ja=[Jr.Ja],Jr.xa=[Jr.xa];e:if(Pi=qe,Yr=Ke,Kr=lr,mi=Jr.gb[0],pi=Jr.Ja,Mi=Jr.xa,Ei=Yr[0],ui=!r(Pi,Ei,"VP8 "),Bi=!r(Pi,Ei,"VP8L"),e(Pi!=null),e(Kr!=null),e(pi!=null),e(Mi!=null),8>Kr[0])Yr=7;else{if(ui||Bi){if(Pi=ar(Pi,Ei+4),12<=mi&&Pi>mi-12){Yr=3;break e}if(ti&&Pi>Kr[0]-8){Yr=7;break e}pi[0]=Pi,Yr[0]+=8,Kr[0]-=8,Mi[0]=Bi}else Mi[0]=5<=Kr[0]&&Pi[Ei+0]==47&&!(Pi[Ei+4]>>5),pi[0]=Kr[0];Yr=0}if(lr=lr[0],Jr.Ja=Jr.Ja[0],Jr.xa=Jr.xa[0],Ke=Ke[0],Yr!=0)break;if(4294967286<Jr.Ja)return 3;if(Rr==null||ai||(Rr[0]=Jr.xa?2:1),Mr=[Mr],gi=[gi],Jr.xa){if(5>lr){Yr=7;break}Rr=Mr,ti=gi,ai=Fr,qe==null||5>lr?qe=0:5<=lr&&qe[Ke+0]==47&&!(qe[Ke+4]>>5)?(Kr=[0],Pi=[0],mi=[0],sr(pi=new Je,qe,Ke,lr),hi(pi,Kr,Pi,mi)?(Rr!=null&&(Rr[0]=Kr[0]),ti!=null&&(ti[0]=Pi[0]),ai!=null&&(ai[0]=mi[0]),qe=1):qe=0):qe=0}else{if(10>lr){Yr=7;break}Rr=gi,qe==null||10>lr||!eo(qe,Ke+3,lr-3)?qe=0:(ti=qe[Ke+0]|qe[Ke+1]<<8|qe[Ke+2]<<16,ai=16383&(qe[Ke+7]<<8|qe[Ke+6]),qe=16383&(qe[Ke+9]<<8|qe[Ke+8]),1&ti||3<(ti>>1&7)||!(ti>>4&1)||ti>>5>=Jr.Ja||!ai||!qe?qe=0:(Mr&&(Mr[0]=ai),Rr&&(Rr[0]=qe),qe=1))}if(!qe||(Mr=Mr[0],gi=gi[0],ei&&(Br[0]!=Mr||Xr[0]!=gi)))return 3;Nr!=null&&(Nr[0]=Jr,Nr.offset=Ke-Nr.w,e(4294967286>Ke-Nr.w),e(Nr.offset==Nr.ha-lr));break}return Yr==0||Yr==7&&ei&&Nr==null?(Fr!=null&&(Fr[0]|=Jr.na!=null&&0<Jr.na.length),br!=null&&(br[0]=Mr),Er!=null&&(Er[0]=gi),0):Yr}function Na(qe,Ke,lr){var br=Ke.width,Er=Ke.height,Fr=0,Mr=0,Rr=br,Nr=Er;if(Ke.Da=qe!=null&&0<qe.Da,Ke.Da&&(Rr=qe.cd,Nr=qe.bd,Fr=qe.v,Mr=qe.j,11>lr||(Fr&=-2,Mr&=-2),0>Fr||0>Mr||0>=Rr||0>=Nr||Fr+Rr>br||Mr+Nr>Er))return 0;if(Ke.v=Fr,Ke.j=Mr,Ke.va=Fr+Rr,Ke.o=Mr+Nr,Ke.U=Rr,Ke.T=Nr,Ke.da=qe!=null&&0<qe.da,Ke.da){if(!ur(Rr,Nr,lr=[qe.ib],Fr=[qe.hb]))return 0;Ke.ib=lr[0],Ke.hb=Fr[0]}return Ke.ob=qe!=null&&qe.ob,Ke.Kb=qe==null||!qe.Sd,Ke.da&&(Ke.ob=Ke.ib<3*br/4&&Ke.hb<3*Er/4,Ke.Kb=0),1}function Ba(qe){if(qe==null)return 2;if(11>qe.S){var Ke=qe.f.RGBA;Ke.fb+=(qe.height-1)*Ke.A,Ke.A=-Ke.A}else Ke=qe.f.kb,qe=qe.height,Ke.O+=(qe-1)*Ke.fa,Ke.fa=-Ke.fa,Ke.N+=(qe-1>>1)*Ke.Ab,Ke.Ab=-Ke.Ab,Ke.W+=(qe-1>>1)*Ke.Db,Ke.Db=-Ke.Db,Ke.F!=null&&(Ke.J+=(qe-1)*Ke.lb,Ke.lb=-Ke.lb);return 0}function na(qe,Ke,lr,br){if(br==null||0>=qe||0>=Ke)return 2;if(lr!=null){if(lr.Da){var Er=lr.cd,Fr=lr.bd,Mr=-2&lr.v,Rr=-2&lr.j;if(0>Mr||0>Rr||0>=Er||0>=Fr||Mr+Er>qe||Rr+Fr>Ke)return 2;qe=Er,Ke=Fr}if(lr.da){if(!ur(qe,Ke,Er=[lr.ib],Fr=[lr.hb]))return 2;qe=Er[0],Ke=Fr[0]}}br.width=qe,br.height=Ke;e:{var Nr=br.width,Br=br.height;if(qe=br.S,0>=Nr||0>=Br||!(qe>=So&&13>qe))qe=2;else{if(0>=br.Rd&&br.sd==null){Mr=Fr=Er=Ke=0;var Xr=(Rr=Nr*yh[qe])*Br;if(11>qe||(Fr=(Br+1)/2*(Ke=(Nr+1)/2),qe==12&&(Mr=(Er=Nr)*Br)),(Br=Ae(Xr+2*Fr+Mr))==null){qe=1;break e}br.sd=Br,11>qe?((Nr=br.f.RGBA).eb=Br,Nr.fb=0,Nr.A=Rr,Nr.size=Xr):((Nr=br.f.kb).y=Br,Nr.O=0,Nr.fa=Rr,Nr.Fd=Xr,Nr.f=Br,Nr.N=0+Xr,Nr.Ab=Ke,Nr.Cd=Fr,Nr.ea=Br,Nr.W=0+Xr+Fr,Nr.Db=Ke,Nr.Ed=Fr,qe==12&&(Nr.F=Br,Nr.J=0+Xr+2*Fr),Nr.Tc=Mr,Nr.lb=Er)}if(Ke=1,Er=br.S,Fr=br.width,Mr=br.height,Er>=So&&13>Er)if(11>Er)qe=br.f.RGBA,Ke&=(Rr=Math.abs(qe.A))*(Mr-1)+Fr<=qe.size,Ke&=Rr>=Fr*yh[Er],Ke&=qe.eb!=null;else{qe=br.f.kb,Rr=(Fr+1)/2,Xr=(Mr+1)/2,Nr=Math.abs(qe.fa),Br=Math.abs(qe.Ab);var ei=Math.abs(qe.Db),ti=Math.abs(qe.lb),Jr=ti*(Mr-1)+Fr;Ke&=Nr*(Mr-1)+Fr<=qe.Fd,Ke&=Br*(Xr-1)+Rr<=qe.Cd,Ke=(Ke&=ei*(Xr-1)+Rr<=qe.Ed)&Nr>=Fr&Br>=Rr&ei>=Rr,Ke&=qe.y!=null,Ke&=qe.f!=null,Ke&=qe.ea!=null,Er==12&&(Ke&=ti>=Fr,Ke&=Jr<=qe.Tc,Ke&=qe.F!=null)}else Ke=0;qe=Ke?0:2}}return qe!=0||lr!=null&&lr.fd&&(qe=Ba(br)),qe}var On=64,sa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],aa=24,oa=32,ja=8,Rn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Or("Predictor0","PredictorAdd0"),Ue.Predictor0=function(){return 4278190080},Ue.Predictor1=function(qe){return qe},Ue.Predictor2=function(qe,Ke,lr){return Ke[lr+0]},Ue.Predictor3=function(qe,Ke,lr){return Ke[lr+1]},Ue.Predictor4=function(qe,Ke,lr){return Ke[lr-1]},Ue.Predictor5=function(qe,Ke,lr){return Pr(Pr(qe,Ke[lr+1]),Ke[lr+0])},Ue.Predictor6=function(qe,Ke,lr){return Pr(qe,Ke[lr-1])},Ue.Predictor7=function(qe,Ke,lr){return Pr(qe,Ke[lr+0])},Ue.Predictor8=function(qe,Ke,lr){return Pr(Ke[lr-1],Ke[lr+0])},Ue.Predictor9=function(qe,Ke,lr){return Pr(Ke[lr+0],Ke[lr+1])},Ue.Predictor10=function(qe,Ke,lr){return Pr(Pr(qe,Ke[lr-1]),Pr(Ke[lr+0],Ke[lr+1]))},Ue.Predictor11=function(qe,Ke,lr){var br=Ke[lr+0];return 0>=zr(br>>24&255,qe>>24&255,(Ke=Ke[lr-1])>>24&255)+zr(br>>16&255,qe>>16&255,Ke>>16&255)+zr(br>>8&255,qe>>8&255,Ke>>8&255)+zr(255&br,255&qe,255&Ke)?br:qe},Ue.Predictor12=function(qe,Ke,lr){var br=Ke[lr+0];return(Ir((qe>>24&255)+(br>>24&255)-((Ke=Ke[lr-1])>>24&255))<<24|Ir((qe>>16&255)+(br>>16&255)-(Ke>>16&255))<<16|Ir((qe>>8&255)+(br>>8&255)-(Ke>>8&255))<<8|Ir((255&qe)+(255&br)-(255&Ke)))>>>0},Ue.Predictor13=function(qe,Ke,lr){var br=Ke[lr-1];return(Vr((qe=Pr(qe,Ke[lr+0]))>>24&255,br>>24&255)<<24|Vr(qe>>16&255,br>>16&255)<<16|Vr(qe>>8&255,br>>8&255)<<8|Vr(qe>>0&255,br>>0&255))>>>0};var gl=Ue.PredictorAdd0;Ue.PredictorAdd1=$r,Or("Predictor2","PredictorAdd2"),Or("Predictor3","PredictorAdd3"),Or("Predictor4","PredictorAdd4"),Or("Predictor5","PredictorAdd5"),Or("Predictor6","PredictorAdd6"),Or("Predictor7","PredictorAdd7"),Or("Predictor8","PredictorAdd8"),Or("Predictor9","PredictorAdd9"),Or("Predictor10","PredictorAdd10"),Or("Predictor11","PredictorAdd11"),Or("Predictor12","PredictorAdd12"),Or("Predictor13","PredictorAdd13");var Va=Ue.PredictorAdd2;di("ColorIndexInverseTransform","MapARGB","32b",function(qe){return qe>>8&255},function(qe){return qe}),di("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(qe){return qe},function(qe){return qe>>8&255});var _o,Jn=Ue.ColorIndexInverseTransform,za=Ue.MapARGB,ml=Ue.VP8LColorIndexInverseTransformAlpha,vl=Ue.MapAlpha,Es=Ue.VP8LPredictorsAdd=[];Es.length=16,(Ue.VP8LPredictors=[]).length=16,(Ue.VP8LPredictorsAdd_C=[]).length=16,(Ue.VP8LPredictors_C=[]).length=16;var Hn,Qn,Ts,as,gs,la,Zn,ha,Ha,Ps,es,ms,Us,ca,$s,ks,Ua,Un,vs,un,fn,_n,Cn,_s,Ds,ua,yo,th,rh=Ae(511),ih=Ae(2041),nh=Ae(225),sh=Ae(767),ah=0,_l=ih,bo=nh,jn=sh,$n=rh,So=0,wo=1,oh=2,Co=3,Ao=4,yl=5,lh=6,bl=7,Sl=8,xo=9,wl=10,ic=[2,3,7],nc=[3,3,11],hh=[280,256,256,256,40],sc=[0,1,1,1,0],ac=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],oc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cc=8,Cl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Al=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$a=null,uc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ch=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fs=[],ts=[],ys=[],vc=1,uh=2,Ms=[],qn=[];li("UpsampleRgbLinePair",Ki,3),li("UpsampleBgrLinePair",pn,3),li("UpsampleRgbaLinePair",Kn,4),li("UpsampleBgraLinePair",xn,4),li("UpsampleArgbLinePair",Fn,4),li("UpsampleRgba4444LinePair",yn,2),li("UpsampleRgb565LinePair",gn,2);var _c=Ue.UpsampleRgbLinePair,yc=Ue.UpsampleBgrLinePair,fh=Ue.UpsampleRgbaLinePair,dh=Ue.UpsampleBgraLinePair,ph=Ue.UpsampleArgbLinePair,gh=Ue.UpsampleRgba4444LinePair,bc=Ue.UpsampleRgb565LinePair,Eo=16,To=1<<Eo-1,qa=-227,xl=482,mh=6,Sc=(256<<mh)-1,vh=0,wc=Ae(256),Cc=Ae(256),Ac=Ae(256),xc=Ae(256),Ec=Ae(xl-qa),Tc=Ae(xl-qa);ps("YuvToRgbRow",Ki,3),ps("YuvToBgrRow",pn,3),ps("YuvToRgbaRow",Kn,4),ps("YuvToBgraRow",xn,4),ps("YuvToArgbRow",Fn,4),ps("YuvToRgba4444Row",yn,2),ps("YuvToRgb565Row",gn,2);var _h=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Po=[0,2,8],Pc=[8,7,6,4,4,2,2,2,1,1,1,1],kc=1;this.WebPDecodeRGBA=function(qe,Ke,lr,br,Er){var Fr=wo,Mr=new ta,Rr=new Oi;Mr.ba=Rr,Rr.S=Fr,Rr.width=[Rr.width],Rr.height=[Rr.height];var Nr=Rr.width,Br=Rr.height,Xr=new Ri;if(Xr==null||qe==null)var ei=2;else e(Xr!=null),ei=ia(qe,Ke,lr,Xr.width,Xr.height,Xr.Pd,Xr.Qd,Xr.format,null);if(ei!=0?Nr=0:(Nr!=null&&(Nr[0]=Xr.width[0]),Br!=null&&(Br[0]=Xr.height[0]),Nr=1),Nr){Rr.width=Rr.width[0],Rr.height=Rr.height[0],br!=null&&(br[0]=Rr.width),Er!=null&&(Er[0]=Rr.height);e:{if(br=new Xs,(Er=new Fa).data=qe,Er.w=Ke,Er.ha=lr,Er.kd=1,Ke=[0],e(Er!=null),((qe=ia(Er.data,Er.w,Er.ha,null,null,null,Ke,null,Er))==0||qe==7)&&Ke[0]&&(qe=4),(Ke=qe)==0){if(e(Mr!=null),br.data=Er.data,br.w=Er.w+Er.offset,br.ha=Er.ha-Er.offset,br.put=si,br.ac=Ti,br.bc=Si,br.ma=Mr,Er.xa){if((qe=wn())==null){Mr=1;break e}if(function(ti,Jr){var gi=[0],ai=[0],Yr=[0];t:for(;;){if(ti==null)return 0;if(Jr==null)return ti.a=2,0;if(ti.l=Jr,ti.a=0,sr(ti.m,Jr.data,Jr.w,Jr.ha),!hi(ti.m,gi,ai,Yr)){ti.a=3;break t}if(ti.xb=uh,Jr.width=gi[0],Jr.height=ai[0],!An(gi[0],ai[0],1,ti,null))break t;return 1}return e(ti.a!=0),0}(qe,br)){if(br=(Ke=na(br.width,br.height,Mr.Oa,Mr.ba))==0){t:{br=qe;r:for(;;){if(br==null){br=0;break t}if(e(br.s.yc!=null),e(br.s.Ya!=null),e(0<br.s.Wb),e((lr=br.l)!=null),e((Er=lr.ma)!=null),br.xb!=0){if(br.ca=Er.ba,br.tb=Er.tb,e(br.ca!=null),!Na(Er.Oa,lr,Co)){br.a=2;break r}if(!hn(br,lr.width)||lr.da)break r;if((lr.da||fi(br.ca.S))&&Zr(),11>br.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),br.ca.f.kb.F!=null&&Zr()),br.Pb&&0<br.s.ua&&br.s.vb.X==null&&!Qe(br.s.vb,br.s.Wa.Xa)){br.a=1;break r}br.xb=0}if(!Wi(br,br.V,br.Ba,br.c,br.i,lr.o,qi))break r;Er.Dc=br.Ma,br=1;break t}e(br.a!=0),br=0}br=!br}br&&(Ke=qe.a)}else Ke=qe.a}else{if((qe=new Yo)==null){Mr=1;break e}if(qe.Fa=Er.na,qe.P=Er.P,qe.qc=Er.Sa,to(qe,br)){if((Ke=na(br.width,br.height,Mr.Oa,Mr.ba))==0){if(qe.Aa=0,lr=Mr.Oa,e((Er=qe)!=null),lr!=null){if(0<(Nr=0>(Nr=lr.Md)?0:100<Nr?255:255*Nr/100)){for(Br=Xr=0;4>Br;++Br)12>(ei=Er.pb[Br]).lc&&(ei.ia=Nr*Pc[0>ei.lc?0:ei.lc]>>3),Xr|=ei.ia;Xr&&(alert("todo:VP8InitRandom"),Er.ia=1)}Er.Ga=lr.Id,100<Er.Ga?Er.Ga=100:0>Er.Ga&&(Er.Ga=0)}Ko(qe,br)||(Ke=qe.a)}}else Ke=qe.a}Ke==0&&Mr.Oa!=null&&Mr.Oa.fd&&(Ke=Ba(Mr.ba))}Mr=Ke}Fr=Mr!=0?null:11>Fr?Rr.f.RGBA.eb:Rr.f.kb.y}else Fr=null;return Fr};var yh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Te(Ue,Xe){for(var nr="",Ge=0;Ge<4;Ge++)nr+=String.fromCharCode(Ue[Xe++]);return nr}function De(Ue,Xe){return(Ue[Xe+0]<<0|Ue[Xe+1]<<8|Ue[Xe+2]<<16)>>>0}function ke(Ue,Xe){return(Ue[Xe+0]<<0|Ue[Xe+1]<<8|Ue[Xe+2]<<16|Ue[Xe+3]<<24)>>>0}new Ce;var Pe=[0],xe=[0],Fe=[],Ie=new Ce,Me=t,Oe=function(Ue,Xe){var nr={},Ge=0,St=!1,mr=0,pr=0;if(nr.frames=[],!function(Ze,Ye,We,or){for(var fr=0;fr<or;fr++)if(Ze[Ye+fr]!=We.charCodeAt(fr))return!0;return!1}(Ue,Xe,"RIFF",4)){var vr,dr;for(ke(Ue,Xe+=4),Xe+=8;Xe<Ue.length;){var gr=Te(Ue,Xe),sr=ke(Ue,Xe+=4);Xe+=4;var tr=sr+(1&sr);switch(gr){case"VP8 ":case"VP8L":nr.frames[Ge]===void 0&&(nr.frames[Ge]={}),(Je=nr.frames[Ge]).src_off=St?pr:Xe-8,Je.src_size=mr+sr+8,Ge++,St&&(St=!1,mr=0,pr=0);break;case"VP8X":(Je=nr.header={}).feature_flags=Ue[Xe];var hr=Xe+4;Je.canvas_width=1+De(Ue,hr),hr+=3,Je.canvas_height=1+De(Ue,hr),hr+=3;break;case"ALPH":St=!0,mr=tr+8,pr=Xe-8;break;case"ANIM":(Je=nr.header).bgcolor=ke(Ue,Xe),hr=Xe+4,Je.loop_count=(vr=Ue)[(dr=hr)+0]<<0|vr[dr+1]<<8,hr+=2;break;case"ANMF":var Sr,Je;(Je=nr.frames[Ge]={}).offset_x=2*De(Ue,Xe),Xe+=3,Je.offset_y=2*De(Ue,Xe),Xe+=3,Je.width=1+De(Ue,Xe),Xe+=3,Je.height=1+De(Ue,Xe),Xe+=3,Je.duration=De(Ue,Xe),Xe+=3,Sr=Ue[Xe++],Je.dispose=1&Sr,Je.blend=Sr>>1&1}gr!="ANMF"&&(Xe+=tr)}return nr}}(Me,0);Oe.response=Me,Oe.rgbaoutput=!0,Oe.dataurl=!1;var Be=Oe.header?Oe.header:null,je=Oe.frames?Oe.frames:null;if(Be){Be.loop_counter=Be.loop_count,Pe=[Be.canvas_height],xe=[Be.canvas_width];for(var Ve=0;Ve<je.length&&je[Ve].blend!=0;Ve++);}var ze=je[0],He=Ie.WebPDecodeRGBA(Me,ze.src_off,ze.src_size,xe,Pe);ze.rgba=He,ze.imgwidth=xe[0],ze.imgheight=Pe[0];for(var $e=0;$e<xe[0]*Pe[0]*4;$e++)Fe[$e]=He[$e];return this.width=xe,this.height=Pe,this.data=Fe,this}(function(t){var e=function(){return typeof zlibSync=="function"},r=function(Pe,xe,Fe,Ie){var Me=4,Oe=Re;switch(Ie){case t.image_compression.FAST:Me=1,Oe=Ae;break;case t.image_compression.MEDIUM:Me=6,Oe=Ee;break;case t.image_compression.SLOW:Me=9,Oe=Ce}Pe=_e(Pe,xe,Fe,Oe);var Be=zlibSync(Pe,{level:Me});return t.__addimage__.arrayBufferToBinaryString(Be)},_e=function(Pe,xe,Fe,Ie){for(var Me,Oe,Be,je=Pe.length/xe,Ve=new Uint8Array(Pe.length+je),ze=De(),He=0;He<je;He+=1){if(Be=He*xe,Me=Pe.subarray(Be,Be+xe),Ie)Ve.set(Ie(Me,Fe,Oe),Be+He);else{for(var $e,Ue=ze.length,Xe=[];$e<Ue;$e+=1)Xe[$e]=ze[$e](Me,Fe,Oe);var nr=ke(Xe.concat());Ve.set(Xe[nr],Be+He)}Oe=Me}return Ve},Se=function(Pe){var xe=Array.apply([],Pe);return xe.unshift(0),xe},Ae=function(Pe,xe){var Fe,Ie=[],Me=Pe.length;Ie[0]=1;for(var Oe=0;Oe<Me;Oe+=1)Fe=Pe[Oe-xe]||0,Ie[Oe+1]=Pe[Oe]-Fe+256&255;return Ie},Re=function(Pe,xe,Fe){var Ie,Me=[],Oe=Pe.length;Me[0]=2;for(var Be=0;Be<Oe;Be+=1)Ie=Fe&&Fe[Be]||0,Me[Be+1]=Pe[Be]-Ie+256&255;return Me},Ee=function(Pe,xe,Fe){var Ie,Me,Oe=[],Be=Pe.length;Oe[0]=3;for(var je=0;je<Be;je+=1)Ie=Pe[je-xe]||0,Me=Fe&&Fe[je]||0,Oe[je+1]=Pe[je]+256-(Ie+Me>>>1)&255;return Oe},Ce=function(Pe,xe,Fe){var Ie,Me,Oe,Be,je=[],Ve=Pe.length;je[0]=4;for(var ze=0;ze<Ve;ze+=1)Ie=Pe[ze-xe]||0,Me=Fe&&Fe[ze]||0,Oe=Fe&&Fe[ze-xe]||0,Be=Te(Ie,Me,Oe),je[ze+1]=Pe[ze]-Be+256&255;return je},Te=function(Pe,xe,Fe){if(Pe===xe&&xe===Fe)return Pe;var Ie=Math.abs(xe-Fe),Me=Math.abs(Pe-Fe),Oe=Math.abs(Pe+xe-Fe-Fe);return Ie<=Me&&Ie<=Oe?Pe:Me<=Oe?xe:Fe},De=function(){return[Se,Ae,Re,Ee,Ce]},ke=function(Pe){var xe=Pe.map(function(Fe){return Fe.reduce(function(Ie,Me){return Ie+Math.abs(Me)},0)});return xe.indexOf(Math.min.apply(null,xe))};t.processPNG=function(Pe,xe,Fe,Ie){var Me,Oe,Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr=this.decode.FLATE_DECODE,dr="";if(this.__addimage__.isArrayBuffer(Pe)&&(Pe=new Uint8Array(Pe)),this.__addimage__.isArrayBufferView(Pe)){if(Pe=(Be=new Kt(Pe)).imgData,Oe=Be.bits,Me=Be.colorSpace,Ve=Be.colors,[4,6].indexOf(Be.colorType)!==-1){if(Be.bits===8){Ue=($e=Be.pixelBitlength==32?new Uint32Array(Be.decodePixels().buffer):Be.pixelBitlength==16?new Uint16Array(Be.decodePixels().buffer):new Uint8Array(Be.decodePixels().buffer)).length,nr=new Uint8Array(Ue*Be.colors),Xe=new Uint8Array(Ue);var gr,sr=Be.pixelBitlength-Be.bits;for(mr=0,pr=0;mr<Ue;mr++){for(St=$e[mr],gr=0;gr<sr;)nr[pr++]=St>>>gr&255,gr+=Be.bits;Xe[mr]=St>>>gr&255}}if(Be.bits===16){Ue=($e=new Uint32Array(Be.decodePixels().buffer)).length,nr=new Uint8Array(Ue*(32/Be.pixelBitlength)*Be.colors),Xe=new Uint8Array(Ue*(32/Be.pixelBitlength)),Ge=Be.colors>1,mr=0,pr=0;for(var tr=0;mr<Ue;)St=$e[mr++],nr[pr++]=St>>>0&255,Ge&&(nr[pr++]=St>>>16&255,St=$e[mr++],nr[pr++]=St>>>0&255),Xe[tr++]=St>>>16&255;Oe=8}Ie!==t.image_compression.NONE&&e()?(Pe=r(nr,Be.width*Be.colors,Be.colors,Ie),He=r(Xe,Be.width,1,Ie)):(Pe=nr,He=Xe,vr=void 0)}if(Be.colorType===3&&(Me=this.color_spaces.INDEXED,ze=Be.palette,Be.transparency.indexed)){var hr=Be.transparency.indexed,Sr=0;for(mr=0,Ue=hr.length;mr<Ue;++mr)Sr+=hr[mr];if((Sr/=255)===Ue-1&&hr.indexOf(0)!==-1)je=[hr.indexOf(0)];else if(Sr!==Ue){for($e=Be.decodePixels(),Xe=new Uint8Array($e.length),mr=0,Ue=$e.length;mr<Ue;mr++)Xe[mr]=hr[$e[mr]];He=r(Xe,Be.width,1)}}var Je=function(Ze){var Ye;switch(Ze){case t.image_compression.FAST:Ye=11;break;case t.image_compression.MEDIUM:Ye=13;break;case t.image_compression.SLOW:Ye=14;break;default:Ye=12}return Ye}(Ie);return vr===this.decode.FLATE_DECODE&&(dr="/Predictor "+Je+" "),dr+="/Colors "+Ve+" /BitsPerComponent "+Oe+" /Columns "+Be.width,(this.__addimage__.isArrayBuffer(Pe)||this.__addimage__.isArrayBufferView(Pe))&&(Pe=this.__addimage__.arrayBufferToBinaryString(Pe)),(He&&this.__addimage__.isArrayBuffer(He)||this.__addimage__.isArrayBufferView(He))&&(He=this.__addimage__.arrayBufferToBinaryString(He)),{alias:Fe,data:Pe,index:xe,filter:vr,decodeParameters:dr,transparency:je,palette:ze,sMask:He,predictor:Je,width:Be.width,height:Be.height,bitsPerComponent:Oe,colorSpace:Me}}}})(E.API),function(t){t.processGIF89A=function(e,r,_e,Se){var Ae=new Zt(e),Re=Ae.width,Ee=Ae.height,Ce=[];Ae.decodeAndBlitFrameRGBA(0,Ce);var Te={data:Ce,width:Re,height:Ee},De=new Qt(100).encode(Te,100);return t.processJPEG.call(this,De,r,_e,Se)},t.processGIF87A=t.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:Se,green:_e,blue:r,quad:Ae}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){a.log("bit decode error:"+r)}},te.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var _e=this.bottom_up?t:this.height-1-t,Se=0;Se<e;Se++)for(var Ae=this.datav.getUint8(this.pos++,!0),Re=_e*this.width*4+8*Se*4,Ee=0;Ee<8&&8*Se+Ee<this.width;Ee++){var Ce=this.palette[Ae>>7-Ee&1];this.data[Re+4*Ee]=Ce.blue,this.data[Re+4*Ee+1]=Ce.green,this.data[Re+4*Ee+2]=Ce.red,this.data[Re+4*Ee+3]=255}r!==0&&(this.pos+=4-r)}},te.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var _e=this.bottom_up?r:this.height-1-r,Se=0;Se<t;Se++){var Ae=this.datav.getUint8(this.pos++,!0),Re=_e*this.width*4+2*Se*4,Ee=Ae>>4,Ce=15&Ae,Te=this.palette[Ee];if(this.data[Re]=Te.blue,this.data[Re+1]=Te.green,this.data[Re+2]=Te.red,this.data[Re+3]=255,2*Se+1>=this.width)break;Te=this.palette[Ce],this.data[Re+4]=Te.blue,this.data[Re+4+1]=Te.green,this.data[Re+4+2]=Te.red,this.data[Re+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,_e=0;_e<this.width;_e++){var Se=this.datav.getUint8(this.pos++,!0),Ae=r*this.width*4+4*_e;if(Se<this.palette.length){var Re=this.palette[Se];this.data[Ae]=Re.red,this.data[Ae+1]=Re.green,this.data[Ae+2]=Re.blue,this.data[Ae+3]=255}else this.data[Ae]=255,this.data[Ae+1]=255,this.data[Ae+2]=255,this.data[Ae+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var _e=this.bottom_up?r:this.height-1-r,Se=0;Se<this.width;Se++){var Ae=this.datav.getUint16(this.pos,!0);this.pos+=2;var Re=(Ae&e)/e*255|0,Ee=(Ae>>5&e)/e*255|0,Ce=(Ae>>10&e)/e*255|0,Te=Ae>>15?255:0,De=_e*this.width*4+4*Se;this.data[De]=Ce,this.data[De+1]=Ee,this.data[De+2]=Re,this.data[De+3]=Te}this.pos+=t}},te.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),_e=this.height-1;_e>=0;_e--){for(var Se=this.bottom_up?_e:this.height-1-_e,Ae=0;Ae<this.width;Ae++){var Re=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ee=(Re&e)/e*255|0,Ce=(Re>>5&r)/r*255|0,Te=(Re>>11)/e*255|0,De=Se*this.width*4+4*Ae;this.data[De]=Te,this.data[De+1]=Ce,this.data[De+2]=Ee,this.data[De+3]=255}this.pos+=t}},te.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var _e=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Re=e*this.width*4+4*r;this.data[Re]=Ae,this.data[Re+1]=Se,this.data[Re+2]=_e,this.data[Re+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var _e=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Ee=e*this.width*4+4*r;this.data[Ee]=Ae,this.data[Ee+1]=Se,this.data[Ee+2]=_e,this.data[Ee+3]=Re}},te.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,_e,Se){var Ae=new te(e,!1),Re=Ae.width,Ee=Ae.height,Ce={data:Ae.getData(),width:Re,height:Ee},Te=new Qt(100).encode(Ce,100);return t.processJPEG.call(this,Te,r,_e,Se)}}(E.API),ee.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,_e,Se){var Ae=new ee(e),Re=Ae.width,Ee=Ae.height,Ce={data:Ae.getData(),width:Re,height:Ee},Te=new Qt(100).encode(Ce,100);return t.processJPEG.call(this,Te,r,_e,Se)}}(E.API),E.API.processRGBA=function(t,e,r){for(var _e=t.data,Se=_e.length,Ae=new Uint8Array(Se/4*3),Re=new Uint8Array(Se/4),Ee=0,Ce=0,Te=0;Te<Se;Te+=4){var De=_e[Te],ke=_e[Te+1],Pe=_e[Te+2],xe=_e[Te+3];Ae[Ee++]=De,Ae[Ee++]=ke,Ae[Ee++]=Pe,Re[Ce++]=xe}var Fe=this.__addimage__.arrayBufferToBinaryString(Ae);return{alpha:this.__addimage__.arrayBufferToBinaryString(Re),data:Fe,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},E.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(t,e){var r,_e,Se=(e=e||{}).font||this.internal.getFont(),Ae=e.fontSize||this.internal.getFontSize(),Re=e.charSpace||this.internal.getCharSpace(),Ee=e.widths?e.widths:Se.metadata.Unicode.widths,Ce=Ee.fof?Ee.fof:1,Te=e.kerning?e.kerning:Se.metadata.Unicode.kerning,De=Te.fof?Te.fof:1,ke=e.doKerning!==!1,Pe=0,xe=t.length,Fe=0,Ie=Ee[0]||Ce,Me=[];for(r=0;r<xe;r++)_e=t.charCodeAt(r),typeof Se.metadata.widthOfString=="function"?Me.push((Se.metadata.widthOfGlyph(Se.metadata.characterToGlyph(_e))+Re*(1e3/Ae)||0)/1e3):(Pe=ke&&_typeof(Te[_e])==="object"&&!isNaN(parseInt(Te[_e][Fe],10))?Te[_e][Fe]/De:0,Me.push((Ee[_e]||Ie)/Ce+Pe)),Fe=_e;return Me},Yt=Vt.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),_e=e.font||this.internal.getFont(),Se=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(t=Vt.processArabic(t)),typeof _e.metadata.widthOfString=="function"?_e.metadata.widthOfString(t,r,Se)/r:Gt.apply(this,arguments).reduce(function(Ae,Re){return Ae+Re},0)},Jt=function(t,e,r,_e){for(var Se=[],Ae=0,Re=t.length,Ee=0;Ae!==Re&&Ee+e[Ae]<r;)Ee+=e[Ae],Ae++;Se.push(t.slice(0,Ae));var Ce=Ae;for(Ee=0;Ae!==Re;)Ee+e[Ae]>_e&&(Se.push(t.slice(Ce,Ae)),Ee=0,Ce=Ae),Ee+=e[Ae],Ae++;return Ce!==Ae&&Se.push(t.slice(Ce,Ae)),Se},Xt=function(t,e,r){r||(r={});var _e,Se,Ae,Re,Ee,Ce,Te,De=[],ke=[De],Pe=r.textIndent||0,xe=0,Fe=0,Ie=t.split(" "),Me=Gt.apply(this,[" ",r])[0];if(Ce=r.lineIndent===-1?Ie[0].length+2:r.lineIndent||0){var Oe=Array(Ce).join(" "),Be=[];Ie.map(function(Ve){(Ve=Ve.split(/\s*\n/)).length>1?Be=Be.concat(Ve.map(function(ze,He){return(He&&ze.length?`
`:"")+ze})):Be.push(Ve[0])}),Ie=Be,Ce=Yt.apply(this,[Oe,r])}for(Ae=0,Re=Ie.length;Ae<Re;Ae++){var je=0;if(_e=Ie[Ae],Ce&&_e[0]==`
`&&(_e=_e.substr(1),je=1),Pe+xe+(Fe=(Se=Gt.apply(this,[_e,r])).reduce(function(Ve,ze){return Ve+ze},0))>e||je){if(Fe>e){for(Ee=Jt.apply(this,[_e,Se,e-(Pe+xe),e]),De.push(Ee.shift()),De=[Ee.pop()];Ee.length;)ke.push([Ee.shift()]);Fe=Se.slice(_e.length-(De[0]?De[0].length:0)).reduce(function(Ve,ze){return Ve+ze},0)}else De=[_e];ke.push(De),Pe=Fe+Ce,xe=Me}else De.push(_e),Pe+=xe+Fe,xe=Me}return Te=Ce?function(Ve,ze){return(ze?Oe:"")+Ve.join(" ")}:function(Ve){return Ve.join(" ")},ke.map(Te)},Vt.splitTextToSize=function(t,e,r){var _e,Se=(r=r||{}).fontSize||this.internal.getFontSize(),Ae=function(De){if(De.widths&&De.kerning)return{widths:De.widths,kerning:De.kerning};var ke=this.internal.getFont(De.fontName,De.fontStyle);return ke.metadata.Unicode?{widths:ke.metadata.Unicode.widths||{0:1},kerning:ke.metadata.Unicode.kerning||{}}:{font:ke.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);_e=Array.isArray(t)?t:String(t).split(/\r?\n/);var Re=1*this.internal.scaleFactor*e/Se;Ae.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/Se:0,Ae.lineIndent=r.lineIndent;var Ee,Ce,Te=[];for(Ee=0,Ce=_e.length;Ee<Ce;Ee++)Te=Te.concat(Xt.apply(this,[_e[Ee],Re,Ae]));return Te},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},_e={},Se=0;Se<e.length;Se++)r[e[Se]]="0123456789abcdef"[Se],_e["0123456789abcdef"[Se]]=e[Se];var Ae=function(ke){return"0x"+parseInt(ke,10).toString(16)},Re=t.__fontmetrics__.compress=function(ke){var Pe,xe,Fe,Ie,Me=["{"];for(var Oe in ke){if(Pe=ke[Oe],isNaN(parseInt(Oe,10))?xe="'"+Oe+"'":(Oe=parseInt(Oe,10),xe=(xe=Ae(Oe).slice(2)).slice(0,-1)+_e[xe.slice(-1)]),typeof Pe=="number")Pe<0?(Fe=Ae(Pe).slice(3),Ie="-"):(Fe=Ae(Pe).slice(2),Ie=""),Fe=Ie+Fe.slice(0,-1)+_e[Fe.slice(-1)];else{if(_typeof(Pe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Pe)+".");Fe=Re(Pe)}Me.push(xe+Fe)}return Me.push("}"),Me.join("")},Ee=t.__fontmetrics__.uncompress=function(ke){if(typeof ke!="string")throw new Error("Invalid argument passed to uncompress.");for(var Pe,xe,Fe,Ie,Me={},Oe=1,Be=Me,je=[],Ve="",ze="",He=ke.length-1,$e=1;$e<He;$e+=1)(Ie=ke[$e])=="'"?Pe?(Fe=Pe.join(""),Pe=void 0):Pe=[]:Pe?Pe.push(Ie):Ie=="{"?(je.push([Be,Fe]),Be={},Fe=void 0):Ie=="}"?((xe=je.pop())[0][xe[1]]=Be,Fe=void 0,Be=xe[0]):Ie=="-"?Oe=-1:Fe===void 0?r.hasOwnProperty(Ie)?(Ve+=r[Ie],Fe=parseInt(Ve,16)*Oe,Oe=1,Ve=""):Ve+=Ie:r.hasOwnProperty(Ie)?(ze+=r[Ie],Be[Fe]=parseInt(ze,16)*Oe,Oe=1,Fe=void 0,ze=""):ze+=Ie;return Me},Ce={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ee("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Te={Unicode:{Courier:Ce,"Courier-Bold":Ce,"Courier-BoldOblique":Ce,"Courier-Oblique":Ce,Helvetica:Ce,"Helvetica-Bold":Ce,"Helvetica-BoldOblique":Ce,"Helvetica-Oblique":Ce,"Times-Roman":Ce,"Times-Bold":Ce,"Times-BoldItalic":Ce,"Times-Italic":Ce}},De={Unicode:{"Courier-Oblique":Ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ee("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ee("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ee("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ee("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ee("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ee("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(ke){var Pe=ke.font,xe=De.Unicode[Pe.postScriptName];xe&&(Pe.metadata.Unicode={},Pe.metadata.Unicode.widths=xe.widths,Pe.metadata.Unicode.kerning=xe.kerning);var Fe=Te.Unicode[Pe.postScriptName];Fe&&(Pe.metadata.Unicode.encoding=Fe,Pe.encoding=Fe.codePages[0])}])}(E.API),function(t){var e=function(r){for(var _e=r.length,Se=new Uint8Array(_e),Ae=0;Ae<_e;Ae++)Se[Ae]=r.charCodeAt(Ae);return Se};t.API.events.push(["addFont",function(r){var _e=void 0,Se=r.font,Ae=r.instance;if(!Se.isStandardFont){if(Ae===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Se.postScriptName+"').");if(typeof(_e=Ae.existsFileInVFS(Se.postScriptName)===!1?Ae.loadFile(Se.postScriptName):Ae.getFileFromVFS(Se.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Se.postScriptName+"').");(function(Re,Ee){Ee=/^\x00\x01\x00\x00/.test(Ee)?e(Ee):e(u(Ee)),Re.metadata=t.API.TTFFont.open(Ee),Re.metadata.Unicode=Re.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Re.metadata.glyIdsUsed=[0]})(Se,_e)}}])}(E),function(t){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.c19cf272.js"),[],import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}E.API.addSvgAsImage=function(r,_e,Se,Ae,Re,Ee,Ce,Te){if(isNaN(_e)||isNaN(Se))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ae)||isNaN(Re))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var De=document.createElement("canvas");De.width=Ae,De.height=Re;var ke=De.getContext("2d");ke.fillStyle="#fff",ke.fillRect(0,0,De.width,De.height);var Pe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},xe=this;return e().then(function(Fe){return Fe.fromString(ke,r,Pe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Fe){return Fe.render(Pe)}).then(function(){xe.addImage(De.toDataURL("image/jpeg",1),_e,Se,Ae,Re,Ce,Te)})}}(),E.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _e=1;_e<=this.internal.getNumberOfPages();_e++)for(var Se=0;Se<this.internal.pages[_e].length;Se++)this.internal.pages[_e][Se]=this.internal.pages[_e][Se].replace(e,r);return this},E.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var _e,Se,Ae,Re={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Ee=Object.keys(Re),Ce=[],Te=0,De=0,ke=0;function Pe(Fe,Ie){var Me,Oe=!1;for(Me=0;Me<Fe.length;Me+=1)Fe[Me]===Ie&&(Oe=!0);return Oe}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Re)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var xe=Ee.length;for(ke=0;ke<xe;ke+=1)r[Ee[ke]].value=r[Ee[ke]].defaultValue,r[Ee[ke]].explicitSet=!1}if(_typeof(t)==="object"){for(Se in t)if(Ae=t[Se],Pe(Ee,Se)&&Ae!==void 0){if(r[Se].type==="boolean"&&typeof Ae=="boolean")r[Se].value=Ae;else if(r[Se].type==="name"&&Pe(r[Se].valueSet,Ae))r[Se].value=Ae;else if(r[Se].type==="integer"&&Number.isInteger(Ae))r[Se].value=Ae;else if(r[Se].type==="array"){for(Te=0;Te<Ae.length;Te+=1)if(_e=!0,Ae[Te].length===1&&typeof Ae[Te][0]=="number")Ce.push(String(Ae[Te]-1));else if(Ae[Te].length>1){for(De=0;De<Ae[Te].length;De+=1)typeof Ae[Te][De]!="number"&&(_e=!1);_e===!0&&Ce.push([Ae[Te][0]-1,Ae[Te][1]-1].join(" "))}r[Se].value="["+Ce.join(" ")+"]"}else r[Se].value=r[Se].defaultValue;r[Se].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Fe,Ie=[];for(Fe in r)r[Fe].explicitSet===!0&&(r[Fe].type==="name"?Ie.push("/"+Fe+" /"+r[Fe].value):Ie.push("/"+Fe+" "+r[Fe].value));Ie.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ie.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var _e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Se=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Ae=unescape(encodeURIComponent(_e)),Re=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Ee=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Ce=unescape(encodeURIComponent("</x:xmpmeta>")),Te=Ae.length+Re.length+Ee.length+Se.length+Ce.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Te+" >>"),this.internal.write("stream"),this.internal.write(Se+Ae+Re+Ee+Ce),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(_e,Se){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_e,namespaceuri:Se||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(t){var e=t.API,r=e.pdfEscape16=function(Ae,Re){for(var Ee,Ce=Re.metadata.Unicode.widths,Te=["","0","00","000","0000"],De=[""],ke=0,Pe=Ae.length;ke<Pe;++ke){if(Ee=Re.metadata.characterToGlyph(Ae.charCodeAt(ke)),Re.metadata.glyIdsUsed.push(Ee),Re.metadata.toUnicode[Ee]=Ae.charCodeAt(ke),Ce.indexOf(Ee)==-1&&(Ce.push(Ee),Ce.push([parseInt(Re.metadata.widthOfGlyph(Ee),10)])),Ee=="0")return De.join("");Ee=Ee.toString(16),De.push(Te[4-Ee.length],Ee)}return De.join("")},_e=function(Ae){var Re,Ee,Ce,Te,De,ke,Pe;for(De=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Ce=[],ke=0,Pe=(Ee=Object.keys(Ae).sort(function(xe,Fe){return xe-Fe})).length;ke<Pe;ke++)Re=Ee[ke],Ce.length>=100&&(De+=`
`+Ce.length+` beginbfchar
`+Ce.join(`
`)+`
endbfchar`,Ce=[]),Ae[Re]!==void 0&&Ae[Re]!==null&&typeof Ae[Re].toString=="function"&&(Te=("0000"+Ae[Re].toString(16)).slice(-4),Re=("0000"+(+Re).toString(16)).slice(-4),Ce.push("<"+Re+"><"+Te+">"));return Ce.length&&(De+=`
`+Ce.length+` beginbfchar
`+Ce.join(`
`)+`
endbfchar
`),De+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(Ae){(function(Re){var Ee=Re.font,Ce=Re.out,Te=Re.newObject,De=Re.putStream;if(Ee.metadata instanceof t.API.TTFFont&&Ee.encoding==="Identity-H"){for(var ke=Ee.metadata.Unicode.widths,Pe=Ee.metadata.subset.encode(Ee.metadata.glyIdsUsed,1),xe="",Fe=0;Fe<Pe.length;Fe++)xe+=String.fromCharCode(Pe[Fe]);var Ie=Te();De({data:xe,addLength1:!0,objectId:Ie}),Ce("endobj");var Me=Te();De({data:_e(Ee.metadata.toUnicode),addLength1:!0,objectId:Me}),Ce("endobj");var Oe=Te();Ce("<<"),Ce("/Type /FontDescriptor"),Ce("/FontName /"+F(Ee.fontName)),Ce("/FontFile2 "+Ie+" 0 R"),Ce("/FontBBox "+t.API.PDFObject.convert(Ee.metadata.bbox)),Ce("/Flags "+Ee.metadata.flags),Ce("/StemV "+Ee.metadata.stemV),Ce("/ItalicAngle "+Ee.metadata.italicAngle),Ce("/Ascent "+Ee.metadata.ascender),Ce("/Descent "+Ee.metadata.decender),Ce("/CapHeight "+Ee.metadata.capHeight),Ce(">>"),Ce("endobj");var Be=Te();Ce("<<"),Ce("/Type /Font"),Ce("/BaseFont /"+F(Ee.fontName)),Ce("/FontDescriptor "+Oe+" 0 R"),Ce("/W "+t.API.PDFObject.convert(ke)),Ce("/CIDToGIDMap /Identity"),Ce("/DW 1000"),Ce("/Subtype /CIDFontType2"),Ce("/CIDSystemInfo"),Ce("<<"),Ce("/Supplement 0"),Ce("/Registry (Adobe)"),Ce("/Ordering ("+Ee.encoding+")"),Ce(">>"),Ce(">>"),Ce("endobj"),Ee.objectNumber=Te(),Ce("<<"),Ce("/Type /Font"),Ce("/Subtype /Type0"),Ce("/ToUnicode "+Me+" 0 R"),Ce("/BaseFont /"+F(Ee.fontName)),Ce("/Encoding /"+Ee.encoding),Ce("/DescendantFonts ["+Be+" 0 R]"),Ce(">>"),Ce("endobj"),Ee.isAlreadyPutted=!0}})(Ae)}]),e.events.push(["putFont",function(Ae){(function(Re){var Ee=Re.font,Ce=Re.out,Te=Re.newObject,De=Re.putStream;if(Ee.metadata instanceof t.API.TTFFont&&Ee.encoding==="WinAnsiEncoding"){for(var ke=Ee.metadata.rawData,Pe="",xe=0;xe<ke.length;xe++)Pe+=String.fromCharCode(ke[xe]);var Fe=Te();De({data:Pe,addLength1:!0,objectId:Fe}),Ce("endobj");var Ie=Te();De({data:_e(Ee.metadata.toUnicode),addLength1:!0,objectId:Ie}),Ce("endobj");var Me=Te();Ce("<<"),Ce("/Descent "+Ee.metadata.decender),Ce("/CapHeight "+Ee.metadata.capHeight),Ce("/StemV "+Ee.metadata.stemV),Ce("/Type /FontDescriptor"),Ce("/FontFile2 "+Fe+" 0 R"),Ce("/Flags 96"),Ce("/FontBBox "+t.API.PDFObject.convert(Ee.metadata.bbox)),Ce("/FontName /"+F(Ee.fontName)),Ce("/ItalicAngle "+Ee.metadata.italicAngle),Ce("/Ascent "+Ee.metadata.ascender),Ce(">>"),Ce("endobj"),Ee.objectNumber=Te();for(var Oe=0;Oe<Ee.metadata.hmtx.widths.length;Oe++)Ee.metadata.hmtx.widths[Oe]=parseInt(Ee.metadata.hmtx.widths[Oe]*(1e3/Ee.metadata.head.unitsPerEm));Ce("<</Subtype/TrueType/Type/Font/ToUnicode "+Ie+" 0 R/BaseFont/"+F(Ee.fontName)+"/FontDescriptor "+Me+" 0 R/Encoding/"+Ee.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(Ee.metadata.hmtx.widths)+">>"),Ce("endobj"),Ee.isAlreadyPutted=!0}})(Ae)}]);var Se=function(Ae){var Re,Ee=Ae.text||"",Ce=Ae.x,Te=Ae.y,De=Ae.options||{},ke=Ae.mutex||{},Pe=ke.pdfEscape,xe=ke.activeFontKey,Fe=ke.fonts,Ie=xe,Me="",Oe=0,Be="",je=Fe[Ie].encoding;if(Fe[Ie].encoding!=="Identity-H")return{text:Ee,x:Ce,y:Te,options:De,mutex:ke};for(Be=Ee,Ie=xe,Array.isArray(Ee)&&(Be=Ee[0]),Oe=0;Oe<Be.length;Oe+=1)Fe[Ie].metadata.hasOwnProperty("cmap")&&(Re=Fe[Ie].metadata.cmap.unicode.codeMap[Be[Oe].charCodeAt(0)]),Re||Be[Oe].charCodeAt(0)<256&&Fe[Ie].metadata.hasOwnProperty("Unicode")?Me+=Be[Oe]:Me+="";var Ve="";return parseInt(Ie.slice(1))<14||je==="WinAnsiEncoding"?Ve=Pe(Me,Ie).split("").map(function(ze){return ze.charCodeAt(0).toString(16)}).join(""):je==="Identity-H"&&(Ve=r(Me,Fe[Ie])),ke.isHex=!0,{text:Ve,x:Ce,y:Te,options:De,mutex:ke}};e.events.push(["postProcessText",function(Ae){var Re=Ae.text||"",Ee=[],Ce={text:Re,x:Ae.x,y:Ae.y,options:Ae.options,mutex:Ae.mutex};if(Array.isArray(Re)){var Te=0;for(Te=0;Te<Re.length;Te+=1)Array.isArray(Re[Te])&&Re[Te].length===3?Ee.push([Se(Object.assign({},Ce,{text:Re[Te][0]})).text,Re[Te][1],Re[Te][2]]):Ee.push(Se(Object.assign({},Ce,{text:Re[Te]})).text);Ae.text=Ee}else Ae.text=Se(Object.assign({},Ce,{text:Re})).text}])}(E),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,_e){return e.call(this),this.internal.vFS[r]=_e,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(E.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(_e){var Se,Ae,Re,Ee,Ce,Te,De,ke=e,Pe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],xe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Fe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ie={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Me=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Oe=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Be=!1,je=0;this.__bidiEngine__={};var Ve=function(Ge){var St=Ge.charCodeAt(),mr=St>>8,pr=Ie[mr];return pr!==void 0?ke[256*pr+(255&St)]:mr===252||mr===253?"AL":Oe.test(mr)?"L":mr===8?"R":"N"},ze=function(Ge){for(var St,mr=0;mr<Ge.length;mr++){if((St=Ve(Ge.charAt(mr)))==="L")return!1;if(St==="R")return!0}return!1},He=function(Ge,St,mr,pr){var vr,dr,gr,sr,tr=St[pr];switch(tr){case"L":case"R":Be=!1;break;case"N":case"AN":break;case"EN":Be&&(tr="AN");break;case"AL":Be=!0,tr="R";break;case"WS":tr="N";break;case"CS":pr<1||pr+1>=St.length||(vr=mr[pr-1])!=="EN"&&vr!=="AN"||(dr=St[pr+1])!=="EN"&&dr!=="AN"?tr="N":Be&&(dr="AN"),tr=dr===vr?dr:"N";break;case"ES":tr=(vr=pr>0?mr[pr-1]:"B")==="EN"&&pr+1<St.length&&St[pr+1]==="EN"?"EN":"N";break;case"ET":if(pr>0&&mr[pr-1]==="EN"){tr="EN";break}if(Be){tr="N";break}for(gr=pr+1,sr=St.length;gr<sr&&St[gr]==="ET";)gr++;tr=gr<sr&&St[gr]==="EN"?"EN":"N";break;case"NSM":if(Re&&!Ee){for(sr=St.length,gr=pr+1;gr<sr&&St[gr]==="NSM";)gr++;if(gr<sr){var hr=Ge[pr],Sr=hr>=1425&&hr<=2303||hr===64286;if(vr=St[gr],Sr&&(vr==="R"||vr==="AL")){tr="R";break}}}tr=pr<1||(vr=St[pr-1])==="B"?"N":mr[pr-1];break;case"B":Be=!1,Se=!0,tr=je;break;case"S":Ae=!0,tr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Be=!1;break;case"BN":tr="N"}return tr},$e=function(Ge,St,mr){var pr=Ge.split("");return mr&&Ue(pr,mr,{hiLevel:je}),pr.reverse(),St&&St.reverse(),pr.join("")},Ue=function(Ge,St,mr){var pr,vr,dr,gr,sr,tr=-1,hr=Ge.length,Sr=0,Je=[],Ze=je?xe:Pe,Ye=[];for(Be=!1,Se=!1,Ae=!1,vr=0;vr<hr;vr++)Ye[vr]=Ve(Ge[vr]);for(dr=0;dr<hr;dr++){if(sr=Sr,Je[dr]=He(Ge,Ye,Je,dr),pr=240&(Sr=Ze[sr][Fe[Je[dr]]]),Sr&=15,St[dr]=gr=Ze[Sr][5],pr>0)if(pr===16){for(vr=tr;vr<dr;vr++)St[vr]=1;tr=-1}else tr=-1;if(Ze[Sr][6])tr===-1&&(tr=dr);else if(tr>-1){for(vr=tr;vr<dr;vr++)St[vr]=gr;tr=-1}Ye[dr]==="B"&&(St[dr]=0),mr.hiLevel|=gr}Ae&&function(We,or,fr){for(var _r=0;_r<fr;_r++)if(We[_r]==="S"){or[_r]=je;for(var yr=_r-1;yr>=0&&We[yr]==="WS";yr--)or[yr]=je}}(Ye,St,hr)},Xe=function(Ge,St,mr,pr,vr){if(!(vr.hiLevel<Ge)){if(Ge===1&&je===1&&!Se)return St.reverse(),void(mr&&mr.reverse());for(var dr,gr,sr,tr,hr=St.length,Sr=0;Sr<hr;){if(pr[Sr]>=Ge){for(sr=Sr+1;sr<hr&&pr[sr]>=Ge;)sr++;for(tr=Sr,gr=sr-1;tr<gr;tr++,gr--)dr=St[tr],St[tr]=St[gr],St[gr]=dr,mr&&(dr=mr[tr],mr[tr]=mr[gr],mr[gr]=dr);Sr=sr}Sr++}}},nr=function(Ge,St,mr){var pr=Ge.split(""),vr={hiLevel:je};return mr||(mr=[]),Ue(pr,mr,vr),function(dr,gr,sr){if(sr.hiLevel!==0&&De)for(var tr,hr=0;hr<dr.length;hr++)gr[hr]===1&&(tr=Me.indexOf(dr[hr]))>=0&&(dr[hr]=Me[tr+1])}(pr,mr,vr),Xe(2,pr,St,mr,vr),Xe(1,pr,St,mr,vr),pr.join("")};return this.__bidiEngine__.doBidiReorder=function(Ge,St,mr){if(function(vr,dr){if(dr)for(var gr=0;gr<vr.length;gr++)dr[gr]=gr;Ee===void 0&&(Ee=ze(vr)),Te===void 0&&(Te=ze(vr))}(Ge,St),Re||!Ce||Te)if(Re&&Ce&&Ee^Te)je=Ee?1:0,Ge=$e(Ge,St,mr);else if(!Re&&Ce&&Te)je=Ee?1:0,Ge=nr(Ge,St,mr),Ge=$e(Ge,St);else if(!Re||Ee||Ce||Te){if(Re&&!Ce&&Ee^Te)Ge=$e(Ge,St),Ee?(je=0,Ge=nr(Ge,St,mr)):(je=1,Ge=nr(Ge,St,mr),Ge=$e(Ge,St));else if(Re&&Ee&&!Ce&&Te)je=1,Ge=nr(Ge,St,mr),Ge=$e(Ge,St);else if(!Re&&!Ce&&Ee^Te){var pr=De;Ee?(je=1,Ge=nr(Ge,St,mr),je=0,De=!1,Ge=nr(Ge,St,mr),De=pr):(je=0,Ge=nr(Ge,St,mr),Ge=$e(Ge,St),je=1,De=!1,Ge=nr(Ge,St,mr),De=pr,Ge=$e(Ge,St))}}else je=0,Ge=nr(Ge,St,mr);else je=Ee?1:0,Ge=nr(Ge,St,mr);return Ge},this.__bidiEngine__.setOptions=function(Ge){Ge&&(Re=Ge.isInputVisual,Ce=Ge.isOutputVisual,Ee=Ge.isInputRtl,Te=Ge.isOutputRtl,De=Ge.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_e),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(_e){var Se=_e.text,Ae=(_e.x,_e.y,_e.options||{}),Re=(_e.mutex,Ae.lang,[]);if(Ae.isInputVisual=typeof Ae.isInputVisual!="boolean"||Ae.isInputVisual,r.setOptions(Ae),Object.prototype.toString.call(Se)==="[object Array]"){var Ee=0;for(Re=[],Ee=0;Ee<Se.length;Ee+=1)Object.prototype.toString.call(Se[Ee])==="[object Array]"?Re.push([r.doBidiReorder(Se[Ee][0]),Se[Ee][1],Se[Ee][2]]):Re.push([r.doBidiReorder(Se[Ee])]);_e.text=Re}else _e.text=r.doBidiReorder(Se);r.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ne(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,_e,Se,Ae;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var Re,Ee,Ce,Te;for(Te=[],Re=0,Ee=(Ce=this.bbox).length;Re<Ee;Re++)e=Ce[Re],Te.push(Math.round(e*this.scaleFactor));return Te}.call(this),this.stemV=0,this.post.exists?(_e=255&(Se=this.post.italic_angle),(32768&(r=Se>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+_e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Ae=this.familyClass)===1||Ae===2||Ae===3||Ae===4||Ae===5||Ae===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,_e){var Se,Ae,Re,Ee;for(Re=0,Ae=0,Ee=(e=""+e).length;0<=Ee?Ae<Ee:Ae>Ee;Ae=0<=Ee?++Ae:--Ae)Se=e.charCodeAt(Ae),Re+=this.widthOfGlyph(this.characterToGlyph(Se))+_e*(1e3/r)||0;return Re*(r/1e3)},t.prototype.lineHeight=function(e,r){var _e;return r==null&&(r=!1),_e=r?this.lineGap:0,(this.ascender+_e-this.decender)/1e3*e},t}();var re,ne=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,_e;for(_e=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)_e[r]=String.fromCharCode(this.readByte());return _e.join("")},t.prototype.writeString=function(e){var r,_e,Se;for(Se=[],r=0,_e=e.length;0<=_e?r<_e:r>_e;r=0<=_e?++r:--r)Se.push(this.writeByte(e.charCodeAt(r)));return Se},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,_e,Se,Ae,Re,Ee,Ce;return e=this.readByte(),r=this.readByte(),_e=this.readByte(),Se=this.readByte(),Ae=this.readByte(),Re=this.readByte(),Ee=this.readByte(),Ce=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^_e)+4294967296*(255^Se)+16777216*(255^Ae)+65536*(255^Re)+256*(255^Ee)+(255^Ce)+1):72057594037927940*e+281474976710656*r+1099511627776*_e+4294967296*Se+16777216*Ae+65536*Re+256*Ee+Ce},t.prototype.writeLongLong=function(e){var r,_e;return r=Math.floor(e/4294967296),_e=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,_e;for(r=[],_e=0;0<=e?_e<e:_e>e;_e=0<=e?++_e:--_e)r.push(this.readByte());return r},t.prototype.write=function(e){var r,_e,Se,Ae;for(Ae=[],_e=0,Se=e.length;_e<Se;_e++)r=e[_e],Ae.push(this.writeByte(r));return Ae},t}(),ie=function(){var t;function e(r){var _e,Se,Ae;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},Se=0,Ae=this.tableCount;0<=Ae?Se<Ae:Se>Ae;Se=0<=Ae?++Se:--Se)_e={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[_e.tag]=_e}return e.prototype.encode=function(r){var _e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie;for(Ie in xe=Object.keys(r).length,Ce=Math.log(2),ke=16*Math.floor(Math.log(xe)/Ce),Re=Math.floor(ke/Ce),De=16*xe-ke,(Se=new ne).writeInt(this.scalarType),Se.writeShort(xe),Se.writeShort(ke),Se.writeShort(Re),Se.writeShort(De),Ae=16*xe,Te=Se.pos+Ae,Ee=null,Fe=[],r)for(Pe=r[Ie],Se.writeString(Ie),Se.writeInt(t(Pe)),Se.writeInt(Te),Se.writeInt(Pe.length),Fe=Fe.concat(Pe),Ie==="head"&&(Ee=Te),Te+=Pe.length;Te%4;)Fe.push(0),Te++;return Se.write(Fe),_e=2981146554-t(Se.data),Se.pos=Ee+8,Se.writeUInt32(_e),Se.data},t=function(r){var _e,Se,Ae,Re;for(r=ve.call(r);r.length%4;)r.push(0);for(Ae=new ne(r),Se=0,_e=0,Re=r.length;_e<Re;_e=_e+=4)Se+=Ae.readUInt32();return 4294967295&Se},e}(),ae={}.hasOwnProperty,oe=function(t,e){for(var r in e)ae.call(e,r)&&(t[r]=e[r]);function _e(){this.constructor=t}return _e.prototype=e.prototype,t.prototype=new _e,t.__super__=e.prototype,t};re=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var se=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var _e;return(_e=new ne).writeInt(this.version),_e.writeInt(this.revision),_e.writeInt(this.checkSumAdjustment),_e.writeInt(this.magicNumber),_e.writeShort(this.flags),_e.writeShort(this.unitsPerEm),_e.writeLongLong(this.created),_e.writeLongLong(this.modified),_e.writeShort(this.xMin),_e.writeShort(this.yMin),_e.writeShort(this.xMax),_e.writeShort(this.yMax),_e.writeShort(this.macStyle),_e.writeShort(this.lowestRecPPEM),_e.writeShort(this.fontDirectionHint),_e.writeShort(r),_e.writeShort(this.glyphDataFormat),_e.data},e}(),ce=function(){function t(e,r){var _e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),ke=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Ce=0;Ce<256;++Ce)this.codeMap[Ce]=e.readByte();break;case 4:for(xe=e.readUInt16(),Pe=xe/2,e.pos+=6,Ae=function(){var Ve,ze;for(ze=[],Ce=Ve=0;0<=Pe?Ve<Pe:Ve>Pe;Ce=0<=Pe?++Ve:--Ve)ze.push(e.readUInt16());return ze}(),e.pos+=2,Ie=function(){var Ve,ze;for(ze=[],Ce=Ve=0;0<=Pe?Ve<Pe:Ve>Pe;Ce=0<=Pe?++Ve:--Ve)ze.push(e.readUInt16());return ze}(),Te=function(){var Ve,ze;for(ze=[],Ce=Ve=0;0<=Pe?Ve<Pe:Ve>Pe;Ce=0<=Pe?++Ve:--Ve)ze.push(e.readUInt16());return ze}(),De=function(){var Ve,ze;for(ze=[],Ce=Ve=0;0<=Pe?Ve<Pe:Ve>Pe;Ce=0<=Pe?++Ve:--Ve)ze.push(e.readUInt16());return ze}(),Se=(this.length-e.pos+this.offset)/2,Ee=function(){var Ve,ze;for(ze=[],Ce=Ve=0;0<=Se?Ve<Se:Ve>Se;Ce=0<=Se?++Ve:--Ve)ze.push(e.readUInt16());return ze}(),Ce=Oe=0,je=Ae.length;Oe<je;Ce=++Oe)for(Me=Ae[Ce],_e=Be=Fe=Ie[Ce];Fe<=Me?Be<=Me:Be>=Me;_e=Fe<=Me?++Be:--Be)De[Ce]===0?Re=_e+Te[Ce]:(Re=Ee[De[Ce]/2+(_e-Fe)-(Pe-Ce)]||0)!==0&&(Re+=Te[Ce]),this.codeMap[_e]=65535&Re}e.pos=ke}return t.encode=function(e,r){var _e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr,hr,Sr,Je,Ze,Ye,We,or,fr,_r,yr,xr,Ar,cr;switch(pr=new ne,Re=Object.keys(e).sort(function(ar,Qe){return ar-Qe}),r){case"macroman":for(Ie=0,Me=function(){var ar=[];for(Fe=0;Fe<256;++Fe)ar.push(0);return ar}(),Be={0:0},Ae={},vr=0,tr=Re.length;vr<tr;vr++)Be[yr=e[Se=Re[vr]]]==null&&(Be[yr]=++Ie),Ae[Se]={old:e[Se],new:Be[e[Se]]},Me[Se]=Be[e[Se]];return pr.writeUInt16(1),pr.writeUInt16(0),pr.writeUInt32(12),pr.writeUInt16(0),pr.writeUInt16(262),pr.writeUInt16(0),pr.write(Me),{charMap:Ae,subtable:pr.data,maxGlyphID:Ie+1};case"unicode":for(St=[],ke=[],je=0,Be={},_e={},Oe=Te=null,dr=0,hr=Re.length;dr<hr;dr++)Be[ze=e[Se=Re[dr]]]==null&&(Be[ze]=++je),_e[Se]={old:ze,new:Be[ze]},Ee=Be[ze]-Se,Oe!=null&&Ee===Te||(Oe&&ke.push(Oe),St.push(Se),Te=Ee),Oe=Se;for(Oe&&ke.push(Oe),ke.push(65535),St.push(65535),nr=2*(Xe=St.length),Ue=2*Math.pow(Math.log(Xe)/Math.LN2,2),Pe=Math.log(Ue/2)/Math.LN2,$e=2*Xe-Ue,Ce=[],He=[],xe=[],Fe=gr=0,Sr=St.length;gr<Sr;Fe=++gr){if(Ge=St[Fe],De=ke[Fe],Ge===65535){Ce.push(0),He.push(0);break}if(Ge-(mr=_e[Ge].new)>=32768)for(Ce.push(0),He.push(2*(xe.length+Xe-Fe)),Se=sr=Ge;Ge<=De?sr<=De:sr>=De;Se=Ge<=De?++sr:--sr)xe.push(_e[Se].new);else Ce.push(mr-Ge),He.push(0)}for(pr.writeUInt16(3),pr.writeUInt16(1),pr.writeUInt32(12),pr.writeUInt16(4),pr.writeUInt16(16+8*Xe+2*xe.length),pr.writeUInt16(0),pr.writeUInt16(nr),pr.writeUInt16(Ue),pr.writeUInt16(Pe),pr.writeUInt16($e),fr=0,Je=ke.length;fr<Je;fr++)Se=ke[fr],pr.writeUInt16(Se);for(pr.writeUInt16(0),_r=0,Ze=St.length;_r<Ze;_r++)Se=St[_r],pr.writeUInt16(Se);for(xr=0,Ye=Ce.length;xr<Ye;xr++)Ee=Ce[xr],pr.writeUInt16(Ee);for(Ar=0,We=He.length;Ar<We;Ar++)Ve=He[Ar],pr.writeUInt16(Ve);for(cr=0,or=xe.length;cr<or;cr++)Ie=xe[cr],pr.writeUInt16(Ie);return{charMap:_e,subtable:pr.data,maxGlyphID:je+1}}},t}(),ue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(r){var _e,Se,Ae;for(r.pos=this.offset,this.version=r.readUInt16(),Ae=r.readUInt16(),this.tables=[],this.unicode=null,Se=0;0<=Ae?Se<Ae:Se>Ae;Se=0<=Ae?++Se:--Se)_e=new ce(r,this.offset),this.tables.push(_e),_e.isUnicode&&this.unicode==null&&(this.unicode=_e);return!0},e.encode=function(r,_e){var Se,Ae;return _e==null&&(_e="macroman"),Se=ce.encode(r,_e),(Ae=new ne).writeUInt16(0),Ae.writeUInt16(1),Se.table=Ae.data.concat(Se.subtable),Se},e}(),he=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),le=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var _e,Se;for(Se=[],_e=0;_e<10;++_e)Se.push(r.readByte());return Se}(),this.charRange=function(){var _e,Se;for(Se=[],_e=0;_e<4;++_e)Se.push(r.readInt());return Se}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var _e,Se;for(Se=[],_e=0;_e<2;_e=++_e)Se.push(r.readInt());return Se}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),fe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(r){var _e,Se,Ae;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var Re;for(Se=r.readUInt16(),this.glyphNameIndex=[],Re=0;0<=Se?Re<Se:Re>Se;Re=0<=Se?++Re:--Re)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],Ae=[];r.pos<this.offset+this.length;)_e=r.readByte(),Ae.push(this.names.push(r.readString(_e)));return Ae;case 151552:return Se=r.readUInt16(),this.offsets=r.read(Se);case 196608:break;case 262144:return this.map=function(){var Ee,Ce,Te;for(Te=[],Re=Ee=0,Ce=this.file.maxp.numGlyphs;0<=Ce?Ee<Ce:Ee>Ce;Re=0<=Ce?++Ee:--Ee)Te.push(r.readUInt32());return Te}.call(this)}},e}(),de=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(r){var _e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe;for(r.pos=this.offset,r.readShort(),_e=r.readShort(),Ce=r.readShort(),Se=[],Re=0;0<=_e?Re<_e:Re>_e;Re=0<=_e?++Re:--Re)Se.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+Ce+r.readShort()});for(Te={},Re=ke=0,Pe=Se.length;ke<Pe;Re=++ke)Ae=Se[Re],r.pos=Ae.offset,De=r.readString(Ae.length),Ee=new de(De,Ae),Te[xe=Ae.nameID]==null&&(Te[xe]=[]),Te[Ae.nameID].push(Ee);this.strings=Te,this.copyright=Te[0],this.fontFamily=Te[1],this.fontSubfamily=Te[2],this.uniqueSubfamily=Te[3],this.fontName=Te[4],this.version=Te[5];try{this.postscriptName=Te[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Te[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Te[7],this.manufacturer=Te[8],this.designer=Te[9],this.description=Te[10],this.vendorUrl=Te[11],this.designerUrl=Te[12],this.license=Te[13],this.licenseUrl=Te[14],this.preferredFamily=Te[15],this.preferredSubfamily=Te[17],this.compatibleFull=Te[18],this.sampleText=Te[19]},e}(),ge=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),me=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(r){var _e,Se,Ae,Re,Ee,Ce,Te;for(r.pos=this.offset,this.metrics=[],_e=0,Ce=this.file.hhea.numberOfMetrics;0<=Ce?_e<Ce:_e>Ce;_e=0<=Ce?++_e:--_e)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(Ae=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var De,ke;for(ke=[],_e=De=0;0<=Ae?De<Ae:De>Ae;_e=0<=Ae?++De:--De)ke.push(r.readInt16());return ke}(),this.widths=function(){var De,ke,Pe,xe;for(xe=[],De=0,ke=(Pe=this.metrics).length;De<ke;De++)Re=Pe[De],xe.push(Re.advance);return xe}.call(this),Se=this.widths[this.widths.length-1],Te=[],_e=Ee=0;0<=Ae?Ee<Ae:Ee>Ae;_e=0<=Ae?++Ee:--Ee)Te.push(this.widths.push(Se));return Te},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),ve=[].slice,be=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var _e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe;return r in this.cache?this.cache[r]:(Re=this.file.loca,_e=this.file.contents,Se=Re.indexOf(r),(Ae=Re.lengthOf(r))===0?this.cache[r]=null:(_e.pos=this.offset+Se,Ee=(Ce=new ne(_e.read(Ae))).readShort(),De=Ce.readShort(),Pe=Ce.readShort(),Te=Ce.readShort(),ke=Ce.readShort(),this.cache[r]=Ee===-1?new we(Ce,De,Pe,Te,ke):new ye(Ce,Ee,De,Pe,Te,ke),this.cache[r]))},e.prototype.encode=function(r,_e,Se){var Ae,Re,Ee,Ce,Te;for(Ee=[],Re=[],Ce=0,Te=_e.length;Ce<Te;Ce++)Ae=r[_e[Ce]],Re.push(Ee.length),Ae&&(Ee=Ee.concat(Ae.encode(Se)));return Re.push(Ee.length),{table:Ee,offsets:Re}},e}(),ye=function(){function t(e,r,_e,Se,Ae,Re){this.raw=e,this.numberOfContours=r,this.xMin=_e,this.yMin=Se,this.xMax=Ae,this.yMax=Re,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),we=function(){function t(e,r,_e,Se,Ae){var Re,Ee;for(this.raw=e,this.xMin=r,this.yMin=_e,this.xMax=Se,this.yMax=Ae,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Re=this.raw;Ee=Re.readShort(),this.glyphOffsets.push(Re.pos),this.glyphIDs.push(Re.readUInt16()),32&Ee;)Re.pos+=1&Ee?4:2,128&Ee?Re.pos+=8:64&Ee?Re.pos+=4:8&Ee&&(Re.pos+=2)}return t.prototype.encode=function(){var e,r,_e;for(r=new ne(ve.call(this.raw.data)),e=0,_e=this.glyphIDs.length;e<_e;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Ne=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(r){var _e,Se;return r.pos=this.offset,_e=this.file.head.indexToLocFormat,this.offsets=_e===0?function(){var Ae,Re;for(Re=[],Se=0,Ae=this.length;Se<Ae;Se+=2)Re.push(2*r.readUInt16());return Re}.call(this):function(){var Ae,Re;for(Re=[],Se=0,Ae=this.length;Se<Ae;Se+=4)Re.push(r.readUInt32());return Re}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,_e){for(var Se=new Uint32Array(this.offsets.length),Ae=0,Re=0,Ee=0;Ee<Se.length;++Ee)if(Se[Ee]=Ae,Re<_e.length&&_e[Re]==Ee){++Re,Se[Ee]=Ae;var Ce=this.offsets[Ee],Te=this.offsets[Ee+1]-Ce;Te>0&&(Ae+=Te)}for(var De=new Array(4*Se.length),ke=0;ke<Se.length;++ke)De[4*ke+3]=255&Se[ke],De[4*ke+2]=(65280&Se[ke])>>8,De[4*ke+1]=(16711680&Se[ke])>>16,De[4*ke]=(4278190080&Se[ke])>>24;return De},e}(),Le=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,_e,Se,Ae;for(r in Se=this.font.cmap.tables[0].codeMap,e={},Ae=this.subset)_e=Ae[r],e[r]=Se[_e];return e},t.prototype.glyphsFor=function(e){var r,_e,Se,Ae,Re,Ee,Ce;for(Se={},Re=0,Ee=e.length;Re<Ee;Re++)Se[Ae=e[Re]]=this.font.glyf.glyphFor(Ae);for(Ae in r=[],Se)(_e=Se[Ae])!=null&&_e.compound&&r.push.apply(r,_e.glyphIDs);if(r.length>0)for(Ae in Ce=this.glyphsFor(r))_e=Ce[Ae],Se[Ae]=_e;return Se},t.prototype.encode=function(e,r){var _e,Se,Ae,Re,Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe;for(Se in _e=ue.encode(this.generateCmap(),"unicode"),Re=this.glyphsFor(e),xe={0:0},Oe=_e.charMap)xe[(Ce=Oe[Se]).old]=Ce.new;for(Fe in Pe=_e.maxGlyphID,Re)Fe in xe||(xe[Fe]=Pe++);return De=function(Be){var je,Ve;for(je in Ve={},Be)Ve[Be[je]]=je;return Ve}(xe),ke=Object.keys(De).sort(function(Be,je){return Be-je}),Ie=function(){var Be,je,Ve;for(Ve=[],Be=0,je=ke.length;Be<je;Be++)Ee=ke[Be],Ve.push(De[Ee]);return Ve}(),Ae=this.font.glyf.encode(Re,Ie,xe),Te=this.font.loca.encode(Ae.offsets,Ie),Me={cmap:this.font.cmap.raw(),glyf:Ae.table,loca:Te,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(Me["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Me)},t}();E.API.PDFObject=function(){var t;function e(){}return t=function(r,_e){return(Array(_e+1).join("0")+r).slice(-_e)},e.convert=function(r){var _e,Se,Ae,Re;if(Array.isArray(r))return"["+function(){var Ee,Ce,Te;for(Te=[],Ee=0,Ce=r.length;Ee<Ce;Ee++)_e=r[Ee],Te.push(e.convert(_e));return Te}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(Se in Ae=["<<"],r)Re=r[Se],Ae.push("/"+Se+" "+e.convert(Re));return Ae.push(">>"),Ae.join(`
`)}return""+r},e}();const plugins_jspdf_ts_pQPjTMUaLL=defineNuxtPlugin(t=>({provide:{jsPDF:E}}));var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(t,e){module.exports=e()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var r,_e=t.length,Se;for(r=0;r<_e;r+=1){Se=t[r].prototype;for(var Ae in Se)Object.prototype.hasOwnProperty.call(Se,Ae)&&(e.prototype[Ae]=Se[Ae])}}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(r){this.audios.push(r)},pause:function(){var r,_e=this.audios.length;for(r=0;r<_e;r+=1)this.audios[r].pause()},resume:function(){var r,_e=this.audios.length;for(r=0;r<_e;r+=1)this.audios[r].resume()},setRate:function(r){var _e,Se=this.audios.length;for(_e=0;_e<Se;_e+=1)this.audios[_e].setRate(r)},createAudio:function(r){return this.audioFactory?this.audioFactory(r):window.Howl?new window.Howl({src:[r]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(r){this.audioFactory=r},setVolume:function(r){this._volume=r,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var r,_e=this.audios.length;for(r=0;r<_e;r+=1)this.audios[r].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(r,_e){var Se=0,Ae=[],Re;switch(r){case"int16":case"uint8c":Re=1;break;default:Re=1.1;break}for(Se=0;Se<_e;Se+=1)Ae.push(Re);return Ae}function e(r,_e){return r==="float32"?new Float32Array(_e):r==="int16"?new Int16Array(_e):r==="uint8c"?new Uint8ClampedArray(_e):t(r,_e)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(r){return typeof r}:_typeof$6=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if(e==="object"&&t.length){var r=createSizedArray(t.length),_e,Se=t.length;for(_e=0;_e<Se;_e+=1)r[_e]=Math.abs(t[_e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,_e){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=_e<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,_e){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=_e<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,r){var _e,Se,Ae,Re,Ee,Ce,Te,De;switch(Re=Math.floor(t*6),Ee=t*6-Re,Ce=r*(1-e),Te=r*(1-Ee*e),De=r*(1-(1-Ee)*e),Re%6){case 0:_e=r,Se=De,Ae=Ce;break;case 1:_e=Te,Se=r,Ae=Ce;break;case 2:_e=Ce,Se=r,Ae=De;break;case 3:_e=Ce,Se=Te,Ae=r;break;case 4:_e=De,Se=Ce,Ae=r;break;case 5:_e=r,Se=Ce,Ae=Te;break}return[_e,Se,Ae]}function RGBtoHSV(t,e,r){var _e=Math.max(t,e,r),Se=Math.min(t,e,r),Ae=_e-Se,Re,Ee=_e===0?0:Ae/_e,Ce=_e/255;switch(_e){case Se:Re=0;break;case t:Re=e-r+Ae*(e<r?6:0),Re/=6*Ae;break;case e:Re=r-t+Ae*2,Re/=6*Ae;break;case r:Re=t-e+Ae*4,Re/=6*Ae;break}return[Re,Ee,Ce]}function addSaturationToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t=[],e,r;for(e=0;e<256;e+=1)r=e.toString(16),t[e]=r.length===1?"0"+r:r;return function(_e,Se,Ae){return _e<0&&(_e=0),Se<0&&(Se=0),Ae<0&&(Ae=0),"#"+t[_e]+t[Se]+t[Ae]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(r){return typeof r}:_typeof$5=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$5(t)}var dataManager=function(){var t=1,e=[],r,_e,Se={onmessage:function(){},postMessage:function(xe){r({data:xe})}},Ae={postMessage:function(xe){Se.onmessage({data:xe})}};function Re(Pe){if(window.Worker&&window.Blob&&getWebWorker()){var xe=new Blob(["var _workerSelf = self; self.onmessage = ",Pe.toString()],{type:"text/javascript"}),Fe=URL.createObjectURL(xe);return new Worker(Fe)}return r=Pe,Se}function Ee(){_e||(_e=Re(function(xe){function Fe(){function Me(vr,dr){var gr,sr,tr=vr.length,hr,Sr,Je,Ze;for(sr=0;sr<tr;sr+=1)if(gr=vr[sr],"ks"in gr&&!gr.completed){if(gr.completed=!0,gr.tt&&(vr[sr-1].td=gr.tt),gr.hasMask){var Ye=gr.masksProperties;for(Sr=Ye.length,hr=0;hr<Sr;hr+=1)if(Ye[hr].pt.k.i)ze(Ye[hr].pt.k);else for(Ze=Ye[hr].pt.k.length,Je=0;Je<Ze;Je+=1)Ye[hr].pt.k[Je].s&&ze(Ye[hr].pt.k[Je].s[0]),Ye[hr].pt.k[Je].e&&ze(Ye[hr].pt.k[Je].e[0])}gr.ty===0?(gr.layers=je(gr.refId,dr),Me(gr.layers,dr)):gr.ty===4?Ve(gr.shapes):gr.ty===5&&mr(gr)}}function Oe(vr,dr){if(vr){var gr=0,sr=vr.length;for(gr=0;gr<sr;gr+=1)vr[gr].t===1&&(vr[gr].data.layers=je(vr[gr].data.refId,dr),Me(vr[gr].data.layers,dr))}}function Be(vr,dr){for(var gr=0,sr=dr.length;gr<sr;){if(dr[gr].id===vr)return dr[gr];gr+=1}return null}function je(vr,dr){var gr=Be(vr,dr);return gr?gr.layers.__used?JSON.parse(JSON.stringify(gr.layers)):(gr.layers.__used=!0,gr.layers):null}function Ve(vr){var dr,gr=vr.length,sr,tr;for(dr=gr-1;dr>=0;dr-=1)if(vr[dr].ty==="sh")if(vr[dr].ks.k.i)ze(vr[dr].ks.k);else for(tr=vr[dr].ks.k.length,sr=0;sr<tr;sr+=1)vr[dr].ks.k[sr].s&&ze(vr[dr].ks.k[sr].s[0]),vr[dr].ks.k[sr].e&&ze(vr[dr].ks.k[sr].e[0]);else vr[dr].ty==="gr"&&Ve(vr[dr].it)}function ze(vr){var dr,gr=vr.i.length;for(dr=0;dr<gr;dr+=1)vr.i[dr][0]+=vr.v[dr][0],vr.i[dr][1]+=vr.v[dr][1],vr.o[dr][0]+=vr.v[dr][0],vr.o[dr][1]+=vr.v[dr][1]}function He(vr,dr){var gr=dr?dr.split("."):[100,100,100];return vr[0]>gr[0]?!0:gr[0]>vr[0]?!1:vr[1]>gr[1]?!0:gr[1]>vr[1]?!1:vr[2]>gr[2]?!0:gr[2]>vr[2]?!1:null}var $e=function(){var vr=[4,4,14];function dr(sr){var tr=sr.t.d;sr.t.d={k:[{s:tr,t:0}]}}function gr(sr){var tr,hr=sr.length;for(tr=0;tr<hr;tr+=1)sr[tr].ty===5&&dr(sr[tr])}return function(sr){if(He(vr,sr.v)&&(gr(sr.layers),sr.assets)){var tr,hr=sr.assets.length;for(tr=0;tr<hr;tr+=1)sr.assets[tr].layers&&gr(sr.assets[tr].layers)}}}(),Ue=function(){var vr=[4,7,99];return function(dr){if(dr.chars&&!He(vr,dr.v)){var gr,sr=dr.chars.length;for(gr=0;gr<sr;gr+=1){var tr=dr.chars[gr];tr.data&&tr.data.shapes&&(Ve(tr.data.shapes),tr.data.ip=0,tr.data.op=99999,tr.data.st=0,tr.data.sr=1,tr.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},dr.chars[gr].t||(tr.data.shapes.push({ty:"no"}),tr.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Xe=function(){var vr=[5,7,15];function dr(sr){var tr=sr.t.p;typeof tr.a=="number"&&(tr.a={a:0,k:tr.a}),typeof tr.p=="number"&&(tr.p={a:0,k:tr.p}),typeof tr.r=="number"&&(tr.r={a:0,k:tr.r})}function gr(sr){var tr,hr=sr.length;for(tr=0;tr<hr;tr+=1)sr[tr].ty===5&&dr(sr[tr])}return function(sr){if(He(vr,sr.v)&&(gr(sr.layers),sr.assets)){var tr,hr=sr.assets.length;for(tr=0;tr<hr;tr+=1)sr.assets[tr].layers&&gr(sr.assets[tr].layers)}}}(),nr=function(){var vr=[4,1,9];function dr(sr){var tr,hr=sr.length,Sr,Je;for(tr=0;tr<hr;tr+=1)if(sr[tr].ty==="gr")dr(sr[tr].it);else if(sr[tr].ty==="fl"||sr[tr].ty==="st")if(sr[tr].c.k&&sr[tr].c.k[0].i)for(Je=sr[tr].c.k.length,Sr=0;Sr<Je;Sr+=1)sr[tr].c.k[Sr].s&&(sr[tr].c.k[Sr].s[0]/=255,sr[tr].c.k[Sr].s[1]/=255,sr[tr].c.k[Sr].s[2]/=255,sr[tr].c.k[Sr].s[3]/=255),sr[tr].c.k[Sr].e&&(sr[tr].c.k[Sr].e[0]/=255,sr[tr].c.k[Sr].e[1]/=255,sr[tr].c.k[Sr].e[2]/=255,sr[tr].c.k[Sr].e[3]/=255);else sr[tr].c.k[0]/=255,sr[tr].c.k[1]/=255,sr[tr].c.k[2]/=255,sr[tr].c.k[3]/=255}function gr(sr){var tr,hr=sr.length;for(tr=0;tr<hr;tr+=1)sr[tr].ty===4&&dr(sr[tr].shapes)}return function(sr){if(He(vr,sr.v)&&(gr(sr.layers),sr.assets)){var tr,hr=sr.assets.length;for(tr=0;tr<hr;tr+=1)sr.assets[tr].layers&&gr(sr.assets[tr].layers)}}}(),Ge=function(){var vr=[4,4,18];function dr(sr){var tr,hr=sr.length,Sr,Je;for(tr=hr-1;tr>=0;tr-=1)if(sr[tr].ty==="sh")if(sr[tr].ks.k.i)sr[tr].ks.k.c=sr[tr].closed;else for(Je=sr[tr].ks.k.length,Sr=0;Sr<Je;Sr+=1)sr[tr].ks.k[Sr].s&&(sr[tr].ks.k[Sr].s[0].c=sr[tr].closed),sr[tr].ks.k[Sr].e&&(sr[tr].ks.k[Sr].e[0].c=sr[tr].closed);else sr[tr].ty==="gr"&&dr(sr[tr].it)}function gr(sr){var tr,hr,Sr=sr.length,Je,Ze,Ye,We;for(hr=0;hr<Sr;hr+=1){if(tr=sr[hr],tr.hasMask){var or=tr.masksProperties;for(Ze=or.length,Je=0;Je<Ze;Je+=1)if(or[Je].pt.k.i)or[Je].pt.k.c=or[Je].cl;else for(We=or[Je].pt.k.length,Ye=0;Ye<We;Ye+=1)or[Je].pt.k[Ye].s&&(or[Je].pt.k[Ye].s[0].c=or[Je].cl),or[Je].pt.k[Ye].e&&(or[Je].pt.k[Ye].e[0].c=or[Je].cl)}tr.ty===4&&dr(tr.shapes)}}return function(sr){if(He(vr,sr.v)&&(gr(sr.layers),sr.assets)){var tr,hr=sr.assets.length;for(tr=0;tr<hr;tr+=1)sr.assets[tr].layers&&gr(sr.assets[tr].layers)}}}();function St(vr){vr.__complete||(nr(vr),$e(vr),Ue(vr),Xe(vr),Ge(vr),Me(vr.layers,vr.assets),Oe(vr.chars,vr.assets),vr.__complete=!0)}function mr(vr){vr.t.a.length===0&&"m"in vr.t.p}var pr={};return pr.completeData=St,pr.checkColors=nr,pr.checkChars=Ue,pr.checkPathProperties=Xe,pr.checkShapes=Ge,pr.completeLayers=Me,pr}if(Ae.dataManager||(Ae.dataManager=Fe()),Ae.assetLoader||(Ae.assetLoader=function(){function Me(Be){var je=Be.getResponseHeader("content-type");return je&&Be.responseType==="json"&&je.indexOf("json")!==-1||Be.response&&_typeof$5(Be.response)==="object"?Be.response:Be.response&&typeof Be.response=="string"?JSON.parse(Be.response):Be.responseText?JSON.parse(Be.responseText):null}function Oe(Be,je,Ve,ze){var He,$e=new XMLHttpRequest;try{$e.responseType="json"}catch{}$e.onreadystatechange=function(){if($e.readyState===4)if($e.status===200)He=Me($e),Ve(He);else try{He=Me($e),Ve(He)}catch(Ue){ze&&ze(Ue)}};try{$e.open("GET",Be,!0)}catch{$e.open("GET",je+"/"+Be,!0)}$e.send()}return{load:Oe}}()),xe.data.type==="loadAnimation")Ae.assetLoader.load(xe.data.path,xe.data.fullPath,function(Me){Ae.dataManager.completeData(Me),Ae.postMessage({id:xe.data.id,payload:Me,status:"success"})},function(){Ae.postMessage({id:xe.data.id,status:"error"})});else if(xe.data.type==="complete"){var Ie=xe.data.animation;Ae.dataManager.completeData(Ie),Ae.postMessage({id:xe.data.id,payload:Ie,status:"success"})}else xe.data.type==="loadData"&&Ae.assetLoader.load(xe.data.path,xe.data.fullPath,function(Me){Ae.postMessage({id:xe.data.id,payload:Me,status:"success"})},function(){Ae.postMessage({id:xe.data.id,status:"error"})})}),_e.onmessage=function(Pe){var xe=Pe.data,Fe=xe.id,Ie=e[Fe];e[Fe]=null,xe.status==="success"?Ie.onComplete(xe.payload):Ie.onError&&Ie.onError()})}function Ce(Pe,xe){t+=1;var Fe="processId_"+t;return e[Fe]={onComplete:Pe,onError:xe},Fe}function Te(Pe,xe,Fe){Ee();var Ie=Ce(xe,Fe);_e.postMessage({type:"loadAnimation",path:Pe,fullPath:window.location.origin+window.location.pathname,id:Ie})}function De(Pe,xe,Fe){Ee();var Ie=Ce(xe,Fe);_e.postMessage({type:"loadData",path:Pe,fullPath:window.location.origin+window.location.pathname,id:Ie})}function ke(Pe,xe,Fe){Ee();var Ie=Ce(xe,Fe);_e.postMessage({type:"complete",animation:Pe,id:Ie})}return{loadAnimation:Te,loadData:De,completeAnimation:ke}}(),ImagePreloader=function(){var t=function(){var Oe=createTag("canvas");Oe.width=1,Oe.height=1;var Be=Oe.getContext("2d");return Be.fillStyle="rgba(0,0,0,0)",Be.fillRect(0,0,1,1),Oe}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _e(Oe,Be,je){var Ve="";if(Oe.e)Ve=Oe.p;else if(Be){var ze=Oe.p;ze.indexOf("images/")!==-1&&(ze=ze.split("/")[1]),Ve=Be+ze}else Ve=je,Ve+=Oe.u?Oe.u:"",Ve+=Oe.p;return Ve}function Se(Oe){var Be=0,je=setInterval(function(){var Ve=Oe.getBBox();(Ve.width||Be>500)&&(this._imageLoaded(),clearInterval(je)),Be+=1}.bind(this),50)}function Ae(Oe){var Be=_e(Oe,this.assetsPath,this.path),je=createNS("image");isSafari?this.testImageLoaded(je):je.addEventListener("load",this._imageLoaded,!1),je.addEventListener("error",function(){Ve.img=t,this._imageLoaded()}.bind(this),!1),je.setAttributeNS("http://www.w3.org/1999/xlink","href",Be),this._elementHelper.append?this._elementHelper.append(je):this._elementHelper.appendChild(je);var Ve={img:je,assetData:Oe};return Ve}function Re(Oe){var Be=_e(Oe,this.assetsPath,this.path),je=createTag("img");je.crossOrigin="anonymous",je.addEventListener("load",this._imageLoaded,!1),je.addEventListener("error",function(){Ve.img=t,this._imageLoaded()}.bind(this),!1),je.src=Be;var Ve={img:je,assetData:Oe};return Ve}function Ee(Oe){var Be={assetData:Oe},je=_e(Oe,this.assetsPath,this.path);return dataManager.loadData(je,function(Ve){Be.img=Ve,this._footageLoaded()}.bind(this),function(){Be.img={},this._footageLoaded()}.bind(this)),Be}function Ce(Oe,Be){this.imagesLoadedCb=Be;var je,Ve=Oe.length;for(je=0;je<Ve;je+=1)Oe[je].layers||(!Oe[je].t||Oe[je].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Oe[je]))):Oe[je].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Oe[je]))))}function Te(Oe){this.path=Oe||""}function De(Oe){this.assetsPath=Oe||""}function ke(Oe){for(var Be=0,je=this.images.length;Be<je;){if(this.images[Be].assetData===Oe)return this.images[Be].img;Be+=1}return null}function Pe(){this.imagesLoadedCb=null,this.images.length=0}function xe(){return this.totalImages===this.loadedAssets}function Fe(){return this.totalFootages===this.loadedFootagesCount}function Ie(Oe,Be){Oe==="svg"?(this._elementHelper=Be,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Me(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=Se.bind(this),this.createFootageData=Ee.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Me.prototype={loadAssets:Ce,setAssetsPath:De,setPath:Te,loadedImages:xe,loadedFootages:Fe,destroy:Pe,getAsset:ke,createImgData:Re,createImageData:Ae,imageLoaded:e,footageLoaded:r,setCacheType:Ie},Me}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,r){if(this._cbs[e])for(var _e=this._cbs[e],Se=0;Se<_e.length;Se+=1)_e[Se](r)},addEventListener:function(e,r){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(r),function(){this.removeEventListener(e,r)}.bind(this)},removeEventListener:function(e,r){if(!r)this._cbs[e]=null;else if(this._cbs[e]){for(var _e=0,Se=this._cbs[e].length;_e<Se;)this._cbs[e][_e]===r&&(this._cbs[e].splice(_e,1),_e-=1,Se-=1),_e+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function t(e){for(var r=e.split(`\r
`),_e={},Se,Ae=0,Re=0;Re<r.length;Re+=1)Se=r[Re].split(":"),Se.length===2&&(_e[Se[0]]=Se[1].trim(),Ae+=1);if(Ae===0)throw new Error;return _e}return function(e){for(var r=[],_e=0;_e<e.length;_e+=1){var Se=e[_e],Ae={time:Se.tm,duration:Se.dr};try{Ae.payload=JSON.parse(e[_e].cm)}catch{try{Ae.payload=t(e[_e].cm)}catch{Ae.payload={name:e[_e].cm}}}r.push(Ae)}return r}}(),ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(r){for(var _e=0,Se=this.compositions.length;_e<Se;){if(this.compositions[_e].data&&this.compositions[_e].data.nm===r)return this.compositions[_e].prepareFrame&&this.compositions[_e].data.xt&&this.compositions[_e].prepareFrame(this.currentFrame),this.compositions[_e].compInterface;_e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(e,r){renderers[e]=r};function getRenderer(t){return renderers[t]}function _typeof$4(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(r){return typeof r}:_typeof$4=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var r=getRenderer(e);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},_e=t.attributes;r.path=_e.getNamedItem("data-animation-path")?_e.getNamedItem("data-animation-path").value:_e.getNamedItem("data-bm-path")?_e.getNamedItem("data-bm-path").value:_e.getNamedItem("bm-path")?_e.getNamedItem("bm-path").value:"",r.animType=_e.getNamedItem("data-anim-type")?_e.getNamedItem("data-anim-type").value:_e.getNamedItem("data-bm-type")?_e.getNamedItem("data-bm-type").value:_e.getNamedItem("bm-type")?_e.getNamedItem("bm-type").value:_e.getNamedItem("data-bm-renderer")?_e.getNamedItem("data-bm-renderer").value:_e.getNamedItem("bm-renderer")?_e.getNamedItem("bm-renderer").value:"canvas";var Se=_e.getNamedItem("data-anim-loop")?_e.getNamedItem("data-anim-loop").value:_e.getNamedItem("data-bm-loop")?_e.getNamedItem("data-bm-loop").value:_e.getNamedItem("bm-loop")?_e.getNamedItem("bm-loop").value:"";Se==="false"?r.loop=!1:Se==="true"?r.loop=!0:Se!==""&&(r.loop=parseInt(Se,10));var Ae=_e.getNamedItem("data-anim-autoplay")?_e.getNamedItem("data-anim-autoplay").value:_e.getNamedItem("data-bm-autoplay")?_e.getNamedItem("data-bm-autoplay").value:_e.getNamedItem("bm-autoplay")?_e.getNamedItem("bm-autoplay").value:!0;r.autoplay=Ae!=="false",r.name=_e.getNamedItem("data-name")?_e.getNamedItem("data-name").value:_e.getNamedItem("data-bm-name")?_e.getNamedItem("data-bm-name").value:_e.getNamedItem("bm-name")?_e.getNamedItem("bm-name").value:"";var Re=_e.getNamedItem("data-anim-prerender")?_e.getNamedItem("data-anim-prerender").value:_e.getNamedItem("data-bm-prerender")?_e.getNamedItem("data-bm-prerender").value:_e.getNamedItem("bm-prerender")?_e.getNamedItem("bm-prerender").value:"";Re==="false"&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e=this.animationData.layers,r,_e=e.length,Se=t.layers,Ae,Re=Se.length;for(Ae=0;Ae<Re;Ae+=1)for(r=0;r<_e;){if(e[r].id===Se[Ae].id){e[r]=Se[Ae];break}r+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(_e=t.assets.length,r=0;r<_e;r+=1)this.animationData.assets.push(t.assets[r]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(!!this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if(e=this.markers[r],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!(r&&this.name!==r)){var _e=Number(t);if(isNaN(_e)){var Se=this.getMarkerData(t);Se&&this.goToAndStop(Se.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!(r&&this.name!==r)){var _e=Number(t);if(isNaN(_e)){var Se=this.getMarkerData(t);Se&&(Se.duration?this.playSegments([Se.time,Se.time+Se.duration],!0):this.goToAndStop(Se.time,!0))}else this.goToAndStop(_e,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,e=0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),_typeof$4(t[0])==="object"){var r,_e=t.length;for(r=0;r<_e;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,r){try{var _e=this.renderer.getElementByPath(t);_e.updateDocumentData(e,r)}catch{}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],r=0,_e=0,Se=0,Ae=!0,Re=!1;function Ee(dr){for(var gr=0,sr=dr.target;gr<_e;)e[gr].animation===sr&&(e.splice(gr,1),gr-=1,_e-=1,sr.isPaused||ke()),gr+=1}function Ce(dr,gr){if(!dr)return null;for(var sr=0;sr<_e;){if(e[sr].elem===dr&&e[sr].elem!==null)return e[sr].animation;sr+=1}var tr=new AnimationItem;return Pe(tr,dr),tr.setData(dr,gr),tr}function Te(){var dr,gr=e.length,sr=[];for(dr=0;dr<gr;dr+=1)sr.push(e[dr].animation);return sr}function De(){Se+=1,nr()}function ke(){Se-=1}function Pe(dr,gr){dr.addEventListener("destroy",Ee),dr.addEventListener("_active",De),dr.addEventListener("_idle",ke),e.push({elem:gr,animation:dr}),_e+=1}function xe(dr){var gr=new AnimationItem;return Pe(gr,null),gr.setParams(dr),gr}function Fe(dr,gr){var sr;for(sr=0;sr<_e;sr+=1)e[sr].animation.setSpeed(dr,gr)}function Ie(dr,gr){var sr;for(sr=0;sr<_e;sr+=1)e[sr].animation.setDirection(dr,gr)}function Me(dr){var gr;for(gr=0;gr<_e;gr+=1)e[gr].animation.play(dr)}function Oe(dr){var gr=dr-r,sr;for(sr=0;sr<_e;sr+=1)e[sr].animation.advanceTime(gr);r=dr,Se&&!Re?window.requestAnimationFrame(Oe):Ae=!0}function Be(dr){r=dr,window.requestAnimationFrame(Oe)}function je(dr){var gr;for(gr=0;gr<_e;gr+=1)e[gr].animation.pause(dr)}function Ve(dr,gr,sr){var tr;for(tr=0;tr<_e;tr+=1)e[tr].animation.goToAndStop(dr,gr,sr)}function ze(dr){var gr;for(gr=0;gr<_e;gr+=1)e[gr].animation.stop(dr)}function He(dr){var gr;for(gr=0;gr<_e;gr+=1)e[gr].animation.togglePause(dr)}function $e(dr){var gr;for(gr=_e-1;gr>=0;gr-=1)e[gr].animation.destroy(dr)}function Ue(dr,gr,sr){var tr=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),hr,Sr=tr.length;for(hr=0;hr<Sr;hr+=1)sr&&tr[hr].setAttribute("data-bm-type",sr),Ce(tr[hr],dr);if(gr&&Sr===0){sr||(sr="svg");var Je=document.getElementsByTagName("body")[0];Je.innerText="";var Ze=createTag("div");Ze.style.width="100%",Ze.style.height="100%",Ze.setAttribute("data-bm-type",sr),Je.appendChild(Ze),Ce(Ze,dr)}}function Xe(){var dr;for(dr=0;dr<_e;dr+=1)e[dr].animation.resize()}function nr(){!Re&&Se&&Ae&&(window.requestAnimationFrame(Be),Ae=!1)}function Ge(){Re=!0}function St(){Re=!1,nr()}function mr(dr,gr){var sr;for(sr=0;sr<_e;sr+=1)e[sr].animation.setVolume(dr,gr)}function pr(dr){var gr;for(gr=0;gr<_e;gr+=1)e[gr].animation.mute(dr)}function vr(dr){var gr;for(gr=0;gr<_e;gr+=1)e[gr].animation.unmute(dr)}return t.registerAnimation=Ce,t.loadAnimation=xe,t.setSpeed=Fe,t.setDirection=Ie,t.play=Me,t.pause=je,t.stop=ze,t.togglePause=He,t.searchAnimations=Ue,t.resize=Xe,t.goToAndStop=Ve,t.destroy=$e,t.freeze=Ge,t.unfreeze=St,t.setVolume=mr,t.mute=pr,t.unmute=vr,t.getRegisteredAnimations=Te,t}(),BezierFactory=function(){var t={};t.getBezierEasing=r;var e={};function r(Be,je,Ve,ze,He){var $e=He||("bez_"+Be+"_"+je+"_"+Ve+"_"+ze).replace(/\./g,"p");if(e[$e])return e[$e];var Ue=new Oe([Be,je,Ve,ze]);return e[$e]=Ue,Ue}var _e=4,Se=.001,Ae=1e-7,Re=10,Ee=11,Ce=1/(Ee-1),Te=typeof Float32Array=="function";function De(Be,je){return 1-3*je+3*Be}function ke(Be,je){return 3*je-6*Be}function Pe(Be){return 3*Be}function xe(Be,je,Ve){return((De(je,Ve)*Be+ke(je,Ve))*Be+Pe(je))*Be}function Fe(Be,je,Ve){return 3*De(je,Ve)*Be*Be+2*ke(je,Ve)*Be+Pe(je)}function Ie(Be,je,Ve,ze,He){var $e,Ue,Xe=0;do Ue=je+(Ve-je)/2,$e=xe(Ue,ze,He)-Be,$e>0?Ve=Ue:je=Ue;while(Math.abs($e)>Ae&&++Xe<Re);return Ue}function Me(Be,je,Ve,ze){for(var He=0;He<_e;++He){var $e=Fe(je,Ve,ze);if($e===0)return je;var Ue=xe(je,Ve,ze)-Be;je-=Ue/$e}return je}function Oe(Be){this._p=Be,this._mSampleValues=Te?new Float32Array(Ee):new Array(Ee),this._precomputed=!1,this.get=this.get.bind(this)}return Oe.prototype={get:function(je){var Ve=this._p[0],ze=this._p[1],He=this._p[2],$e=this._p[3];return this._precomputed||this._precompute(),Ve===ze&&He===$e?je:je===0?0:je===1?1:xe(this._getTForX(je),ze,$e)},_precompute:function(){var je=this._p[0],Ve=this._p[1],ze=this._p[2],He=this._p[3];this._precomputed=!0,(je!==Ve||ze!==He)&&this._calcSampleValues()},_calcSampleValues:function(){for(var je=this._p[0],Ve=this._p[2],ze=0;ze<Ee;++ze)this._mSampleValues[ze]=xe(ze*Ce,je,Ve)},_getTForX:function(je){for(var Ve=this._p[0],ze=this._p[2],He=this._mSampleValues,$e=0,Ue=1,Xe=Ee-1;Ue!==Xe&&He[Ue]<=je;++Ue)$e+=Ce;--Ue;var nr=(je-He[Ue])/(He[Ue+1]-He[Ue]),Ge=$e+nr*Ce,St=Fe(Ge,Ve,ze);return St>=Se?Me(je,Ge,Ve,ze):St===0?Ge:Ie(je,$e,$e+Ce,Ve,ze)}},t}(),pooling=function(){function t(e){return e.concat(createSizedArray(e.length))}return{double:t}}(),poolFactory=function(){return function(t,e,r){var _e=0,Se=t,Ae=createSizedArray(Se),Re={newElement:Ee,release:Ce};function Ee(){var Te;return _e?(_e-=1,Te=Ae[_e]):Te=e(),Te}function Ce(Te){_e===Se&&(Ae=pooling.double(Ae),Se*=2),r&&r(Te),Ae[_e]=Te,_e+=1}return Re}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(r){var _e,Se=r.lengths.length;for(_e=0;_e<Se;_e+=1)bezierLengthPool.release(r.lengths[_e]);r.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(Pe,xe,Fe,Ie,Me,Oe){var Be=Pe*Ie+xe*Me+Fe*Oe-Me*Ie-Oe*Pe-Fe*xe;return Be>-.001&&Be<.001}function r(Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve){if(Fe===0&&Oe===0&&Ve===0)return e(Pe,xe,Ie,Me,Be,je);var ze=t.sqrt(t.pow(Ie-Pe,2)+t.pow(Me-xe,2)+t.pow(Oe-Fe,2)),He=t.sqrt(t.pow(Be-Pe,2)+t.pow(je-xe,2)+t.pow(Ve-Fe,2)),$e=t.sqrt(t.pow(Be-Ie,2)+t.pow(je-Me,2)+t.pow(Ve-Oe,2)),Ue;return ze>He?ze>$e?Ue=ze-He-$e:Ue=$e-He-ze:$e>He?Ue=$e-He-ze:Ue=He-ze-$e,Ue>-1e-4&&Ue<1e-4}var _e=function(){return function(Pe,xe,Fe,Ie){var Me=getDefaultCurveSegments(),Oe,Be,je,Ve,ze,He=0,$e,Ue=[],Xe=[],nr=bezierLengthPool.newElement();for(je=Fe.length,Oe=0;Oe<Me;Oe+=1){for(ze=Oe/(Me-1),$e=0,Be=0;Be<je;Be+=1)Ve=bmPow(1-ze,3)*Pe[Be]+3*bmPow(1-ze,2)*ze*Fe[Be]+3*(1-ze)*bmPow(ze,2)*Ie[Be]+bmPow(ze,3)*xe[Be],Ue[Be]=Ve,Xe[Be]!==null&&($e+=bmPow(Ue[Be]-Xe[Be],2)),Xe[Be]=Ue[Be];$e&&($e=bmSqrt($e),He+=$e),nr.percents[Oe]=ze,nr.lengths[Oe]=He}return nr.addedLength=He,nr}}();function Se(Pe){var xe=segmentsLengthPool.newElement(),Fe=Pe.c,Ie=Pe.v,Me=Pe.o,Oe=Pe.i,Be,je=Pe._length,Ve=xe.lengths,ze=0;for(Be=0;Be<je-1;Be+=1)Ve[Be]=_e(Ie[Be],Ie[Be+1],Me[Be],Oe[Be+1]),ze+=Ve[Be].addedLength;return Fe&&je&&(Ve[Be]=_e(Ie[Be],Ie[0],Me[Be],Oe[0]),ze+=Ve[Be].addedLength),xe.totalLength=ze,xe}function Ae(Pe){this.segmentLength=0,this.points=new Array(Pe)}function Re(Pe,xe){this.partialLength=Pe,this.point=xe}var Ee=function(){var Pe={};return function(xe,Fe,Ie,Me){var Oe=(xe[0]+"_"+xe[1]+"_"+Fe[0]+"_"+Fe[1]+"_"+Ie[0]+"_"+Ie[1]+"_"+Me[0]+"_"+Me[1]).replace(/\./g,"p");if(!Pe[Oe]){var Be=getDefaultCurveSegments(),je,Ve,ze,He,$e,Ue=0,Xe,nr,Ge=null;xe.length===2&&(xe[0]!==Fe[0]||xe[1]!==Fe[1])&&e(xe[0],xe[1],Fe[0],Fe[1],xe[0]+Ie[0],xe[1]+Ie[1])&&e(xe[0],xe[1],Fe[0],Fe[1],Fe[0]+Me[0],Fe[1]+Me[1])&&(Be=2);var St=new Ae(Be);for(ze=Ie.length,je=0;je<Be;je+=1){for(nr=createSizedArray(ze),$e=je/(Be-1),Xe=0,Ve=0;Ve<ze;Ve+=1)He=bmPow(1-$e,3)*xe[Ve]+3*bmPow(1-$e,2)*$e*(xe[Ve]+Ie[Ve])+3*(1-$e)*bmPow($e,2)*(Fe[Ve]+Me[Ve])+bmPow($e,3)*Fe[Ve],nr[Ve]=He,Ge!==null&&(Xe+=bmPow(nr[Ve]-Ge[Ve],2));Xe=bmSqrt(Xe),Ue+=Xe,St.points[je]=new Re(Xe,nr),Ge=nr}St.segmentLength=Ue,Pe[Oe]=St}return Pe[Oe]}}();function Ce(Pe,xe){var Fe=xe.percents,Ie=xe.lengths,Me=Fe.length,Oe=bmFloor((Me-1)*Pe),Be=Pe*xe.addedLength,je=0;if(Oe===Me-1||Oe===0||Be===Ie[Oe])return Fe[Oe];for(var Ve=Ie[Oe]>Be?-1:1,ze=!0;ze;)if(Ie[Oe]<=Be&&Ie[Oe+1]>Be?(je=(Be-Ie[Oe])/(Ie[Oe+1]-Ie[Oe]),ze=!1):Oe+=Ve,Oe<0||Oe>=Me-1){if(Oe===Me-1)return Fe[Oe];ze=!1}return Fe[Oe]+(Fe[Oe+1]-Fe[Oe])*je}function Te(Pe,xe,Fe,Ie,Me,Oe){var Be=Ce(Me,Oe),je=1-Be,Ve=t.round((je*je*je*Pe[0]+(Be*je*je+je*Be*je+je*je*Be)*Fe[0]+(Be*Be*je+je*Be*Be+Be*je*Be)*Ie[0]+Be*Be*Be*xe[0])*1e3)/1e3,ze=t.round((je*je*je*Pe[1]+(Be*je*je+je*Be*je+je*je*Be)*Fe[1]+(Be*Be*je+je*Be*Be+Be*je*Be)*Ie[1]+Be*Be*Be*xe[1])*1e3)/1e3;return[Ve,ze]}var De=createTypedArray("float32",8);function ke(Pe,xe,Fe,Ie,Me,Oe,Be){Me<0?Me=0:Me>1&&(Me=1);var je=Ce(Me,Be);Oe=Oe>1?1:Oe;var Ve=Ce(Oe,Be),ze,He=Pe.length,$e=1-je,Ue=1-Ve,Xe=$e*$e*$e,nr=je*$e*$e*3,Ge=je*je*$e*3,St=je*je*je,mr=$e*$e*Ue,pr=je*$e*Ue+$e*je*Ue+$e*$e*Ve,vr=je*je*Ue+$e*je*Ve+je*$e*Ve,dr=je*je*Ve,gr=$e*Ue*Ue,sr=je*Ue*Ue+$e*Ve*Ue+$e*Ue*Ve,tr=je*Ve*Ue+$e*Ve*Ve+je*Ue*Ve,hr=je*Ve*Ve,Sr=Ue*Ue*Ue,Je=Ve*Ue*Ue+Ue*Ve*Ue+Ue*Ue*Ve,Ze=Ve*Ve*Ue+Ue*Ve*Ve+Ve*Ue*Ve,Ye=Ve*Ve*Ve;for(ze=0;ze<He;ze+=1)De[ze*4]=t.round((Xe*Pe[ze]+nr*Fe[ze]+Ge*Ie[ze]+St*xe[ze])*1e3)/1e3,De[ze*4+1]=t.round((mr*Pe[ze]+pr*Fe[ze]+vr*Ie[ze]+dr*xe[ze])*1e3)/1e3,De[ze*4+2]=t.round((gr*Pe[ze]+sr*Fe[ze]+tr*Ie[ze]+hr*xe[ze])*1e3)/1e3,De[ze*4+3]=t.round((Sr*Pe[ze]+Je*Fe[ze]+Ze*Ie[ze]+Ye*xe[ze])*1e3)/1e3;return De}return{getSegmentsLength:Se,getNewSegment:ke,getPointInSegment:Te,buildBezierData:Ee,pointOnLine2D:e,pointOnLine3D:r}}var bez=bezFunction(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(Me,Oe){var Be=this.offsetTime,je;this.propType==="multidimensional"&&(je=createTypedArray("float32",this.pv.length));for(var Ve=Oe.lastIndex,ze=Ve,He=this.keyframes.length-1,$e=!0,Ue,Xe,nr;$e;){if(Ue=this.keyframes[ze],Xe=this.keyframes[ze+1],ze===He-1&&Me>=Xe.t-Be){Ue.h&&(Ue=Xe),Ve=0;break}if(Xe.t-Be>Me){Ve=ze;break}ze<He-1?ze+=1:(Ve=0,$e=!1)}nr=this.keyframesMetadata[ze]||{};var Ge,St,mr,pr,vr,dr,gr=Xe.t-Be,sr=Ue.t-Be,tr;if(Ue.to){nr.bezierData||(nr.bezierData=bez.buildBezierData(Ue.s,Xe.s||Ue.e,Ue.to,Ue.ti));var hr=nr.bezierData;if(Me>=gr||Me<sr){var Sr=Me>=gr?hr.points.length-1:0;for(St=hr.points[Sr].point.length,Ge=0;Ge<St;Ge+=1)je[Ge]=hr.points[Sr].point[Ge]}else{nr.__fnct?dr=nr.__fnct:(dr=BezierFactory.getBezierEasing(Ue.o.x,Ue.o.y,Ue.i.x,Ue.i.y,Ue.n).get,nr.__fnct=dr),mr=dr((Me-sr)/(gr-sr));var Je=hr.segmentLength*mr,Ze,Ye=Oe.lastFrame<Me&&Oe._lastKeyframeIndex===ze?Oe._lastAddedLength:0;for(vr=Oe.lastFrame<Me&&Oe._lastKeyframeIndex===ze?Oe._lastPoint:0,$e=!0,pr=hr.points.length;$e;){if(Ye+=hr.points[vr].partialLength,Je===0||mr===0||vr===hr.points.length-1){for(St=hr.points[vr].point.length,Ge=0;Ge<St;Ge+=1)je[Ge]=hr.points[vr].point[Ge];break}else if(Je>=Ye&&Je<Ye+hr.points[vr+1].partialLength){for(Ze=(Je-Ye)/hr.points[vr+1].partialLength,St=hr.points[vr].point.length,Ge=0;Ge<St;Ge+=1)je[Ge]=hr.points[vr].point[Ge]+(hr.points[vr+1].point[Ge]-hr.points[vr].point[Ge])*Ze;break}vr<pr-1?vr+=1:$e=!1}Oe._lastPoint=vr,Oe._lastAddedLength=Ye-hr.points[vr].partialLength,Oe._lastKeyframeIndex=ze}}else{var We,or,fr,_r,yr;if(He=Ue.s.length,tr=Xe.s||Ue.e,this.sh&&Ue.h!==1)if(Me>=gr)je[0]=tr[0],je[1]=tr[1],je[2]=tr[2];else if(Me<=sr)je[0]=Ue.s[0],je[1]=Ue.s[1],je[2]=Ue.s[2];else{var xr=Ae(Ue.s),Ar=Ae(tr),cr=(Me-sr)/(gr-sr);Se(je,_e(xr,Ar,cr))}else for(ze=0;ze<He;ze+=1)Ue.h!==1&&(Me>=gr?mr=1:Me<sr?mr=0:(Ue.o.x.constructor===Array?(nr.__fnct||(nr.__fnct=[]),nr.__fnct[ze]?dr=nr.__fnct[ze]:(We=Ue.o.x[ze]===void 0?Ue.o.x[0]:Ue.o.x[ze],or=Ue.o.y[ze]===void 0?Ue.o.y[0]:Ue.o.y[ze],fr=Ue.i.x[ze]===void 0?Ue.i.x[0]:Ue.i.x[ze],_r=Ue.i.y[ze]===void 0?Ue.i.y[0]:Ue.i.y[ze],dr=BezierFactory.getBezierEasing(We,or,fr,_r).get,nr.__fnct[ze]=dr)):nr.__fnct?dr=nr.__fnct:(We=Ue.o.x,or=Ue.o.y,fr=Ue.i.x,_r=Ue.i.y,dr=BezierFactory.getBezierEasing(We,or,fr,_r).get,Ue.keyframeMetadata=dr),mr=dr((Me-sr)/(gr-sr)))),tr=Xe.s||Ue.e,yr=Ue.h===1?Ue.s[ze]:Ue.s[ze]+(tr[ze]-Ue.s[ze])*mr,this.propType==="multidimensional"?je[ze]=yr:je=yr}return Oe.lastIndex=Ve,je}function _e(Me,Oe,Be){var je=[],Ve=Me[0],ze=Me[1],He=Me[2],$e=Me[3],Ue=Oe[0],Xe=Oe[1],nr=Oe[2],Ge=Oe[3],St,mr,pr,vr,dr;return mr=Ve*Ue+ze*Xe+He*nr+$e*Ge,mr<0&&(mr=-mr,Ue=-Ue,Xe=-Xe,nr=-nr,Ge=-Ge),1-mr>1e-6?(St=Math.acos(mr),pr=Math.sin(St),vr=Math.sin((1-Be)*St)/pr,dr=Math.sin(Be*St)/pr):(vr=1-Be,dr=Be),je[0]=vr*Ve+dr*Ue,je[1]=vr*ze+dr*Xe,je[2]=vr*He+dr*nr,je[3]=vr*$e+dr*Ge,je}function Se(Me,Oe){var Be=Oe[0],je=Oe[1],Ve=Oe[2],ze=Oe[3],He=Math.atan2(2*je*ze-2*Be*Ve,1-2*je*je-2*Ve*Ve),$e=Math.asin(2*Be*je+2*Ve*ze),Ue=Math.atan2(2*Be*ze-2*je*Ve,1-2*Be*Be-2*Ve*Ve);Me[0]=He/degToRads,Me[1]=$e/degToRads,Me[2]=Ue/degToRads}function Ae(Me){var Oe=Me[0]*degToRads,Be=Me[1]*degToRads,je=Me[2]*degToRads,Ve=Math.cos(Oe/2),ze=Math.cos(Be/2),He=Math.cos(je/2),$e=Math.sin(Oe/2),Ue=Math.sin(Be/2),Xe=Math.sin(je/2),nr=Ve*ze*He-$e*Ue*Xe,Ge=$e*Ue*He+Ve*ze*Xe,St=$e*ze*He+Ve*Ue*Xe,mr=Ve*Ue*He-$e*ze*Xe;return[Ge,St,mr,nr]}function Re(){var Me=this.comp.renderedFrame-this.offsetTime,Oe=this.keyframes[0].t-this.offsetTime,Be=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Me===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=Be&&Me>=Be||this._caching.lastFrame<Oe&&Me<Oe))){this._caching.lastFrame>=Me&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var je=this.interpolateValue(Me,this._caching);this.pv=je}return this._caching.lastFrame=Me,this.pv}function Ee(Me){var Oe;if(this.propType==="unidimensional")Oe=Me*this.mult,e(this.v-Oe)>1e-5&&(this.v=Oe,this._mdf=!0);else for(var Be=0,je=this.v.length;Be<je;)Oe=Me[Be]*this.mult,e(this.v[Be]-Oe)>1e-5&&(this.v[Be]=Oe,this._mdf=!0),Be+=1}function Ce(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Me,Oe=this.effectsSequence.length,Be=this.kf?this.pv:this.data.k;for(Me=0;Me<Oe;Me+=1)Be=this.effectsSequence[Me](Be);this.setVValue(Be),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Te(Me){this.effectsSequence.push(Me),this.container.addDynamicProperty(this)}function De(Me,Oe,Be,je){this.propType="unidimensional",this.mult=Be||1,this.data=Oe,this.v=Be?Oe.k*Be:Oe.k,this.pv=Oe.k,this._mdf=!1,this.elem=Me,this.container=je,this.comp=Me.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=Ce,this.setVValue=Ee,this.addEffect=Te}function ke(Me,Oe,Be,je){this.propType="multidimensional",this.mult=Be||1,this.data=Oe,this._mdf=!1,this.elem=Me,this.container=je,this.comp=Me.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Ve,ze=Oe.k.length;for(this.v=createTypedArray("float32",ze),this.pv=createTypedArray("float32",ze),this.vel=createTypedArray("float32",ze),Ve=0;Ve<ze;Ve+=1)this.v[Ve]=Oe.k[Ve]*this.mult,this.pv[Ve]=Oe.k[Ve];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=Ce,this.setVValue=Ee,this.addEffect=Te}function Pe(Me,Oe,Be,je){this.propType="unidimensional",this.keyframes=Oe.k,this.keyframesMetadata=[],this.offsetTime=Me.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Oe,this.mult=Be||1,this.elem=Me,this.container=je,this.comp=Me.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=Ce,this.setVValue=Ee,this.interpolateValue=r,this.effectsSequence=[Re.bind(this)],this.addEffect=Te}function xe(Me,Oe,Be,je){this.propType="multidimensional";var Ve,ze=Oe.k.length,He,$e,Ue,Xe;for(Ve=0;Ve<ze-1;Ve+=1)Oe.k[Ve].to&&Oe.k[Ve].s&&Oe.k[Ve+1]&&Oe.k[Ve+1].s&&(He=Oe.k[Ve].s,$e=Oe.k[Ve+1].s,Ue=Oe.k[Ve].to,Xe=Oe.k[Ve].ti,(He.length===2&&!(He[0]===$e[0]&&He[1]===$e[1])&&bez.pointOnLine2D(He[0],He[1],$e[0],$e[1],He[0]+Ue[0],He[1]+Ue[1])&&bez.pointOnLine2D(He[0],He[1],$e[0],$e[1],$e[0]+Xe[0],$e[1]+Xe[1])||He.length===3&&!(He[0]===$e[0]&&He[1]===$e[1]&&He[2]===$e[2])&&bez.pointOnLine3D(He[0],He[1],He[2],$e[0],$e[1],$e[2],He[0]+Ue[0],He[1]+Ue[1],He[2]+Ue[2])&&bez.pointOnLine3D(He[0],He[1],He[2],$e[0],$e[1],$e[2],$e[0]+Xe[0],$e[1]+Xe[1],$e[2]+Xe[2]))&&(Oe.k[Ve].to=null,Oe.k[Ve].ti=null),He[0]===$e[0]&&He[1]===$e[1]&&Ue[0]===0&&Ue[1]===0&&Xe[0]===0&&Xe[1]===0&&(He.length===2||He[2]===$e[2]&&Ue[2]===0&&Xe[2]===0)&&(Oe.k[Ve].to=null,Oe.k[Ve].ti=null));this.effectsSequence=[Re.bind(this)],this.data=Oe,this.keyframes=Oe.k,this.keyframesMetadata=[],this.offsetTime=Me.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Be||1,this.elem=Me,this.container=je,this.comp=Me.comp,this.getValue=Ce,this.setVValue=Ee,this.interpolateValue=r,this.frameId=-1;var nr=Oe.k[0].s.length;for(this.v=createTypedArray("float32",nr),this.pv=createTypedArray("float32",nr),Ve=0;Ve<nr;Ve+=1)this.v[Ve]=t,this.pv[Ve]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",nr)},this.addEffect=Te}function Fe(Me,Oe,Be,je,Ve){var ze;if(!Oe.k.length)ze=new De(Me,Oe,je,Ve);else if(typeof Oe.k[0]=="number")ze=new ke(Me,Oe,je,Ve);else switch(Be){case 0:ze=new Pe(Me,Oe,je,Ve);break;case 1:ze=new xe(Me,Oe,je,Ve);break}return ze.effectsSequence.length&&Ve.addDynamicProperty(ze),ze}var Ie={getProp:Fe};return Ie}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,r=this.dynamicProperties.length;for(e=0;e<r;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,_e,Se){var Ae;switch(this._length=Math.max(this._length,_e+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":Ae=this.v;break;case"i":Ae=this.i;break;case"o":Ae=this.o;break;default:Ae=[];break}(!Ae[_e]||Ae[_e]&&!Se)&&(Ae[_e]=pointPool.newElement()),Ae[_e][0]=t,Ae[_e][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,_e,Se,Ae,Re,Ee){this.setXYAt(t,e,"v",Re,Ee),this.setXYAt(r,_e,"o",Re,Ee),this.setXYAt(Se,Ae,"i",Re,Ee)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,_e=this.i,Se=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],_e[0][0],_e[0][1],r[0][0],r[0][1],0,!1),Se=1);var Ae=this._length-1,Re=this._length,Ee;for(Ee=Se;Ee<Re;Ee+=1)t.setTripleAt(e[Ae][0],e[Ae][1],_e[Ae][0],_e[Ae][1],r[Ae][0],r[Ae][1],Ee,!1),Ae-=1;return t};var shapePool=function(){function t(){return new ShapePath}function e(Se){var Ae=Se._length,Re;for(Re=0;Re<Ae;Re+=1)pointPool.release(Se.v[Re]),pointPool.release(Se.i[Re]),pointPool.release(Se.o[Re]),Se.v[Re]=null,Se.i[Re]=null,Se.o[Re]=null;Se._length=0,Se.c=!1}function r(Se){var Ae=_e.newElement(),Re,Ee=Se._length===void 0?Se.v.length:Se._length;for(Ae.setLength(Ee),Ae.c=Se.c,Re=0;Re<Ee;Re+=1)Ae.setTripleAt(Se.v[Re][0],Se.v[Re][1],Se.o[Re][0],Se.o[Re][1],Se.i[Re][0],Se.i[Re][1],Re);return Ae}var _e=poolFactory(4,t,e);return _e.clone=r,_e}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:Se,release:Ae},e=0,r=4,_e=createSizedArray(r);function Se(){var Re;return e?(e-=1,Re=_e[e]):Re=new ShapeCollection,Re}function Ae(Re){var Ee,Ce=Re._length;for(Ee=0;Ee<Ce;Ee+=1)shapePool.release(Re.shapes[Ee]);Re._length=0,e===r&&(_e=pooling.double(_e),r*=2),_e[e]=Re,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(Oe,Be,je){var Ve=je.lastIndex,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr=this.keyframes;if(Oe<pr[0].t-this.offsetTime)ze=pr[0].s[0],$e=!0,Ve=0;else if(Oe>=pr[pr.length-1].t-this.offsetTime)ze=pr[pr.length-1].s?pr[pr.length-1].s[0]:pr[pr.length-2].e[0],$e=!0;else{for(var vr=Ve,dr=pr.length-1,gr=!0,sr,tr,hr;gr&&(sr=pr[vr],tr=pr[vr+1],!(tr.t-this.offsetTime>Oe));)vr<dr-1?vr+=1:gr=!1;if(hr=this.keyframesMetadata[vr]||{},$e=sr.h===1,Ve=vr,!$e){if(Oe>=tr.t-this.offsetTime)St=1;else if(Oe<sr.t-this.offsetTime)St=0;else{var Sr;hr.__fnct?Sr=hr.__fnct:(Sr=BezierFactory.getBezierEasing(sr.o.x,sr.o.y,sr.i.x,sr.i.y).get,hr.__fnct=Sr),St=Sr((Oe-(sr.t-this.offsetTime))/(tr.t-this.offsetTime-(sr.t-this.offsetTime)))}He=tr.s?tr.s[0]:sr.e[0]}ze=sr.s[0]}for(nr=Be._length,Ge=ze.i[0].length,je.lastIndex=Ve,Ue=0;Ue<nr;Ue+=1)for(Xe=0;Xe<Ge;Xe+=1)mr=$e?ze.i[Ue][Xe]:ze.i[Ue][Xe]+(He.i[Ue][Xe]-ze.i[Ue][Xe])*St,Be.i[Ue][Xe]=mr,mr=$e?ze.o[Ue][Xe]:ze.o[Ue][Xe]+(He.o[Ue][Xe]-ze.o[Ue][Xe])*St,Be.o[Ue][Xe]=mr,mr=$e?ze.v[Ue][Xe]:ze.v[Ue][Xe]+(He.v[Ue][Xe]-ze.v[Ue][Xe])*St,Be.v[Ue][Xe]=mr}function r(){var Oe=this.comp.renderedFrame-this.offsetTime,Be=this.keyframes[0].t-this.offsetTime,je=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ve=this._caching.lastFrame;return Ve!==t&&(Ve<Be&&Oe<Be||Ve>je&&Oe>je)||(this._caching.lastIndex=Ve<Oe?this._caching.lastIndex:0,this.interpolateShape(Oe,this.pv,this._caching)),this._caching.lastFrame=Oe,this.pv}function _e(){this.paths=this.localShapeCollection}function Se(Oe,Be){if(Oe._length!==Be._length||Oe.c!==Be.c)return!1;var je,Ve=Oe._length;for(je=0;je<Ve;je+=1)if(Oe.v[je][0]!==Be.v[je][0]||Oe.v[je][1]!==Be.v[je][1]||Oe.o[je][0]!==Be.o[je][0]||Oe.o[je][1]!==Be.o[je][1]||Oe.i[je][0]!==Be.i[je][0]||Oe.i[je][1]!==Be.i[je][1])return!1;return!0}function Ae(Oe){Se(this.v,Oe)||(this.v=shapePool.clone(Oe),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Re(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Oe;this.kf?Oe=this.pv:this.data.ks?Oe=this.data.ks.k:Oe=this.data.pt.k;var Be,je=this.effectsSequence.length;for(Be=0;Be<je;Be+=1)Oe=this.effectsSequence[Be](Oe);this.setVValue(Oe),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ee(Oe,Be,je){this.propType="shape",this.comp=Oe.comp,this.container=Oe,this.elem=Oe,this.data=Be,this.k=!1,this.kf=!1,this._mdf=!1;var Ve=je===3?Be.pt.k:Be.ks.k;this.v=shapePool.clone(Ve),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=_e,this.effectsSequence=[]}function Ce(Oe){this.effectsSequence.push(Oe),this.container.addDynamicProperty(this)}Ee.prototype.interpolateShape=e,Ee.prototype.getValue=Re,Ee.prototype.setVValue=Ae,Ee.prototype.addEffect=Ce;function Te(Oe,Be,je){this.propType="shape",this.comp=Oe.comp,this.elem=Oe,this.container=Oe,this.offsetTime=Oe.data.st,this.keyframes=je===3?Be.pt.k:Be.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ve=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ve),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=_e,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}Te.prototype.getValue=Re,Te.prototype.interpolateShape=e,Te.prototype.setVValue=Ae,Te.prototype.addEffect=Ce;var De=function(){var Oe=roundCorner;function Be(je,Ve){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ve.d,this.elem=je,this.comp=je.comp,this.frameId=-1,this.initDynamicPropertyContainer(je),this.p=PropertyFactory.getProp(je,Ve.p,1,0,this),this.s=PropertyFactory.getProp(je,Ve.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Be.prototype={reset:_e,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ve=this.p.v[0],ze=this.p.v[1],He=this.s.v[0]/2,$e=this.s.v[1]/2,Ue=this.d!==3,Xe=this.v;Xe.v[0][0]=Ve,Xe.v[0][1]=ze-$e,Xe.v[1][0]=Ue?Ve+He:Ve-He,Xe.v[1][1]=ze,Xe.v[2][0]=Ve,Xe.v[2][1]=ze+$e,Xe.v[3][0]=Ue?Ve-He:Ve+He,Xe.v[3][1]=ze,Xe.i[0][0]=Ue?Ve-He*Oe:Ve+He*Oe,Xe.i[0][1]=ze-$e,Xe.i[1][0]=Ue?Ve+He:Ve-He,Xe.i[1][1]=ze-$e*Oe,Xe.i[2][0]=Ue?Ve+He*Oe:Ve-He*Oe,Xe.i[2][1]=ze+$e,Xe.i[3][0]=Ue?Ve-He:Ve+He,Xe.i[3][1]=ze+$e*Oe,Xe.o[0][0]=Ue?Ve+He*Oe:Ve-He*Oe,Xe.o[0][1]=ze-$e,Xe.o[1][0]=Ue?Ve+He:Ve-He,Xe.o[1][1]=ze+$e*Oe,Xe.o[2][0]=Ue?Ve-He*Oe:Ve+He*Oe,Xe.o[2][1]=ze+$e,Xe.o[3][0]=Ue?Ve-He:Ve+He,Xe.o[3][1]=ze-$e*Oe}},extendPrototype([DynamicPropertyContainer],Be),Be}(),ke=function(){function Oe(Be,je){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Be,this.comp=Be.comp,this.data=je,this.frameId=-1,this.d=je.d,this.initDynamicPropertyContainer(Be),je.sy===1?(this.ir=PropertyFactory.getProp(Be,je.ir,0,0,this),this.is=PropertyFactory.getProp(Be,je.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Be,je.pt,0,0,this),this.p=PropertyFactory.getProp(Be,je.p,1,0,this),this.r=PropertyFactory.getProp(Be,je.r,0,degToRads,this),this.or=PropertyFactory.getProp(Be,je.or,0,0,this),this.os=PropertyFactory.getProp(Be,je.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Oe.prototype={reset:_e,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var je=Math.floor(this.pt.v)*2,Ve=Math.PI*2/je,ze=!0,He=this.or.v,$e=this.ir.v,Ue=this.os.v,Xe=this.is.v,nr=2*Math.PI*He/(je*2),Ge=2*Math.PI*$e/(je*2),St,mr,pr,vr,dr=-Math.PI/2;dr+=this.r.v;var gr=this.data.d===3?-1:1;for(this.v._length=0,St=0;St<je;St+=1){mr=ze?He:$e,pr=ze?Ue:Xe,vr=ze?nr:Ge;var sr=mr*Math.cos(dr),tr=mr*Math.sin(dr),hr=sr===0&&tr===0?0:tr/Math.sqrt(sr*sr+tr*tr),Sr=sr===0&&tr===0?0:-sr/Math.sqrt(sr*sr+tr*tr);sr+=+this.p.v[0],tr+=+this.p.v[1],this.v.setTripleAt(sr,tr,sr-hr*vr*pr*gr,tr-Sr*vr*pr*gr,sr+hr*vr*pr*gr,tr+Sr*vr*pr*gr,St,!0),ze=!ze,dr+=Ve*gr}},convertPolygonToPath:function(){var je=Math.floor(this.pt.v),Ve=Math.PI*2/je,ze=this.or.v,He=this.os.v,$e=2*Math.PI*ze/(je*4),Ue,Xe=-Math.PI*.5,nr=this.data.d===3?-1:1;for(Xe+=this.r.v,this.v._length=0,Ue=0;Ue<je;Ue+=1){var Ge=ze*Math.cos(Xe),St=ze*Math.sin(Xe),mr=Ge===0&&St===0?0:St/Math.sqrt(Ge*Ge+St*St),pr=Ge===0&&St===0?0:-Ge/Math.sqrt(Ge*Ge+St*St);Ge+=+this.p.v[0],St+=+this.p.v[1],this.v.setTripleAt(Ge,St,Ge-mr*$e*He*nr,St-pr*$e*He*nr,Ge+mr*$e*He*nr,St+pr*$e*He*nr,Ue,!0),Xe+=Ve*nr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Oe),Oe}(),Pe=function(){function Oe(Be,je){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Be,this.comp=Be.comp,this.frameId=-1,this.d=je.d,this.initDynamicPropertyContainer(Be),this.p=PropertyFactory.getProp(Be,je.p,1,0,this),this.s=PropertyFactory.getProp(Be,je.s,1,0,this),this.r=PropertyFactory.getProp(Be,je.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Oe.prototype={convertRectToPath:function(){var je=this.p.v[0],Ve=this.p.v[1],ze=this.s.v[0]/2,He=this.s.v[1]/2,$e=bmMin(ze,He,this.r.v),Ue=$e*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(je+ze,Ve-He+$e,je+ze,Ve-He+$e,je+ze,Ve-He+Ue,0,!0),this.v.setTripleAt(je+ze,Ve+He-$e,je+ze,Ve+He-Ue,je+ze,Ve+He-$e,1,!0),$e!==0?(this.v.setTripleAt(je+ze-$e,Ve+He,je+ze-$e,Ve+He,je+ze-Ue,Ve+He,2,!0),this.v.setTripleAt(je-ze+$e,Ve+He,je-ze+Ue,Ve+He,je-ze+$e,Ve+He,3,!0),this.v.setTripleAt(je-ze,Ve+He-$e,je-ze,Ve+He-$e,je-ze,Ve+He-Ue,4,!0),this.v.setTripleAt(je-ze,Ve-He+$e,je-ze,Ve-He+Ue,je-ze,Ve-He+$e,5,!0),this.v.setTripleAt(je-ze+$e,Ve-He,je-ze+$e,Ve-He,je-ze+Ue,Ve-He,6,!0),this.v.setTripleAt(je+ze-$e,Ve-He,je+ze-Ue,Ve-He,je+ze-$e,Ve-He,7,!0)):(this.v.setTripleAt(je-ze,Ve+He,je-ze+Ue,Ve+He,je-ze,Ve+He,2),this.v.setTripleAt(je-ze,Ve-He,je-ze,Ve-He+Ue,je-ze,Ve-He,3))):(this.v.setTripleAt(je+ze,Ve-He+$e,je+ze,Ve-He+Ue,je+ze,Ve-He+$e,0,!0),$e!==0?(this.v.setTripleAt(je+ze-$e,Ve-He,je+ze-$e,Ve-He,je+ze-Ue,Ve-He,1,!0),this.v.setTripleAt(je-ze+$e,Ve-He,je-ze+Ue,Ve-He,je-ze+$e,Ve-He,2,!0),this.v.setTripleAt(je-ze,Ve-He+$e,je-ze,Ve-He+$e,je-ze,Ve-He+Ue,3,!0),this.v.setTripleAt(je-ze,Ve+He-$e,je-ze,Ve+He-Ue,je-ze,Ve+He-$e,4,!0),this.v.setTripleAt(je-ze+$e,Ve+He,je-ze+$e,Ve+He,je-ze+Ue,Ve+He,5,!0),this.v.setTripleAt(je+ze-$e,Ve+He,je+ze-Ue,Ve+He,je+ze-$e,Ve+He,6,!0),this.v.setTripleAt(je+ze,Ve+He-$e,je+ze,Ve+He-$e,je+ze,Ve+He-Ue,7,!0)):(this.v.setTripleAt(je-ze,Ve-He,je-ze+Ue,Ve-He,je-ze,Ve-He,1,!0),this.v.setTripleAt(je-ze,Ve+He,je-ze,Ve+He-Ue,je-ze,Ve+He,2,!0),this.v.setTripleAt(je+ze,Ve+He,je+ze-Ue,Ve+He,je+ze,Ve+He,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:_e},extendPrototype([DynamicPropertyContainer],Oe),Oe}();function xe(Oe,Be,je){var Ve;if(je===3||je===4){var ze=je===3?Be.pt:Be.ks,He=ze.k;He.length?Ve=new Te(Oe,Be,je):Ve=new Ee(Oe,Be,je)}else je===5?Ve=new Pe(Oe,Be):je===6?Ve=new De(Oe,Be):je===7&&(Ve=new ke(Oe,Be));return Ve.k&&Oe.addDynamicProperty(Ve),Ve}function Fe(){return Ee}function Ie(){return Te}var Me={};return Me.getShapeProp=xe,Me.getConstructorFunction=Fe,Me.getKeyframedConstructorFunction=Ie,Me}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,_e=Math.round;function Se(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Ae(gr){if(gr===0)return this;var sr=t(gr),tr=e(gr);return this._t(sr,-tr,0,0,tr,sr,0,0,0,0,1,0,0,0,0,1)}function Re(gr){if(gr===0)return this;var sr=t(gr),tr=e(gr);return this._t(1,0,0,0,0,sr,-tr,0,0,tr,sr,0,0,0,0,1)}function Ee(gr){if(gr===0)return this;var sr=t(gr),tr=e(gr);return this._t(sr,0,tr,0,0,1,0,0,-tr,0,sr,0,0,0,0,1)}function Ce(gr){if(gr===0)return this;var sr=t(gr),tr=e(gr);return this._t(sr,-tr,0,0,tr,sr,0,0,0,0,1,0,0,0,0,1)}function Te(gr,sr){return this._t(1,sr,gr,1,0,0)}function De(gr,sr){return this.shear(r(gr),r(sr))}function ke(gr,sr){var tr=t(sr),hr=e(sr);return this._t(tr,hr,0,0,-hr,tr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(gr),1,0,0,0,0,1,0,0,0,0,1)._t(tr,-hr,0,0,hr,tr,0,0,0,0,1,0,0,0,0,1)}function Pe(gr,sr,tr){return!tr&&tr!==0&&(tr=1),gr===1&&sr===1&&tr===1?this:this._t(gr,0,0,0,0,sr,0,0,0,0,tr,0,0,0,0,1)}function xe(gr,sr,tr,hr,Sr,Je,Ze,Ye,We,or,fr,_r,yr,xr,Ar,cr){return this.props[0]=gr,this.props[1]=sr,this.props[2]=tr,this.props[3]=hr,this.props[4]=Sr,this.props[5]=Je,this.props[6]=Ze,this.props[7]=Ye,this.props[8]=We,this.props[9]=or,this.props[10]=fr,this.props[11]=_r,this.props[12]=yr,this.props[13]=xr,this.props[14]=Ar,this.props[15]=cr,this}function Fe(gr,sr,tr){return tr=tr||0,gr!==0||sr!==0||tr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,gr,sr,tr,1):this}function Ie(gr,sr,tr,hr,Sr,Je,Ze,Ye,We,or,fr,_r,yr,xr,Ar,cr){var ar=this.props;if(gr===1&&sr===0&&tr===0&&hr===0&&Sr===0&&Je===1&&Ze===0&&Ye===0&&We===0&&or===0&&fr===1&&_r===0)return ar[12]=ar[12]*gr+ar[15]*yr,ar[13]=ar[13]*Je+ar[15]*xr,ar[14]=ar[14]*fr+ar[15]*Ar,ar[15]*=cr,this._identityCalculated=!1,this;var Qe=ar[0],rr=ar[1],er=ar[2],ur=ar[3],Cr=ar[4],wr=ar[5],Or=ar[6],kr=ar[7],Pr=ar[8],Ir=ar[9],Vr=ar[10],zr=ar[11],$r=ar[12],Gr=ar[13],ii=ar[14],Qr=ar[15];return ar[0]=Qe*gr+rr*Sr+er*We+ur*yr,ar[1]=Qe*sr+rr*Je+er*or+ur*xr,ar[2]=Qe*tr+rr*Ze+er*fr+ur*Ar,ar[3]=Qe*hr+rr*Ye+er*_r+ur*cr,ar[4]=Cr*gr+wr*Sr+Or*We+kr*yr,ar[5]=Cr*sr+wr*Je+Or*or+kr*xr,ar[6]=Cr*tr+wr*Ze+Or*fr+kr*Ar,ar[7]=Cr*hr+wr*Ye+Or*_r+kr*cr,ar[8]=Pr*gr+Ir*Sr+Vr*We+zr*yr,ar[9]=Pr*sr+Ir*Je+Vr*or+zr*xr,ar[10]=Pr*tr+Ir*Ze+Vr*fr+zr*Ar,ar[11]=Pr*hr+Ir*Ye+Vr*_r+zr*cr,ar[12]=$r*gr+Gr*Sr+ii*We+Qr*yr,ar[13]=$r*sr+Gr*Je+ii*or+Qr*xr,ar[14]=$r*tr+Gr*Ze+ii*fr+Qr*Ar,ar[15]=$r*hr+Gr*Ye+ii*_r+Qr*cr,this._identityCalculated=!1,this}function Me(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Oe(gr){for(var sr=0;sr<16;){if(gr.props[sr]!==this.props[sr])return!1;sr+=1}return!0}function Be(gr){var sr;for(sr=0;sr<16;sr+=1)gr.props[sr]=this.props[sr];return gr}function je(gr){var sr;for(sr=0;sr<16;sr+=1)this.props[sr]=gr[sr]}function Ve(gr,sr,tr){return{x:gr*this.props[0]+sr*this.props[4]+tr*this.props[8]+this.props[12],y:gr*this.props[1]+sr*this.props[5]+tr*this.props[9]+this.props[13],z:gr*this.props[2]+sr*this.props[6]+tr*this.props[10]+this.props[14]}}function ze(gr,sr,tr){return gr*this.props[0]+sr*this.props[4]+tr*this.props[8]+this.props[12]}function He(gr,sr,tr){return gr*this.props[1]+sr*this.props[5]+tr*this.props[9]+this.props[13]}function $e(gr,sr,tr){return gr*this.props[2]+sr*this.props[6]+tr*this.props[10]+this.props[14]}function Ue(){var gr=this.props[0]*this.props[5]-this.props[1]*this.props[4],sr=this.props[5]/gr,tr=-this.props[1]/gr,hr=-this.props[4]/gr,Sr=this.props[0]/gr,Je=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/gr,Ze=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/gr,Ye=new Matrix;return Ye.props[0]=sr,Ye.props[1]=tr,Ye.props[4]=hr,Ye.props[5]=Sr,Ye.props[12]=Je,Ye.props[13]=Ze,Ye}function Xe(gr){var sr=this.getInverseMatrix();return sr.applyToPointArray(gr[0],gr[1],gr[2]||0)}function nr(gr){var sr,tr=gr.length,hr=[];for(sr=0;sr<tr;sr+=1)hr[sr]=Xe(gr[sr]);return hr}function Ge(gr,sr,tr){var hr=createTypedArray("float32",6);if(this.isIdentity())hr[0]=gr[0],hr[1]=gr[1],hr[2]=sr[0],hr[3]=sr[1],hr[4]=tr[0],hr[5]=tr[1];else{var Sr=this.props[0],Je=this.props[1],Ze=this.props[4],Ye=this.props[5],We=this.props[12],or=this.props[13];hr[0]=gr[0]*Sr+gr[1]*Ze+We,hr[1]=gr[0]*Je+gr[1]*Ye+or,hr[2]=sr[0]*Sr+sr[1]*Ze+We,hr[3]=sr[0]*Je+sr[1]*Ye+or,hr[4]=tr[0]*Sr+tr[1]*Ze+We,hr[5]=tr[0]*Je+tr[1]*Ye+or}return hr}function St(gr,sr,tr){var hr;return this.isIdentity()?hr=[gr,sr,tr]:hr=[gr*this.props[0]+sr*this.props[4]+tr*this.props[8]+this.props[12],gr*this.props[1]+sr*this.props[5]+tr*this.props[9]+this.props[13],gr*this.props[2]+sr*this.props[6]+tr*this.props[10]+this.props[14]],hr}function mr(gr,sr){if(this.isIdentity())return gr+","+sr;var tr=this.props;return Math.round((gr*tr[0]+sr*tr[4]+tr[12])*100)/100+","+Math.round((gr*tr[1]+sr*tr[5]+tr[13])*100)/100}function pr(){for(var gr=0,sr=this.props,tr="matrix3d(",hr=1e4;gr<16;)tr+=_e(sr[gr]*hr)/hr,tr+=gr===15?")":",",gr+=1;return tr}function vr(gr){var sr=1e4;return gr<1e-6&&gr>0||gr>-1e-6&&gr<0?_e(gr*sr)/sr:gr}function dr(){var gr=this.props,sr=vr(gr[0]),tr=vr(gr[1]),hr=vr(gr[4]),Sr=vr(gr[5]),Je=vr(gr[12]),Ze=vr(gr[13]);return"matrix("+sr+","+tr+","+hr+","+Sr+","+Je+","+Ze+")"}return function(){this.reset=Se,this.rotate=Ae,this.rotateX=Re,this.rotateY=Ee,this.rotateZ=Ce,this.skew=De,this.skewFromAxis=ke,this.shear=Te,this.scale=Pe,this.setTransform=xe,this.translate=Fe,this.transform=Ie,this.applyToPoint=Ve,this.applyToX=ze,this.applyToY=He,this.applyToZ=$e,this.applyToPointArray=St,this.applyToTriplePoints=Ge,this.applyToPointStringified=mr,this.toCSS=pr,this.to2dCSS=dr,this.clone=Be,this.cloneFromProps=je,this.equals=Oe,this.inversePoints=nr,this.inversePoint=Xe,this.getInverseMatrix=Ue,this._t=this.transform,this.isIdentity=Me,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(r){return typeof r}:_typeof$3=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator<"u"}function installPlugin(t,e){t==="expressions"&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var _e=e[r].split("=");if(decodeURIComponent(_e[0])==t)return decodeURIComponent(_e[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},e={};t.registerModifier=r,t.getModifier=_e;function r(Se,Ae){e[Se]||(e[Se]=Ae)}function _e(Se,Ae,Re){return new e[Se](Ae,Re)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,_e,Se){var Ae=[];e<=1?Ae.push({s:t,e}):t>=1?Ae.push({s:t-1,e:e-1}):(Ae.push({s:t,e:1}),Ae.push({s:0,e:e-1}));var Re=[],Ee,Ce=Ae.length,Te;for(Ee=0;Ee<Ce;Ee+=1)if(Te=Ae[Ee],!(Te.e*Se<_e||Te.s*Se>_e+r)){var De,ke;Te.s*Se<=_e?De=0:De=(Te.s*Se-_e)/r,Te.e*Se>=_e+r?ke=1:ke=(Te.e*Se-_e)/r,Re.push([De,ke])}return Re.length||Re.push([0,0]),Re},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r;if(this._mdf||t){var _e=this.o.v%360/360;if(_e<0&&(_e+=1),this.s.v>1?e=1+_e:this.s.v<0?e=0+_e:e=this.s.v+_e,this.e.v>1?r=1+_e:this.e.v<0?r=0+_e:r=this.e.v+_e,e>r){var Se=e;e=r,r=Se}e=Math.round(e*1e4)*1e-4,r=Math.round(r*1e4)*1e-4,this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var Ae,Re,Ee=this.shapes.length,Ce,Te,De,ke,Pe,xe=0;if(r===e)for(Re=0;Re<Ee;Re+=1)this.shapes[Re].localShapeCollection.releaseShapes(),this.shapes[Re].shape._mdf=!0,this.shapes[Re].shape.paths=this.shapes[Re].localShapeCollection,this._mdf&&(this.shapes[Re].pathsData.length=0);else if(r===1&&e===0||r===0&&e===1){if(this._mdf)for(Re=0;Re<Ee;Re+=1)this.shapes[Re].pathsData.length=0,this.shapes[Re].shape._mdf=!0}else{var Fe=[],Ie,Me;for(Re=0;Re<Ee;Re+=1)if(Ie=this.shapes[Re],!Ie.shape._mdf&&!this._mdf&&!t&&this.m!==2)Ie.shape.paths=Ie.localShapeCollection;else{if(Ae=Ie.shape.paths,Te=Ae._length,Pe=0,!Ie.shape._mdf&&Ie.pathsData.length)Pe=Ie.totalShapeLength;else{for(De=this.releasePathsData(Ie.pathsData),Ce=0;Ce<Te;Ce+=1)ke=bez.getSegmentsLength(Ae.shapes[Ce]),De.push(ke),Pe+=ke.totalLength;Ie.totalShapeLength=Pe,Ie.pathsData=De}xe+=Pe,Ie.shape._mdf=!0}var Oe=e,Be=r,je=0,Ve;for(Re=Ee-1;Re>=0;Re-=1)if(Ie=this.shapes[Re],Ie.shape._mdf){for(Me=Ie.localShapeCollection,Me.releaseShapes(),this.m===2&&Ee>1?(Ve=this.calculateShapeEdges(e,r,Ie.totalShapeLength,je,xe),je+=Ie.totalShapeLength):Ve=[[Oe,Be]],Te=Ve.length,Ce=0;Ce<Te;Ce+=1){Oe=Ve[Ce][0],Be=Ve[Ce][1],Fe.length=0,Be<=1?Fe.push({s:Ie.totalShapeLength*Oe,e:Ie.totalShapeLength*Be}):Oe>=1?Fe.push({s:Ie.totalShapeLength*(Oe-1),e:Ie.totalShapeLength*(Be-1)}):(Fe.push({s:Ie.totalShapeLength*Oe,e:Ie.totalShapeLength}),Fe.push({s:0,e:Ie.totalShapeLength*(Be-1)}));var ze=this.addShapes(Ie,Fe[0]);if(Fe[0].s!==Fe[0].e){if(Fe.length>1){var He=Ie.shape.paths.shapes[Ie.shape.paths._length-1];if(He.c){var $e=ze.pop();this.addPaths(ze,Me),ze=this.addShapes(Ie,Fe[1],$e)}else this.addPaths(ze,Me),ze=this.addShapes(Ie,Fe[1])}this.addPaths(ze,Me)}}Ie.shape.paths=Me}}},TrimModifier.prototype.addPaths=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,_e,Se,Ae,Re){Se.setXYAt(e[0],e[1],"o",Ae),Se.setXYAt(r[0],r[1],"i",Ae+1),Re&&Se.setXYAt(t[0],t[1],"v",Ae),Se.setXYAt(_e[0],_e[1],"v",Ae+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,_e){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),_e&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var _e=t.pathsData,Se=t.shape.paths.shapes,Ae,Re=t.shape.paths._length,Ee,Ce,Te=0,De,ke,Pe,xe,Fe=[],Ie,Me=!0;for(r?(ke=r._length,Ie=r._length):(r=shapePool.newElement(),ke=0,Ie=0),Fe.push(r),Ae=0;Ae<Re;Ae+=1){for(Pe=_e[Ae].lengths,r.c=Se[Ae].c,Ce=Se[Ae].c?Pe.length:Pe.length+1,Ee=1;Ee<Ce;Ee+=1)if(De=Pe[Ee-1],Te+De.addedLength<e.s)Te+=De.addedLength,r.c=!1;else if(Te>e.e){r.c=!1;break}else e.s<=Te&&e.e>=Te+De.addedLength?(this.addSegment(Se[Ae].v[Ee-1],Se[Ae].o[Ee-1],Se[Ae].i[Ee],Se[Ae].v[Ee],r,ke,Me),Me=!1):(xe=bez.getNewSegment(Se[Ae].v[Ee-1],Se[Ae].v[Ee],Se[Ae].o[Ee-1],Se[Ae].i[Ee],(e.s-Te)/De.addedLength,(e.e-Te)/De.addedLength,Pe[Ee-1]),this.addSegmentFromArray(xe,r,ke,Me),Me=!1,r.c=!1),Te+=De.addedLength,ke+=1;if(Se[Ae].c&&Pe.length){if(De=Pe[Ee-1],Te<=e.e){var Oe=Pe[Ee-1].addedLength;e.s<=Te&&e.e>=Te+Oe?(this.addSegment(Se[Ae].v[Ee-1],Se[Ae].o[Ee-1],Se[Ae].i[0],Se[Ae].v[0],r,ke,Me),Me=!1):(xe=bez.getNewSegment(Se[Ae].v[Ee-1],Se[Ae].v[0],Se[Ae].o[Ee-1],Se[Ae].i[0],(e.s-Te)/Oe,(e.e-Te)/Oe,Pe[Ee-1]),this.addSegmentFromArray(xe,r,ke,Me),Me=!1,r.c=!1)}else r.c=!1;Te+=De.addedLength,ke+=1}if(r._length&&(r.setXYAt(r.v[Ie][0],r.v[Ie][1],"i",Ie),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),Te>e.e)break;Ae<Re-1&&(r=shapePool.newElement(),Me=!0,Fe.push(r),ke=0)}return Fe};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,_e=[0,0],Se=t._length,Ae=0;for(Ae=0;Ae<Se;Ae+=1)_e[0]+=t.v[Ae][0],_e[1]+=t.v[Ae][1];_e[0]/=Se,_e[1]/=Se;var Re=shapePool.newElement();Re.c=t.c;var Ee,Ce,Te,De,ke,Pe;for(Ae=0;Ae<Se;Ae+=1)Ee=t.v[Ae][0]+(_e[0]-t.v[Ae][0])*r,Ce=t.v[Ae][1]+(_e[1]-t.v[Ae][1])*r,Te=t.o[Ae][0]+(_e[0]-t.o[Ae][0])*-r,De=t.o[Ae][1]+(_e[1]-t.o[Ae][1])*-r,ke=t.i[Ae][0]+(_e[0]-t.i[Ae][0])*-r,Pe=t.i[Ae][1]+(_e[1]-t.i[Ae][1])*-r,Re.setTripleAt(Ee,Ce,Te,De,ke,Pe,Ae);return Re},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,_e=this.shapes.length,Se,Ae,Re=this.amount.v;if(Re!==0){var Ee,Ce;for(r=0;r<_e;r+=1){if(Ee=this.shapes[r],Ce=Ee.localShapeCollection,!(!Ee.shape._mdf&&!this._mdf&&!t))for(Ce.releaseShapes(),Ee.shape._mdf=!0,e=Ee.shape.paths.shapes,Ae=Ee.shape.paths._length,Se=0;Se<Ae;Se+=1)Ce.addShape(this.processPath(e[Se],Re));Ee.shape.paths=Ee.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(Ce){var Te=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Te,this.a&&Ce.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Ce.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Ce.skewFromAxis(-this.sk.v,this.sa.v),this.r?Ce.rotate(-this.r.v):Ce.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Ce.translate(this.px.v,this.py.v,-this.pz.v):Ce.translate(this.px.v,this.py.v,0):Ce.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function r(Ce){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Ce){var Te;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var De,ke;if(Te=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(De=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Te,0),ke=this.p.getValueAtTime(this.p.keyframes[0].t/Te,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(De=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Te,0),ke=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Te,0)):(De=this.p.pv,ke=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Te,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){De=[],ke=[];var Pe=this.px,xe=this.py;Pe._caching.lastFrame+Pe.offsetTime<=Pe.keyframes[0].t?(De[0]=Pe.getValueAtTime((Pe.keyframes[0].t+.01)/Te,0),De[1]=xe.getValueAtTime((xe.keyframes[0].t+.01)/Te,0),ke[0]=Pe.getValueAtTime(Pe.keyframes[0].t/Te,0),ke[1]=xe.getValueAtTime(xe.keyframes[0].t/Te,0)):Pe._caching.lastFrame+Pe.offsetTime>=Pe.keyframes[Pe.keyframes.length-1].t?(De[0]=Pe.getValueAtTime(Pe.keyframes[Pe.keyframes.length-1].t/Te,0),De[1]=xe.getValueAtTime(xe.keyframes[xe.keyframes.length-1].t/Te,0),ke[0]=Pe.getValueAtTime((Pe.keyframes[Pe.keyframes.length-1].t-.01)/Te,0),ke[1]=xe.getValueAtTime((xe.keyframes[xe.keyframes.length-1].t-.01)/Te,0)):(De=[Pe.pv,xe.pv],ke[0]=Pe.getValueAtTime((Pe._caching.lastFrame+Pe.offsetTime-.01)/Te,Pe.offsetTime),ke[1]=xe.getValueAtTime((xe._caching.lastFrame+xe.offsetTime-.01)/Te,xe.offsetTime))}else ke=t,De=ke;this.v.rotate(-Math.atan2(De[1]-ke[1],De[0]-ke[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function _e(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Se(){}function Ae(Ce){this._addDynamicProperty(Ce),this.elem.addDynamicProperty(Ce),this._isDirty=!0}function Re(Ce,Te,De){if(this.elem=Ce,this.frameId=-1,this.propType="transform",this.data=Te,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(De||Ce),Te.p&&Te.p.s?(this.px=PropertyFactory.getProp(Ce,Te.p.x,0,0,this),this.py=PropertyFactory.getProp(Ce,Te.p.y,0,0,this),Te.p.z&&(this.pz=PropertyFactory.getProp(Ce,Te.p.z,0,0,this))):this.p=PropertyFactory.getProp(Ce,Te.p||{k:[0,0,0]},1,0,this),Te.rx){if(this.rx=PropertyFactory.getProp(Ce,Te.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Ce,Te.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Ce,Te.rz,0,degToRads,this),Te.or.k[0].ti){var ke,Pe=Te.or.k.length;for(ke=0;ke<Pe;ke+=1)Te.or.k[ke].to=null,Te.or.k[ke].ti=null}this.or=PropertyFactory.getProp(Ce,Te.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Ce,Te.r||{k:0},0,degToRads,this);Te.sk&&(this.sk=PropertyFactory.getProp(Ce,Te.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Ce,Te.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Ce,Te.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Ce,Te.s||{k:[100,100,100]},1,.01,this),Te.o?this.o=PropertyFactory.getProp(Ce,Te.o,0,.01,Ce):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Re.prototype={applyToMatrix:e,getValue:r,precalculateMatrix:_e,autoOrient:Se},extendPrototype([DynamicPropertyContainer],Re),Re.prototype.addDynamicProperty=Ae,Re.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ee(Ce,Te,De){return new Re(Ce,Te,De)}return{getTransformProperty:Ee}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,_e,Se,Ae){var Re=Ae?-1:1,Ee=_e.s.v[0]+(1-_e.s.v[0])*(1-Se),Ce=_e.s.v[1]+(1-_e.s.v[1])*(1-Se);t.translate(_e.p.v[0]*Re*Se,_e.p.v[1]*Re*Se,_e.p.v[2]),e.translate(-_e.a.v[0],-_e.a.v[1],_e.a.v[2]),e.rotate(-_e.r.v*Re*Se),e.translate(_e.a.v[0],_e.a.v[1],_e.a.v[2]),r.translate(-_e.a.v[0],-_e.a.v[1],_e.a.v[2]),r.scale(Ae?1/Ee:Ee,Ae?1/Ce:Ce),r.translate(_e.a.v[0],_e.a.v[1],_e.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,_e){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=_e,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)t[r]._render=e,t[r].ty==="gr"&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,_e,Se,Ae,Re=!1;if(this._mdf||t){var Ee=Math.ceil(this.c.v);if(this._groups.length<Ee){for(;this._groups.length<Ee;){var Ce={it:this.cloneElements(this._elements),ty:"gr"};Ce.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Ce),this._groups.splice(0,0,Ce),this._currentCopies+=1}this.elem.reloadShapes(),Re=!0}Ae=0;var Te;for(_e=0;_e<=this._groups.length-1;_e+=1){if(Te=Ae<Ee,this._groups[_e]._render=Te,this.changeGroupRender(this._groups[_e].it,Te),!Te){var De=this.elemsData[_e].it,ke=De[De.length-1];ke.transform.op.v!==0?(ke.transform.op._mdf=!0,ke.transform.op.v=0):ke.transform.op._mdf=!1}Ae+=1}this._currentCopies=Ee;var Pe=this.o.v,xe=Pe%1,Fe=Pe>0?Math.floor(Pe):Math.ceil(Pe),Ie=this.pMatrix.props,Me=this.rMatrix.props,Oe=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Be=0;if(Pe>0){for(;Be<Fe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Be+=1;xe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,xe,!1),Be+=xe)}else if(Pe<0){for(;Be>Fe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Be-=1;xe&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-xe,!0),Be-=xe)}_e=this.data.m===1?0:this._currentCopies-1,Se=this.data.m===1?1:-1,Ae=this._currentCopies;for(var je,Ve;Ae;){if(e=this.elemsData[_e].it,r=e[e.length-1].transform.mProps.v.props,Ve=r.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(_e/(this._currentCopies-1)),Be!==0){for((_e!==0&&Se===1||_e!==this._currentCopies-1&&Se===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Me[0],Me[1],Me[2],Me[3],Me[4],Me[5],Me[6],Me[7],Me[8],Me[9],Me[10],Me[11],Me[12],Me[13],Me[14],Me[15]),this.matrix.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],Oe[7],Oe[8],Oe[9],Oe[10],Oe[11],Oe[12],Oe[13],Oe[14],Oe[15]),this.matrix.transform(Ie[0],Ie[1],Ie[2],Ie[3],Ie[4],Ie[5],Ie[6],Ie[7],Ie[8],Ie[9],Ie[10],Ie[11],Ie[12],Ie[13],Ie[14],Ie[15]),je=0;je<Ve;je+=1)r[je]=this.matrix.props[je];this.matrix.reset()}else for(this.matrix.reset(),je=0;je<Ve;je+=1)r[je]=this.matrix.props[je];Be+=1,Ae-=1,_e+=Se}}else for(Ae=this._currentCopies,_e=0,Se=1;Ae;)e=this.elemsData[_e].it,r=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,Ae-=1,_e+=Se;return Re},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r=shapePool.newElement();r.c=t.c;var _e,Se=t._length,Ae,Re,Ee,Ce,Te,De,ke=0,Pe,xe,Fe,Ie,Me,Oe;for(_e=0;_e<Se;_e+=1)Ae=t.v[_e],Ee=t.o[_e],Re=t.i[_e],Ae[0]===Ee[0]&&Ae[1]===Ee[1]&&Ae[0]===Re[0]&&Ae[1]===Re[1]?(_e===0||_e===Se-1)&&!t.c?(r.setTripleAt(Ae[0],Ae[1],Ee[0],Ee[1],Re[0],Re[1],ke),ke+=1):(_e===0?Ce=t.v[Se-1]:Ce=t.v[_e-1],Te=Math.sqrt(Math.pow(Ae[0]-Ce[0],2)+Math.pow(Ae[1]-Ce[1],2)),De=Te?Math.min(Te/2,e)/Te:0,Me=Ae[0]+(Ce[0]-Ae[0])*De,Pe=Me,Oe=Ae[1]-(Ae[1]-Ce[1])*De,xe=Oe,Fe=Pe-(Pe-Ae[0])*roundCorner,Ie=xe-(xe-Ae[1])*roundCorner,r.setTripleAt(Pe,xe,Fe,Ie,Me,Oe,ke),ke+=1,_e===Se-1?Ce=t.v[0]:Ce=t.v[_e+1],Te=Math.sqrt(Math.pow(Ae[0]-Ce[0],2)+Math.pow(Ae[1]-Ce[1],2)),De=Te?Math.min(Te/2,e)/Te:0,Fe=Ae[0]+(Ce[0]-Ae[0])*De,Pe=Fe,Ie=Ae[1]+(Ce[1]-Ae[1])*De,xe=Ie,Me=Pe-(Pe-Ae[0])*roundCorner,Oe=xe-(xe-Ae[1])*roundCorner,r.setTripleAt(Pe,xe,Fe,Ie,Me,Oe,ke),ke+=1):(r.setTripleAt(t.v[_e][0],t.v[_e][1],t.o[_e][0],t.o[_e][1],t.i[_e][0],t.i[_e][1],ke),ke+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,r,_e=this.shapes.length,Se,Ae,Re=this.rd.v;if(Re!==0){var Ee,Ce;for(r=0;r<_e;r+=1){if(Ee=this.shapes[r],Ce=Ee.localShapeCollection,!(!Ee.shape._mdf&&!this._mdf&&!t))for(Ce.releaseShapes(),Ee.shape._mdf=!0,e=Ee.shape.paths.shapes,Ae=Ee.shape.paths._length,Se=0;Se<Ae;Se+=1)Ce.addShape(this.processPath(e[Se],Re));Ee.shape.paths=Ee.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",_e="normal",Se=e.length,Ae,Re=0;Re<Se;Re+=1)switch(Ae=e[Re].toLowerCase(),Ae){case"italic":_e="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break}return{style:_e,weight:t.fWeight||r}}var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var _e=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],Se=[65039,8205];function Ae(Ve){var ze=Ve.split(","),He,$e=ze.length,Ue=[];for(He=0;He<$e;He+=1)ze[He]!=="sans-serif"&&ze[He]!=="monospace"&&Ue.push(ze[He]);return Ue.join(",")}function Re(Ve,ze){var He=createTag("span");He.setAttribute("aria-hidden",!0),He.style.fontFamily=ze;var $e=createTag("span");$e.innerText="giItT1WQy@!-/#",He.style.position="absolute",He.style.left="-10000px",He.style.top="-10000px",He.style.fontSize="300px",He.style.fontVariant="normal",He.style.fontStyle="normal",He.style.fontWeight="normal",He.style.letterSpacing="0",He.appendChild($e),document.body.appendChild(He);var Ue=$e.offsetWidth;return $e.style.fontFamily=Ae(Ve)+", "+ze,{node:$e,w:Ue,parent:He}}function Ee(){var Ve,ze=this.fonts.length,He,$e,Ue=ze;for(Ve=0;Ve<ze;Ve+=1)this.fonts[Ve].loaded?Ue-=1:this.fonts[Ve].fOrigin==="n"||this.fonts[Ve].origin===0?this.fonts[Ve].loaded=!0:(He=this.fonts[Ve].monoCase.node,$e=this.fonts[Ve].monoCase.w,He.offsetWidth!==$e?(Ue-=1,this.fonts[Ve].loaded=!0):(He=this.fonts[Ve].sansCase.node,$e=this.fonts[Ve].sansCase.w,He.offsetWidth!==$e&&(Ue-=1,this.fonts[Ve].loaded=!0)),this.fonts[Ve].loaded&&(this.fonts[Ve].sansCase.parent.parentNode.removeChild(this.fonts[Ve].sansCase.parent),this.fonts[Ve].monoCase.parent.parentNode.removeChild(this.fonts[Ve].monoCase.parent)));Ue!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ce(Ve,ze){var He=document.body&&ze?"svg":"canvas",$e,Ue=getFontProperties(Ve);if(He==="svg"){var Xe=createNS("text");Xe.style.fontSize="100px",Xe.setAttribute("font-family",Ve.fFamily),Xe.setAttribute("font-style",Ue.style),Xe.setAttribute("font-weight",Ue.weight),Xe.textContent="1",Ve.fClass?(Xe.style.fontFamily="inherit",Xe.setAttribute("class",Ve.fClass)):Xe.style.fontFamily=Ve.fFamily,ze.appendChild(Xe),$e=Xe}else{var nr=new OffscreenCanvas(500,500).getContext("2d");nr.font=Ue.style+" "+Ue.weight+" 100px "+Ve.fFamily,$e=nr}function Ge(St){return He==="svg"?($e.textContent=St,$e.getComputedTextLength()):$e.measureText(St).width}return{measureText:Ge}}function Te(Ve,ze){if(!Ve){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ve.list;return}if(!document.body){this.isLoaded=!0,Ve.list.forEach(function(dr){dr.helper=Ce(dr),dr.cache={}}),this.fonts=Ve.list;return}var He=Ve.list,$e,Ue=He.length,Xe=Ue;for($e=0;$e<Ue;$e+=1){var nr=!0,Ge,St;if(He[$e].loaded=!1,He[$e].monoCase=Re(He[$e].fFamily,"monospace"),He[$e].sansCase=Re(He[$e].fFamily,"sans-serif"),!He[$e].fPath)He[$e].loaded=!0,Xe-=1;else if(He[$e].fOrigin==="p"||He[$e].origin===3){if(Ge=document.querySelectorAll('style[f-forigin="p"][f-family="'+He[$e].fFamily+'"], style[f-origin="3"][f-family="'+He[$e].fFamily+'"]'),Ge.length>0&&(nr=!1),nr){var mr=createTag("style");mr.setAttribute("f-forigin",He[$e].fOrigin),mr.setAttribute("f-origin",He[$e].origin),mr.setAttribute("f-family",He[$e].fFamily),mr.type="text/css",mr.innerText="@font-face {font-family: "+He[$e].fFamily+"; font-style: normal; src: url('"+He[$e].fPath+"');}",ze.appendChild(mr)}}else if(He[$e].fOrigin==="g"||He[$e].origin===1){for(Ge=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),St=0;St<Ge.length;St+=1)Ge[St].href.indexOf(He[$e].fPath)!==-1&&(nr=!1);if(nr){var pr=createTag("link");pr.setAttribute("f-forigin",He[$e].fOrigin),pr.setAttribute("f-origin",He[$e].origin),pr.type="text/css",pr.rel="stylesheet",pr.href=He[$e].fPath,document.body.appendChild(pr)}}else if(He[$e].fOrigin==="t"||He[$e].origin===2){for(Ge=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),St=0;St<Ge.length;St+=1)He[$e].fPath===Ge[St].src&&(nr=!1);if(nr){var vr=createTag("link");vr.setAttribute("f-forigin",He[$e].fOrigin),vr.setAttribute("f-origin",He[$e].origin),vr.setAttribute("rel","stylesheet"),vr.setAttribute("href",He[$e].fPath),ze.appendChild(vr)}}He[$e].helper=Ce(He[$e],ze),He[$e].cache={},this.fonts.push(He[$e])}Xe===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function De(Ve){if(!!Ve){this.chars||(this.chars=[]);var ze,He=Ve.length,$e,Ue=this.chars.length,Xe;for(ze=0;ze<He;ze+=1){for($e=0,Xe=!1;$e<Ue;)this.chars[$e].style===Ve[ze].style&&this.chars[$e].fFamily===Ve[ze].fFamily&&this.chars[$e].ch===Ve[ze].ch&&(Xe=!0),$e+=1;Xe||(this.chars.push(Ve[ze]),Ue+=1)}}}function ke(Ve,ze,He){for(var $e=0,Ue=this.chars.length;$e<Ue;){if(this.chars[$e].ch===Ve&&this.chars[$e].style===ze&&this.chars[$e].fFamily===He)return this.chars[$e];$e+=1}return(typeof Ve=="string"&&Ve.charCodeAt(0)!==13||!Ve)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ve,ze,He)),e}function Pe(Ve,ze,He){var $e=this.getFontByName(ze),Ue=Ve.charCodeAt(0);if(!$e.cache[Ue+1]){var Xe=$e.helper;if(Ve===" "){var nr=Xe.measureText("|"+Ve+"|"),Ge=Xe.measureText("||");$e.cache[Ue+1]=(nr-Ge)/100}else $e.cache[Ue+1]=Xe.measureText(Ve)/100}return $e.cache[Ue+1]*He}function xe(Ve){for(var ze=0,He=this.fonts.length;ze<He;){if(this.fonts[ze].fName===Ve)return this.fonts[ze];ze+=1}return this.fonts[0]}function Fe(Ve,ze){var He=Ve.toString(16)+ze.toString(16);return _e.indexOf(He)!==-1}function Ie(Ve,ze){return ze?Ve===Se[0]&&ze===Se[1]:Ve===Se[1]}function Me(Ve){return r.indexOf(Ve)!==-1}function Oe(){this.isLoaded=!0}var Be=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Be.isModifier=Fe,Be.isZeroWidthJoiner=Ie,Be.isCombinedCharacter=Me;var je={addChars:De,addFonts:Te,getCharData:ke,getFontByName:xe,measureText:Pe,checkLoadedFonts:Ee,setIsLoaded:Oe};return Be.prototype=je,Be}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,r=this.renderableComponents.length;for(e=0;e<r;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function t(r,_e){this._mask=r,this._data=_e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(_e){var Se=createSizedArray(_e.viewData.length),Ae,Re=_e.viewData.length;for(Ae=0;Ae<Re;Ae+=1)Se[Ae]=new t(_e.viewData[Ae],_e.masksProperties[Ae]);var Ee=function(Te){for(Ae=0;Ae<Re;){if(_e.masksProperties[Ae].nm===Te)return Se[Ae];Ae+=1}return null};return Ee};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(Re,Ee,Ce){Object.defineProperty(Re,"velocity",{get:function(){return Ee.getVelocityAtTime(Ee.comp.currentFrame)}}),Re.numKeys=Ee.keyframes?Ee.keyframes.length:0,Re.key=function(Te){if(!Re.numKeys)return 0;var De="";"s"in Ee.keyframes[Te-1]?De=Ee.keyframes[Te-1].s:"e"in Ee.keyframes[Te-2]?De=Ee.keyframes[Te-2].e:De=Ee.keyframes[Te-2].s;var ke=Ce==="unidimensional"?new Number(De):Object.assign({},De);return ke.time=Ee.keyframes[Te-1].t/Ee.elem.comp.globalData.frameRate,ke.value=Ce==="unidimensional"?De[0]:De,ke},Re.valueAtTime=Ee.getValueAtTime,Re.speedAtTime=Ee.getSpeedAtTime,Re.velocityAtTime=Ee.getVelocityAtTime,Re.propertyGroup=Ee.propertyGroup}function _e(Re){(!Re||!("pv"in Re))&&(Re=t);var Ee=1/Re.mult,Ce=Re.pv*Ee,Te=new Number(Ce);return Te.value=Ce,r(Te,Re,"unidimensional"),function(){return Re.k&&Re.getValue(),Ce=Re.v*Ee,Te.value!==Ce&&(Te=new Number(Ce),Te.value=Ce,r(Te,Re,"unidimensional")),Te}}function Se(Re){(!Re||!("pv"in Re))&&(Re=e);var Ee=1/Re.mult,Ce=Re.data&&Re.data.l||Re.pv.length,Te=createTypedArray("float32",Ce),De=createTypedArray("float32",Ce);return Te.value=De,r(Te,Re,"multidimensional"),function(){Re.k&&Re.getValue();for(var ke=0;ke<Ce;ke+=1)De[ke]=Re.v[ke]*Ee,Te[ke]=De[ke];return Te}}function Ae(){return t}return function(Re){return Re?Re.propType==="unidimensional"?_e(Re):Se(Re):Ae}}(),TransformExpressionInterface=function(){return function(t){function e(Re){switch(Re){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)});var r,_e,Se,Ae;return t.p?Ae=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),_e=ExpressionPropertyInterface(t.py),t.pz&&(Se=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?Ae():[r(),_e(),Se?Se():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(Te){var De=new Matrix;if(Te!==void 0){var ke=this._elem.finalTransform.mProp.getValueAtTime(Te);ke.clone(De)}else{var Pe=this._elem.finalTransform.mProp;Pe.applyToMatrix(De)}return De}function e(Te,De){var ke=this.getMatrix(De);return ke.props[12]=0,ke.props[13]=0,ke.props[14]=0,this.applyPoint(ke,Te)}function r(Te,De){var ke=this.getMatrix(De);return this.applyPoint(ke,Te)}function _e(Te,De){var ke=this.getMatrix(De);return ke.props[12]=0,ke.props[13]=0,ke.props[14]=0,this.invertPoint(ke,Te)}function Se(Te,De){var ke=this.getMatrix(De);return this.invertPoint(ke,Te)}function Ae(Te,De){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ke,Pe=this._elem.hierarchy.length;for(ke=0;ke<Pe;ke+=1)this._elem.hierarchy[ke].finalTransform.mProp.applyToMatrix(Te)}return Te.applyToPointArray(De[0],De[1],De[2]||0)}function Re(Te,De){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ke,Pe=this._elem.hierarchy.length;for(ke=0;ke<Pe;ke+=1)this._elem.hierarchy[ke].finalTransform.mProp.applyToMatrix(Te)}return Te.inversePoint(De)}function Ee(Te){var De=new Matrix;if(De.reset(),this._elem.finalTransform.mProp.applyToMatrix(De),this._elem.hierarchy&&this._elem.hierarchy.length){var ke,Pe=this._elem.hierarchy.length;for(ke=0;ke<Pe;ke+=1)this._elem.hierarchy[ke].finalTransform.mProp.applyToMatrix(De);return De.inversePoint(Te)}return De.inversePoint(Te)}function Ce(){return[1,1,1,1]}return function(Te){var De;function ke(Ie){xe.mask=new MaskManagerInterface(Ie,Te)}function Pe(Ie){xe.effect=Ie}function xe(Ie){switch(Ie){case"ADBE Root Vectors Group":case"Contents":case 2:return xe.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return De;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return xe.effect;case"ADBE Text Properties":return xe.textInterface;default:return null}}xe.getMatrix=t,xe.invertPoint=Re,xe.applyPoint=Ae,xe.toWorld=r,xe.toWorldVec=e,xe.fromWorld=Se,xe.fromWorldVec=_e,xe.toComp=r,xe.fromComp=Ee,xe.sampleImage=Ce,xe.sourceRectAtTime=Te.sourceRectAtTime.bind(Te),xe._elem=Te,De=TransformExpressionInterface(Te.finalTransform.mProp);var Fe=getDescriptor(De,"anchorPoint");return Object.defineProperties(xe,{hasParent:{get:function(){return Te.hierarchy.length}},parent:{get:function(){return Te.hierarchy[0].layerInterface}},rotation:getDescriptor(De,"rotation"),scale:getDescriptor(De,"scale"),position:getDescriptor(De,"position"),opacity:getDescriptor(De,"opacity"),anchorPoint:Fe,anchor_point:Fe,transform:{get:function(){return De}},active:{get:function(){return Te.isInRange}}}),xe.startTime=Te.data.st,xe.index=Te.data.ind,xe.source=Te.data.refId,xe.height=Te.data.ty===0?Te.data.h:100,xe.width=Te.data.ty===0?Te.data.w:100,xe.inPoint=Te.data.ip/Te.comp.globalData.frameRate,xe.outPoint=Te.data.op/Te.comp.globalData.frameRate,xe._name=Te.data.nm,xe.registerMaskInterface=ke,xe.registerEffectsInterface=Pe,xe}}(),propertyGroupFactory=function(){return function(t,e){return function(r){return r=r===void 0?1:r,r<=0?t:e(r-1)}}}(),PropertyInterface=function(){return function(t,e){var r={_name:t};function _e(Se){return Se=Se===void 0?1:Se,Se<=0?r:e(Se-1)}return _e}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(Se,Ae){if(Se.effectsManager){var Re=[],Ee=Se.data.ef,Ce,Te=Se.effectsManager.effectElements.length;for(Ce=0;Ce<Te;Ce+=1)Re.push(r(Ee[Ce],Se.effectsManager.effectElements[Ce],Ae,Se));var De=Se.data.ef||[],ke=function(xe){for(Ce=0,Te=De.length;Ce<Te;){if(xe===De[Ce].nm||xe===De[Ce].mn||xe===De[Ce].ix)return Re[Ce];Ce+=1}return null};return Object.defineProperty(ke,"numProperties",{get:function(){return De.length}}),ke}return null}function r(Se,Ae,Re,Ee){function Ce(xe){for(var Fe=Se.ef,Ie=0,Me=Fe.length;Ie<Me;){if(xe===Fe[Ie].nm||xe===Fe[Ie].mn||xe===Fe[Ie].ix)return Fe[Ie].ty===5?De[Ie]:De[Ie]();Ie+=1}throw new Error}var Te=propertyGroupFactory(Ce,Re),De=[],ke,Pe=Se.ef.length;for(ke=0;ke<Pe;ke+=1)Se.ef[ke].ty===5?De.push(r(Se.ef[ke],Ae.effectElements[ke],Ae.effectElements[ke].propertyGroup,Ee)):De.push(_e(Ae.effectElements[ke],Se.ef[ke].ty,Ee,Te));return Se.mn==="ADBE Color Control"&&Object.defineProperty(Ce,"color",{get:function(){return De[0]()}}),Object.defineProperties(Ce,{numProperties:{get:function(){return Se.np}},_name:{value:Se.nm},propertyGroup:{value:Te}}),Ce.enabled=Se.en!==0,Ce.active=Ce.enabled,Ce}function _e(Se,Ae,Re,Ee){var Ce=ExpressionPropertyInterface(Se.p);function Te(){return Ae===10?Re.comp.compInterface(Se.p.v):Ce()}return Se.p.setGroupProperty&&Se.p.setGroupProperty(PropertyInterface("",Ee)),Te}return t}(),CompExpressionInterface=function(){return function(t){function e(r){for(var _e=0,Se=t.layers.length;_e<Se;){if(t.layers[_e].nm===r||t.layers[_e].ind===r)return t.elements[_e].layerInterface;_e+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}(),ShapePathInterface=function(){return function(e,r,_e){var Se=r.sh;function Ae(Ee){return Ee==="Shape"||Ee==="shape"||Ee==="Path"||Ee==="path"||Ee==="ADBE Vector Shape"||Ee===2?Ae.path:null}var Re=propertyGroupFactory(Ae,_e);return Se.setGroupProperty(PropertyInterface("Path",Re)),Object.defineProperties(Ae,{path:{get:function(){return Se.k&&Se.getValue(),Se}},shape:{get:function(){return Se.k&&Se.getValue(),Se}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:_e}}),Ae}}(),ShapeExpressionInterface=function(){function t(Fe,Ie,Me){var Oe=[],Be,je=Fe?Fe.length:0;for(Be=0;Be<je;Be+=1)Fe[Be].ty==="gr"?Oe.push(r(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="fl"?Oe.push(_e(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="st"?Oe.push(Re(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="tm"?Oe.push(Ee(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="tr"||(Fe[Be].ty==="el"?Oe.push(Te(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="sr"?Oe.push(De(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="sh"?Oe.push(ShapePathInterface(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="rc"?Oe.push(ke(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="rd"?Oe.push(Pe(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="rp"?Oe.push(xe(Fe[Be],Ie[Be],Me)):Fe[Be].ty==="gf"?Oe.push(Se(Fe[Be],Ie[Be],Me)):Oe.push(Ae(Fe[Be],Ie[Be])));return Oe}function e(Fe,Ie,Me){var Oe,Be=function(ze){for(var He=0,$e=Oe.length;He<$e;){if(Oe[He]._name===ze||Oe[He].mn===ze||Oe[He].propertyIndex===ze||Oe[He].ix===ze||Oe[He].ind===ze)return Oe[He];He+=1}return typeof ze=="number"?Oe[ze-1]:null};Be.propertyGroup=propertyGroupFactory(Be,Me),Oe=t(Fe.it,Ie.it,Be.propertyGroup),Be.numProperties=Oe.length;var je=Ce(Fe.it[Fe.it.length-1],Ie.it[Ie.it.length-1],Be.propertyGroup);return Be.transform=je,Be.propertyIndex=Fe.cix,Be._name=Fe.nm,Be}function r(Fe,Ie,Me){var Oe=function(ze){switch(ze){case"ADBE Vectors Group":case"Contents":case 2:return Oe.content;default:return Oe.transform}};Oe.propertyGroup=propertyGroupFactory(Oe,Me);var Be=e(Fe,Ie,Oe.propertyGroup),je=Ce(Fe.it[Fe.it.length-1],Ie.it[Ie.it.length-1],Oe.propertyGroup);return Oe.content=Be,Oe.transform=je,Object.defineProperty(Oe,"_name",{get:function(){return Fe.nm}}),Oe.numProperties=Fe.np,Oe.propertyIndex=Fe.ix,Oe.nm=Fe.nm,Oe.mn=Fe.mn,Oe}function _e(Fe,Ie,Me){function Oe(Be){return Be==="Color"||Be==="color"?Oe.color:Be==="Opacity"||Be==="opacity"?Oe.opacity:null}return Object.defineProperties(Oe,{color:{get:ExpressionPropertyInterface(Ie.c)},opacity:{get:ExpressionPropertyInterface(Ie.o)},_name:{value:Fe.nm},mn:{value:Fe.mn}}),Ie.c.setGroupProperty(PropertyInterface("Color",Me)),Ie.o.setGroupProperty(PropertyInterface("Opacity",Me)),Oe}function Se(Fe,Ie,Me){function Oe(Be){return Be==="Start Point"||Be==="start point"?Oe.startPoint:Be==="End Point"||Be==="end point"?Oe.endPoint:Be==="Opacity"||Be==="opacity"?Oe.opacity:null}return Object.defineProperties(Oe,{startPoint:{get:ExpressionPropertyInterface(Ie.s)},endPoint:{get:ExpressionPropertyInterface(Ie.e)},opacity:{get:ExpressionPropertyInterface(Ie.o)},type:{get:function(){return"a"}},_name:{value:Fe.nm},mn:{value:Fe.mn}}),Ie.s.setGroupProperty(PropertyInterface("Start Point",Me)),Ie.e.setGroupProperty(PropertyInterface("End Point",Me)),Ie.o.setGroupProperty(PropertyInterface("Opacity",Me)),Oe}function Ae(){function Fe(){return null}return Fe}function Re(Fe,Ie,Me){var Oe=propertyGroupFactory($e,Me),Be=propertyGroupFactory(He,Oe);function je(Ue){Object.defineProperty(He,Fe.d[Ue].nm,{get:ExpressionPropertyInterface(Ie.d.dataProps[Ue].p)})}var Ve,ze=Fe.d?Fe.d.length:0,He={};for(Ve=0;Ve<ze;Ve+=1)je(Ve),Ie.d.dataProps[Ve].p.setGroupProperty(Be);function $e(Ue){return Ue==="Color"||Ue==="color"?$e.color:Ue==="Opacity"||Ue==="opacity"?$e.opacity:Ue==="Stroke Width"||Ue==="stroke width"?$e.strokeWidth:null}return Object.defineProperties($e,{color:{get:ExpressionPropertyInterface(Ie.c)},opacity:{get:ExpressionPropertyInterface(Ie.o)},strokeWidth:{get:ExpressionPropertyInterface(Ie.w)},dash:{get:function(){return He}},_name:{value:Fe.nm},mn:{value:Fe.mn}}),Ie.c.setGroupProperty(PropertyInterface("Color",Oe)),Ie.o.setGroupProperty(PropertyInterface("Opacity",Oe)),Ie.w.setGroupProperty(PropertyInterface("Stroke Width",Oe)),$e}function Ee(Fe,Ie,Me){function Oe(je){return je===Fe.e.ix||je==="End"||je==="end"?Oe.end:je===Fe.s.ix?Oe.start:je===Fe.o.ix?Oe.offset:null}var Be=propertyGroupFactory(Oe,Me);return Oe.propertyIndex=Fe.ix,Ie.s.setGroupProperty(PropertyInterface("Start",Be)),Ie.e.setGroupProperty(PropertyInterface("End",Be)),Ie.o.setGroupProperty(PropertyInterface("Offset",Be)),Oe.propertyIndex=Fe.ix,Oe.propertyGroup=Me,Object.defineProperties(Oe,{start:{get:ExpressionPropertyInterface(Ie.s)},end:{get:ExpressionPropertyInterface(Ie.e)},offset:{get:ExpressionPropertyInterface(Ie.o)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function Ce(Fe,Ie,Me){function Oe(je){return Fe.a.ix===je||je==="Anchor Point"?Oe.anchorPoint:Fe.o.ix===je||je==="Opacity"?Oe.opacity:Fe.p.ix===je||je==="Position"?Oe.position:Fe.r.ix===je||je==="Rotation"||je==="ADBE Vector Rotation"?Oe.rotation:Fe.s.ix===je||je==="Scale"?Oe.scale:Fe.sk&&Fe.sk.ix===je||je==="Skew"?Oe.skew:Fe.sa&&Fe.sa.ix===je||je==="Skew Axis"?Oe.skewAxis:null}var Be=propertyGroupFactory(Oe,Me);return Ie.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Be)),Ie.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Be)),Ie.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Be)),Ie.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Be)),Ie.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Be)),Ie.transform.mProps.sk&&(Ie.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Be)),Ie.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Be))),Ie.transform.op.setGroupProperty(PropertyInterface("Opacity",Be)),Object.defineProperties(Oe,{opacity:{get:ExpressionPropertyInterface(Ie.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ie.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ie.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ie.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ie.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ie.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ie.transform.mProps.sa)},_name:{value:Fe.nm}}),Oe.ty="tr",Oe.mn=Fe.mn,Oe.propertyGroup=Me,Oe}function Te(Fe,Ie,Me){function Oe(Ve){return Fe.p.ix===Ve?Oe.position:Fe.s.ix===Ve?Oe.size:null}var Be=propertyGroupFactory(Oe,Me);Oe.propertyIndex=Fe.ix;var je=Ie.sh.ty==="tm"?Ie.sh.prop:Ie.sh;return je.s.setGroupProperty(PropertyInterface("Size",Be)),je.p.setGroupProperty(PropertyInterface("Position",Be)),Object.defineProperties(Oe,{size:{get:ExpressionPropertyInterface(je.s)},position:{get:ExpressionPropertyInterface(je.p)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function De(Fe,Ie,Me){function Oe(Ve){return Fe.p.ix===Ve?Oe.position:Fe.r.ix===Ve?Oe.rotation:Fe.pt.ix===Ve?Oe.points:Fe.or.ix===Ve||Ve==="ADBE Vector Star Outer Radius"?Oe.outerRadius:Fe.os.ix===Ve?Oe.outerRoundness:Fe.ir&&(Fe.ir.ix===Ve||Ve==="ADBE Vector Star Inner Radius")?Oe.innerRadius:Fe.is&&Fe.is.ix===Ve?Oe.innerRoundness:null}var Be=propertyGroupFactory(Oe,Me),je=Ie.sh.ty==="tm"?Ie.sh.prop:Ie.sh;return Oe.propertyIndex=Fe.ix,je.or.setGroupProperty(PropertyInterface("Outer Radius",Be)),je.os.setGroupProperty(PropertyInterface("Outer Roundness",Be)),je.pt.setGroupProperty(PropertyInterface("Points",Be)),je.p.setGroupProperty(PropertyInterface("Position",Be)),je.r.setGroupProperty(PropertyInterface("Rotation",Be)),Fe.ir&&(je.ir.setGroupProperty(PropertyInterface("Inner Radius",Be)),je.is.setGroupProperty(PropertyInterface("Inner Roundness",Be))),Object.defineProperties(Oe,{position:{get:ExpressionPropertyInterface(je.p)},rotation:{get:ExpressionPropertyInterface(je.r)},points:{get:ExpressionPropertyInterface(je.pt)},outerRadius:{get:ExpressionPropertyInterface(je.or)},outerRoundness:{get:ExpressionPropertyInterface(je.os)},innerRadius:{get:ExpressionPropertyInterface(je.ir)},innerRoundness:{get:ExpressionPropertyInterface(je.is)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function ke(Fe,Ie,Me){function Oe(Ve){return Fe.p.ix===Ve?Oe.position:Fe.r.ix===Ve?Oe.roundness:Fe.s.ix===Ve||Ve==="Size"||Ve==="ADBE Vector Rect Size"?Oe.size:null}var Be=propertyGroupFactory(Oe,Me),je=Ie.sh.ty==="tm"?Ie.sh.prop:Ie.sh;return Oe.propertyIndex=Fe.ix,je.p.setGroupProperty(PropertyInterface("Position",Be)),je.s.setGroupProperty(PropertyInterface("Size",Be)),je.r.setGroupProperty(PropertyInterface("Rotation",Be)),Object.defineProperties(Oe,{position:{get:ExpressionPropertyInterface(je.p)},roundness:{get:ExpressionPropertyInterface(je.r)},size:{get:ExpressionPropertyInterface(je.s)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function Pe(Fe,Ie,Me){function Oe(Ve){return Fe.r.ix===Ve||Ve==="Round Corners 1"?Oe.radius:null}var Be=propertyGroupFactory(Oe,Me),je=Ie;return Oe.propertyIndex=Fe.ix,je.rd.setGroupProperty(PropertyInterface("Radius",Be)),Object.defineProperties(Oe,{radius:{get:ExpressionPropertyInterface(je.rd)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}function xe(Fe,Ie,Me){function Oe(Ve){return Fe.c.ix===Ve||Ve==="Copies"?Oe.copies:Fe.o.ix===Ve||Ve==="Offset"?Oe.offset:null}var Be=propertyGroupFactory(Oe,Me),je=Ie;return Oe.propertyIndex=Fe.ix,je.c.setGroupProperty(PropertyInterface("Copies",Be)),je.o.setGroupProperty(PropertyInterface("Offset",Be)),Object.defineProperties(Oe,{copies:{get:ExpressionPropertyInterface(je.c)},offset:{get:ExpressionPropertyInterface(je.o)},_name:{value:Fe.nm}}),Oe.mn=Fe.mn,Oe}return function(Fe,Ie,Me){var Oe;function Be(Ve){if(typeof Ve=="number")return Ve=Ve===void 0?1:Ve,Ve===0?Me:Oe[Ve-1];for(var ze=0,He=Oe.length;ze<He;){if(Oe[ze]._name===Ve)return Oe[ze];ze+=1}return null}function je(){return Me}return Be.propertyGroup=propertyGroupFactory(Be,je),Oe=t(Fe,Ie,Be.propertyGroup),Be.numProperties=Oe.length,Be._name="Contents",Be}}(),TextExpressionInterface=function(){return function(t){var e,r;function _e(Se){switch(Se){case"ADBE Text Document":return _e.sourceText;default:return null}}return Object.defineProperty(_e,"sourceText",{get:function(){t.textProperty.getValue();var Ae=t.textProperty.currentData.t;return Ae!==e&&(t.textProperty.currentData.t=e,r=new String(Ae),r.value=Ae||new String(Ae)),r}}),_e}}(),getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r=t.ef||[];this.effectElements=[];var _e,Se=r.length,Ae;for(_e=0;_e<Se;_e+=1)Ae=new GroupEffect(r[_e],e),this.effectElements.push(Ae)}function GroupEffect(t,e){this.init(t,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,_e=this.data.ef.length,Se,Ae=this.data.ef;for(r=0;r<_e;r+=1){switch(Se=null,Ae[r].ty){case 0:Se=new SliderEffect(Ae[r],e,this);break;case 1:Se=new AngleEffect(Ae[r],e,this);break;case 2:Se=new ColorEffect(Ae[r],e,this);break;case 3:Se=new PointEffect(Ae[r],e,this);break;case 4:case 7:Se=new CheckboxEffect(Ae[r],e,this);break;case 10:Se=new LayerIndexEffect(Ae[r],e,this);break;case 11:Se=new MaskIndexEffect(Ae[r],e,this);break;case 5:Se=new EffectsManager(Ae[r],e);break;default:Se=new NoValueEffect(Ae[r]);break}Se&&this.effectElements.push(Se)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,r=this.data.masksProperties.length;e<r;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm),r=this.baseElement||this.layerElement;r.style["mix-blend-mode"]=e},initBaseData:function(e,r,_e){this.globalData=r,this.comp=_e,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,r){var _e,Se=this.dynamicProperties.length;for(_e=0;_e<Se;_e+=1)(r||this._isParent&&this.dynamicProperties[_e].propType==="transform")&&(this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function _typeof$2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(r){return typeof r}:_typeof$2=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$2(t)}var FootageInterface=function(){var t=function(_e){var Se="",Ae=_e.getFootageData();function Re(){return Se="",Ae=_e.getFootageData(),Ee}function Ee(Ce){if(Ae[Ce])return Se=Ce,Ae=Ae[Ce],_typeof$2(Ae)==="object"?Ee:Ae;var Te=Ce.indexOf(Se);if(Te!==-1){var De=parseInt(Ce.substr(Te+Se.length),10);return Ae=Ae[De],_typeof$2(Ae)==="object"?Ee:Ae}return""}return Re},e=function(_e){function Se(Ae){return Ae==="Outline"?Se.outlineInterface():null}return Se._name="Outline",Se.outlineInterface=t(_e),Se};return function(r){function _e(Se){return Se==="Data"?_e.dataInterface:null}return _e._name="Data",_e.dataInterface=e(r),_e}}();function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var _e=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(_e),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var e,r=this.layers.length,_e;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)this.elements[e]||(_e=this.layers[e],_e.ip-_e.st<=t-this.layers[e].st&&_e.op-_e.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var e,r=t.length,_e,Se=this.layers.length;for(e=0;e<r;e+=1)for(_e=0;_e<Se;){if(this.layers[_e].id===t[e].id){this.layers[_e]=t[e];break}_e+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var _e=this.elements,Se=this.layers,Ae=0,Re=Se.length;Ae<Re;)Se[Ae].ind==e&&(!_e[Ae]||_e[Ae]===!0?(this.buildItem(Ae),this.addPendingElement(t)):(r.push(_e[Ae]),_e[Ae].setAsParent(),Se[Ae].parent!==void 0?this.buildElementParenting(t,Se[Ae].parent,r):t.setHierarchy(r))),Ae+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var _e=this.createComp(t[e]);_e.initExpressions(),this.globalData.projectInterface.registerComposition(_e)}},BaseRenderer.prototype.getElementByPath=function(t){var e=t.shift(),r;if(typeof e=="number")r=this.elements[e];else{var _e,Se=this.elements.length;for(_e=0;_e<Se;_e+=1)if(this.elements[_e].data.nm===e){r=this.elements[_e];break}}return t.length===0?r:r.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,r=this.finalTransform.mat,_e=0,Se=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;_e<Se;){if(this.hierarchy[_e].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}_e+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,r.cloneFromProps(e),_e=0;_e<Se;_e+=1)e=this.hierarchy[_e].finalTransform.mProp.v.props,r.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var r=[];r.push(this.finalTransform);for(var _e=!0,Se=this.comp;_e;)Se.finalTransform?(Se.data.hasMask&&r.splice(0,0,Se.finalTransform),Se=Se.comp):_e=!1;var Ae,Re=r.length,Ee;for(Ae=0;Ae<Re;Ae+=1)Ee=r[Ae].mat.applyToPointArray(0,0,0),e=[e[0]-Ee[0],e[1]-Ee[1],0];return e},mHelper:new Matrix};function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _e=this.globalData.defs,Se,Ae=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Ae),this.solidPath="";var Re,Ee=this.masksProperties,Ce=0,Te=[],De,ke,Pe=createElementID(),xe,Fe,Ie,Me,Oe="clipPath",Be="clip-path";for(Se=0;Se<Ae;Se+=1)if((Ee[Se].mode!=="a"&&Ee[Se].mode!=="n"||Ee[Se].inv||Ee[Se].o.k!==100||Ee[Se].o.x)&&(Oe="mask",Be="mask"),(Ee[Se].mode==="s"||Ee[Se].mode==="i")&&Ce===0?(xe=createNS("rect"),xe.setAttribute("fill","#ffffff"),xe.setAttribute("width",this.element.comp.data.w||0),xe.setAttribute("height",this.element.comp.data.h||0),Te.push(xe)):xe=null,Re=createNS("path"),Ee[Se].mode==="n")this.viewData[Se]={op:PropertyFactory.getProp(this.element,Ee[Se].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ee[Se],3),elem:Re,lastPath:""},_e.appendChild(Re);else{Ce+=1,Re.setAttribute("fill",Ee[Se].mode==="s"?"#000000":"#ffffff"),Re.setAttribute("clip-rule","nonzero");var je;if(Ee[Se].x.k!==0?(Oe="mask",Be="mask",Me=PropertyFactory.getProp(this.element,Ee[Se].x,0,null,this.element),je=createElementID(),Fe=createNS("filter"),Fe.setAttribute("id",je),Ie=createNS("feMorphology"),Ie.setAttribute("operator","erode"),Ie.setAttribute("in","SourceGraphic"),Ie.setAttribute("radius","0"),Fe.appendChild(Ie),_e.appendChild(Fe),Re.setAttribute("stroke",Ee[Se].mode==="s"?"#000000":"#ffffff")):(Ie=null,Me=null),this.storedData[Se]={elem:Re,x:Me,expan:Ie,lastPath:"",lastOperator:"",filterId:je,lastRadius:0},Ee[Se].mode==="i"){ke=Te.length;var Ve=createNS("g");for(De=0;De<ke;De+=1)Ve.appendChild(Te[De]);var ze=createNS("mask");ze.setAttribute("mask-type","alpha"),ze.setAttribute("id",Pe+"_"+Ce),ze.appendChild(Re),_e.appendChild(ze),Ve.setAttribute("mask","url("+getLocationHref()+"#"+Pe+"_"+Ce+")"),Te.length=0,Te.push(Ve)}else Te.push(Re);Ee[Se].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Se]={elem:Re,lastPath:"",op:PropertyFactory.getProp(this.element,Ee[Se].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ee[Se],3),invRect:xe},this.viewData[Se].prop.k||this.drawPath(Ee[Se],this.viewData[Se].prop.v,this.viewData[Se])}for(this.maskElement=createNS(Oe),Ae=Te.length,Se=0;Se<Ae;Se+=1)this.maskElement.appendChild(Te[Se]);Ce>0&&(this.maskElement.setAttribute("id",Pe),this.element.maskedElement.setAttribute(Be,"url("+getLocationHref()+"#"+Pe+")"),_e.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e=this.element.finalTransform.mat,r,_e=this.masksProperties.length;for(r=0;r<_e;r+=1)if((this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),this.masksProperties[r].mode!=="n"&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t))){var Se=this.storedData[r].expan;this.storedData[r].x.v<0?(this.storedData[r].lastOperator!=="erode"&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[r].filterId+")")),Se.setAttribute("radius",-this.storedData[r].x.v)):(this.storedData[r].lastOperator!=="dilate"&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",this.storedData[r].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,r){var _e=" M"+e.v[0][0]+","+e.v[0][1],Se,Ae;for(Ae=e._length,Se=1;Se<Ae;Se+=1)_e+=" C"+e.o[Se-1][0]+","+e.o[Se-1][1]+" "+e.i[Se][0]+","+e.i[Se][1]+" "+e.v[Se][0]+","+e.v[Se][1];if(e.c&&Ae>1&&(_e+=" C"+e.o[Se-1][0]+","+e.o[Se-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==_e){var Re="";r.elem&&(e.c&&(Re=t.inv?this.solidPath+_e:_e),r.elem.setAttribute("d",Re)),r.lastPath=_e}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=e,t.createAlphaToLuminanceFilter=r;function e(_e,Se){var Ae=createNS("filter");return Ae.setAttribute("id",_e),Se!==!0&&(Ae.setAttribute("filterUnits","objectBoundingBox"),Ae.setAttribute("x","0%"),Ae.setAttribute("y","0%"),Ae.setAttribute("width","100%"),Ae.setAttribute("height","100%")),Ae}function r(){var _e=createNS("feColorMatrix");return _e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_e}return t}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(t){var e,r="SourceGraphic",_e=t.data.ef?t.data.ef.length:0,Se=createElementID(),Ae=filtersFactory.createFilter(Se,!0),Re=0;this.filters=[];var Ee;for(e=0;e<_e;e+=1){Ee=null;var Ce=t.data.ef[e].ty;if(registeredEffects[Ce]){var Te=registeredEffects[Ce].effect;Ee=new Te(Ae,t.effectsManager.effectElements[e],t,idPrefix+Re,r),r=idPrefix+Re,registeredEffects[Ce].countsAsEffect&&(Re+=1)}Ee&&this.filters.push(Ee)}Re&&(t.globalData.defs.appendChild(Ae),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Se+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)};function registerEffect(t,e,r){registeredEffects[t]={effect:e,countsAsEffect:r}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null,r,_e,Se;if(this.data.td){if(this.data.td==3||this.data.td==1){var Ae=createNS("mask");Ae.setAttribute("id",this.layerId),Ae.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),Ae.appendChild(this.layerElement),e=Ae,this.globalData.defs.appendChild(Ae),!featureSupport.maskType&&this.data.td==1&&(Ae.setAttribute("mask-type","luminance"),r=createElementID(),_e=filtersFactory.createFilter(r),this.globalData.defs.appendChild(_e),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Se=createNS("g"),Se.appendChild(this.layerElement),e=Se,Ae.appendChild(Se),Se.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(this.data.td==2){var Re=createNS("mask");Re.setAttribute("id",this.layerId),Re.setAttribute("mask-type","alpha");var Ee=createNS("g");Re.appendChild(Ee),r=createElementID(),_e=filtersFactory.createFilter(r);var Ce=createNS("feComponentTransfer");Ce.setAttribute("in","SourceGraphic"),_e.appendChild(Ce);var Te=createNS("feFuncA");Te.setAttribute("type","table"),Te.setAttribute("tableValues","1.0 0.0"),Ce.appendChild(Te),this.globalData.defs.appendChild(_e);var De=createNS("rect");De.setAttribute("width",this.comp.data.w),De.setAttribute("height",this.comp.data.h),De.setAttribute("x","0"),De.setAttribute("y","0"),De.setAttribute("fill","#ffffff"),De.setAttribute("opacity","0"),Ee.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),Ee.appendChild(De),Ee.appendChild(this.layerElement),e=Ee,featureSupport.maskType||(Re.setAttribute("mask-type","luminance"),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Se=createNS("g"),Ee.appendChild(De),Se.appendChild(this.layerElement),e=Se,Ee.appendChild(Se)),this.globalData.defs.appendChild(Re)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ke=createNS("clipPath"),Pe=createNS("path");Pe.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var xe=createElementID();if(ke.setAttribute("id",xe),ke.appendChild(Pe),this.globalData.defs.appendChild(ke),this.checkMasks()){var Fe=createNS("g");Fe.setAttribute("clip-path","url("+getLocationHref()+"#"+xe+")"),Fe.appendChild(this.layerElement),this.transformedElement=Fe,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+xe+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(r,_e,Se){this.initFrame(),this.initBaseData(r,_e,Se),this.initTransform(r,_e,Se),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var r=this.baseElement||this.layerElement;r.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var r=this.baseElement||this.layerElement;r.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var r,_e=this.shapeModifiers.length;for(r=0;r<_e;r+=1)this.shapeModifiers[r].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var r=0,_e=this.shapeModifiers.length;r<_e;)if(this.shapeModifiers[r].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var e,r=this.shapes.length;for(e=0;e<r;e+=1)this.shapes[e].sh.reset();r=this.shapeModifiers.length;var _e;for(e=r-1;e>=0&&(_e=this.shapeModifiers[e].processShapes(this._isFirstFrame),!_e);e-=1);}},searchProcessedElement:function(e){for(var r=this.processedElements,_e=0,Se=r.length;_e<Se;){if(r[_e].elem===e)return r[_e].pos;_e+=1}return 0},addProcessedElement:function(e,r){for(var _e=this.processedElements,Se=_e.length;Se;)if(Se-=1,_e[Se].elem===e){_e[Se].pos=r;return}_e.push(new ProcessedElement(e,r))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var _e=0,Se=t.length;_e<Se;){if(t[_e].mProps.dynamicProperties.length){this._isAnimated=!0;break}_e+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,e,r,_e){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(_e);var Se,Ae=e.length||0,Re;for(Se=0;Se<Ae;Se+=1)Re=PropertyFactory.getProp(t,e[Se].v,0,0,this),this.k=Re.k||this.k,this.dataProps[Se]={n:e[Se].n,p:Re};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<r;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var _e=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",_e),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=_e,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,_e=this.o.length/2,Se;r<_e;){if(Se=Math.abs(t[r*4]-t[e*4+r*2]),Se>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r=this.data.p*4,_e,Se;for(e=0;e<r;e+=1)_e=e%4===0?100:255,Se=Math.round(this.prop.v[e]*_e),this.c[e]!==Se&&(this.c[e]=Se,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=this.data.p*4;e<r;e+=1)_e=e%2===0?100:1,Se=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==Se&&(this.o[e-this.data.p*4]=Se,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),_e=createNS(e.t===1?"linearGradient":"radialGradient");_e.setAttribute("id",r),_e.setAttribute("spreadMethod","pad"),_e.setAttribute("gradientUnits","userSpaceOnUse");var Se=[],Ae,Re,Ee;for(Ee=e.g.p*4,Re=0;Re<Ee;Re+=4)Ae=createNS("stop"),_e.appendChild(Ae),Se.push(Ae);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=_e,this.cst=Se},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,_e,Se,Ae=createNS("mask"),Re=createNS("path");Ae.appendChild(Re);var Ee=createElementID(),Ce=createElementID();Ae.setAttribute("id",Ce);var Te=createNS(t.t===1?"linearGradient":"radialGradient");Te.setAttribute("id",Ee),Te.setAttribute("spreadMethod","pad"),Te.setAttribute("gradientUnits","userSpaceOnUse"),Se=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var De=this.stops;for(_e=t.g.p*4;_e<Se;_e+=2)r=createNS("stop"),r.setAttribute("stop-color","rgb(255,255,255)"),Te.appendChild(r),De.push(r);Re.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ee+")"),t.ty==="gs"&&(Re.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),Re.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&Re.setAttribute("stroke-miterlimit",t.ml)),this.of=Te,this.ms=Ae,this.ost=De,this.maskId=Ce,e.msElem=Re}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,r,_e,Se){if(r===0)return"";var Ae=e.o,Re=e.i,Ee=e.v,Ce,Te=" M"+Se.applyToPointStringified(Ee[0][0],Ee[0][1]);for(Ce=1;Ce<r;Ce+=1)Te+=" C"+Se.applyToPointStringified(Ae[Ce-1][0],Ae[Ce-1][1])+" "+Se.applyToPointStringified(Re[Ce][0],Re[Ce][1])+" "+Se.applyToPointStringified(Ee[Ce][0],Ee[Ce][1]);return _e&&r&&(Te+=" C"+Se.applyToPointStringified(Ae[Ce-1][0],Ae[Ce-1][1])+" "+Se.applyToPointStringified(Re[0][0],Re[0][1])+" "+Se.applyToPointStringified(Ee[0][0],Ee[0][1]),Te+="z"),Te},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,r={createRenderFunction:_e};function _e(ke){switch(ke.ty){case"fl":return Ee;case"gf":return Te;case"gs":return Ce;case"st":return De;case"sh":case"el":case"rc":case"sr":return Re;case"tr":return Se;case"no":return Ae;default:return null}}function Se(ke,Pe,xe){(xe||Pe.transform.op._mdf)&&Pe.transform.container.setAttribute("opacity",Pe.transform.op.v),(xe||Pe.transform.mProps._mdf)&&Pe.transform.container.setAttribute("transform",Pe.transform.mProps.v.to2dCSS())}function Ae(){}function Re(ke,Pe,xe){var Fe,Ie,Me,Oe,Be,je,Ve=Pe.styles.length,ze=Pe.lvl,He,$e,Ue,Xe,nr;for(je=0;je<Ve;je+=1){if(Oe=Pe.sh._mdf||xe,Pe.styles[je].lvl<ze){for($e=e.reset(),Xe=ze-Pe.styles[je].lvl,nr=Pe.transformers.length-1;!Oe&&Xe>0;)Oe=Pe.transformers[nr].mProps._mdf||Oe,Xe-=1,nr-=1;if(Oe)for(Xe=ze-Pe.styles[je].lvl,nr=Pe.transformers.length-1;Xe>0;)Ue=Pe.transformers[nr].mProps.v.props,$e.transform(Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],Ue[7],Ue[8],Ue[9],Ue[10],Ue[11],Ue[12],Ue[13],Ue[14],Ue[15]),Xe-=1,nr-=1}else $e=t;if(He=Pe.sh.paths,Ie=He._length,Oe){for(Me="",Fe=0;Fe<Ie;Fe+=1)Be=He.shapes[Fe],Be&&Be._length&&(Me+=buildShapeString(Be,Be._length,Be.c,$e));Pe.caches[je]=Me}else Me=Pe.caches[je];Pe.styles[je].d+=ke.hd===!0?"":Me,Pe.styles[je]._mdf=Oe||Pe.styles[je]._mdf}}function Ee(ke,Pe,xe){var Fe=Pe.style;(Pe.c._mdf||xe)&&Fe.pElem.setAttribute("fill","rgb("+bmFloor(Pe.c.v[0])+","+bmFloor(Pe.c.v[1])+","+bmFloor(Pe.c.v[2])+")"),(Pe.o._mdf||xe)&&Fe.pElem.setAttribute("fill-opacity",Pe.o.v)}function Ce(ke,Pe,xe){Te(ke,Pe,xe),De(ke,Pe,xe)}function Te(ke,Pe,xe){var Fe=Pe.gf,Ie=Pe.g._hasOpacity,Me=Pe.s.v,Oe=Pe.e.v;if(Pe.o._mdf||xe){var Be=ke.ty==="gf"?"fill-opacity":"stroke-opacity";Pe.style.pElem.setAttribute(Be,Pe.o.v)}if(Pe.s._mdf||xe){var je=ke.t===1?"x1":"cx",Ve=je==="x1"?"y1":"cy";Fe.setAttribute(je,Me[0]),Fe.setAttribute(Ve,Me[1]),Ie&&!Pe.g._collapsable&&(Pe.of.setAttribute(je,Me[0]),Pe.of.setAttribute(Ve,Me[1]))}var ze,He,$e,Ue;if(Pe.g._cmdf||xe){ze=Pe.cst;var Xe=Pe.g.c;for($e=ze.length,He=0;He<$e;He+=1)Ue=ze[He],Ue.setAttribute("offset",Xe[He*4]+"%"),Ue.setAttribute("stop-color","rgb("+Xe[He*4+1]+","+Xe[He*4+2]+","+Xe[He*4+3]+")")}if(Ie&&(Pe.g._omdf||xe)){var nr=Pe.g.o;for(Pe.g._collapsable?ze=Pe.cst:ze=Pe.ost,$e=ze.length,He=0;He<$e;He+=1)Ue=ze[He],Pe.g._collapsable||Ue.setAttribute("offset",nr[He*2]+"%"),Ue.setAttribute("stop-opacity",nr[He*2+1])}if(ke.t===1)(Pe.e._mdf||xe)&&(Fe.setAttribute("x2",Oe[0]),Fe.setAttribute("y2",Oe[1]),Ie&&!Pe.g._collapsable&&(Pe.of.setAttribute("x2",Oe[0]),Pe.of.setAttribute("y2",Oe[1])));else{var Ge;if((Pe.s._mdf||Pe.e._mdf||xe)&&(Ge=Math.sqrt(Math.pow(Me[0]-Oe[0],2)+Math.pow(Me[1]-Oe[1],2)),Fe.setAttribute("r",Ge),Ie&&!Pe.g._collapsable&&Pe.of.setAttribute("r",Ge)),Pe.e._mdf||Pe.h._mdf||Pe.a._mdf||xe){Ge||(Ge=Math.sqrt(Math.pow(Me[0]-Oe[0],2)+Math.pow(Me[1]-Oe[1],2)));var St=Math.atan2(Oe[1]-Me[1],Oe[0]-Me[0]),mr=Pe.h.v;mr>=1?mr=.99:mr<=-1&&(mr=-.99);var pr=Ge*mr,vr=Math.cos(St+Pe.a.v)*pr+Me[0],dr=Math.sin(St+Pe.a.v)*pr+Me[1];Fe.setAttribute("fx",vr),Fe.setAttribute("fy",dr),Ie&&!Pe.g._collapsable&&(Pe.of.setAttribute("fx",vr),Pe.of.setAttribute("fy",dr))}}}function De(ke,Pe,xe){var Fe=Pe.style,Ie=Pe.d;Ie&&(Ie._mdf||xe)&&Ie.dashStr&&(Fe.pElem.setAttribute("stroke-dasharray",Ie.dashStr),Fe.pElem.setAttribute("stroke-dashoffset",Ie.dashoffset[0])),Pe.c&&(Pe.c._mdf||xe)&&Fe.pElem.setAttribute("stroke","rgb("+bmFloor(Pe.c.v[0])+","+bmFloor(Pe.c.v[1])+","+bmFloor(Pe.c.v[2])+")"),(Pe.o._mdf||xe)&&Fe.pElem.setAttribute("stroke-opacity",Pe.o.v),(Pe.w._mdf||xe)&&(Fe.pElem.setAttribute("stroke-width",Pe.w.v),Fe.msElem&&Fe.msElem.setAttribute("stroke-width",Pe.w.v))}return r}();function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e=this.shapes.length,r,_e,Se=this.stylesList.length,Ae,Re=[],Ee=!1;for(_e=0;_e<Se;_e+=1){for(Ae=this.stylesList[_e],Ee=!1,Re.length=0,t=0;t<e;t+=1)r=this.shapes[t],r.styles.indexOf(Ae)!==-1&&(Re.push(r),Ee=r._isAnimated||Ee);Re.length>1&&Ee&&this.setShapesAsAnimated(Re)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,_e=new SVGStyleData(t,e),Se=_e.pElem;if(t.ty==="st")r=new SVGStrokeStyleData(this,t,_e);else if(t.ty==="fl")r=new SVGFillStyleData(this,t,_e);else if(t.ty==="gf"||t.ty==="gs"){var Ae=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;r=new Ae(this,t,_e),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),Se.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))}else t.ty==="no"&&(r=new SVGNoStyleData(this,t,_e));return(t.ty==="st"||t.ty==="gs")&&(Se.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),Se.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),Se.setAttribute("fill-opacity","0"),t.lj===1&&Se.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&Se.setAttribute("fill-rule","evenodd"),t.ln&&Se.setAttribute("id",t.ln),t.cl&&Se.setAttribute("class",t.cl),t.bm&&(Se.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(_e),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),_e=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,_e),_e},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var _e=4;t.ty==="rc"?_e=5:t.ty==="el"?_e=6:t.ty==="sr"&&(_e=7);var Se=ShapePropertyFactory.getShapeProp(this,t,_e,this),Ae=new SVGShapeData(e,r,Se);return this.shapes.push(Ae),this.addShapeToModifiers(Ae),this.addToAnimatedContents(t,Ae),Ae},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,_e=this.animatedContents.length;r<_e;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e=t.styles,r,_e=this.stylesList.length;for(r=0;r<_e;r+=1)this.stylesList[r].closed||e.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,_e,Se,Ae,Re){var Ee=[].concat(Ae),Ce,Te=t.length-1,De,ke,Pe=[],xe=[],Fe,Ie,Me;for(Ce=Te;Ce>=0;Ce-=1){if(Me=this.searchProcessedElement(t[Ce]),Me?e[Ce]=r[Me-1]:t[Ce]._render=Re,t[Ce].ty==="fl"||t[Ce].ty==="st"||t[Ce].ty==="gf"||t[Ce].ty==="gs"||t[Ce].ty==="no")Me?e[Ce].style.closed=!1:e[Ce]=this.createStyleElement(t[Ce],Se),t[Ce]._render&&e[Ce].style.pElem.parentNode!==_e&&_e.appendChild(e[Ce].style.pElem),Pe.push(e[Ce].style);else if(t[Ce].ty==="gr"){if(!Me)e[Ce]=this.createGroupElement(t[Ce]);else for(ke=e[Ce].it.length,De=0;De<ke;De+=1)e[Ce].prevViewData[De]=e[Ce].it[De];this.searchShapes(t[Ce].it,e[Ce].it,e[Ce].prevViewData,e[Ce].gr,Se+1,Ee,Re),t[Ce]._render&&e[Ce].gr.parentNode!==_e&&_e.appendChild(e[Ce].gr)}else t[Ce].ty==="tr"?(Me||(e[Ce]=this.createTransformElement(t[Ce],_e)),Fe=e[Ce].transform,Ee.push(Fe)):t[Ce].ty==="sh"||t[Ce].ty==="rc"||t[Ce].ty==="el"||t[Ce].ty==="sr"?(Me||(e[Ce]=this.createShapeElement(t[Ce],Ee,Se)),this.setElementStyles(e[Ce])):t[Ce].ty==="tm"||t[Ce].ty==="rd"||t[Ce].ty==="ms"||t[Ce].ty==="pb"?(Me?(Ie=e[Ce],Ie.closed=!1):(Ie=ShapeModifiers.getModifier(t[Ce].ty),Ie.init(this,t[Ce]),e[Ce]=Ie,this.shapeModifiers.push(Ie)),xe.push(Ie)):t[Ce].ty==="rp"&&(Me?(Ie=e[Ce],Ie.closed=!0):(Ie=ShapeModifiers.getModifier(t[Ce].ty),e[Ce]=Ie,Ie.init(this,t,Ce,e),this.shapeModifiers.push(Ie),Re=!1),xe.push(Ie));this.addProcessedElement(t[Ce],Ce+1)}for(Te=Pe.length,Ce=0;Ce<Te;Ce+=1)Pe[Ce].closed=!0;for(Te=xe.length,Ce=0;Ce<Te;Ce+=1)xe[Ce].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e=this.animatedContents.length,r;for(t=0;t<e;t+=1)r=this.animatedContents[t],(this._isFirstFrame||r.element._isAnimated)&&r.data!==!0&&r.fn(r.data,r.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,e,r,_e,Se,Ae){this.o=t,this.sw=e,this.sc=r,this.fc=_e,this.m=Se,this.p=Ae,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!_e,m:!0,p:!0}}LetterProps.prototype.update=function(t,e,r,_e,Se,Ae){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Re=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,Re=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,Re=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,Re=!0),this.fc!==_e&&(this.fc=_e,this._mdf.fc=!0,Re=!0),this.m!==Se&&(this.m=Se,this._mdf.m=!0,Re=!0),Ae.length&&(this.p[0]!==Ae[0]||this.p[1]!==Ae[1]||this.p[4]!==Ae[4]||this.p[5]!==Ae[5]||this.p[12]!==Ae[12]||this.p[13]!==Ae[13])&&(this.p=Ae,this._mdf.p=!0,Re=!0),Re};function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var _e,Se=this.effectsSequence.length,Ae=t||this.data.d.k[this.keysIndex].s;for(_e=0;_e<Se;_e+=1)r!==this.keysIndex?Ae=this.effectsSequence[_e](Ae,Ae.t):Ae=this.effectsSequence[_e](this.currentData,Ae.t);e!==Ae&&this.setCurrentData(Ae),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,_e=t.length;r<=_e-1&&!(r===_e-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e=[],r=0,_e=t.length,Se,Ae,Re=!1;r<_e;)Se=t.charCodeAt(r),FontManager.isCombinedCharacter(Se)?e[e.length-1]+=t.charAt(r):Se>=55296&&Se<=56319?(Ae=t.charCodeAt(r+1),Ae>=56320&&Ae<=57343?(Re||FontManager.isModifier(Se,Ae)?(e[e.length-1]+=t.substr(r,2),Re=!1):e.push(t.substr(r,2)),r+=1):e.push(t.charAt(r))):Se>56319?(Ae=t.charCodeAt(r+1),FontManager.isZeroWidthJoiner(Se,Ae)?(Re=!0,e[e.length-1]+=t.substr(r,2),r+=1):e.push(t.charAt(r))):FontManager.isZeroWidthJoiner(Se)?(e[e.length-1]+=t.charAt(r),Re=!0):e.push(t.charAt(r)),r+=1;return e},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e=this.elem.globalData.fontManager,r=this.data,_e=[],Se,Ae,Re,Ee=0,Ce,Te=r.m.g,De=0,ke=0,Pe=0,xe=[],Fe=0,Ie=0,Me,Oe,Be=e.getFontByName(t.f),je,Ve=0,ze=getFontProperties(Be);t.fWeight=ze.weight,t.fStyle=ze.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),Ae=t.finalText.length,t.finalLineHeight=t.lh;var He=t.tr/1e3*t.finalSize,$e;if(t.sz)for(var Ue=!0,Xe=t.sz[0],nr=t.sz[1],Ge,St;Ue;){St=this.buildFinalText(t.t),Ge=0,Fe=0,Ae=St.length,He=t.tr/1e3*t.finalSize;var mr=-1;for(Se=0;Se<Ae;Se+=1)$e=St[Se].charCodeAt(0),Re=!1,St[Se]===" "?mr=Se:($e===13||$e===3)&&(Fe=0,Re=!0,Ge+=t.finalLineHeight||t.finalSize*1.2),e.chars?(je=e.getCharData(St[Se],Be.fStyle,Be.fFamily),Ve=Re?0:je.w*t.finalSize/100):Ve=e.measureText(St[Se],t.f,t.finalSize),Fe+Ve>Xe&&St[Se]!==" "?(mr===-1?Ae+=1:Se=mr,Ge+=t.finalLineHeight||t.finalSize*1.2,St.splice(Se,mr===Se?1:0,"\r"),mr=-1,Fe=0):(Fe+=Ve,Fe+=He);Ge+=Be.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&nr<Ge?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=St,Ae=t.finalText.length,Ue=!1)}Fe=-He,Ve=0;var pr=0,vr;for(Se=0;Se<Ae;Se+=1)if(Re=!1,vr=t.finalText[Se],$e=vr.charCodeAt(0),$e===13||$e===3?(pr=0,xe.push(Fe),Ie=Fe>Ie?Fe:Ie,Fe=-2*He,Ce="",Re=!0,Pe+=1):Ce=vr,e.chars?(je=e.getCharData(vr,Be.fStyle,e.getFontByName(t.f).fFamily),Ve=Re?0:je.w*t.finalSize/100):Ve=e.measureText(Ce,t.f,t.finalSize),vr===" "?pr+=Ve+He:(Fe+=Ve+He+pr,pr=0),_e.push({l:Ve,an:Ve,add:De,n:Re,anIndexes:[],val:Ce,line:Pe,animatorJustifyOffset:0}),Te==2){if(De+=Ve,Ce===""||Ce===" "||Se===Ae-1){for((Ce===""||Ce===" ")&&(De-=Ve);ke<=Se;)_e[ke].an=De,_e[ke].ind=Ee,_e[ke].extra=Ve,ke+=1;Ee+=1,De=0}}else if(Te==3){if(De+=Ve,Ce===""||Se===Ae-1){for(Ce===""&&(De-=Ve);ke<=Se;)_e[ke].an=De,_e[ke].ind=Ee,_e[ke].extra=Ve,ke+=1;De=0,Ee+=1}}else _e[Ee].ind=Ee,_e[Ee].extra=0,Ee+=1;if(t.l=_e,Ie=Fe>Ie?Fe:Ie,xe.push(Fe),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=Ie,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=xe;var dr=r.a,gr,sr;Oe=dr.length;var tr,hr,Sr=[];for(Me=0;Me<Oe;Me+=1){for(gr=dr[Me],gr.a.sc&&(t.strokeColorAnim=!0),gr.a.sw&&(t.strokeWidthAnim=!0),(gr.a.fc||gr.a.fh||gr.a.fs||gr.a.fb)&&(t.fillColorAnim=!0),hr=0,tr=gr.s.b,Se=0;Se<Ae;Se+=1)sr=_e[Se],sr.anIndexes[Me]=hr,(tr==1&&sr.val!==""||tr==2&&sr.val!==""&&sr.val!==" "||tr==3&&(sr.n||sr.val==" "||Se==Ae-1)||tr==4&&(sr.n||Se==Ae-1))&&(gr.s.rn===1&&Sr.push(hr),hr+=1);r.a[Me].s.totalChars=hr;var Je=-1,Ze;if(gr.s.rn===1)for(Se=0;Se<Ae;Se+=1)sr=_e[Se],Je!=sr.anIndexes[Me]&&(Je=sr.anIndexes[Me],Ze=Sr.splice(Math.floor(Math.random()*Sr.length),1)[0]),sr.anIndexes[Me]=Ze}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=Be.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function _e(Ae,Re){this._currentTextLength=-1,this.k=!1,this.data=Re,this.elem=Ae,this.comp=Ae.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Ae),this.s=PropertyFactory.getProp(Ae,Re.s||{k:0},0,0,this),"e"in Re?this.e=PropertyFactory.getProp(Ae,Re.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Ae,Re.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Ae,Re.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Ae,Re.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Ae,Re.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Ae,Re.a,0,.01,this),this.dynamicProperties.length||this.getValue()}_e.prototype={getMult:function(Re){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ee=0,Ce=0,Te=1,De=1;this.ne.v>0?Ee=this.ne.v/100:Ce=-this.ne.v/100,this.xe.v>0?Te=1-this.xe.v/100:De=1+this.xe.v/100;var ke=BezierFactory.getBezierEasing(Ee,Ce,Te,De).get,Pe=0,xe=this.finalS,Fe=this.finalE,Ie=this.data.sh;if(Ie===2)Fe===xe?Pe=Re>=Fe?1:0:Pe=t(0,e(.5/(Fe-xe)+(Re-xe)/(Fe-xe),1)),Pe=ke(Pe);else if(Ie===3)Fe===xe?Pe=Re>=Fe?0:1:Pe=1-t(0,e(.5/(Fe-xe)+(Re-xe)/(Fe-xe),1)),Pe=ke(Pe);else if(Ie===4)Fe===xe?Pe=0:(Pe=t(0,e(.5/(Fe-xe)+(Re-xe)/(Fe-xe),1)),Pe<.5?Pe*=2:Pe=1-2*(Pe-.5)),Pe=ke(Pe);else if(Ie===5){if(Fe===xe)Pe=0;else{var Me=Fe-xe;Re=e(t(0,Re+.5-xe),Fe-xe);var Oe=-Me/2+Re,Be=Me/2;Pe=Math.sqrt(1-Oe*Oe/(Be*Be))}Pe=ke(Pe)}else Ie===6?(Fe===xe?Pe=0:(Re=e(t(0,Re+.5-xe),Fe-xe),Pe=(1+Math.cos(Math.PI+Math.PI*2*Re/(Fe-xe)))/2),Pe=ke(Pe)):(Re>=r(xe)&&(Re-xe<0?Pe=t(0,e(e(Fe,1)-(xe-Re),1)):Pe=t(0,e(Fe-Re,1))),Pe=ke(Pe));if(this.sm.v!==100){var je=this.sm.v*.01;je===0&&(je=1e-8);var Ve=.5-je*.5;Pe<Ve?Pe=0:(Pe=(Pe-Ve)/je,Pe>1&&(Pe=1))}return Pe*this.a.v},getValue:function(Re){this.iterateDynamicProperties(),this._mdf=Re||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Re&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ee=this.data.r===2?1:100/this.data.totalChars,Ce=this.o.v/Ee,Te=this.s.v/Ee+Ce,De=this.e.v/Ee+Ce;if(Te>De){var ke=Te;Te=De,De=ke}this.finalS=Te,this.finalE=De}},extendPrototype([DynamicPropertyContainer],_e);function Se(Ae,Re,Ee){return new _e(Ae,Re)}return{getTextSelectorProp:Se}}();function TextAnimatorDataProperty(t,e,r){var _e={propType:!1},Se=PropertyFactory.getProp,Ae=e.a;this.a={r:Ae.r?Se(t,Ae.r,0,degToRads,r):_e,rx:Ae.rx?Se(t,Ae.rx,0,degToRads,r):_e,ry:Ae.ry?Se(t,Ae.ry,0,degToRads,r):_e,sk:Ae.sk?Se(t,Ae.sk,0,degToRads,r):_e,sa:Ae.sa?Se(t,Ae.sa,0,degToRads,r):_e,s:Ae.s?Se(t,Ae.s,1,.01,r):_e,a:Ae.a?Se(t,Ae.a,1,0,r):_e,o:Ae.o?Se(t,Ae.o,0,.01,r):_e,p:Ae.p?Se(t,Ae.p,1,0,r):_e,sw:Ae.sw?Se(t,Ae.sw,0,0,r):_e,sc:Ae.sc?Se(t,Ae.sc,1,0,r):_e,fc:Ae.fc?Se(t,Ae.fc,1,0,r):_e,fh:Ae.fh?Se(t,Ae.fh,0,0,r):_e,fs:Ae.fs?Se(t,Ae.fs,0,.01,r):_e,fb:Ae.fb?Se(t,Ae.fb,0,.01,r):_e,t:Ae.t?Se(t,Ae.t,0,0,r):_e},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e=this._textData.a.length,r,_e=PropertyFactory.getProp;for(t=0;t<e;t+=1)r=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,r,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:_e(this._elem,this._textData.p.a,0,0,this),f:_e(this._elem,this._textData.p.f,0,0,this),l:_e(this._elem,this._textData.p.l,0,0,this),r:_e(this._elem,this._textData.p.r,0,0,this),p:_e(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=_e(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var r=this._moreOptions.alignment.v,_e=this._animatorsData,Se=this._textData,Ae=this.mHelper,Re=this._renderType,Ee=this.renderedLetters.length,Ce,Te,De,ke,Pe=t.l,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge;if(this._hasMaskedPath){if(Ge=this._pathData.m,!this._pathData.n||this._pathData._mdf){var St=Ge.v;this._pathData.r.v&&(St=St.reverse()),xe={tLength:0,segments:[]},ke=St._length-1;var mr;for(Ue=0,De=0;De<ke;De+=1)mr=bez.buildBezierData(St.v[De],St.v[De+1],[St.o[De][0]-St.v[De][0],St.o[De][1]-St.v[De][1]],[St.i[De+1][0]-St.v[De+1][0],St.i[De+1][1]-St.v[De+1][1]]),xe.tLength+=mr.segmentLength,xe.segments.push(mr),Ue+=mr.segmentLength;De=ke,Ge.v.c&&(mr=bez.buildBezierData(St.v[De],St.v[0],[St.o[De][0]-St.v[De][0],St.o[De][1]-St.v[De][1]],[St.i[0][0]-St.v[0][0],St.i[0][1]-St.v[0][1]]),xe.tLength+=mr.segmentLength,xe.segments.push(mr),Ue+=mr.segmentLength),this._pathData.pi=xe}if(xe=this._pathData.pi,Fe=this._pathData.f.v,je=0,Be=1,Me=0,Oe=!0,He=xe.segments,Fe<0&&Ge.v.c)for(xe.tLength<Math.abs(Fe)&&(Fe=-Math.abs(Fe)%xe.tLength),je=He.length-1,ze=He[je].points,Be=ze.length-1;Fe<0;)Fe+=ze[Be].partialLength,Be-=1,Be<0&&(je-=1,ze=He[je].points,Be=ze.length-1);ze=He[je].points,Ve=ze[Be-1],Ie=ze[Be],$e=Ie.partialLength}ke=Pe.length,Ce=0,Te=0;var pr=t.finalSize*1.2*.714,vr=!0,dr,gr,sr,tr,hr;tr=_e.length;var Sr,Je=-1,Ze,Ye,We,or=Fe,fr=je,_r=Be,yr=-1,xr,Ar,cr,ar,Qe,rr,er,ur,Cr="",wr=this.defaultPropsArray,Or;if(t.j===2||t.j===1){var kr=0,Pr=0,Ir=t.j===2?-.5:-1,Vr=0,zr=!0;for(De=0;De<ke;De+=1)if(Pe[De].n){for(kr&&(kr+=Pr);Vr<De;)Pe[Vr].animatorJustifyOffset=kr,Vr+=1;kr=0,zr=!0}else{for(sr=0;sr<tr;sr+=1)dr=_e[sr].a,dr.t.propType&&(zr&&t.j===2&&(Pr+=dr.t.v*Ir),gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),Sr.length?kr+=dr.t.v*Sr[0]*Ir:kr+=dr.t.v*Sr*Ir);zr=!1}for(kr&&(kr+=Pr);Vr<De;)Pe[Vr].animatorJustifyOffset=kr,Vr+=1}for(De=0;De<ke;De+=1){if(Ae.reset(),xr=1,Pe[De].n)Ce=0,Te+=t.yOffset,Te+=vr?1:0,Fe=or,vr=!1,this._hasMaskedPath&&(je=fr,Be=_r,ze=He[je].points,Ve=ze[Be-1],Ie=ze[Be],$e=Ie.partialLength,Me=0),Cr="",ur="",rr="",Or="",wr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(yr!==Pe[De].line){switch(t.j){case 1:Fe+=Ue-t.lineWidths[Pe[De].line];break;case 2:Fe+=(Ue-t.lineWidths[Pe[De].line])/2;break}yr=Pe[De].line}Je!==Pe[De].ind&&(Pe[Je]&&(Fe+=Pe[Je].extra),Fe+=Pe[De].an/2,Je=Pe[De].ind),Fe+=r[0]*Pe[De].an*.005;var $r=0;for(sr=0;sr<tr;sr+=1)dr=_e[sr].a,dr.p.propType&&(gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),Sr.length?$r+=dr.p.v[0]*Sr[0]:$r+=dr.p.v[0]*Sr),dr.a.propType&&(gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),Sr.length?$r+=dr.a.v[0]*Sr[0]:$r+=dr.a.v[0]*Sr);for(Oe=!0,this._pathData.a.v&&(Fe=Pe[0].an*.5+(Ue-this._pathData.f.v-Pe[0].an*.5-Pe[Pe.length-1].an*.5)*Je/(ke-1),Fe+=this._pathData.f.v);Oe;)Me+$e>=Fe+$r||!ze?(Xe=(Fe+$r-Me)/Ie.partialLength,Ye=Ve.point[0]+(Ie.point[0]-Ve.point[0])*Xe,We=Ve.point[1]+(Ie.point[1]-Ve.point[1])*Xe,Ae.translate(-r[0]*Pe[De].an*.005,-(r[1]*pr)*.01),Oe=!1):ze&&(Me+=Ie.partialLength,Be+=1,Be>=ze.length&&(Be=0,je+=1,He[je]?ze=He[je].points:Ge.v.c?(Be=0,je=0,ze=He[je].points):(Me-=Ie.partialLength,ze=null)),ze&&(Ve=Ie,Ie=ze[Be],$e=Ie.partialLength));Ze=Pe[De].an/2-Pe[De].add,Ae.translate(-Ze,0,0)}else Ze=Pe[De].an/2-Pe[De].add,Ae.translate(-Ze,0,0),Ae.translate(-r[0]*Pe[De].an*.005,-r[1]*pr*.01,0);for(sr=0;sr<tr;sr+=1)dr=_e[sr].a,dr.t.propType&&(gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),(Ce!==0||t.j!==0)&&(this._hasMaskedPath?Sr.length?Fe+=dr.t.v*Sr[0]:Fe+=dr.t.v*Sr:Sr.length?Ce+=dr.t.v*Sr[0]:Ce+=dr.t.v*Sr));for(t.strokeWidthAnim&&(cr=t.sw||0),t.strokeColorAnim&&(t.sc?Ar=[t.sc[0],t.sc[1],t.sc[2]]:Ar=[0,0,0]),t.fillColorAnim&&t.fc&&(ar=[t.fc[0],t.fc[1],t.fc[2]]),sr=0;sr<tr;sr+=1)dr=_e[sr].a,dr.a.propType&&(gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),Sr.length?Ae.translate(-dr.a.v[0]*Sr[0],-dr.a.v[1]*Sr[1],dr.a.v[2]*Sr[2]):Ae.translate(-dr.a.v[0]*Sr,-dr.a.v[1]*Sr,dr.a.v[2]*Sr));for(sr=0;sr<tr;sr+=1)dr=_e[sr].a,dr.s.propType&&(gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),Sr.length?Ae.scale(1+(dr.s.v[0]-1)*Sr[0],1+(dr.s.v[1]-1)*Sr[1],1):Ae.scale(1+(dr.s.v[0]-1)*Sr,1+(dr.s.v[1]-1)*Sr,1));for(sr=0;sr<tr;sr+=1){if(dr=_e[sr].a,gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),dr.sk.propType&&(Sr.length?Ae.skewFromAxis(-dr.sk.v*Sr[0],dr.sa.v*Sr[1]):Ae.skewFromAxis(-dr.sk.v*Sr,dr.sa.v*Sr)),dr.r.propType&&(Sr.length?Ae.rotateZ(-dr.r.v*Sr[2]):Ae.rotateZ(-dr.r.v*Sr)),dr.ry.propType&&(Sr.length?Ae.rotateY(dr.ry.v*Sr[1]):Ae.rotateY(dr.ry.v*Sr)),dr.rx.propType&&(Sr.length?Ae.rotateX(dr.rx.v*Sr[0]):Ae.rotateX(dr.rx.v*Sr)),dr.o.propType&&(Sr.length?xr+=(dr.o.v*Sr[0]-xr)*Sr[0]:xr+=(dr.o.v*Sr-xr)*Sr),t.strokeWidthAnim&&dr.sw.propType&&(Sr.length?cr+=dr.sw.v*Sr[0]:cr+=dr.sw.v*Sr),t.strokeColorAnim&&dr.sc.propType)for(Qe=0;Qe<3;Qe+=1)Sr.length?Ar[Qe]+=(dr.sc.v[Qe]-Ar[Qe])*Sr[0]:Ar[Qe]+=(dr.sc.v[Qe]-Ar[Qe])*Sr;if(t.fillColorAnim&&t.fc){if(dr.fc.propType)for(Qe=0;Qe<3;Qe+=1)Sr.length?ar[Qe]+=(dr.fc.v[Qe]-ar[Qe])*Sr[0]:ar[Qe]+=(dr.fc.v[Qe]-ar[Qe])*Sr;dr.fh.propType&&(Sr.length?ar=addHueToRGB(ar,dr.fh.v*Sr[0]):ar=addHueToRGB(ar,dr.fh.v*Sr)),dr.fs.propType&&(Sr.length?ar=addSaturationToRGB(ar,dr.fs.v*Sr[0]):ar=addSaturationToRGB(ar,dr.fs.v*Sr)),dr.fb.propType&&(Sr.length?ar=addBrightnessToRGB(ar,dr.fb.v*Sr[0]):ar=addBrightnessToRGB(ar,dr.fb.v*Sr))}}for(sr=0;sr<tr;sr+=1)dr=_e[sr].a,dr.p.propType&&(gr=_e[sr].s,Sr=gr.getMult(Pe[De].anIndexes[sr],Se.a[sr].s.totalChars),this._hasMaskedPath?Sr.length?Ae.translate(0,dr.p.v[1]*Sr[0],-dr.p.v[2]*Sr[1]):Ae.translate(0,dr.p.v[1]*Sr,-dr.p.v[2]*Sr):Sr.length?Ae.translate(dr.p.v[0]*Sr[0],dr.p.v[1]*Sr[1],-dr.p.v[2]*Sr[2]):Ae.translate(dr.p.v[0]*Sr,dr.p.v[1]*Sr,-dr.p.v[2]*Sr));if(t.strokeWidthAnim&&(rr=cr<0?0:cr),t.strokeColorAnim&&(er="rgb("+Math.round(Ar[0]*255)+","+Math.round(Ar[1]*255)+","+Math.round(Ar[2]*255)+")"),t.fillColorAnim&&t.fc&&(ur="rgb("+Math.round(ar[0]*255)+","+Math.round(ar[1]*255)+","+Math.round(ar[2]*255)+")"),this._hasMaskedPath){if(Ae.translate(0,-t.ls),Ae.translate(0,r[1]*pr*.01+Te,0),this._pathData.p.v){nr=(Ie.point[1]-Ve.point[1])/(Ie.point[0]-Ve.point[0]);var Gr=Math.atan(nr)*180/Math.PI;Ie.point[0]<Ve.point[0]&&(Gr+=180),Ae.rotate(-Gr*Math.PI/180)}Ae.translate(Ye,We,0),Fe-=r[0]*Pe[De].an*.005,Pe[De+1]&&Je!==Pe[De+1].ind&&(Fe+=Pe[De].an/2,Fe+=t.tr*.001*t.finalSize)}else{switch(Ae.translate(Ce,Te,0),t.ps&&Ae.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:Ae.translate(Pe[De].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[Pe[De].line]),0,0);break;case 2:Ae.translate(Pe[De].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[Pe[De].line])/2,0,0);break}Ae.translate(0,-t.ls),Ae.translate(Ze,0,0),Ae.translate(r[0]*Pe[De].an*.005,r[1]*pr*.01,0),Ce+=Pe[De].l+t.tr*.001*t.finalSize}Re==="html"?Cr=Ae.toCSS():Re==="svg"?Cr=Ae.to2dCSS():wr=[Ae.props[0],Ae.props[1],Ae.props[2],Ae.props[3],Ae.props[4],Ae.props[5],Ae.props[6],Ae.props[7],Ae.props[8],Ae.props[9],Ae.props[10],Ae.props[11],Ae.props[12],Ae.props[13],Ae.props[14],Ae.props[15]],Or=xr}Ee<=De?(hr=new LetterProps(Or,rr,er,ur,Cr,wr),this.renderedLetters.push(hr),Ee+=1,this.lettersChangedFlag=!0):(hr=this.renderedLetters[De],this.lettersChangedFlag=hr.update(Or,rr,er,ur,Cr,wr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,_e=e.length,Se,Ae="";for(r=0;r<_e;r+=1)e[r].ty==="sh"&&(Se=e[r].ks.k,Ae+=buildShapeString(Se,Se.i.length,!0,t));return Ae},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,_e,Se){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0);break}e.translate(_e,Se,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,_e=[],Se="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(_e.push(Se),Se=""):Se+=t[e],e+=1;return _e.push(Se),_e},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var _e=r.it[r.it.length-1];_e.s&&(_e.s.k[0]=e,_e.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var _e=this.globalData.fontManager.getFontByName(r.f);if(_e.fClass)this.layerElement.setAttribute("class",_e.fClass);else{this.layerElement.setAttribute("font-family",_e.fFamily);var Se=r.fWeight,Ae=r.fStyle;this.layerElement.setAttribute("font-style",Ae),this.layerElement.setAttribute("font-weight",Se)}this.layerElement.setAttribute("aria-label",r.t);var Re=r.l||[],Ee=!!this.globalData.fontManager.chars;e=Re.length;var Ce,Te=this.mHelper,De="",ke=this.data.singleShape,Pe=0,xe=0,Fe=!0,Ie=r.tr*.001*r.finalSize;if(ke&&!Ee&&!r.sz){var Me=this.textContainer,Oe="start";switch(r.j){case 1:Oe="end";break;case 2:Oe="middle";break;default:Oe="start";break}Me.setAttribute("text-anchor",Oe),Me.setAttribute("letter-spacing",Ie);var Be=this.buildTextContents(r.finalText);for(e=Be.length,xe=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)Ce=this.textSpans[t].span||createNS("tspan"),Ce.textContent=Be[t],Ce.setAttribute("x",0),Ce.setAttribute("y",xe),Ce.style.display="inherit",Me.appendChild(Ce),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=Ce,xe+=r.finalLineHeight;this.layerElement.appendChild(Me)}else{var je=this.textSpans.length,Ve;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!Ee||!ke||t===0){if(Ce=je>t?this.textSpans[t].span:createNS(Ee?"g":"text"),je<=t){if(Ce.setAttribute("stroke-linecap","butt"),Ce.setAttribute("stroke-linejoin","round"),Ce.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=Ce,Ee){var ze=createNS("g");Ce.appendChild(ze),this.textSpans[t].childSpan=ze}this.textSpans[t].span=Ce,this.layerElement.appendChild(Ce)}Ce.style.display="inherit"}if(Te.reset(),ke&&(Re[t].n&&(Pe=-Ie,xe+=r.yOffset,xe+=Fe?1:0,Fe=!1),this.applyTextPropertiesToMatrix(r,Te,Re[t].line,Pe,xe),Pe+=Re[t].l||0,Pe+=Ie),Ee){Ve=this.globalData.fontManager.getCharData(r.finalText[t],_e.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);var He;if(Ve.t===1)He=new SVGCompElement(Ve.data,this.globalData,this);else{var $e=emptyShapeData;Ve.data&&Ve.data.shapes&&($e=this.buildShapeData(Ve.data,r.finalSize)),He=new SVGShapeElement($e,this.globalData,this)}if(this.textSpans[t].glyph){var Ue=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(Ue.layerElement),Ue.destroy()}this.textSpans[t].glyph=He,He._debug=!0,He.prepareFrame(0),He.renderFrame(),this.textSpans[t].childSpan.appendChild(He.layerElement),Ve.t===1&&this.textSpans[t].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else ke&&Ce.setAttribute("transform","translate("+Te.props[12]+","+Te.props[13]+")"),Ce.textContent=Re[t].val,Ce.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ke&&Ce&&Ce.setAttribute("d",De)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e=this.textSpans.length,r;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<e;t+=1)r=this.textSpans[t].glyph,r&&(r.prepareFrame(this.comp.renderedFrame-this.data.st),r._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,e,r=this.textAnimator.renderedLetters,_e=this.textProperty.currentData.l;e=_e.length;var Se,Ae,Re;for(t=0;t<e;t+=1)_e[t].n||(Se=r[t],Ae=this.textSpans[t].span,Re=this.textSpans[t].glyph,Re&&Re.renderFrame(),Se._mdf.m&&Ae.setAttribute("transform",Se.m),Se._mdf.o&&Ae.setAttribute("opacity",Se.o),Se._mdf.sw&&Ae.setAttribute("stroke-width",Se.sw),Se._mdf.sc&&Ae.setAttribute("stroke",Se.sc),Se._mdf.fc&&Ae.setAttribute("fill",Se.fc))}};function ISolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),_e=createNS("rect");_e.setAttribute("width",t.w),_e.setAttribute("height",t.h),_e.setAttribute("x",0),_e.setAttribute("y",0);var Se=createElementID();r.setAttribute("id",Se),r.appendChild(_e),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Se+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(!this.elements[t-1]||this.elements[t-1]===!0?(this.buildItem(t-1),this.addPendingElement(r)):r.setMatte(e[t-1].layerId))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var e,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(!!r){for(var _e=0,Se;_e<e;)this.elements[_e]&&this.elements[_e]!==!0&&this.elements[_e].getBaseElement()&&(Se=this.elements[_e].getBaseElement()),_e+=1;Se?this.layerElement.insertBefore(r,Se):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,_e=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=_e-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var _e=createNS("title"),Se=createElementID();_e.setAttribute("id",Se),_e.textContent=e.title,this.svgElement.appendChild(_e),r+=Se}if(e&&e.description){var Ae=createNS("desc"),Re=createElementID();Ae.setAttribute("id",Re),Ae.textContent=e.description,this.svgElement.appendChild(Ae),r+=" "+Re}r&&this.svgElement.setAttribute("aria-labelledby",r);var Ee=createNS("defs");this.svgElement.appendChild(Ee);var Ce=createNS("g");this.svgElement.appendChild(Ce),this.layerElement=Ce,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height},this.globalData={_mdf:!1,frameNum:-1,defs:Ee,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var t,e=15;for(this.savedOp=createTypedArray("float32",e),t=0;t<e;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=e}CVContextData.prototype.duplicate=function(){var t=this._length*2,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var r,_e=e.length,Se="_";for(r=0;r<_e;r+=1)Se+=e[r].transform.key+"_";var Ae=this.sequences[Se];return Ae||(Ae={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[Se]=Ae,this.sequenceList.push(Ae)),Ae},processSequence:function(e,r){for(var _e=0,Se=e.transforms.length,Ae=r;_e<Se&&!r;){if(e.transforms[_e].transform.mProps._mdf){Ae=!0;break}_e+=1}if(Ae){var Re;for(e.finalTransform.reset(),_e=Se-1;_e>=0;_e-=1)Re=e.transforms[_e].transform.mProps.v.props,e.finalTransform.transform(Re[0],Re[1],Re[2],Re[3],Re[4],Re[5],Re[6],Re[7],Re[8],Re[9],Re[10],Re[11],Re[12],Re[13],Re[14],Re[15])}e._mdf=Ae},processSequences:function(e){var r,_e=this.sequenceList.length;for(r=0;r<_e;r+=1)this.processSequence(this.sequenceList[r],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,_e=this.masksProperties.length,Se=!1;for(r=0;r<_e;r+=1)this.masksProperties[r].mode!=="n"&&(Se=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=Se,Se&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var t=this.element.finalTransform.mat,e=this.element.canvasContext,r,_e=this.masksProperties.length,Se,Ae,Re;for(e.beginPath(),r=0;r<_e;r+=1)if(this.masksProperties[r].mode!=="n"){this.masksProperties[r].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),Re=this.viewData[r].v,Se=t.applyToPointArray(Re.v[0][0],Re.v[0][1],0),e.moveTo(Se[0],Se[1]);var Ee,Ce=Re._length;for(Ee=1;Ee<Ce;Ee+=1)Ae=t.applyToTriplePoints(Re.o[Ee-1],Re.i[Ee],Re.v[Ee]),e.bezierCurveTo(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5]);Ae=t.applyToTriplePoints(Re.o[Ee-1],Re.i[0],Re.v[0]),e.bezierCurveTo(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var r=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=r}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=this.data.ty===0;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,e,r,_e){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Se=4;e.ty==="rc"?Se=5:e.ty==="el"?Se=6:e.ty==="sr"&&(Se=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,Se,t);var Ae,Re=r.length,Ee;for(Ae=0;Ae<Re;Ae+=1)r[Ae].closed||(Ee={transforms:_e.addTransformSequence(r[Ae].transforms),trNodes:[]},this.styledShapes.push(Ee),r[Ae].elements.push(Ee))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},_e={};if(t.ty==="fl"||t.ty==="st"?(_e.c=PropertyFactory.getProp(this,t.c,1,255,this),_e.c.k||(r.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(_e.s=PropertyFactory.getProp(this,t.s,1,null,this),_e.e=PropertyFactory.getProp(this,t.e,1,null,this),_e.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),_e.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),_e.g=new GradientProperty(this,t.g,this)),_e.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],t.lj==1&&(r.ml=t.ml),_e.w=PropertyFactory.getProp(this,t.w,0,null,this),_e.w.k||(r.wi=_e.w.v),t.d){var Se=new DashProperty(this,t.d,"canvas",this);_e.d=Se,_e.d.k||(r.da=_e.d.dashArray,r.do=_e.d.dashoffset[0])}}else r.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(r),_e.style=r,_e},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,_e,Se){var Ae,Re=t.length-1,Ee,Ce,Te=[],De=[],ke,Pe,xe,Fe=[].concat(Se);for(Ae=Re;Ae>=0;Ae-=1){if(ke=this.searchProcessedElement(t[Ae]),ke?e[Ae]=r[ke-1]:t[Ae]._shouldRender=_e,t[Ae].ty==="fl"||t[Ae].ty==="st"||t[Ae].ty==="gf"||t[Ae].ty==="gs")ke?e[Ae].style.closed=!1:e[Ae]=this.createStyleElement(t[Ae],Fe),Te.push(e[Ae].style);else if(t[Ae].ty==="gr"){if(!ke)e[Ae]=this.createGroupElement(t[Ae]);else for(Ce=e[Ae].it.length,Ee=0;Ee<Ce;Ee+=1)e[Ae].prevViewData[Ee]=e[Ae].it[Ee];this.searchShapes(t[Ae].it,e[Ae].it,e[Ae].prevViewData,_e,Fe)}else t[Ae].ty==="tr"?(ke||(xe=this.createTransformElement(t[Ae]),e[Ae]=xe),Fe.push(e[Ae]),this.addTransformToStyleList(e[Ae])):t[Ae].ty==="sh"||t[Ae].ty==="rc"||t[Ae].ty==="el"||t[Ae].ty==="sr"?ke||(e[Ae]=this.createShapeElement(t[Ae])):t[Ae].ty==="tm"||t[Ae].ty==="rd"||t[Ae].ty==="pb"?(ke?(Pe=e[Ae],Pe.closed=!1):(Pe=ShapeModifiers.getModifier(t[Ae].ty),Pe.init(this,t[Ae]),e[Ae]=Pe,this.shapeModifiers.push(Pe)),De.push(Pe)):t[Ae].ty==="rp"&&(ke?(Pe=e[Ae],Pe.closed=!0):(Pe=ShapeModifiers.getModifier(t[Ae].ty),e[Ae]=Pe,Pe.init(this,t,Ae,e),this.shapeModifiers.push(Pe),_e=!1),De.push(Pe));this.addProcessedElement(t[Ae],Ae+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Te),Re=De.length,Ae=0;Ae<Re;Ae+=1)De[Ae].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e=this.stylesList.length,r,_e,Se,Ae,Re,Ee,Ce=this.globalData.renderer,Te=this.globalData.canvasContext,De,ke;for(t=0;t<e;t+=1)if(ke=this.stylesList[t],De=ke.type,!((De==="st"||De==="gs")&&ke.wi===0||!ke.data._shouldRender||ke.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Ce.save(),Re=ke.elements,De==="st"||De==="gs"?(Te.strokeStyle=De==="st"?ke.co:ke.grd,Te.lineWidth=ke.wi,Te.lineCap=ke.lc,Te.lineJoin=ke.lj,Te.miterLimit=ke.ml||0):Te.fillStyle=De==="fl"?ke.co:ke.grd,Ce.ctxOpacity(ke.coOp),De!=="st"&&De!=="gs"&&Te.beginPath(),Ce.ctxTransform(ke.preTransforms.finalTransform.props),_e=Re.length,r=0;r<_e;r+=1){for((De==="st"||De==="gs")&&(Te.beginPath(),ke.da&&(Te.setLineDash(ke.da),Te.lineDashOffset=ke.do)),Ee=Re[r].trNodes,Ae=Ee.length,Se=0;Se<Ae;Se+=1)Ee[Se].t==="m"?Te.moveTo(Ee[Se].p[0],Ee[Se].p[1]):Ee[Se].t==="c"?Te.bezierCurveTo(Ee[Se].pts[0],Ee[Se].pts[1],Ee[Se].pts[2],Ee[Se].pts[3],Ee[Se].pts[4],Ee[Se].pts[5]):Te.closePath();(De==="st"||De==="gs")&&(Te.stroke(),ke.da&&Te.setLineDash(this.dashResetter))}De!=="st"&&De!=="gs"&&Te.fill(ke.r),Ce.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,_e){var Se,Ae=e.length-1,Re;for(Re=t,Se=Ae;Se>=0;Se-=1)e[Se].ty==="tr"?(Re=r[Se].transform,this.renderShapeTransform(t,Re)):e[Se].ty==="sh"||e[Se].ty==="el"||e[Se].ty==="rc"||e[Se].ty==="sr"?this.renderPath(e[Se],r[Se]):e[Se].ty==="fl"?this.renderFill(e[Se],r[Se],Re):e[Se].ty==="st"?this.renderStroke(e[Se],r[Se],Re):e[Se].ty==="gf"||e[Se].ty==="gs"?this.renderGradientFill(e[Se],r[Se],Re):e[Se].ty==="gr"?this.renderShape(Re,e[Se].it,r[Se].it):e[Se].ty;_e&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r=t.trNodes,_e=e.paths,Se,Ae,Re,Ee=_e._length;r.length=0;var Ce=t.transforms.finalTransform;for(Re=0;Re<Ee;Re+=1){var Te=_e.shapes[Re];if(Te&&Te.v){for(Ae=Te._length,Se=1;Se<Ae;Se+=1)Se===1&&r.push({t:"m",p:Ce.applyToPointArray(Te.v[0][0],Te.v[0][1],0)}),r.push({t:"c",pts:Ce.applyToTriplePoints(Te.o[Se-1],Te.i[Se],Te.v[Se])});Ae===1&&r.push({t:"m",p:Ce.applyToPointArray(Te.v[0][0],Te.v[0][1],0)}),Te.c&&Ae&&(r.push({t:"c",pts:Ce.applyToTriplePoints(Te.o[Se-1],Te.i[0],Te.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var r,_e=e.styledShapes.length;for(r=0;r<_e;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var _e=e.style;(e.c._mdf||this._isFirstFrame)&&(_e.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(_e.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var _e=e.style,Se;if(!_e.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var Ae=this.globalData.canvasContext,Re=e.s.v,Ee=e.e.v;if(t.t===1)Se=Ae.createLinearGradient(Re[0],Re[1],Ee[0],Ee[1]);else{var Ce=Math.sqrt(Math.pow(Re[0]-Ee[0],2)+Math.pow(Re[1]-Ee[1],2)),Te=Math.atan2(Ee[1]-Re[1],Ee[0]-Re[0]),De=e.h.v;De>=1?De=.99:De<=-1&&(De=-.99);var ke=Ce*De,Pe=Math.cos(Te+e.a.v)*ke+Re[0],xe=Math.sin(Te+e.a.v)*ke+Re[1];Se=Ae.createRadialGradient(Pe,xe,0,Re[0],Re[1],Ce)}var Fe,Ie=t.g.p,Me=e.g.c,Oe=1;for(Fe=0;Fe<Ie;Fe+=1)e.g._hasOpacity&&e.g._collapsable&&(Oe=e.g.o[Fe*2+1]),Se.addColorStop(Me[Fe*4]/100,"rgba("+Me[Fe*4+1]+","+Me[Fe*4+2]+","+Me[Fe*4+3]+","+Oe+")");_e.grd=Se}_e.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var _e=e.style,Se=e.d;Se&&(Se._mdf||this._isFirstFrame)&&(_e.da=Se.dashArray,_e.do=Se.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(_e.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(_e.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(_e.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var _e=this.globalData.fontManager.getFontByName(t.f),Se,Ae,Re=t.l,Ee=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,Ae=t.finalText.length;var Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be=this.data.singleShape,je=t.tr*.001*t.finalSize,Ve=0,ze=0,He=!0,$e=0;for(Se=0;Se<Ae;Se+=1){Ce=this.globalData.fontManager.getCharData(t.finalText[Se],_e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),Te=Ce&&Ce.data||{},Ee.reset(),Be&&Re[Se].n&&(Ve=-je,ze+=t.yOffset,ze+=He?1:0,He=!1),Pe=Te.shapes?Te.shapes[0].it:[],Fe=Pe.length,Ee.scale(t.finalSize/100,t.finalSize/100),Be&&this.applyTextPropertiesToMatrix(t,Ee,Re[Se].line,Ve,ze),Me=createSizedArray(Fe-1);var Ue=0;for(xe=0;xe<Fe;xe+=1)if(Pe[xe].ty==="sh"){for(ke=Pe[xe].ks.k.i.length,Ie=Pe[xe].ks.k,Oe=[],De=1;De<ke;De+=1)De===1&&Oe.push(Ee.applyToX(Ie.v[0][0],Ie.v[0][1],0),Ee.applyToY(Ie.v[0][0],Ie.v[0][1],0)),Oe.push(Ee.applyToX(Ie.o[De-1][0],Ie.o[De-1][1],0),Ee.applyToY(Ie.o[De-1][0],Ie.o[De-1][1],0),Ee.applyToX(Ie.i[De][0],Ie.i[De][1],0),Ee.applyToY(Ie.i[De][0],Ie.i[De][1],0),Ee.applyToX(Ie.v[De][0],Ie.v[De][1],0),Ee.applyToY(Ie.v[De][0],Ie.v[De][1],0));Oe.push(Ee.applyToX(Ie.o[De-1][0],Ie.o[De-1][1],0),Ee.applyToY(Ie.o[De-1][0],Ie.o[De-1][1],0),Ee.applyToX(Ie.i[0][0],Ie.i[0][1],0),Ee.applyToY(Ie.i[0][0],Ie.i[0][1],0),Ee.applyToX(Ie.v[0][0],Ie.v[0][1],0),Ee.applyToY(Ie.v[0][0],Ie.v[0][1],0)),Me[Ue]=Oe,Ue+=1}Be&&(Ve+=Re[Se].l,Ve+=je),this.textSpans[$e]?this.textSpans[$e].elem=Me:this.textSpans[$e]={elem:Me},$e+=1}},CVTextElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,r,_e,Se,Ae,Re,Ee=this.textAnimator.renderedLetters,Ce=this.textProperty.currentData.l;r=Ce.length;var Te,De=null,ke=null,Pe=null,xe,Fe;for(e=0;e<r;e+=1)if(!Ce[e].n){if(Te=Ee[e],Te&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(Te.p),this.globalData.renderer.ctxOpacity(Te.o)),this.fill){for(Te&&Te.fc?De!==Te.fc&&(De=Te.fc,t.fillStyle=Te.fc):De!==this.values.fill&&(De=this.values.fill,t.fillStyle=this.values.fill),xe=this.textSpans[e].elem,Se=xe.length,this.globalData.canvasContext.beginPath(),_e=0;_e<Se;_e+=1)for(Fe=xe[_e],Re=Fe.length,this.globalData.canvasContext.moveTo(Fe[0],Fe[1]),Ae=2;Ae<Re;Ae+=6)this.globalData.canvasContext.bezierCurveTo(Fe[Ae],Fe[Ae+1],Fe[Ae+2],Fe[Ae+3],Fe[Ae+4],Fe[Ae+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(Te&&Te.sw?Pe!==Te.sw&&(Pe=Te.sw,t.lineWidth=Te.sw):Pe!==this.values.sWidth&&(Pe=this.values.sWidth,t.lineWidth=this.values.sWidth),Te&&Te.sc?ke!==Te.sc&&(ke=Te.sc,t.strokeStyle=Te.sc):ke!==this.values.stroke&&(ke=this.values.stroke,t.strokeStyle=this.values.stroke),xe=this.textSpans[e].elem,Se=xe.length,this.globalData.canvasContext.beginPath(),_e=0;_e<Se;_e+=1)for(Fe=xe[_e],Re=Fe.length,this.globalData.canvasContext.moveTo(Fe[0],Fe[1]),Ae=2;Ae<Re;Ae+=6)this.globalData.canvasContext.bezierCurveTo(Fe[Ae],Fe[Ae+1],Fe[Ae+2],Fe[Ae+3],Fe[Ae+4],Fe[Ae+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}Te&&this.globalData.renderer.restore()}};function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e=t.getContext("2d"),r=this.img.width,_e=this.img.height,Se=r/_e,Ae=this.assetData.w/this.assetData.h,Re,Ee,Ce=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Se>Ae&&Ce==="xMidYMid slice"||Se<Ae&&Ce!=="xMidYMid slice"?(Ee=_e,Re=Ee*Ae):(Re=r,Ee=Re/Ae),e.drawImage(this.img,(r-Re)/2,(_e-Ee)/2,Re,Ee,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){if(!(t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);return}this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}},CanvasRendererBase.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=t<0?0:t,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r,_e=this.contextData.saved[this.contextData.cArrPos];for(r=0;r<16;r+=1)_e[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e=this.contextData.saved[this.contextData.cArrPos],r,_e=this.contextData.cTr.props;for(r=0;r<16;r+=1)_e[r]=e[r];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var t,e;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var r,_e;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Se=this.renderConfig.preserveAspectRatio.split(" "),Ae=Se[1]||"meet",Re=Se[0]||"xMidYMid",Ee=Re.substr(0,4),Ce=Re.substr(4);r=t/e,_e=this.transformCanvas.w/this.transformCanvas.h,_e>r&&Ae==="meet"||_e<r&&Ae==="slice"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),Ee==="xMid"&&(_e<r&&Ae==="meet"||_e>r&&Ae==="slice")?this.transformCanvas.tx=(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:Ee==="xMax"&&(_e<r&&Ae==="meet"||_e>r&&Ae==="slice")?this.transformCanvas.tx=(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Ce==="YMid"&&(_e>r&&Ae==="meet"||_e<r&&Ae==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:Ce==="YMax"&&(_e>r&&Ae==="meet"||_e<r&&Ae==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r,_e=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<_e;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=_e-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!(e[t]||this.layers[t].ty===99)){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var e,r=this.layers.length;for(e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var r=this.finalTransform.mat.toCSS();e.transform=r,e.webkitTransform=r}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,e,r){this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r=t.sh.v,_e=t.transformers,Se,Ae=r._length,Re,Ee,Ce,Te;if(!(Ae<=1)){for(Se=0;Se<Ae-1;Se+=1)Re=this.getTransformedPoint(_e,r.v[Se]),Ee=this.getTransformedPoint(_e,r.o[Se]),Ce=this.getTransformedPoint(_e,r.i[Se+1]),Te=this.getTransformedPoint(_e,r.v[Se+1]),this.checkBounds(Re,Ee,Ce,Te,e);r.c&&(Re=this.getTransformedPoint(_e,r.v[Se]),Ee=this.getTransformedPoint(_e,r.o[Se]),Ce=this.getTransformedPoint(_e,r.i[0]),Te=this.getTransformedPoint(_e,r.v[0]),this.checkBounds(Re,Ee,Ce,Te,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,_e,Se){this.getBoundsOfCurve(t,e,r,_e);var Ae=this.shapeBoundingBox;Se.x=bmMin(Ae.left,Se.x),Se.xMax=bmMax(Ae.right,Se.xMax),Se.y=bmMin(Ae.top,Se.y),Se.yMax=bmMax(Ae.bottom,Se.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,_e){for(var Se=[[t[0],_e[0]],[t[1],_e[1]]],Ae,Re,Ee,Ce,Te,De,ke,Pe=0;Pe<2;++Pe)Re=6*t[Pe]-12*e[Pe]+6*r[Pe],Ae=-3*t[Pe]+9*e[Pe]-9*r[Pe]+3*_e[Pe],Ee=3*e[Pe]-3*t[Pe],Re|=0,Ae|=0,Ee|=0,Ae===0&&Re===0||(Ae===0?(Ce=-Ee/Re,Ce>0&&Ce<1&&Se[Pe].push(this.calculateF(Ce,t,e,r,_e,Pe))):(Te=Re*Re-4*Ee*Ae,Te>=0&&(De=(-Re+bmSqrt(Te))/(2*Ae),De>0&&De<1&&Se[Pe].push(this.calculateF(De,t,e,r,_e,Pe)),ke=(-Re-bmSqrt(Te))/(2*Ae),ke>0&&ke<1&&Se[Pe].push(this.calculateF(ke,t,e,r,_e,Pe)))));this.shapeBoundingBox.left=bmMin.apply(null,Se[0]),this.shapeBoundingBox.top=bmMin.apply(null,Se[1]),this.shapeBoundingBox.right=bmMax.apply(null,Se[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Se[1])},HShapeElement.prototype.calculateF=function(t,e,r,_e,Se,Ae){return bmPow(1-t,3)*e[Ae]+3*bmPow(1-t,2)*t*r[Ae]+3*(1-t)*bmPow(t,2)*_e[Ae]+bmPow(t,3)*Se[Ae]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,_e=t.length;for(r=0;r<_e;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,e):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var r=0;if(t.keyframes){for(var _e=0;_e<t.keyframes.length;_e+=1){var Se=t.keyframes[_e].s;Se>r&&(r=Se)}r*=t.mult}else r=t.v*t.mult;e.x-=r,e.xMax+=r,e.y-=r,e.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var _e=this.shapeCont.style,Se="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_e.transform=Se,_e.webkitTransform=Se}}};function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var _e=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",_e.fClass)this.innerElem.className=_e.fClass;else{e.fontFamily=_e.fFamily;var Se=t.fWeight,Ae=t.fStyle;e.fontStyle=Ae,e.fontWeight=Se}var Re,Ee,Ce=t.l;Ee=Ce.length;var Te,De,ke,Pe=this.mHelper,xe,Fe="",Ie=0;for(Re=0;Re<Ee;Re+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ie]?Te=this.textPaths[Ie]:(Te=createNS("path"),Te.setAttribute("stroke-linecap",lineCapEnum[1]),Te.setAttribute("stroke-linejoin",lineJoinEnum[2]),Te.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ie]?(De=this.textSpans[Ie],ke=De.children[0]):(De=createTag("div"),De.style.lineHeight=0,ke=createNS("svg"),ke.appendChild(Te),styleDiv(De)))):this.isMasked?Te=this.textPaths[Ie]?this.textPaths[Ie]:createNS("text"):this.textSpans[Ie]?(De=this.textSpans[Ie],Te=this.textPaths[Ie]):(De=createTag("span"),styleDiv(De),Te=createTag("span"),styleDiv(Te),De.appendChild(Te)),this.globalData.fontManager.chars){var Me=this.globalData.fontManager.getCharData(t.finalText[Re],_e.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),Oe;if(Me?Oe=Me.data:Oe=null,Pe.reset(),Oe&&Oe.shapes&&Oe.shapes.length&&(xe=Oe.shapes[0].it,Pe.scale(t.finalSize/100,t.finalSize/100),Fe=this.createPathShape(Pe,xe),Te.setAttribute("d",Fe)),this.isMasked)this.innerElem.appendChild(Te);else{if(this.innerElem.appendChild(De),Oe&&Oe.shapes){document.body.appendChild(ke);var Be=ke.getBBox();ke.setAttribute("width",Be.width+2),ke.setAttribute("height",Be.height+2),ke.setAttribute("viewBox",Be.x-1+" "+(Be.y-1)+" "+(Be.width+2)+" "+(Be.height+2));var je=ke.style,Ve="translate("+(Be.x-1)+"px,"+(Be.y-1)+"px)";je.transform=Ve,je.webkitTransform=Ve,Ce[Re].yOffset=Be.y-1}else ke.setAttribute("width",1),ke.setAttribute("height",1);De.appendChild(ke)}}else if(Te.textContent=Ce[Re].val,Te.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Te);else{this.innerElem.appendChild(De);var ze=Te.style,He="translate3d(0,"+-t.finalSize/1.2+"px,0)";ze.transform=He,ze.webkitTransform=He}this.isMasked?this.textSpans[Ie]=Te:this.textSpans[Ie]=De,this.textSpans[Ie].style.display="block",this.textPaths[Ie]=Te,Ie+=1}for(;Ie<this.textSpans.length;)this.textSpans[Ie].style.display="none",Ie+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var r,_e,Se=0,Ae=this.textAnimator.renderedLetters,Re=this.textProperty.currentData.l;_e=Re.length;var Ee,Ce,Te;for(r=0;r<_e;r+=1)Re[r].n?Se+=1:(Ce=this.textSpans[r],Te=this.textPaths[r],Ee=Ae[Se],Se+=1,Ee._mdf.m&&(this.isMasked?Ce.setAttribute("transform",Ee.m):(Ce.style.webkitTransform=Ee.m,Ce.style.transform=Ee.m)),Ce.style.opacity=Ee.o,Ee.sw&&Ee._mdf.sw&&Te.setAttribute("stroke-width",Ee.sw),Ee.sc&&Ee._mdf.sc&&Te.setAttribute("stroke",Ee.sc),Ee.fc&&Ee._mdf.fc&&(Te.setAttribute("fill",Ee.fc),Te.style.color=Ee.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var De=this.innerElem.getBBox();this.currentBBox.w!==De.width&&(this.currentBBox.w=De.width,this.svgElement.setAttribute("width",De.width)),this.currentBBox.h!==De.height&&(this.currentBBox.h=De.height,this.svgElement.setAttribute("height",De.height));var ke=1;if(this.currentBBox.w!==De.width+ke*2||this.currentBBox.h!==De.height+ke*2||this.currentBBox.x!==De.x-ke||this.currentBBox.y!==De.y-ke){this.currentBBox.w=De.width+ke*2,this.currentBBox.h=De.height+ke*2,this.currentBBox.x=De.x-ke,this.currentBBox.y=De.y-ke,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var Pe="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=Pe,t.webkitTransform=Pe}}}};function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var _e=PropertyFactory.getProp;if(this.pe=_e(this,t.pe,0,0,this),t.ks.p.s?(this.px=_e(this,t.ks.p.x,1,0,this),this.py=_e(this,t.ks.p.y,1,0,this),this.pz=_e(this,t.ks.p.z,1,0,this)):this.p=_e(this,t.ks.p,1,0,this),t.ks.a&&(this.a=_e(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var Se,Ae=t.ks.or.k.length;for(Se=0;Se<Ae;Se+=1)t.ks.or.k[Se].to=null,t.ks.or.k[Se].ti=null}this.or=_e(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=_e(this,t.ks.rx,0,degToRads,this),this.ry=_e(this,t.ks.ry,0,degToRads,this),this.rz=_e(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e=this.comp.threeDElements.length,r,_e,Se;for(t=0;t<e;t+=1)if(r=this.comp.threeDElements[t],r.type==="3d"){_e=r.perspectiveElem.style,Se=r.container.style;var Ae=this.pe.v+"px",Re="0px 0px 0px",Ee="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";_e.perspective=Ae,_e.webkitPerspective=Ae,Se.transformOrigin=Re,Se.mozTransformOrigin=Re,Se.webkitTransformOrigin=Re,_e.transform=Ee,_e.webkitTransform=Ee}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,e,r;if(this.hierarchy)for(r=this.hierarchy.length,e=0;e<r;e+=1)t=this.hierarchy[e].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=this.hierarchy.length-1,e=r;e>=0;e-=1){var _e=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-_e.p.v[0],-_e.p.v[1],_e.p.v[2]),this.mat.rotateX(-_e.or.v[0]).rotateY(-_e.or.v[1]).rotateZ(_e.or.v[2]),this.mat.rotateX(-_e.rx.v).rotateY(-_e.ry.v).rotateZ(_e.rz.v),this.mat.scale(1/_e.s.v[0],1/_e.s.v[1],1/_e.s.v[2]),this.mat.translate(_e.a.v[0],_e.a.v[1],_e.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Se;this.p?Se=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Se=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Ae=Math.sqrt(Math.pow(Se[0],2)+Math.pow(Se[1],2)+Math.pow(Se[2],2)),Re=[Se[0]/Ae,Se[1]/Ae,Se[2]/Ae],Ee=Math.sqrt(Re[2]*Re[2]+Re[0]*Re[0]),Ce=Math.atan2(Re[1],Ee),Te=Math.atan2(Re[0],-Re[2]);this.mat.rotateY(Te).rotateX(-Ce)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var De=!this._prevMat.equals(this.mat);if((De||this.pe._mdf)&&this.comp.threeDElements){r=this.comp.threeDElements.length;var ke,Pe,xe;for(e=0;e<r;e+=1)if(ke=this.comp.threeDElements[e],ke.type==="3d"){if(De){var Fe=this.mat.toCSS();xe=ke.container.style,xe.transform=Fe,xe.webkitTransform=Fe}this.pe._mdf&&(Pe=ke.perspectiveElem.style,Pe.perspective=this.pe.v+"px",Pe.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(!!r){var _e=this.layers[e];if(!_e.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var Se=0,Ae,Re,Ee;Se<e;)this.elements[Se]&&this.elements[Se]!==!0&&this.elements[Se].getBaseElement&&(Re=this.elements[Se],Ee=this.layers[Se].ddd?this.getThreeDContainerByPos(Se):Re.getBaseElement(),Ae=Ee||Ae),Se+=1;Ae?(!_e.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,Ae):(!_e.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}else this.addTo3dContainer(r,e)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var r=createTag("div"),_e,Se;styleDiv(r);var Ae=createTag("div");if(styleDiv(Ae),e==="3d"){_e=r.style,_e.width=this.globalData.compSize.w+"px",_e.height=this.globalData.compSize.h+"px";var Re="50% 50%";_e.webkitTransformOrigin=Re,_e.mozTransformOrigin=Re,_e.transformOrigin=Re,Se=Ae.style;var Ee="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Se.transform=Ee,Se.webkitTransform=Ee}r.appendChild(Ae);var Ce={container:Ae,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(Ce),Ce},HybridRendererBase.prototype.build3dContainers=function(){var t,e=this.layers.length,r,_e="";for(t=0;t<e;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(_e!=="3d"&&(_e="3d",r=this.createThreeDContainer(t,"3d")),r.endPos=Math.max(r.endPos,t)):(_e!=="2d"&&(_e="2d",r=this.createThreeDContainer(t,"2d")),r.endPos=Math.max(r.endPos,t));for(e=this.threeDElements.length,t=e-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var r=0,_e=this.threeDElements.length;r<_e;){if(e<=this.threeDElements[r].endPos){for(var Se=this.threeDElements[r].startPos,Ae;Se<e;)this.elements[Se]&&this.elements[Se].getBaseElement&&(Ae=this.elements[Se].getBaseElement()),Se+=1;Ae?this.threeDElements[r].container.insertBefore(t,Ae):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,_e=e.style;_e.width=t.w+"px",_e.height=t.h+"px",this.resizerElem=e,styleDiv(e),_e.transformStyle="flat",_e.mozTransformStyle="flat",_e.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),_e.overflow="hidden";var Se=createNS("svg");Se.setAttribute("width","1"),Se.setAttribute("height","1"),styleDiv(Se),this.resizerElem.appendChild(Se);var Ae=createNS("defs");Se.appendChild(Ae),this.data=t,this.setupGlobalData(t,Se),this.globalData.defs=Ae,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,r=t/e,_e=this.globalData.compSize.w/this.globalData.compSize.h,Se,Ae,Re,Ee;_e>r?(Se=t/this.globalData.compSize.w,Ae=t/this.globalData.compSize.w,Re=0,Ee=(e-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(Se=e/this.globalData.compSize.h,Ae=e/this.globalData.compSize.h,Re=(t-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,Ee=0);var Ce=this.resizerElem.style;Ce.webkitTransform="matrix3d("+Se+",0,0,0,0,"+Ae+",0,0,0,0,1,0,"+Re+","+Ee+",0,1)",Ce.transform=Ce.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,e=this.globalData.compSize.h,r,_e=this.threeDElements.length;for(r=0;r<_e;r+=1){var Se=this.threeDElements[r].perspectiveElem.style;Se.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",Se.perspective=Se.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,r=t.length,_e=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var Se=this.createComp(t[e],_e,this.globalData.comp,null);Se.initExpressions(),this.globalData.projectInterface.registerComposition(Se)}};function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r=0,_e;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(_e=this.elements[r].getBaseElement()),r+=1;_e?this.layerElement.insertBefore(t,_e):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var Expressions=function(){var t={};t.initExpressions=e;function e(r){var _e=0,Se=[];function Ae(){_e+=1}function Re(){_e-=1,_e===0&&Ce()}function Ee(Te){Se.indexOf(Te)===-1&&Se.push(Te)}function Ce(){var Te,De=Se.length;for(Te=0;Te<De;Te+=1)Se[Te].release();Se.length=0}r.renderer.compInterface=CompExpressionInterface(r.renderer),r.renderer.globalData.projectInterface.registerComposition(r.renderer),r.renderer.globalData.pushExpression=Ae,r.renderer.globalData.popExpression=Re,r.renderer.globalData.registerExpressionProperty=Ee}return t}();function _typeof$1(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(r){return typeof r}:_typeof$1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$1(t)}function seedRandom(t,e){var r=this,_e=256,Se=6,Ae=52,Re="random",Ee=e.pow(_e,Se),Ce=e.pow(2,Ae),Te=Ce*2,De=_e-1,ke;function Pe(je,Ve,ze){var He=[];Ve=Ve===!0?{entropy:!0}:Ve||{};var $e=Me(Ie(Ve.entropy?[je,Be(t)]:je===null?Oe():je,3),He),Ue=new xe(He),Xe=function(){for(var Ge=Ue.g(Se),St=Ee,mr=0;Ge<Ce;)Ge=(Ge+mr)*_e,St*=_e,mr=Ue.g(1);for(;Ge>=Te;)Ge/=2,St/=2,mr>>>=1;return(Ge+mr)/St};return Xe.int32=function(){return Ue.g(4)|0},Xe.quick=function(){return Ue.g(4)/4294967296},Xe.double=Xe,Me(Be(Ue.S),t),(Ve.pass||ze||function(nr,Ge,St,mr){return mr&&(mr.S&&Fe(mr,Ue),nr.state=function(){return Fe(Ue,{})}),St?(e[Re]=nr,Ge):nr})(Xe,$e,"global"in Ve?Ve.global:this==e,Ve.state)}e["seed"+Re]=Pe;function xe(je){var Ve,ze=je.length,He=this,$e=0,Ue=He.i=He.j=0,Xe=He.S=[];for(ze||(je=[ze++]);$e<_e;)Xe[$e]=$e++;for($e=0;$e<_e;$e++)Xe[$e]=Xe[Ue=De&Ue+je[$e%ze]+(Ve=Xe[$e])],Xe[Ue]=Ve;He.g=function(nr){for(var Ge,St=0,mr=He.i,pr=He.j,vr=He.S;nr--;)Ge=vr[mr=De&mr+1],St=St*_e+vr[De&(vr[mr]=vr[pr=De&pr+Ge])+(vr[pr]=Ge)];return He.i=mr,He.j=pr,St}}function Fe(je,Ve){return Ve.i=je.i,Ve.j=je.j,Ve.S=je.S.slice(),Ve}function Ie(je,Ve){var ze=[],He=_typeof$1(je),$e;if(Ve&&He=="object")for($e in je)try{ze.push(Ie(je[$e],Ve-1))}catch{}return ze.length?ze:He=="string"?je:je+"\0"}function Me(je,Ve){for(var ze=je+"",He,$e=0;$e<ze.length;)Ve[De&$e]=De&(He^=Ve[De&$e]*19)+ze.charCodeAt($e++);return Be(Ve)}function Oe(){try{var je=new Uint8Array(_e);return(r.crypto||r.msCrypto).getRandomValues(je),Be(je)}catch{var Ve=r.navigator,ze=Ve&&Ve.plugins;return[+new Date,r,ze,r.screen,Be(t)]}}function Be(je){return String.fromCharCode.apply(0,je)}Me(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(r){return typeof r}:_typeof=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return t==="number"||t==="boolean"||t==="string"||e instanceof Number}function $bm_neg(t){var e=_typeof(t);if(e==="number"||e==="boolean"||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var r,_e=t.length,Se=[];for(r=0;r<_e;r+=1)Se[r]=-t[r];return Se}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var r=_typeof(t),_e=_typeof(e);if(r==="string"||_e==="string"||isNumerable(r,t)&&isNumerable(_e,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var Se=0,Ae=t.length,Re=e.length,Ee=[];Se<Ae||Se<Re;)(typeof t[Se]=="number"||t[Se]instanceof Number)&&(typeof e[Se]=="number"||e[Se]instanceof Number)?Ee[Se]=t[Se]+e[Se]:Ee[Se]=e[Se]===void 0?t[Se]:t[Se]||e[Se],Se+=1;return Ee}return 0}var add=sum;function sub(t,e){var r=_typeof(t),_e=_typeof(e);if(isNumerable(r,t)&&isNumerable(_e,e))return r==="string"&&(t=parseInt(t,10)),_e==="string"&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var Se=0,Ae=t.length,Re=e.length,Ee=[];Se<Ae||Se<Re;)(typeof t[Se]=="number"||t[Se]instanceof Number)&&(typeof e[Se]=="number"||e[Se]instanceof Number)?Ee[Se]=t[Se]-e[Se]:Ee[Se]=e[Se]===void 0?t[Se]:t[Se]||e[Se],Se+=1;return Ee}return 0}function mul(t,e){var r=_typeof(t),_e=_typeof(e),Se;if(isNumerable(r,t)&&isNumerable(_e,e))return t*e;var Ae,Re;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e)){for(Re=t.length,Se=createTypedArray("float32",Re),Ae=0;Ae<Re;Ae+=1)Se[Ae]=t[Ae]*e;return Se}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(Re=e.length,Se=createTypedArray("float32",Re),Ae=0;Ae<Re;Ae+=1)Se[Ae]=t*e[Ae];return Se}return 0}function div(t,e){var r=_typeof(t),_e=_typeof(e),Se;if(isNumerable(r,t)&&isNumerable(_e,e))return t/e;var Ae,Re;if($bm_isInstanceOfArray(t)&&isNumerable(_e,e)){for(Re=t.length,Se=createTypedArray("float32",Re),Ae=0;Ae<Re;Ae+=1)Se[Ae]=t[Ae]/e;return Se}if(isNumerable(r,t)&&$bm_isInstanceOfArray(e)){for(Re=e.length,Se=createTypedArray("float32",Re),Ae=0;Ae<Re;Ae+=1)Se[Ae]=t/e[Ae];return Se}return 0}function mod(t,e){return typeof t=="string"&&(t=parseInt(t,10)),typeof e=="string"&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,r){if(e>r){var _e=r;r=e,e=_e}return Math.min(Math.max(t,e),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if(typeof t=="number"||t instanceof Number)return e=e||0,Math.abs(t-e);e||(e=helperLengthArray);var r,_e=Math.min(t.length,e.length),Se=0;for(r=0;r<_e;r+=1)Se+=Math.pow(e[r]-t[r],2);return Math.sqrt(Se)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],r=t[1],_e=t[2],Se=Math.max(e,r,_e),Ae=Math.min(e,r,_e),Re,Ee,Ce=(Se+Ae)/2;if(Se===Ae)Re=0,Ee=0;else{var Te=Se-Ae;switch(Ee=Ce>.5?Te/(2-Se-Ae):Te/(Se+Ae),Se){case e:Re=(r-_e)/Te+(r<_e?6:0);break;case r:Re=(_e-e)/Te+2;break;case _e:Re=(e-r)/Te+4;break}Re/=6}return[Re,Ee,Ce,t[3]]}function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function hslToRgb(t){var e=t[0],r=t[1],_e=t[2],Se,Ae,Re;if(r===0)Se=_e,Re=_e,Ae=_e;else{var Ee=_e<.5?_e*(1+r):_e+r-_e*r,Ce=2*_e-Ee;Se=hue2rgb(Ce,Ee,e+1/3),Ae=hue2rgb(Ce,Ee,e),Re=hue2rgb(Ce,Ee,e-1/3)}return[Se,Ae,Re,t[3]]}function linear(t,e,r,_e,Se){if((_e===void 0||Se===void 0)&&(_e=e,Se=r,e=0,r=1),r<e){var Ae=r;r=e,e=Ae}if(t<=e)return _e;if(t>=r)return Se;var Re=r===e?0:(t-e)/(r-e);if(!_e.length)return _e+(Se-_e)*Re;var Ee,Ce=_e.length,Te=createTypedArray("float32",Ce);for(Ee=0;Ee<Ce;Ee+=1)Te[Ee]=_e[Ee]+(Se[Ee]-_e[Ee])*Re;return Te}function random(t,e){if(e===void 0&&(t===void 0?(t=0,e=1):(e=t,t=void 0)),e.length){var r,_e=e.length;t||(t=createTypedArray("float32",_e));var Se=createTypedArray("float32",_e),Ae=BMMath.random();for(r=0;r<_e;r+=1)Se[r]=t[r]+Ae*(e[r]-t[r]);return Se}t===void 0&&(t=0);var Re=BMMath.random();return t+Re*(e-t)}function createPath(t,e,r,_e){var Se,Ae=t.length,Re=shapePool.newElement();Re.setPathData(!!_e,Ae);var Ee=[0,0],Ce,Te;for(Se=0;Se<Ae;Se+=1)Ce=e&&e[Se]?e[Se]:Ee,Te=r&&r[Se]?r[Se]:Ee,Re.setTripleAt(t[Se][0],t[Se][1],Te[0]+t[Se][0],Te[1]+t[Se][1],Ce[0]+t[Se][0],Ce[1]+t[Se][1],Se,!0);return Re}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function t(e,r){var _e,Se,Ae=this.pv.length?this.pv.length:1,Re=createTypedArray("float32",Ae);e=5;var Ee=Math.floor(time*e);for(_e=0,Se=0;_e<Ee;){for(Se=0;Se<Ae;Se+=1)Re[Se]+=-r+r*2*BMMath.random();_e+=1}var Ce=time*e,Te=Ce-Math.floor(Ce),De=createTypedArray("float32",Ae);if(Ae>1){for(Se=0;Se<Ae;Se+=1)De[Se]=this.pv[Se]+Re[Se]+(-r+r*2*BMMath.random())*Te;return De}return this.pv+Re[0]+(-r+r*2*BMMath.random())*Te}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,e){var r=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],_e=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads,Se=-Math.atan2(r[1],r[2])/degToRads;return[Se,_e,0]}function easeOut(t,e,r,_e,Se){return applyEase(easeOutBez,t,e,r,_e,Se)}function easeIn(t,e,r,_e,Se){return applyEase(easeInBez,t,e,r,_e,Se)}function ease(t,e,r,_e,Se){return applyEase(easeInOutBez,t,e,r,_e,Se)}function applyEase(t,e,r,_e,Se,Ae){Se===void 0?(Se=r,Ae=_e):e=(e-r)/(_e-r),e>1?e=1:e<0&&(e=0);var Re=t(e);if($bm_isInstanceOfArray(Se)){var Ee,Ce=Se.length,Te=createTypedArray("float32",Ce);for(Ee=0;Ee<Ce;Ee+=1)Te[Ee]=(Ae[Ee]-Se[Ee])*Re+Se[Ee];return Te}return(Ae-Se)*Re+Se}function nearestKey(t){var e,r=data.k.length,_e,Se;if(!data.k.length||typeof data.k[0]=="number")_e=0,Se=0;else if(_e=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)_e=1,Se=data.k[0].t;else{for(e=0;e<r-1;e+=1)if(t===data.k[e].t){_e=e+1,Se=data.k[e].t;break}else if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(_e=e+2,Se=data.k[e+1].t):(_e=e+1,Se=data.k[e].t);break}_e===-1&&(_e=e+1,Se=data.k[e].t)}var Ae={};return Ae.index=_e,Ae.time=Se/elem.comp.globalData.frameRate,Ae}function key(t){var e,r,_e;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var Se=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(_e=Se.length,r=0;r<_e;r+=1)e[r]=Se[r],e.value[r]=Se[r];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return!t&&t!==0&&(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return typeof value=="string"?e===void 0?value.substring(t):value.substring(t,e):""}function substr(t,e){return typeof value=="string"?e===void 0?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function t(Re,Ee,Ce){Ee.x&&(Ce.k=!0,Ce.x=!0,Ce.initiateExpression=ExpressionManager.initiateExpression,Ce.effectsSequence.push(Ce.initiateExpression(Re,Ee,Ce).bind(Ce)))}function e(Re){return Re*=this.elem.globalData.frameRate,Re-=this.offsetTime,Re!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Re?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Re,this._cachingAtTime),this._cachingAtTime.lastFrame=Re),this._cachingAtTime.value}function r(Re){var Ee=-.01,Ce=this.getValueAtTime(Re),Te=this.getValueAtTime(Re+Ee),De=0;if(Ce.length){var ke;for(ke=0;ke<Ce.length;ke+=1)De+=Math.pow(Te[ke]-Ce[ke],2);De=Math.sqrt(De)*100}else De=0;return De}function _e(Re){if(this.vel!==void 0)return this.vel;var Ee=-.001,Ce=this.getValueAtTime(Re),Te=this.getValueAtTime(Re+Ee),De;if(Ce.length){De=createTypedArray("float32",Ce.length);var ke;for(ke=0;ke<Ce.length;ke+=1)De[ke]=(Te[ke]-Ce[ke])/Ee}else De=(Te-Ce)/Ee;return De}function Se(){return this.pv}function Ae(Re){this.propertyGroup=Re}return{searchExpressions:t,getSpeedAtTime:r,getVelocityAtTime:_e,getValueAtTime:e,getStaticValueAtTime:Se,setGroupProperty:Ae}}();function addPropertyDecorator(){function t(Pe,xe,Fe){if(!this.k||!this.keyframes)return this.pv;Pe=Pe?Pe.toLowerCase():"";var Ie=this.comp.renderedFrame,Me=this.keyframes,Oe=Me[Me.length-1].t;if(Ie<=Oe)return this.pv;var Be,je;Fe?(xe?Be=Math.abs(Oe-this.elem.comp.globalData.frameRate*xe):Be=Math.max(0,Oe-this.elem.data.ip),je=Oe-Be):((!xe||xe>Me.length-1)&&(xe=Me.length-1),je=Me[Me.length-1-xe].t,Be=Oe-je);var Ve,ze,He;if(Pe==="pingpong"){var $e=Math.floor((Ie-je)/Be);if($e%2!==0)return this.getValueAtTime((Be-(Ie-je)%Be+je)/this.comp.globalData.frameRate,0)}else if(Pe==="offset"){var Ue=this.getValueAtTime(je/this.comp.globalData.frameRate,0),Xe=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),nr=this.getValueAtTime(((Ie-je)%Be+je)/this.comp.globalData.frameRate,0),Ge=Math.floor((Ie-je)/Be);if(this.pv.length){for(He=new Array(Ue.length),ze=He.length,Ve=0;Ve<ze;Ve+=1)He[Ve]=(Xe[Ve]-Ue[Ve])*Ge+nr[Ve];return He}return(Xe-Ue)*Ge+nr}else if(Pe==="continue"){var St=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),mr=this.getValueAtTime((Oe-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(He=new Array(St.length),ze=He.length,Ve=0;Ve<ze;Ve+=1)He[Ve]=St[Ve]+(St[Ve]-mr[Ve])*((Ie-Oe)/this.comp.globalData.frameRate)/5e-4;return He}return St+(St-mr)*((Ie-Oe)/.001)}return this.getValueAtTime(((Ie-je)%Be+je)/this.comp.globalData.frameRate,0)}function e(Pe,xe,Fe){if(!this.k)return this.pv;Pe=Pe?Pe.toLowerCase():"";var Ie=this.comp.renderedFrame,Me=this.keyframes,Oe=Me[0].t;if(Ie>=Oe)return this.pv;var Be,je;Fe?(xe?Be=Math.abs(this.elem.comp.globalData.frameRate*xe):Be=Math.max(0,this.elem.data.op-Oe),je=Oe+Be):((!xe||xe>Me.length-1)&&(xe=Me.length-1),je=Me[xe].t,Be=je-Oe);var Ve,ze,He;if(Pe==="pingpong"){var $e=Math.floor((Oe-Ie)/Be);if($e%2===0)return this.getValueAtTime(((Oe-Ie)%Be+Oe)/this.comp.globalData.frameRate,0)}else if(Pe==="offset"){var Ue=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),Xe=this.getValueAtTime(je/this.comp.globalData.frameRate,0),nr=this.getValueAtTime((Be-(Oe-Ie)%Be+Oe)/this.comp.globalData.frameRate,0),Ge=Math.floor((Oe-Ie)/Be)+1;if(this.pv.length){for(He=new Array(Ue.length),ze=He.length,Ve=0;Ve<ze;Ve+=1)He[Ve]=nr[Ve]-(Xe[Ve]-Ue[Ve])*Ge;return He}return nr-(Xe-Ue)*Ge}else if(Pe==="continue"){var St=this.getValueAtTime(Oe/this.comp.globalData.frameRate,0),mr=this.getValueAtTime((Oe+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(He=new Array(St.length),ze=He.length,Ve=0;Ve<ze;Ve+=1)He[Ve]=St[Ve]+(St[Ve]-mr[Ve])*(Oe-Ie)/.001;return He}return St+(St-mr)*(Oe-Ie)/.001}return this.getValueAtTime((Be-((Oe-Ie)%Be+Oe))/this.comp.globalData.frameRate,0)}function r(Pe,xe){if(!this.k)return this.pv;if(Pe=(Pe||.4)*.5,xe=Math.floor(xe||5),xe<=1)return this.pv;var Fe=this.comp.renderedFrame/this.comp.globalData.frameRate,Ie=Fe-Pe,Me=Fe+Pe,Oe=xe>1?(Me-Ie)/(xe-1):1,Be=0,je=0,Ve;this.pv.length?Ve=createTypedArray("float32",this.pv.length):Ve=0;for(var ze;Be<xe;){if(ze=this.getValueAtTime(Ie+Be*Oe),this.pv.length)for(je=0;je<this.pv.length;je+=1)Ve[je]+=ze[je];else Ve+=ze;Be+=1}if(this.pv.length)for(je=0;je<this.pv.length;je+=1)Ve[je]/=xe;else Ve/=xe;return Ve}function _e(Pe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var xe=this._transformCachingAtTime.v;if(xe.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Fe=this.a.getValueAtTime(Pe);xe.translate(-Fe[0]*this.a.mult,-Fe[1]*this.a.mult,Fe[2]*this.a.mult)}if(this.appliedTransformations<2){var Ie=this.s.getValueAtTime(Pe);xe.scale(Ie[0]*this.s.mult,Ie[1]*this.s.mult,Ie[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Me=this.sk.getValueAtTime(Pe),Oe=this.sa.getValueAtTime(Pe);xe.skewFromAxis(-Me*this.sk.mult,Oe*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Be=this.r.getValueAtTime(Pe);xe.rotate(-Be*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var je=this.rz.getValueAtTime(Pe),Ve=this.ry.getValueAtTime(Pe),ze=this.rx.getValueAtTime(Pe),He=this.or.getValueAtTime(Pe);xe.rotateZ(-je*this.rz.mult).rotateY(Ve*this.ry.mult).rotateX(ze*this.rx.mult).rotateZ(-He[2]*this.or.mult).rotateY(He[1]*this.or.mult).rotateX(He[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var $e=this.px.getValueAtTime(Pe),Ue=this.py.getValueAtTime(Pe);if(this.data.p.z){var Xe=this.pz.getValueAtTime(Pe);xe.translate($e*this.px.mult,Ue*this.py.mult,-Xe*this.pz.mult)}else xe.translate($e*this.px.mult,Ue*this.py.mult,0)}else{var nr=this.p.getValueAtTime(Pe);xe.translate(nr[0]*this.p.mult,nr[1]*this.p.mult,-nr[2]*this.p.mult)}return xe}function Se(){return this.v.clone(new Matrix)}var Ae=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Pe,xe,Fe){var Ie=Ae(Pe,xe,Fe);return Ie.dynamicProperties.length?Ie.getValueAtTime=_e.bind(Ie):Ie.getValueAtTime=Se.bind(Ie),Ie.setGroupProperty=expressionHelpers.setGroupProperty,Ie};var Re=PropertyFactory.getProp;PropertyFactory.getProp=function(Pe,xe,Fe,Ie,Me){var Oe=Re(Pe,xe,Fe,Ie,Me);Oe.kf?Oe.getValueAtTime=expressionHelpers.getValueAtTime.bind(Oe):Oe.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Oe),Oe.setGroupProperty=expressionHelpers.setGroupProperty,Oe.loopOut=t,Oe.loopIn=e,Oe.smooth=r,Oe.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Oe),Oe.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Oe),Oe.numKeys=xe.a===1?xe.k.length:0,Oe.propertyIndex=xe.ix;var Be=0;return Fe!==0&&(Be=createTypedArray("float32",xe.a===1?xe.k[0].s.length:xe.k.length)),Oe._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Be},expressionHelpers.searchExpressions(Pe,xe,Oe),Oe.k&&Me.addDynamicProperty(Oe),Oe};function Ee(Pe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Pe*=this.elem.globalData.frameRate,Pe-=this.offsetTime,Pe!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Pe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Pe,this.interpolateShape(Pe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Ce=ShapePropertyFactory.getConstructorFunction(),Te=ShapePropertyFactory.getKeyframedConstructorFunction();function De(){}De.prototype={vertices:function(xe,Fe){this.k&&this.getValue();var Ie=this.v;Fe!==void 0&&(Ie=this.getValueAtTime(Fe,0));var Me,Oe=Ie._length,Be=Ie[xe],je=Ie.v,Ve=createSizedArray(Oe);for(Me=0;Me<Oe;Me+=1)xe==="i"||xe==="o"?Ve[Me]=[Be[Me][0]-je[Me][0],Be[Me][1]-je[Me][1]]:Ve[Me]=[Be[Me][0],Be[Me][1]];return Ve},points:function(xe){return this.vertices("v",xe)},inTangents:function(xe){return this.vertices("i",xe)},outTangents:function(xe){return this.vertices("o",xe)},isClosed:function(){return this.v.c},pointOnPath:function(xe,Fe){var Ie=this.v;Fe!==void 0&&(Ie=this.getValueAtTime(Fe,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ie));for(var Me=this._segmentsLength,Oe=Me.lengths,Be=Me.totalLength*xe,je=0,Ve=Oe.length,ze=0,He;je<Ve;){if(ze+Oe[je].addedLength>Be){var $e=je,Ue=Ie.c&&je===Ve-1?0:je+1,Xe=(Be-ze)/Oe[je].addedLength;He=bez.getPointInSegment(Ie.v[$e],Ie.v[Ue],Ie.o[$e],Ie.i[Ue],Xe,Oe[je]);break}else ze+=Oe[je].addedLength;je+=1}return He||(He=Ie.c?[Ie.v[0][0],Ie.v[0][1]]:[Ie.v[Ie._length-1][0],Ie.v[Ie._length-1][1]]),He},vectorOnPath:function(xe,Fe,Ie){xe==1?xe=this.v.c:xe==0&&(xe=.999);var Me=this.pointOnPath(xe,Fe),Oe=this.pointOnPath(xe+.001,Fe),Be=Oe[0]-Me[0],je=Oe[1]-Me[1],Ve=Math.sqrt(Math.pow(Be,2)+Math.pow(je,2));if(Ve===0)return[0,0];var ze=Ie==="tangent"?[Be/Ve,je/Ve]:[-je/Ve,Be/Ve];return ze},tangentOnPath:function(xe,Fe){return this.vectorOnPath(xe,Fe,"tangent")},normalOnPath:function(xe,Fe){return this.vectorOnPath(xe,Fe,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([De],Ce),extendPrototype([De],Te),Te.prototype.getValueAtTime=Ee,Te.prototype.initiateExpression=ExpressionManager.initiateExpression;var ke=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Pe,xe,Fe,Ie,Me){var Oe=ke(Pe,xe,Fe,Ie,Me);return Oe.propertyIndex=xe.ix,Oe.lock=!1,Fe===3?expressionHelpers.searchExpressions(Pe,xe.pt,Oe):Fe===4&&expressionHelpers.searchExpressions(Pe,xe.ks,Oe),Oe.k&&Pe.addDynamicProperty(Oe),Oe}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,r){var _e=this.calculateExpression(r);if(e.t!==_e){var Se={};return this.copyData(Se,e),Se.t=_e.toString(),Se.__complete=!1,Se}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),r=this.searchExpressions();return this.kf=e||r,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function t(e,r){var _e=createNS("feMerge");_e.setAttribute("result",e);var Se,Ae;for(Ae=0;Ae<r.length;Ae+=1)Se=createNS("feMergeNode"),Se.setAttribute("in",r[Ae]),_e.appendChild(Se),_e.appendChild(Se);return _e}};function SVGTintFilter(t,e,r,_e,Se){this.filterManager=e;var Ae=createNS("feColorMatrix");Ae.setAttribute("type","matrix"),Ae.setAttribute("color-interpolation-filters","linearRGB"),Ae.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Ae.setAttribute("result",_e+"_tint_1"),t.appendChild(Ae),Ae=createNS("feColorMatrix"),Ae.setAttribute("type","matrix"),Ae.setAttribute("color-interpolation-filters","sRGB"),Ae.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Ae.setAttribute("result",_e+"_tint_2"),t.appendChild(Ae),this.matrixFilter=Ae;var Re=this.createMergeNode(_e,[Se,_e+"_tint_1",_e+"_tint_2"]);t.appendChild(Re)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,_e=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+_e+" 0")}};function SVGFillFilter(t,e,r,_e){this.filterManager=e;var Se=createNS("feColorMatrix");Se.setAttribute("type","matrix"),Se.setAttribute("color-interpolation-filters","sRGB"),Se.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Se.setAttribute("result",_e),t.appendChild(Se),this.matrixFilter=Se}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}};function SVGStrokeEffect(t,e,r){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,r,_e,Se;for(this.filterManager.effectElements[1].p.v===1?(Se=this.elem.maskManager.masksProperties.length,_e=0):(_e=this.filterManager.effectElements[0].p.v-1,Se=_e+1),r=createNS("g"),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),r.setAttribute("stroke-dashoffset",1),_e;_e<Se;_e+=1)e=createNS("path"),r.appendChild(e),this.paths.push({p:e,m:_e});if(this.filterManager.effectElements[10].p.v===3){var Ae=createNS("mask"),Re=createElementID();Ae.setAttribute("id",Re),Ae.setAttribute("mask-type","alpha"),Ae.appendChild(r),this.elem.globalData.defs.appendChild(Ae);var Ee=createNS("g");for(Ee.setAttribute("mask","url("+getLocationHref()+"#"+Re+")");t[0];)Ee.appendChild(t[0]);this.elem.layerElement.appendChild(Ee),this.masker=Ae,r.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(r),this.elem.layerElement.removeAttribute("mask"),r.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=r},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var e,r=this.paths.length,_e,Se;for(e=0;e<r;e+=1)if(this.paths[e].m!==-1&&(_e=this.elem.maskManager.viewData[this.paths[e].m],Se=this.paths[e].p,(t||this.filterManager._mdf||_e.prop._mdf)&&Se.setAttribute("d",_e.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||_e.prop._mdf)){var Ae;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Re=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ee=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ce=Se.getTotalLength();Ae="0 0 0 "+Ce*Re+" ";var Te=Ce*(Ee-Re),De=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ke=Math.floor(Te/De),Pe;for(Pe=0;Pe<ke;Pe+=1)Ae+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Ae+="0 "+Ce*10+" 0 0"}else Ae="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Se.setAttribute("stroke-dasharray",Ae)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var xe=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(xe[0]*255)+","+bmFloor(xe[1]*255)+","+bmFloor(xe[2]*255)+")")}};function SVGTritoneFilter(t,e,r,_e){this.filterManager=e;var Se=createNS("feColorMatrix");Se.setAttribute("type","matrix"),Se.setAttribute("color-interpolation-filters","linearRGB"),Se.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(Se);var Ae=createNS("feComponentTransfer");Ae.setAttribute("color-interpolation-filters","sRGB"),Ae.setAttribute("result",_e),this.matrixFilter=Ae;var Re=createNS("feFuncR");Re.setAttribute("type","table"),Ae.appendChild(Re),this.feFuncR=Re;var Ee=createNS("feFuncG");Ee.setAttribute("type","table"),Ae.appendChild(Ee),this.feFuncG=Ee;var Ce=createNS("feFuncB");Ce.setAttribute("type","table"),Ae.appendChild(Ce),this.feFuncB=Ce,t.appendChild(Ae)}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,_e=this.filterManager.effectElements[2].p.v,Se=_e[0]+" "+r[0]+" "+e[0],Ae=_e[1]+" "+r[1]+" "+e[1],Re=_e[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",Se),this.feFuncG.setAttribute("tableValues",Ae),this.feFuncB.setAttribute("tableValues",Re)}};function SVGProLevelsFilter(t,e,r,_e){this.filterManager=e;var Se=this.filterManager.effectElements,Ae=createNS("feComponentTransfer");(Se[10].p.k||Se[10].p.v!==0||Se[11].p.k||Se[11].p.v!==1||Se[12].p.k||Se[12].p.v!==1||Se[13].p.k||Se[13].p.v!==0||Se[14].p.k||Se[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Ae)),(Se[17].p.k||Se[17].p.v!==0||Se[18].p.k||Se[18].p.v!==1||Se[19].p.k||Se[19].p.v!==1||Se[20].p.k||Se[20].p.v!==0||Se[21].p.k||Se[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Ae)),(Se[24].p.k||Se[24].p.v!==0||Se[25].p.k||Se[25].p.v!==1||Se[26].p.k||Se[26].p.v!==1||Se[27].p.k||Se[27].p.v!==0||Se[28].p.k||Se[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Ae)),(Se[31].p.k||Se[31].p.v!==0||Se[32].p.k||Se[32].p.v!==1||Se[33].p.k||Se[33].p.v!==1||Se[34].p.k||Se[34].p.v!==0||Se[35].p.k||Se[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Ae)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Ae.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(Ae)),(Se[3].p.k||Se[3].p.v!==0||Se[4].p.k||Se[4].p.v!==1||Se[5].p.k||Se[5].p.v!==1||Se[6].p.k||Se[6].p.v!==0||Se[7].p.k||Se[7].p.v!==1)&&(Ae=createNS("feComponentTransfer"),Ae.setAttribute("color-interpolation-filters","sRGB"),Ae.setAttribute("result",_e),t.appendChild(Ae),this.feFuncRComposed=this.createFeFunc("feFuncR",Ae),this.feFuncGComposed=this.createFeFunc("feFuncG",Ae),this.feFuncBComposed=this.createFeFunc("feFuncB",Ae))}SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,_e,Se){for(var Ae=0,Re=256,Ee,Ce=Math.min(t,e),Te=Math.max(t,e),De=Array.call(null,{length:Re}),ke,Pe=0,xe=Se-_e,Fe=e-t;Ae<=256;)Ee=Ae/256,Ee<=Ce?ke=Fe<0?Se:_e:Ee>=Te?ke=Fe<0?_e:Se:ke=_e+xe*Math.pow((Ee-t)/Fe,1/r),De[Pe]=ke,Pe+=1,Ae+=256/(Re-1);return De.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(t,e,r,_e,Se){var Ae=e.container.globalData.renderConfig.filterSize,Re=e.data.fs||Ae;t.setAttribute("x",Re.x||Ae.x),t.setAttribute("y",Re.y||Ae.y),t.setAttribute("width",Re.width||Ae.width),t.setAttribute("height",Re.height||Ae.height),this.filterManager=e;var Ee=createNS("feGaussianBlur");Ee.setAttribute("in","SourceAlpha"),Ee.setAttribute("result",_e+"_drop_shadow_1"),Ee.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ee,t.appendChild(Ee);var Ce=createNS("feOffset");Ce.setAttribute("dx","25"),Ce.setAttribute("dy","0"),Ce.setAttribute("in",_e+"_drop_shadow_1"),Ce.setAttribute("result",_e+"_drop_shadow_2"),this.feOffset=Ce,t.appendChild(Ce);var Te=createNS("feFlood");Te.setAttribute("flood-color","#00ff00"),Te.setAttribute("flood-opacity","1"),Te.setAttribute("result",_e+"_drop_shadow_3"),this.feFlood=Te,t.appendChild(Te);var De=createNS("feComposite");De.setAttribute("in",_e+"_drop_shadow_3"),De.setAttribute("in2",_e+"_drop_shadow_2"),De.setAttribute("operator","in"),De.setAttribute("result",_e+"_drop_shadow_4"),t.appendChild(De);var ke=this.createMergeNode(_e,[_e+"_drop_shadow_4",Se]);t.appendChild(ke)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,_e=(this.filterManager.effectElements[2].p.v-90)*degToRads,Se=r*Math.cos(_e),Ae=r*Math.sin(_e);this.feOffset.setAttribute("dx",Se),this.feOffset.setAttribute("dy",Ae)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(!!r){for(var _e=r.children,Se=0,Ae=_e.length;Se<Ae&&_e[Se]!==t.layerElement;)Se+=1;var Re;Se<=Ae-2&&(Re=_e[Se+1]);var Ee=createNS("use");Ee.setAttribute("href","#"+e),Re?r.insertBefore(Ee,Re):r.appendChild(Ee)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),_e=createNS("mask");_e.setAttribute("id",e.layerId),_e.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var Se=t.globalData.defs;Se.appendChild(_e);var Ae=createNS("symbol");Ae.setAttribute("id",r),this.replaceInParent(e,r),Ae.appendChild(e.layerElement),Se.appendChild(Ae);var Re=createNS("use");Re.setAttribute("href","#"+r),_e.appendChild(Re),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,_e=e.length;r<_e;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,e,r,_e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var Se=createNS("feGaussianBlur");Se.setAttribute("result",_e),t.appendChild(Se),this.feGaussianBlur=Se}return SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,r=this.filterManager.effectElements[0].p.v*e,_e=this.filterManager.effectElements[1].p.v,Se=_e==3?0:r,Ae=_e==2?0:r;this.feGaussianBlur.setAttribute("stdDeviation",Se+" "+Ae);var Re=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Re)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie$1,lottie$1.exports);const lottie=lottie$1.exports,plugins_lottie_ts_q1asFBKAuo=defineNuxtPlugin(t=>({provide:{lottie}}));function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};(function(module,exports){(function(e,r){module.exports=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Sr,e.bytesToString=ar,e.createPromiseCapability=di,e.createValidAbsoluteUrl=Ze,e.getModificationDate=Qr,e.getVerbosityLevel=gr,e.info=sr,e.isArrayBuffer=Gr,e.isArrayEqual=ii,e.objectFromMap=ur,e.objectSize=er,e.setVerbosityLevel=dr,e.shadow=Ye,e.string32=rr,e.stringToBytes=Qe,e.stringToPDFString=Vr,e.stringToUTF8String=zr,e.unreachable=hr,e.utf8StringToString=$r,e.warn=tr;const r=[1,0,0,1,0,0];e.IDENTITY_MATRIX=r;const _e=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=_e;const Se=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=Se;const Ae=1.35;e.LINE_FACTOR=Ae;const Re=.35;e.LINE_DESCENT_FACTOR=Re;const Ee=Re/Ae;e.BASELINE_FACTOR=Ee;const Ce={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=Ce;const Te={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=Te;const De="pdfjs_internal_editor_";e.AnnotationEditorPrefix=De;const ke={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=ke;const Pe={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=Pe;const xe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=xe;const Fe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=Fe;const Ie={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=Ie;const Me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=Me;const Oe={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=Oe;const Be={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=Be;const je={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=je;const Ve={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=Ve;const ze={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=ze;const He={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=He;const $e={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=$e;const Ue={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=Ue;const Xe={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=Xe;const nr={O:"PageOpen",C:"PageClose"};e.PageActionEventType=nr;const Ge={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Ge;const St={NONE:0,BINARY:1};e.CMapCompressionType=St;const mr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=mr;const pr={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=pr;let vr=Ge.WARNINGS;function dr(Lr){Number.isInteger(Lr)&&(vr=Lr)}function gr(){return vr}function sr(Lr){vr>=Ge.INFOS&&console.log(`Info: ${Lr}`)}function tr(Lr){vr>=Ge.WARNINGS&&console.log(`Warning: ${Lr}`)}function hr(Lr){throw new Error(Lr)}function Sr(Lr,Hr){Lr||hr(Hr)}function Je(Lr){if(!Lr)return!1;switch(Lr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ze(Lr,Hr=null,jr=null){if(!Lr)return null;try{if(jr&&typeof Lr=="string"){if(jr.addDefaultProtocol&&Lr.startsWith("www.")){const vi=Lr.match(/\./g);vi&&vi.length>=2&&(Lr=`http://${Lr}`)}if(jr.tryConvertEncoding)try{Lr=zr(Lr)}catch{}}const ci=Hr?new URL(Lr,Hr):new URL(Lr);if(Je(ci))return ci}catch{}return null}function Ye(Lr,Hr,jr,ci=!1){return Object.defineProperty(Lr,Hr,{value:jr,enumerable:!ci,configurable:!0,writable:!1}),jr}const We=function(){function Hr(jr,ci){this.constructor===Hr&&hr("Cannot initialize BaseException."),this.message=jr,this.name=ci}return Hr.prototype=new Error,Hr.constructor=Hr,Hr}();e.BaseException=We;class or extends We{constructor(Hr,jr){super(Hr,"PasswordException"),this.code=jr}}e.PasswordException=or;class fr extends We{constructor(Hr,jr){super(Hr,"UnknownErrorException"),this.details=jr}}e.UnknownErrorException=fr;class _r extends We{constructor(Hr){super(Hr,"InvalidPDFException")}}e.InvalidPDFException=_r;class yr extends We{constructor(Hr){super(Hr,"MissingPDFException")}}e.MissingPDFException=yr;class xr extends We{constructor(Hr,jr){super(Hr,"UnexpectedResponseException"),this.status=jr}}e.UnexpectedResponseException=xr;class Ar extends We{constructor(Hr){super(Hr,"FormatError")}}e.FormatError=Ar;class cr extends We{constructor(Hr){super(Hr,"AbortException")}}e.AbortException=cr;function ar(Lr){(typeof Lr!="object"||Lr===null||Lr.length===void 0)&&hr("Invalid argument for bytesToString");const Hr=Lr.length,jr=8192;if(Hr<jr)return String.fromCharCode.apply(null,Lr);const ci=[];for(let vi=0;vi<Hr;vi+=jr){const qr=Math.min(vi+jr,Hr),ni=Lr.subarray(vi,qr);ci.push(String.fromCharCode.apply(null,ni))}return ci.join("")}function Qe(Lr){typeof Lr!="string"&&hr("Invalid argument for stringToBytes");const Hr=Lr.length,jr=new Uint8Array(Hr);for(let ci=0;ci<Hr;++ci)jr[ci]=Lr.charCodeAt(ci)&255;return jr}function rr(Lr){return String.fromCharCode(Lr>>24&255,Lr>>16&255,Lr>>8&255,Lr&255)}function er(Lr){return Object.keys(Lr).length}function ur(Lr){const Hr=Object.create(null);for(const[jr,ci]of Lr)Hr[jr]=ci;return Hr}function Cr(){const Lr=new Uint8Array(4);return Lr[0]=1,new Uint32Array(Lr.buffer,0,1)[0]===1}function wr(){try{return new Function(""),!0}catch{return!1}}class Or{static get isLittleEndian(){return Ye(this,"isLittleEndian",Cr())}static get isEvalSupported(){return Ye(this,"isEvalSupported",wr())}static get isOffscreenCanvasSupported(){return Ye(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ye(this,"platform",{isWin:!1,isMac:!1}):Ye(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=Or;const kr=[...Array(256).keys()].map(Lr=>Lr.toString(16).padStart(2,"0"));class Pr{static makeHexColor(Hr,jr,ci){return`#${kr[Hr]}${kr[jr]}${kr[ci]}`}static scaleMinMax(Hr,jr){let ci;Hr[0]?(Hr[0]<0&&(ci=jr[0],jr[0]=jr[1],jr[1]=ci),jr[0]*=Hr[0],jr[1]*=Hr[0],Hr[3]<0&&(ci=jr[2],jr[2]=jr[3],jr[3]=ci),jr[2]*=Hr[3],jr[3]*=Hr[3]):(ci=jr[0],jr[0]=jr[2],jr[2]=ci,ci=jr[1],jr[1]=jr[3],jr[3]=ci,Hr[1]<0&&(ci=jr[2],jr[2]=jr[3],jr[3]=ci),jr[2]*=Hr[1],jr[3]*=Hr[1],Hr[2]<0&&(ci=jr[0],jr[0]=jr[1],jr[1]=ci),jr[0]*=Hr[2],jr[1]*=Hr[2]),jr[0]+=Hr[4],jr[1]+=Hr[4],jr[2]+=Hr[5],jr[3]+=Hr[5]}static transform(Hr,jr){return[Hr[0]*jr[0]+Hr[2]*jr[1],Hr[1]*jr[0]+Hr[3]*jr[1],Hr[0]*jr[2]+Hr[2]*jr[3],Hr[1]*jr[2]+Hr[3]*jr[3],Hr[0]*jr[4]+Hr[2]*jr[5]+Hr[4],Hr[1]*jr[4]+Hr[3]*jr[5]+Hr[5]]}static applyTransform(Hr,jr){const ci=Hr[0]*jr[0]+Hr[1]*jr[2]+jr[4],vi=Hr[0]*jr[1]+Hr[1]*jr[3]+jr[5];return[ci,vi]}static applyInverseTransform(Hr,jr){const ci=jr[0]*jr[3]-jr[1]*jr[2],vi=(Hr[0]*jr[3]-Hr[1]*jr[2]+jr[2]*jr[5]-jr[4]*jr[3])/ci,qr=(-Hr[0]*jr[1]+Hr[1]*jr[0]+jr[4]*jr[1]-jr[5]*jr[0])/ci;return[vi,qr]}static getAxialAlignedBoundingBox(Hr,jr){const ci=Pr.applyTransform(Hr,jr),vi=Pr.applyTransform(Hr.slice(2,4),jr),qr=Pr.applyTransform([Hr[0],Hr[3]],jr),ni=Pr.applyTransform([Hr[2],Hr[1]],jr);return[Math.min(ci[0],vi[0],qr[0],ni[0]),Math.min(ci[1],vi[1],qr[1],ni[1]),Math.max(ci[0],vi[0],qr[0],ni[0]),Math.max(ci[1],vi[1],qr[1],ni[1])]}static inverseTransform(Hr){const jr=Hr[0]*Hr[3]-Hr[1]*Hr[2];return[Hr[3]/jr,-Hr[1]/jr,-Hr[2]/jr,Hr[0]/jr,(Hr[2]*Hr[5]-Hr[4]*Hr[3])/jr,(Hr[4]*Hr[1]-Hr[5]*Hr[0])/jr]}static singularValueDecompose2dScale(Hr){const jr=[Hr[0],Hr[2],Hr[1],Hr[3]],ci=Hr[0]*jr[0]+Hr[1]*jr[2],vi=Hr[0]*jr[1]+Hr[1]*jr[3],qr=Hr[2]*jr[0]+Hr[3]*jr[2],ni=Hr[2]*jr[1]+Hr[3]*jr[3],fi=(ci+ni)/2,Ai=Math.sqrt((ci+ni)**2-4*(ci*ni-qr*vi))/2,Di=fi+Ai||1,Oi=fi-Ai||1;return[Math.sqrt(Di),Math.sqrt(Oi)]}static normalizeRect(Hr){const jr=Hr.slice(0);return Hr[0]>Hr[2]&&(jr[0]=Hr[2],jr[2]=Hr[0]),Hr[1]>Hr[3]&&(jr[1]=Hr[3],jr[3]=Hr[1]),jr}static intersect(Hr,jr){const ci=Math.max(Math.min(Hr[0],Hr[2]),Math.min(jr[0],jr[2])),vi=Math.min(Math.max(Hr[0],Hr[2]),Math.max(jr[0],jr[2]));if(ci>vi)return null;const qr=Math.max(Math.min(Hr[1],Hr[3]),Math.min(jr[1],jr[3])),ni=Math.min(Math.max(Hr[1],Hr[3]),Math.max(jr[1],jr[3]));return qr>ni?null:[ci,qr,vi,ni]}static bezierBoundingBox(Hr,jr,ci,vi,qr,ni,fi,Ai){const Di=[],Oi=[[],[]];let Ri,ki,Ci,wi,Yi,Ti,si,Si;for(let Li=0;Li<2;++Li){if(Li===0?(ki=6*Hr-12*ci+6*qr,Ri=-3*Hr+9*ci-9*qr+3*fi,Ci=3*ci-3*Hr):(ki=6*jr-12*vi+6*ni,Ri=-3*jr+9*vi-9*ni+3*Ai,Ci=3*vi-3*jr),Math.abs(Ri)<1e-12){if(Math.abs(ki)<1e-12)continue;wi=-Ci/ki,0<wi&&wi<1&&Di.push(wi);continue}si=ki*ki-4*Ci*Ri,Si=Math.sqrt(si),!(si<0)&&(Yi=(-ki+Si)/(2*Ri),0<Yi&&Yi<1&&Di.push(Yi),Ti=(-ki-Si)/(2*Ri),0<Ti&&Ti<1&&Di.push(Ti))}let hi=Di.length,xi;const ji=hi;for(;hi--;)wi=Di[hi],xi=1-wi,Oi[0][hi]=xi*xi*xi*Hr+3*xi*xi*wi*ci+3*xi*wi*wi*qr+wi*wi*wi*fi,Oi[1][hi]=xi*xi*xi*jr+3*xi*xi*wi*vi+3*xi*wi*wi*ni+wi*wi*wi*Ai;return Oi[0][ji]=Hr,Oi[1][ji]=jr,Oi[0][ji+1]=fi,Oi[1][ji+1]=Ai,Oi[0].length=Oi[1].length=ji+2,[Math.min(...Oi[0]),Math.min(...Oi[1]),Math.max(...Oi[0]),Math.max(...Oi[1])]}}e.Util=Pr;const Ir=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Vr(Lr){if(Lr[0]>="\xEF"){let jr;if(Lr[0]==="\xFE"&&Lr[1]==="\xFF"?jr="utf-16be":Lr[0]==="\xFF"&&Lr[1]==="\xFE"?jr="utf-16le":Lr[0]==="\xEF"&&Lr[1]==="\xBB"&&Lr[2]==="\xBF"&&(jr="utf-8"),jr)try{const ci=new TextDecoder(jr,{fatal:!0}),vi=Qe(Lr);return ci.decode(vi)}catch(ci){tr(`stringToPDFString: "${ci}".`)}}const Hr=[];for(let jr=0,ci=Lr.length;jr<ci;jr++){const vi=Ir[Lr.charCodeAt(jr)];Hr.push(vi?String.fromCharCode(vi):Lr.charAt(jr))}return Hr.join("")}function zr(Lr){return decodeURIComponent(escape(Lr))}function $r(Lr){return unescape(encodeURIComponent(Lr))}function Gr(Lr){return typeof Lr=="object"&&Lr!==null&&Lr.byteLength!==void 0}function ii(Lr,Hr){if(Lr.length!==Hr.length)return!1;for(let jr=0,ci=Lr.length;jr<ci;jr++)if(Lr[jr]!==Hr[jr])return!1;return!0}function Qr(Lr=new Date){return[Lr.getUTCFullYear().toString(),(Lr.getUTCMonth()+1).toString().padStart(2,"0"),Lr.getUTCDate().toString().padStart(2,"0"),Lr.getUTCHours().toString().padStart(2,"0"),Lr.getUTCMinutes().toString().padStart(2,"0"),Lr.getUTCSeconds().toString().padStart(2,"0")].join("")}function di(){const Lr=Object.create(null);let Hr=!1;return Object.defineProperty(Lr,"settled",{get(){return Hr}}),Lr.promise=new Promise(function(jr,ci){Lr.resolve=function(vi){Hr=!0,jr(vi)},Lr.reject=function(vi){Hr=!0,ci(vi)}}),Lr}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,r,_e,Se,ma,Re,Vo,Ce,Te,De,ke,Pe,xe,Fe,Ie,Il,Oe,Be,Nl,Ve,ze;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:$e,NodeCMapReaderFactory:Ue,NodeFilterFactory:Xe,NodeStandardFontDataFactory:nr}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=$e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=Ue,exports.DefaultFilterFactory=DefaultFilterFactory=Xe,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=nr}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:$e}=__w_pdfjs_require__(21);createPDFNetworkStream=Ue=>new $e(Ue)}else{const{PDFNetworkStream:$e}=__w_pdfjs_require__(24),{PDFFetchStream:Ue}=__w_pdfjs_require__(25);createPDFNetworkStream=Xe=>(0,_display_utils.isValidFetchUrl)(Xe.url)?new Ue(Xe):new $e(Xe)}function getDocument($e){var Gr,ii;if(typeof $e=="string"||$e instanceof URL?$e={url:$e}:(0,_util.isArrayBuffer)($e)&&($e={data:$e}),typeof $e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!$e.url&&!$e.data&&!$e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Ue=new PDFDocumentLoadingTask,{docId:Xe}=Ue,nr=$e.url?getUrlProp($e.url):null,Ge=$e.data?getDataProp($e.data):null,St=$e.httpHeaders||null,mr=$e.withCredentials===!0,pr=(Gr=$e.password)!=null?Gr:null,vr=$e.range instanceof PDFDataRangeTransport?$e.range:null,dr=Number.isInteger($e.rangeChunkSize)&&$e.rangeChunkSize>0?$e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let gr=$e.worker instanceof PDFWorker?$e.worker:null;const sr=$e.verbosity,tr=typeof $e.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)($e.docBaseUrl)?$e.docBaseUrl:null,hr=typeof $e.cMapUrl=="string"?$e.cMapUrl:null,Sr=$e.cMapPacked!==!1,Je=$e.CMapReaderFactory||DefaultCMapReaderFactory,Ze=typeof $e.standardFontDataUrl=="string"?$e.standardFontDataUrl:null,Ye=$e.StandardFontDataFactory||DefaultStandardFontDataFactory,We=$e.stopAtErrors!==!0,or=Number.isInteger($e.maxImageSize)&&$e.maxImageSize>-1?$e.maxImageSize:-1,fr=$e.isEvalSupported!==!1,_r=typeof $e.isOffscreenCanvasSupported=="boolean"?$e.isOffscreenCanvasSupported:!_is_node.isNodeJS,yr=Number.isInteger($e.canvasMaxAreaInBytes)?$e.canvasMaxAreaInBytes:-1,xr=typeof $e.disableFontFace=="boolean"?$e.disableFontFace:_is_node.isNodeJS,Ar=$e.fontExtraProperties===!0,cr=$e.enableXfa===!0,ar=$e.ownerDocument||globalThis.document,Qe=$e.disableRange===!0,rr=$e.disableStream===!0,er=$e.disableAutoFetch===!0,ur=$e.pdfBug===!0,Cr=vr?vr.length:(ii=$e.length)!=null?ii:NaN,wr=typeof $e.useSystemFonts=="boolean"?$e.useSystemFonts:!_is_node.isNodeJS&&!xr,Or=typeof $e.useWorkerFetch=="boolean"?$e.useWorkerFetch:Je===_display_utils.DOMCMapReaderFactory&&Ye===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(hr,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Ze,document.baseURI),kr=$e.canvasFactory||new DefaultCanvasFactory({ownerDocument:ar}),Pr=$e.filterFactory||new DefaultFilterFactory({docId:Xe,ownerDocument:ar}),Ir=null;(0,_util.setVerbosityLevel)(sr);const Vr={canvasFactory:kr,filterFactory:Pr};if(Or||(Vr.cMapReaderFactory=new Je({baseUrl:hr,isCompressed:Sr}),Vr.standardFontDataFactory=new Ye({baseUrl:Ze})),!gr){const Qr={verbosity:sr,port:_worker_options.GlobalWorkerOptions.workerPort};gr=Qr.port?PDFWorker.fromPort(Qr):new PDFWorker(Qr),Ue._worker=gr}const zr={docId:Xe,apiVersion:"3.5.141",data:Ge,password:pr,disableAutoFetch:er,rangeChunkSize:dr,length:Cr,docBaseUrl:tr,enableXfa:cr,evaluatorOptions:{maxImageSize:or,disableFontFace:xr,ignoreErrors:We,isEvalSupported:fr,isOffscreenCanvasSupported:_r,canvasMaxAreaInBytes:yr,fontExtraProperties:Ar,useSystemFonts:wr,cMapUrl:Or?hr:null,standardFontDataUrl:Or?Ze:null}},$r={ignoreErrors:We,isEvalSupported:fr,disableFontFace:xr,fontExtraProperties:Ar,enableXfa:cr,ownerDocument:ar,disableAutoFetch:er,pdfBug:ur,styleElement:Ir};return gr.promise.then(function(){if(Ue.destroyed)throw new Error("Loading aborted");const Qr=_fetchDocument(gr,zr),di=new Promise(function(Lr){let Hr;vr?Hr=new _transport_stream.PDFDataTransportStream({length:Cr,initialData:vr.initialData,progressiveDone:vr.progressiveDone,contentDispositionFilename:vr.contentDispositionFilename,disableRange:Qe,disableStream:rr},vr):Ge||(Hr=createPDFNetworkStream({url:nr,length:Cr,httpHeaders:St,withCredentials:mr,rangeChunkSize:dr,disableRange:Qe,disableStream:rr})),Lr(Hr)});return Promise.all([Qr,di]).then(function([Lr,Hr]){if(Ue.destroyed)throw new Error("Loading aborted");const jr=new _message_handler.MessageHandler(Xe,Lr,gr.port),ci=new WorkerTransport(jr,Ue,Hr,$r,Vr);Ue._transport=ci,jr.send("Ready",null)})}).catch(Ue._capability.reject),Ue}async function _fetchDocument($e,Ue){if($e.destroyed)throw new Error("Worker was destroyed");const Xe=await $e.messageHandler.sendWithPromise("GetDocRequest",Ue,Ue.data?[Ue.data.buffer]:null);if($e.destroyed)throw new Error("Worker was destroyed");return Xe}function getUrlProp($e){if($e instanceof URL)return $e.href;try{return new URL($e,window.location).href}catch{if(_is_node.isNodeJS&&typeof $e=="string")return $e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp($e){if(_is_node.isNodeJS&&typeof Buffer<"u"&&$e instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array($e);if($e instanceof Uint8Array&&$e.byteLength===$e.buffer.byteLength)return $e;if(typeof $e=="string")return(0,_util.stringToBytes)($e);if(typeof $e=="object"&&!isNaN($e==null?void 0:$e.length)||(0,_util.isArrayBuffer)($e))return new Uint8Array($e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${jo(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Ue;this.destroyed=!0,await((Ue=this._transport)==null?void 0:Ue.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=e;t=new WeakMap,ri(PDFDocumentLoadingTask,t,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Ue,Xe,nr=!1,Ge=null){this.length=Ue,this.initialData=Xe,this.progressiveDone=nr,this.contentDispositionFilename=Ge,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(Ue){this._rangeListeners.push(Ue)}addProgressListener(Ue){this._progressListeners.push(Ue)}addProgressiveReadListener(Ue){this._progressiveReadListeners.push(Ue)}addProgressiveDoneListener(Ue){this._progressiveDoneListeners.push(Ue)}onDataRange(Ue,Xe){for(const nr of this._rangeListeners)nr(Ue,Xe)}onDataProgress(Ue,Xe){this._readyCapability.promise.then(()=>{for(const nr of this._progressListeners)nr(Ue,Xe)})}onDataProgressiveRead(Ue){this._readyCapability.promise.then(()=>{for(const Xe of this._progressiveReadListeners)Xe(Ue)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Ue of this._progressiveDoneListeners)Ue()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Ue,Xe){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Ue,Xe){this._pdfInfo=Ue,this._transport=Xe}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Ue){return this._transport.getPage(Ue)}getPageIndex(Ue){return this._transport.getPageIndex(Ue)}getDestinations(){return this._transport.getDestinations()}getDestination(Ue){return this._transport.getDestination(Ue)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Ue=!1){return this._transport.startCleanup(Ue||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Ue,Xe,nr,Ge=!1){ri(this,Se);ri(this,Re);ri(this,r,null);ri(this,_e,!1);this._pageIndex=Ue,this._pageInfo=Xe,this._transport=nr,this._stats=Ge?new _display_utils.StatTimer:null,this._pdfBug=Ge,this.commonObjs=nr.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Ue,rotation:Xe=this.rotate,offsetX:nr=0,offsetY:Ge=0,dontFlip:St=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Ue,rotation:Xe,offsetX:nr,offsetY:Ge,dontFlip:St})}getAnnotations({intent:Ue="display"}={}){const Xe=this._transport.getRenderingIntent(Ue);return this._transport.getAnnotations(this._pageIndex,Xe.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Ue;return((Ue=this._transport._htmlForXfa)==null?void 0:Ue.children[this._pageIndex])||null}render({canvasContext:Ue,viewport:Xe,intent:nr="display",annotationMode:Ge=_util.AnnotationMode.ENABLE,transform:St=null,background:mr=null,optionalContentConfigPromise:pr=null,annotationCanvasMap:vr=null,pageColors:dr=null,printAnnotationStorage:gr=null}){var Ye,We,or;if((Ye=arguments[0])!=null&&Ye.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(We=this._stats)==null||We.time("Overall");const sr=this._transport.getRenderingIntent(nr,Ge,gr);yi(this,_e,!1),oi(this,Re,Vo).call(this),pr||(pr=this._transport.getOptionalContentConfig());let tr=this._intentStates.get(sr.cacheKey);tr||(tr=Object.create(null),this._intentStates.set(sr.cacheKey,tr)),tr.streamReaderCancelTimeout&&(clearTimeout(tr.streamReaderCancelTimeout),tr.streamReaderCancelTimeout=null);const hr=!!(sr.renderingIntent&_util.RenderingIntentFlag.PRINT);tr.displayReadyCapability||(tr.displayReadyCapability=(0,_util.createPromiseCapability)(),tr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(or=this._stats)==null||or.time("Page Request"),this._pumpOperatorList(sr));const Sr=fr=>{var _r,yr;tr.renderTasks.delete(Je),(this._maybeCleanupAfterRender||hr)&&yi(this,_e,!0),oi(this,Se,ma).call(this,!hr),fr?(Je.capability.reject(fr),this._abortOperatorList({intentState:tr,reason:fr instanceof Error?fr:new Error(fr)})):Je.capability.resolve(),(_r=this._stats)==null||_r.timeEnd("Rendering"),(yr=this._stats)==null||yr.timeEnd("Overall")},Je=new InternalRenderTask({callback:Sr,params:{canvasContext:Ue,viewport:Xe,transform:St,background:mr},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:vr,operatorList:tr.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!hr,pdfBug:this._pdfBug,pageColors:dr});(tr.renderTasks||(tr.renderTasks=new Set)).add(Je);const Ze=Je.task;return Promise.all([tr.displayReadyCapability.promise,pr]).then(([fr,_r])=>{var yr;if(Dr(this,_e)){Sr();return}(yr=this._stats)==null||yr.time("Rendering"),Je.initializeGraphics({transparency:fr,optionalContentConfig:_r}),Je.operatorListChanged()}).catch(Sr),Ze}getOperatorList({intent:Ue="display",annotationMode:Xe=_util.AnnotationMode.ENABLE,printAnnotationStorage:nr=null}={}){var vr;function Ge(){mr.operatorList.lastChunk&&(mr.opListReadCapability.resolve(mr.operatorList),mr.renderTasks.delete(pr))}const St=this._transport.getRenderingIntent(Ue,Xe,nr,!0);let mr=this._intentStates.get(St.cacheKey);mr||(mr=Object.create(null),this._intentStates.set(St.cacheKey,mr));let pr;return mr.opListReadCapability||(pr=Object.create(null),pr.operatorListChanged=Ge,mr.opListReadCapability=(0,_util.createPromiseCapability)(),(mr.renderTasks||(mr.renderTasks=new Set)).add(pr),mr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(vr=this._stats)==null||vr.time("Page Request"),this._pumpOperatorList(St)),mr.opListReadCapability.promise}streamTextContent({includeMarkedContent:Ue=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Ue===!0},{highWaterMark:100,size(nr){return nr.items.length}})}getTextContent(Ue={}){if(this._transport._htmlForXfa)return this.getXfa().then(nr=>_xfa_text.XfaText.textContent(nr));const Xe=this.streamTextContent(Ue);return new Promise(function(nr,Ge){function St(){mr.read().then(function({value:vr,done:dr}){if(dr){nr(pr);return}Object.assign(pr.styles,vr.styles),pr.items.push(...vr.items),St()},Ge)}const mr=Xe.getReader(),pr={items:[],styles:Object.create(null)};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Ue=[];for(const Xe of this._intentStates.values())if(this._abortOperatorList({intentState:Xe,reason:new Error("Page was destroyed."),force:!0}),!Xe.opListReadCapability)for(const nr of Xe.renderTasks)Ue.push(nr.completed),nr.cancel();return this.objs.clear(),yi(this,_e,!1),oi(this,Re,Vo).call(this),Promise.all(Ue)}cleanup(Ue=!1){yi(this,_e,!0);const Xe=oi(this,Se,ma).call(this,!1);return Ue&&Xe&&this._stats&&(this._stats=new _display_utils.StatTimer),Xe}_startRenderPage(Ue,Xe){var Ge,St;const nr=this._intentStates.get(Xe);!nr||((Ge=this._stats)==null||Ge.timeEnd("Page Request"),(St=nr.displayReadyCapability)==null||St.resolve(Ue))}_renderPageChunk(Ue,Xe){for(let nr=0,Ge=Ue.length;nr<Ge;nr++)Xe.operatorList.fnArray.push(Ue.fnArray[nr]),Xe.operatorList.argsArray.push(Ue.argsArray[nr]);Xe.operatorList.lastChunk=Ue.lastChunk,Xe.operatorList.separateAnnots=Ue.separateAnnots;for(const nr of Xe.renderTasks)nr.operatorListChanged();Ue.lastChunk&&oi(this,Se,ma).call(this,!0)}_pumpOperatorList({renderingIntent:Ue,cacheKey:Xe,annotationStorageMap:nr}){const St=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ue,cacheKey:Xe,annotationStorage:nr}).getReader(),mr=this._intentStates.get(Xe);mr.streamReader=St;const pr=()=>{St.read().then(({value:vr,done:dr})=>{if(dr){mr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(vr,mr),pr())},vr=>{if(mr.streamReader=null,!this._transport.destroyed){if(mr.operatorList){mr.operatorList.lastChunk=!0;for(const dr of mr.renderTasks)dr.operatorListChanged();oi(this,Se,ma).call(this,!0)}if(mr.displayReadyCapability)mr.displayReadyCapability.reject(vr);else if(mr.opListReadCapability)mr.opListReadCapability.reject(vr);else throw vr}})};pr()}_abortOperatorList({intentState:Ue,reason:Xe,force:nr=!1}){if(!!Ue.streamReader){if(Ue.streamReaderCancelTimeout&&(clearTimeout(Ue.streamReaderCancelTimeout),Ue.streamReaderCancelTimeout=null),!nr){if(Ue.renderTasks.size>0)return;if(Xe instanceof _display_utils.RenderingCancelledException){let Ge=RENDERING_CANCELLED_TIMEOUT;Xe.extraDelay>0&&Xe.extraDelay<1e3&&(Ge+=Xe.extraDelay),Ue.streamReaderCancelTimeout=setTimeout(()=>{Ue.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Ue,reason:Xe,force:!0})},Ge);return}}if(Ue.streamReader.cancel(new _util.AbortException(Xe.message)).catch(()=>{}),Ue.streamReader=null,!this._transport.destroyed){for(const[Ge,St]of this._intentStates)if(St===Ue){this._intentStates.delete(Ge);break}this.cleanup()}}}get stats(){return this._stats}}r=new WeakMap,_e=new WeakMap,Se=new WeakSet,ma=function(Ue=!1){if(oi(this,Re,Vo).call(this),!Dr(this,_e))return!1;if(Ue)return yi(this,r,setTimeout(()=>{yi(this,r,null),oi(this,Se,ma).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Xe,operatorList:nr}of this._intentStates.values())if(Xe.size>0||!nr.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),yi(this,_e,!1),!0},Re=new WeakSet,Vo=function(){Dr(this,r)&&(clearTimeout(Dr(this,r)),yi(this,r,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ri(this,Ce,new Set);ri(this,Te,Promise.resolve())}postMessage(Ue,Xe){const nr={data:structuredClone(Ue,Xe?{transfer:Xe}:null)};Dr(this,Te).then(()=>{for(const Ge of Dr(this,Ce))Ge.call(this,nr)})}addEventListener(Ue,Xe){Dr(this,Ce).add(Xe)}removeEventListener(Ue,Xe){Dr(this,Ce).delete(Xe)}terminate(){Dr(this,Ce).clear()}}Ce=new WeakMap,Te=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $e=(De=document==null?void 0:document.currentScript)==null?void 0:De.src;$e&&(PDFWorkerUtil.fallbackWorkerSrc=$e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($e,Ue){let Xe;try{if(Xe=new URL($e),!Xe.origin||Xe.origin==="null")return!1}catch{return!1}const nr=new URL(Ue,Xe);return Xe.origin===nr.origin},PDFWorkerUtil.createCDNWrapper=function($e){const Ue=`importScripts("${$e}");`;return URL.createObjectURL(new Blob([Ue]))}}const _PDFWorker=class{constructor({name:$e=null,port:Ue=null,verbosity:Xe=(0,_util.getVerbosityLevel)()}={}){if(Ue&&Dr(_PDFWorker,ke).has(Ue))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=$e,this.destroyed=!1,this.verbosity=Xe,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,Ue){Dr(_PDFWorker,ke).set(Ue,this),this._initializeFromPort(Ue);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($e){this._port=$e,this._messageHandler=new _message_handler.MessageHandler("main","worker",$e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$e}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$e)||($e=PDFWorkerUtil.createCDNWrapper(new URL($e,window.location).href));const Ue=new Worker($e),Xe=new _message_handler.MessageHandler("main","worker",Ue),nr=()=>{Ue.removeEventListener("error",Ge),Xe.destroy(),Ue.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ge=()=>{this._webWorker||nr()};Ue.addEventListener("error",Ge),Xe.on("test",mr=>{if(Ue.removeEventListener("error",Ge),this.destroyed){nr();return}mr?(this._messageHandler=Xe,this._port=Ue,this._webWorker=Ue,this._readyCapability.resolve(),Xe.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Xe.destroy(),Ue.terminate())}),Xe.on("ready",mr=>{if(Ue.removeEventListener("error",Ge),this.destroyed){nr();return}try{St()}catch{this._setupFakeWorker()}});const St=()=>{const mr=new Uint8Array;Xe.send("test",mr,[mr.buffer])};St();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ue=new LoopbackPort;this._port=Ue;const Xe=`fake${PDFWorkerUtil.fakeWorkerId++}`,nr=new _message_handler.MessageHandler(Xe+"_worker",Xe,Ue);$e.setup(nr,Ue);const Ge=new _message_handler.MessageHandler(Xe,Xe+"_worker",Ue);this._messageHandler=Ge,this._readyCapability.resolve(),Ge.send("configure",{verbosity:this.verbosity})}).catch($e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Dr(_PDFWorker,ke).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($e){if(!($e!=null&&$e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Dr(this,ke).has($e.port)?Dr(this,ke).get($e.port):new _PDFWorker($e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $e;try{return(($e=globalThis.pdfjsWorker)==null?void 0:$e.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ke=new WeakMap,ri(PDFWorker,ke,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Ue,Xe,nr,Ge,St){ri(this,Ie);ri(this,Pe,new Map);ri(this,xe,new Map);ri(this,Fe,new Map);this.messageHandler=Ue,this.loadingTask=Xe,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Ge.ownerDocument,styleElement:Ge.styleElement}),this._params=Ge,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=nr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Ue,Xe=_util.AnnotationMode.ENABLE,nr=null,Ge=!1){let St=_util.RenderingIntentFlag.DISPLAY,mr=null;switch(Ue){case"any":St=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":St=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Ue}`)}switch(Xe){case _util.AnnotationMode.DISABLE:St+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:St+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:St+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,mr=(St&_util.RenderingIntentFlag.PRINT&&nr instanceof _annotation_storage.PrintAnnotationStorage?nr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Xe}`)}return Ge&&(St+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${_annotation_storage.AnnotationStorage.getHash(mr)}`,annotationStorageMap:mr}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const Ue=[];for(const nr of Dr(this,xe).values())Ue.push(nr._destroy());Dr(this,xe).clear(),Dr(this,Fe).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Xe=this.messageHandler.sendWithPromise("Terminate",null);return Ue.push(Xe),Promise.all(Ue).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Dr(this,Pe).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Ue,loadingTask:Xe}=this;Ue.on("GetReader",(nr,Ge)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},Ge.onPull=()=>{this._fullReader.read().then(function({value:St,done:mr}){if(mr){Ge.close();return}(0,_util.assert)(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ge.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{Ge.error(St)})},Ge.onCancel=St=>{this._fullReader.cancel(St),Ge.ready.catch(mr=>{if(!this.destroyed)throw mr})}}),Ue.on("ReaderHeadersReady",nr=>{const Ge=(0,_util.createPromiseCapability)(),St=this._fullReader;return St.headersReady.then(()=>{var mr;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((mr=Xe.onProgress)==null||mr.call(Xe,this._lastProgress)),St.onProgress=pr=>{var vr;(vr=Xe.onProgress)==null||vr.call(Xe,{loaded:pr.loaded,total:pr.total})}),Ge.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},Ge.reject),Ge.promise}),Ue.on("GetRangeReader",(nr,Ge)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(nr.begin,nr.end);if(!St){Ge.close();return}Ge.onPull=()=>{St.read().then(function({value:mr,done:pr}){if(pr){Ge.close();return}(0,_util.assert)(mr instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ge.enqueue(new Uint8Array(mr),1,[mr])}).catch(mr=>{Ge.error(mr)})},Ge.onCancel=mr=>{St.cancel(mr),Ge.ready.catch(pr=>{if(!this.destroyed)throw pr})}}),Ue.on("GetDoc",({pdfInfo:nr})=>{this._numPages=nr.numPages,this._htmlForXfa=nr.htmlForXfa,delete nr.htmlForXfa,Xe._capability.resolve(new PDFDocumentProxy(nr,this))}),Ue.on("DocException",function(nr){let Ge;switch(nr.name){case"PasswordException":Ge=new _util.PasswordException(nr.message,nr.code);break;case"InvalidPDFException":Ge=new _util.InvalidPDFException(nr.message);break;case"MissingPDFException":Ge=new _util.MissingPDFException(nr.message);break;case"UnexpectedResponseException":Ge=new _util.UnexpectedResponseException(nr.message,nr.status);break;case"UnknownErrorException":Ge=new _util.UnknownErrorException(nr.message,nr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Xe._capability.reject(Ge)}),Ue.on("PasswordRequest",nr=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),Xe.onPassword){const Ge=St=>{St instanceof Error?this._passwordCapability.reject(St):this._passwordCapability.resolve({password:St})};try{Xe.onPassword(Ge,nr.code)}catch(St){this._passwordCapability.reject(St)}}else this._passwordCapability.reject(new _util.PasswordException(nr.message,nr.code));return this._passwordCapability.promise}),Ue.on("DataLoaded",nr=>{var Ge;(Ge=Xe.onProgress)==null||Ge.call(Xe,{loaded:nr.length,total:nr.length}),this.downloadInfoCapability.resolve(nr)}),Ue.on("StartRenderPage",nr=>{if(this.destroyed)return;Dr(this,xe).get(nr.pageIndex)._startRenderPage(nr.transparency,nr.cacheKey)}),Ue.on("commonobj",([nr,Ge,St])=>{var mr;if(!this.destroyed&&!this.commonObjs.has(nr))switch(Ge){case"Font":const pr=this._params;if("error"in St){const gr=St.error;(0,_util.warn)(`Error during font loading: ${gr}`),this.commonObjs.resolve(nr,gr);break}const vr=pr.pdfBug&&((mr=globalThis.FontInspector)==null?void 0:mr.enabled)?(gr,sr)=>globalThis.FontInspector.fontAdded(gr,sr):null,dr=new _font_loader.FontFaceObject(St,{isEvalSupported:pr.isEvalSupported,disableFontFace:pr.disableFontFace,ignoreErrors:pr.ignoreErrors,inspectFont:vr});this.fontLoader.bind(dr).catch(gr=>Ue.sendWithPromise("FontFallback",{id:nr})).finally(()=>{!pr.fontExtraProperties&&dr.data&&(dr.data=null),this.commonObjs.resolve(nr,dr)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(nr,St);break;default:throw new Error(`Got unknown common object type ${Ge}`)}}),Ue.on("obj",([nr,Ge,St,mr])=>{var vr;if(this.destroyed)return;const pr=Dr(this,xe).get(Ge);if(!pr.objs.has(nr))switch(St){case"Image":if(pr.objs.resolve(nr,mr),mr){let dr;if(mr.bitmap){const{width:gr,height:sr}=mr;dr=gr*sr*4}else dr=((vr=mr.data)==null?void 0:vr.length)||0;dr>_util.MAX_IMAGE_SIZE_TO_CACHE&&(pr._maybeCleanupAfterRender=!0)}break;case"Pattern":pr.objs.resolve(nr,mr);break;default:throw new Error(`Got unknown object type ${St}`)}}),Ue.on("DocProgress",nr=>{var Ge;this.destroyed||(Ge=Xe.onProgress)==null||Ge.call(Xe,{loaded:nr.loaded,total:nr.total})}),Ue.on("FetchBuiltInCMap",nr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(nr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Ue.on("FetchStandardFontData",nr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(nr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ue,Xe;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(Xe=(Ue=this._fullReader)==null?void 0:Ue.filename)!=null?Xe:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(Ue){if(!Number.isInteger(Ue)||Ue<=0||Ue>this._numPages)return Promise.reject(new Error("Invalid page request."));const Xe=Ue-1,nr=Dr(this,Fe).get(Xe);if(nr)return nr;const Ge=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Xe}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");const mr=new PDFPageProxy(Xe,St,this,this._params.pdfBug);return Dr(this,xe).set(Xe,mr),mr});return Dr(this,Fe).set(Xe,Ge),Ge}getPageIndex(Ue){return typeof Ue!="object"||Ue===null||!Number.isInteger(Ue.num)||Ue.num<0||!Number.isInteger(Ue.gen)||Ue.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Ue.num,gen:Ue.gen})}getAnnotations(Ue,Xe){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Ue,intent:Xe})}getFieldObjects(){return oi(this,Ie,Il).call(this,"GetFieldObjects")}hasJSActions(){return oi(this,Ie,Il).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Ue){return typeof Ue!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Ue})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(Ue){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Ue})}getStructTree(Ue){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Ue})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Ue=>new _optional_content_config.OptionalContentConfig(Ue))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Ue="GetMetadata",Xe=Dr(this,Pe).get(Ue);if(Xe)return Xe;const nr=this.messageHandler.sendWithPromise(Ue,null).then(Ge=>{var St,mr,pr,vr;return{info:Ge[0],metadata:Ge[1]?new _metadata.Metadata(Ge[1]):null,contentDispositionFilename:(mr=(St=this._fullReader)==null?void 0:St.filename)!=null?mr:null,contentLength:(vr=(pr=this._fullReader)==null?void 0:pr.contentLength)!=null?vr:null}});return Dr(this,Pe).set(Ue,nr),nr}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Ue=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Xe of Dr(this,xe).values())if(!Xe.cleanup())throw new Error(`startCleanup: Page ${Xe.pageNumber} is currently rendering.`);this.commonObjs.clear(),Ue||this.fontLoader.clear(),Dr(this,Pe).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Ue,enableXfa:Xe}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Ue,enableXfa:Xe})}}Pe=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Ie=new WeakSet,Il=function(Ue,Xe=null){const nr=Dr(this,Pe).get(Ue);if(nr)return nr;const Ge=this.messageHandler.sendWithPromise(Ue,Xe);return Dr(this,Pe).set(Ue,Ge),Ge};class PDFObjects{constructor(){ri(this,Be);ri(this,Oe,Object.create(null))}get(Ue,Xe=null){if(Xe){const Ge=oi(this,Be,Nl).call(this,Ue);return Ge.capability.promise.then(()=>Xe(Ge.data)),null}const nr=Dr(this,Oe)[Ue];if(!(nr!=null&&nr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Ue}.`);return nr.data}has(Ue){const Xe=Dr(this,Oe)[Ue];return(Xe==null?void 0:Xe.capability.settled)||!1}resolve(Ue,Xe=null){const nr=oi(this,Be,Nl).call(this,Ue);nr.data=Xe,nr.capability.resolve()}clear(){var Ue;for(const Xe in Dr(this,Oe)){const{data:nr}=Dr(this,Oe)[Xe];(Ue=nr==null?void 0:nr.bitmap)==null||Ue.close()}yi(this,Oe,Object.create(null))}}Oe=new WeakMap,Be=new WeakSet,Nl=function(Ue){const Xe=Dr(this,Oe)[Ue];return Xe||(Dr(this,Oe)[Ue]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(Ue){ri(this,Ve,null);yi(this,Ve,Ue),this.onContinue=null}get promise(){return Dr(this,Ve).capability.promise}cancel(Ue=0){Dr(this,Ve).cancel(null,Ue)}get separateAnnots(){const{separateAnnots:Ue}=Dr(this,Ve).operatorList;if(!Ue)return!1;const{annotationCanvasMap:Xe}=Dr(this,Ve);return Ue.form||Ue.canvas&&(Xe==null?void 0:Xe.size)>0}}Ve=new WeakMap,exports.RenderTask=RenderTask;const He=class{constructor({callback:Ue,params:Xe,objs:nr,commonObjs:Ge,annotationCanvasMap:St,operatorList:mr,pageIndex:pr,canvasFactory:vr,filterFactory:dr,useRequestAnimationFrame:gr=!1,pdfBug:sr=!1,pageColors:tr=null}){this.callback=Ue,this.params=Xe,this.objs=nr,this.commonObjs=Ge,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=mr,this._pageIndex=pr,this.canvasFactory=vr,this.filterFactory=dr,this._pdfBug=sr,this.pageColors=tr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=gr===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Xe.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Ue=!1,optionalContentConfig:Xe}){var pr,vr;if(this.cancelled)return;if(this._canvas){if(Dr(He,ze).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Dr(He,ze).add(this._canvas)}this._pdfBug&&((pr=globalThis.StepperManager)==null?void 0:pr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:nr,viewport:Ge,transform:St,background:mr}=this.params;this.gfx=new _canvas.CanvasGraphics(nr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Xe},this.annotationCanvasMap),this.gfx.beginDrawing({transform:St,viewport:Ge,transparency:Ue,background:mr}),this.operatorListIdx=0,this.graphicsReady=!0,(vr=this.graphicsReadyCallback)==null||vr.call(this)}cancel(Ue=null,Xe=0){var nr;this.running=!1,this.cancelled=!0,(nr=this.gfx)==null||nr.endDrawing(this.pageColors),this._canvas&&Dr(He,ze).delete(this._canvas),this.callback(Ue||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",Xe))}operatorListChanged(){var Ue;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Ue=this.stepper)==null||Ue.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&Dr(He,ze).delete(this._canvas),this.callback())))}};let InternalRenderTask=He;ze=new WeakMap,ri(InternalRenderTask,ze,new WeakSet);const version="3.5.141";exports.version=version;const build="be0f6ee08";exports.build=build},(t,e,r)=>{var Ce,Te,De,Rh,Pe;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var _e=r(1),Se=r(4),Ae=r(8);class Re{constructor(){ri(this,De);ri(this,Ce,!1);ri(this,Te,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Fe,Ie){const Me=Dr(this,Te).get(Fe);return Me===void 0?Ie:Object.assign(Ie,Me)}getRawValue(Fe){return Dr(this,Te).get(Fe)}remove(Fe){if(Dr(this,Te).delete(Fe),Dr(this,Te).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Ie of Dr(this,Te).values())if(Ie instanceof Se.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Fe,Ie){const Me=Dr(this,Te).get(Fe);let Oe=!1;if(Me!==void 0)for(const[Be,je]of Object.entries(Ie))Me[Be]!==je&&(Oe=!0,Me[Be]=je);else Oe=!0,Dr(this,Te).set(Fe,Ie);Oe&&oi(this,De,Rh).call(this),Ie instanceof Se.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ie.constructor._type)}has(Fe){return Dr(this,Te).has(Fe)}getAll(){return Dr(this,Te).size>0?(0,_e.objectFromMap)(Dr(this,Te)):null}setAll(Fe){for(const[Ie,Me]of Object.entries(Fe))this.setValue(Ie,Me)}get size(){return Dr(this,Te).size}resetModified(){Dr(this,Ce)&&(yi(this,Ce,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ee(this)}get serializable(){if(Dr(this,Te).size===0)return null;const Fe=new Map;for(const[Ie,Me]of Dr(this,Te)){const Oe=Me instanceof Se.AnnotationEditor?Me.serialize():Me;Oe&&Fe.set(Ie,Oe)}return Fe}static getHash(Fe){if(!Fe)return"";const Ie=new Ae.MurmurHash3_64;for(const[Me,Oe]of Fe)Ie.update(`${Me}:${JSON.stringify(Oe)}`);return Ie.hexdigest()}}Ce=new WeakMap,Te=new WeakMap,De=new WeakSet,Rh=function(){Dr(this,Ce)||(yi(this,Ce,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=Re;class Ee extends Re{constructor(Ie){super();ri(this,Pe,null);yi(this,Pe,structuredClone(Ie.serializable))}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Dr(this,Pe)}}Pe=new WeakMap,e.PrintAnnotationStorage=Ee},(t,e,r)=>{var Re,Ee,Ce,Te,De,ke;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var _e=r(5),Se=r(1);const Pe=class{constructor(Fe){ri(this,Re,this.focusin.bind(this));ri(this,Ee,this.focusout.bind(this));ri(this,Ce,!1);ri(this,Te,!1);ri(this,De,!1);dn(this,"_uiManager",null);ri(this,ke,Pe._zIndex++);this.constructor===Pe&&(0,Se.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Fe.parent,this.id=Fe.id,this.width=this.height=null,this.pageIndex=Fe.parent.pageIndex,this.name=Fe.name,this.div=null,this._uiManager=Fe.uiManager;const{rotation:Ie,rawDims:{pageWidth:Me,pageHeight:Oe,pageX:Be,pageY:je}}=this.parent.viewport;this.rotation=Ie,this.pageDimensions=[Me,Oe],this.pageTranslation=[Be,je];const[Ve,ze]=this.parentDimensions;this.x=Fe.x/Ve,this.y=Fe.y/ze,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,Se.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(Fe){this._uiManager.addCommands(Fe)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Dr(this,ke)}setParent(Fe){Fe!==null&&(this.pageIndex=Fe.pageIndex,this.pageDimensions=Fe.pageDimensions),this.parent=Fe}focusin(Fe){Dr(this,Ce)?yi(this,Ce,!1):this.parent.setSelected(this)}focusout(Fe){var Me;if(!this.isAttachedToDOM)return;const Ie=Fe.relatedTarget;Ie!=null&&Ie.closest(`#${this.id}`)||(Fe.preventDefault(),(Me=this.parent)!=null&&Me.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(Fe){const Ie=this.parent.div.getBoundingClientRect();this.startX=Fe.clientX-Ie.x,this.startY=Fe.clientY-Ie.y,Fe.dataTransfer.setData("text/plain",this.id),Fe.dataTransfer.effectAllowed="move"}setAt(Fe,Ie,Me,Oe){const[Be,je]=this.parentDimensions;[Me,Oe]=this.screenToPageTranslation(Me,Oe),this.x=(Fe+Me)/Be,this.y=(Ie+Oe)/je,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Fe,Ie){const[Me,Oe]=this.parentDimensions;[Fe,Ie]=this.screenToPageTranslation(Fe,Ie),this.x+=Fe/Me,this.y+=Ie/Oe,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Fe,Ie){switch(this.parentRotation){case 90:return[Ie,-Fe];case 180:return[-Fe,-Ie];case 270:return[-Ie,Fe];default:return[Fe,Ie]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:Fe}=this._uiManager.viewParameters,[Ie,Me]=this.pageDimensions;return[Ie*Fe,Me*Fe]}setDims(Fe,Ie){const[Me,Oe]=this.parentDimensions;this.div.style.width=`${100*Fe/Me}%`,this.div.style.height=`${100*Ie/Oe}%`}fixDims(){const{style:Fe}=this.div,{height:Ie,width:Me}=Fe,Oe=Me.endsWith("%"),Be=Ie.endsWith("%");if(Oe&&Be)return;const[je,Ve]=this.parentDimensions;Oe||(Fe.width=`${100*parseFloat(Me)/je}%`),Be||(Fe.height=`${100*parseFloat(Ie)/Ve}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Dr(this,Re)),this.div.addEventListener("focusout",Dr(this,Ee));const[Fe,Ie]=this.getInitialTranslation();return this.translate(Fe,Ie),(0,_e.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Fe){const{isMac:Ie}=Se.FeatureTest.platform;if(Fe.button!==0||Fe.ctrlKey&&Ie){Fe.preventDefault();return}Fe.ctrlKey&&!Ie||Fe.shiftKey||Fe.metaKey&&Ie?this.parent.toggleSelected(this):this.parent.setSelected(this),yi(this,Ce,!0)}getRect(Fe,Ie){const Me=this.parentScale,[Oe,Be]=this.pageDimensions,[je,Ve]=this.pageTranslation,ze=Fe/Me,He=Ie/Me,$e=this.x*Oe,Ue=this.y*Be,Xe=this.width*Oe,nr=this.height*Be;switch(this.rotation){case 0:return[$e+ze+je,Be-Ue-He-nr+Ve,$e+ze+Xe+je,Be-Ue-He+Ve];case 90:return[$e+He+je,Be-Ue+ze+Ve,$e+He+nr+je,Be-Ue+ze+Xe+Ve];case 180:return[$e-ze-Xe+je,Be-Ue+He+Ve,$e-ze+je,Be-Ue+He+nr+Ve];case 270:return[$e-He-nr+je,Be-Ue-ze-Xe+Ve,$e-He+je,Be-Ue-ze+Ve];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Fe,Ie){const[Me,Oe,Be,je]=Fe,Ve=Be-Me,ze=je-Oe;switch(this.rotation){case 0:return[Me,Ie-je,Ve,ze];case 90:return[Me,Ie-Oe,ze,Ve];case 180:return[Be,Ie-Oe,Ve,ze];case 270:return[Be,Ie-je,ze,Ve];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){yi(this,De,!0)}disableEditMode(){yi(this,De,!1)}isInEditMode(){return Dr(this,De)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Fe;(Fe=this.div)==null||Fe.addEventListener("focusin",Dr(this,Re))}serialize(){(0,Se.unreachable)("An editor must be serializable")}static deserialize(Fe,Ie,Me){const Oe=new this.prototype.constructor({parent:Ie,id:Ie.getNextId(),uiManager:Me});Oe.rotation=Fe.rotation;const[Be,je]=Oe.pageDimensions,[Ve,ze,He,$e]=Oe.getRectInCurrentCoords(Fe.rect,je);return Oe.x=Ve/Be,Oe.y=ze/je,Oe.width=He/Be,Oe.height=$e/je,Oe}remove(){this.div.removeEventListener("focusin",Dr(this,Re)),this.div.removeEventListener("focusout",Dr(this,Ee)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Fe;(Fe=this.div)==null||Fe.classList.add("selectedEditor")}unselect(){var Fe;(Fe=this.div)==null||Fe.classList.remove("selectedEditor")}updateParams(Fe,Ie){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Dr(this,Te)}set isEditing(Fe){yi(this,Te,Fe),Fe?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let Ae=Pe;Re=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Te=new WeakMap,De=new WeakMap,ke=new WeakMap,dn(Ae,"_colorManager",new _e.ColorManager),dn(Ae,"_zIndex",1),e.AnnotationEditor=Ae},(t,e,r)=>{var Pe,xe,Fe,Ie,Me,Oe,Ih,Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr,hr,Sr,Je,Ze,Ye,We,or,fr,Nh,yr,Bl,Ar,Bh,ar,jh,rr,Wn,ur,Ka,wr,Vh,kr,zh,Ir,jl,zr,Ja,Gr,Vl;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=Ae,e.opacityToHex=Re;var _e=r(1),Se=r(6);function Ae(di,Lr,Hr){for(const jr of Hr)Lr.addEventListener(jr,di[jr].bind(di))}function Re(di){return Math.round(Math.min(255,Math.max(1,255*di))).toString(16).padStart(2,"0")}class Ee{constructor(){ri(this,Pe,0)}getId(){return`${_e.AnnotationEditorPrefix}${jo(this,Pe)._++}`}}Pe=new WeakMap;class Ce{constructor(Lr=128){ri(this,xe,[]);ri(this,Fe,!1);ri(this,Ie,void 0);ri(this,Me,-1);yi(this,Ie,Lr)}add({cmd:Lr,undo:Hr,mustExec:jr,type:ci=NaN,overwriteIfSameType:vi=!1,keepUndo:qr=!1}){if(jr&&Lr(),Dr(this,Fe))return;const ni={cmd:Lr,undo:Hr,type:ci};if(Dr(this,Me)===-1){Dr(this,xe).length>0&&(Dr(this,xe).length=0),yi(this,Me,0),Dr(this,xe).push(ni);return}if(vi&&Dr(this,xe)[Dr(this,Me)].type===ci){qr&&(ni.undo=Dr(this,xe)[Dr(this,Me)].undo),Dr(this,xe)[Dr(this,Me)]=ni;return}const fi=Dr(this,Me)+1;fi===Dr(this,Ie)?Dr(this,xe).splice(0,1):(yi(this,Me,fi),fi<Dr(this,xe).length&&Dr(this,xe).splice(fi)),Dr(this,xe).push(ni)}undo(){Dr(this,Me)!==-1&&(yi(this,Fe,!0),Dr(this,xe)[Dr(this,Me)].undo(),yi(this,Fe,!1),yi(this,Me,Dr(this,Me)-1))}redo(){Dr(this,Me)<Dr(this,xe).length-1&&(yi(this,Me,Dr(this,Me)+1),yi(this,Fe,!0),Dr(this,xe)[Dr(this,Me)].cmd(),yi(this,Fe,!1))}hasSomethingToUndo(){return Dr(this,Me)!==-1}hasSomethingToRedo(){return Dr(this,Me)<Dr(this,xe).length-1}destroy(){yi(this,xe,null)}}xe=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Me=new WeakMap,e.CommandManager=Ce;class Te{constructor(Lr){ri(this,Oe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Hr}=_e.FeatureTest.platform;for(const[jr,ci]of Lr)for(const vi of jr){const qr=vi.startsWith("mac+");Hr&&qr?(this.callbacks.set(vi.slice(4),ci),this.allKeys.add(vi.split("+").at(-1))):!Hr&&!qr&&(this.callbacks.set(vi,ci),this.allKeys.add(vi.split("+").at(-1)))}}exec(Lr,Hr){if(!this.allKeys.has(Hr.key))return;const jr=this.callbacks.get(oi(this,Oe,Ih).call(this,Hr));!jr||(jr.bind(Lr)(),Hr.stopPropagation(),Hr.preventDefault())}}Oe=new WeakSet,Ih=function(Lr){Lr.altKey&&this.buffer.push("alt"),Lr.ctrlKey&&this.buffer.push("ctrl"),Lr.metaKey&&this.buffer.push("meta"),Lr.shiftKey&&this.buffer.push("shift"),this.buffer.push(Lr.key);const Hr=this.buffer.join("+");return this.buffer.length=0,Hr},e.KeyboardManager=Te;const je=class{get _colors(){const Lr=new Map([["CanvasText",null],["Canvas",null]]);return(0,Se.getColorValues)(Lr),(0,_e.shadow)(this,"_colors",Lr)}convert(Lr){const Hr=(0,Se.getRGB)(Lr);if(!window.matchMedia("(forced-colors: active)").matches)return Hr;for(const[jr,ci]of this._colors)if(ci.every((vi,qr)=>vi===Hr[qr]))return je._colorsMapping.get(jr);return Hr}getHexCode(Lr){const Hr=this._colors.get(Lr);return Hr?_e.Util.makeHexColor(...Hr):Lr}};let De=je;dn(De,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=De;const Qr=class{constructor(Lr,Hr,jr){ri(this,fr);ri(this,yr);ri(this,Ar);ri(this,ar);ri(this,rr);ri(this,ur);ri(this,wr);ri(this,kr);ri(this,Ir);ri(this,zr);ri(this,Gr);ri(this,Ve,null);ri(this,ze,new Map);ri(this,He,new Map);ri(this,$e,null);ri(this,Ue,new Ce);ri(this,Xe,0);ri(this,nr,null);ri(this,Ge,new Set);ri(this,St,null);ri(this,mr,new Ee);ri(this,pr,!1);ri(this,vr,_e.AnnotationEditorType.NONE);ri(this,dr,new Set);ri(this,gr,this.copy.bind(this));ri(this,sr,this.cut.bind(this));ri(this,tr,this.paste.bind(this));ri(this,hr,this.keydown.bind(this));ri(this,Sr,this.onEditingAction.bind(this));ri(this,Je,this.onPageChanging.bind(this));ri(this,Ze,this.onScaleChanging.bind(this));ri(this,Ye,this.onRotationChanging.bind(this));ri(this,We,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ri(this,or,null);yi(this,or,Lr),yi(this,St,Hr),Dr(this,St)._on("editingaction",Dr(this,Sr)),Dr(this,St)._on("pagechanging",Dr(this,Je)),Dr(this,St)._on("scalechanging",Dr(this,Ze)),Dr(this,St)._on("rotationchanging",Dr(this,Ye)),yi(this,$e,jr),this.viewParameters={realScale:Se.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){oi(this,yr,Bl).call(this),Dr(this,St)._off("editingaction",Dr(this,Sr)),Dr(this,St)._off("pagechanging",Dr(this,Je)),Dr(this,St)._off("scalechanging",Dr(this,Ze)),Dr(this,St)._off("rotationchanging",Dr(this,Ye));for(const Lr of Dr(this,He).values())Lr.destroy();Dr(this,He).clear(),Dr(this,ze).clear(),Dr(this,Ge).clear(),yi(this,Ve,null),Dr(this,dr).clear(),Dr(this,Ue).destroy()}onPageChanging({pageNumber:Lr}){yi(this,Xe,Lr-1)}focusMainContainer(){Dr(this,or).focus()}addShouldRescale(Lr){Dr(this,Ge).add(Lr)}removeShouldRescale(Lr){Dr(this,Ge).delete(Lr)}onScaleChanging({scale:Lr}){this.commitOrRemove(),this.viewParameters.realScale=Lr*Se.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Hr of Dr(this,Ge))Hr.onScaleChanging()}onRotationChanging({pagesRotation:Lr}){this.commitOrRemove(),this.viewParameters.rotation=Lr}addToAnnotationStorage(Lr){!Lr.isEmpty()&&Dr(this,$e)&&!Dr(this,$e).has(Lr.id)&&Dr(this,$e).setValue(Lr.id,Lr)}copy(Lr){if(Lr.preventDefault(),Dr(this,Ve)&&Dr(this,Ve).commitOrRemove(),!this.hasSelection)return;const Hr=[];for(const jr of Dr(this,dr))jr.isEmpty()||Hr.push(jr.serialize());Hr.length!==0&&Lr.clipboardData.setData("application/pdfjs",JSON.stringify(Hr))}cut(Lr){this.copy(Lr),this.delete()}paste(Lr){Lr.preventDefault();let Hr=Lr.clipboardData.getData("application/pdfjs");if(!Hr)return;try{Hr=JSON.parse(Hr)}catch(ci){(0,_e.warn)(`paste: "${ci.message}".`);return}if(!Array.isArray(Hr))return;this.unselectAll();const jr=Dr(this,He).get(Dr(this,Xe));try{const ci=[];for(const ni of Hr){const fi=jr.deserialize(ni);if(!fi)return;ci.push(fi)}const vi=()=>{for(const ni of ci)oi(this,Ir,jl).call(this,ni);oi(this,Gr,Vl).call(this,ci)},qr=()=>{for(const ni of ci)ni.remove()};this.addCommands({cmd:vi,undo:qr,mustExec:!0})}catch(ci){(0,_e.warn)(`paste: "${ci.message}".`)}}keydown(Lr){var Hr;(Hr=this.getActive())!=null&&Hr.shouldGetKeyboardEvents()||Qr._keyboardManager.exec(this,Lr)}onEditingAction(Lr){["undo","redo","delete","selectAll"].includes(Lr.name)&&this[Lr.name]()}setEditingState(Lr){Lr?(oi(this,fr,Nh).call(this),oi(this,Ar,Bh).call(this),oi(this,rr,Wn).call(this,{isEditing:Dr(this,vr)!==_e.AnnotationEditorType.NONE,isEmpty:oi(this,zr,Ja).call(this),hasSomethingToUndo:Dr(this,Ue).hasSomethingToUndo(),hasSomethingToRedo:Dr(this,Ue).hasSomethingToRedo(),hasSelectedEditor:!1})):(oi(this,yr,Bl).call(this),oi(this,ar,jh).call(this),oi(this,rr,Wn).call(this,{isEditing:!1}))}registerEditorTypes(Lr){if(!Dr(this,nr)){yi(this,nr,Lr);for(const Hr of Dr(this,nr))oi(this,ur,Ka).call(this,Hr.defaultPropertiesToUpdate)}}getId(){return Dr(this,mr).getId()}get currentLayer(){return Dr(this,He).get(Dr(this,Xe))}get currentPageIndex(){return Dr(this,Xe)}addLayer(Lr){Dr(this,He).set(Lr.pageIndex,Lr),Dr(this,pr)?Lr.enable():Lr.disable()}removeLayer(Lr){Dr(this,He).delete(Lr.pageIndex)}updateMode(Lr){if(yi(this,vr,Lr),Lr===_e.AnnotationEditorType.NONE)this.setEditingState(!1),oi(this,kr,zh).call(this);else{this.setEditingState(!0),oi(this,wr,Vh).call(this);for(const Hr of Dr(this,He).values())Hr.updateMode(Lr)}}updateToolbar(Lr){Lr!==Dr(this,vr)&&Dr(this,St).dispatch("switchannotationeditormode",{source:this,mode:Lr})}updateParams(Lr,Hr){if(!!Dr(this,nr)){for(const jr of Dr(this,dr))jr.updateParams(Lr,Hr);for(const jr of Dr(this,nr))jr.updateDefaultParams(Lr,Hr)}}getEditors(Lr){const Hr=[];for(const jr of Dr(this,ze).values())jr.pageIndex===Lr&&Hr.push(jr);return Hr}getEditor(Lr){return Dr(this,ze).get(Lr)}addEditor(Lr){Dr(this,ze).set(Lr.id,Lr)}removeEditor(Lr){var Hr;Dr(this,ze).delete(Lr.id),this.unselect(Lr),(Hr=Dr(this,$e))==null||Hr.remove(Lr.id)}setActiveEditor(Lr){Dr(this,Ve)!==Lr&&(yi(this,Ve,Lr),Lr&&oi(this,ur,Ka).call(this,Lr.propertiesToUpdate))}toggleSelected(Lr){if(Dr(this,dr).has(Lr)){Dr(this,dr).delete(Lr),Lr.unselect(),oi(this,rr,Wn).call(this,{hasSelectedEditor:this.hasSelection});return}Dr(this,dr).add(Lr),Lr.select(),oi(this,ur,Ka).call(this,Lr.propertiesToUpdate),oi(this,rr,Wn).call(this,{hasSelectedEditor:!0})}setSelected(Lr){for(const Hr of Dr(this,dr))Hr!==Lr&&Hr.unselect();Dr(this,dr).clear(),Dr(this,dr).add(Lr),Lr.select(),oi(this,ur,Ka).call(this,Lr.propertiesToUpdate),oi(this,rr,Wn).call(this,{hasSelectedEditor:!0})}isSelected(Lr){return Dr(this,dr).has(Lr)}unselect(Lr){Lr.unselect(),Dr(this,dr).delete(Lr),oi(this,rr,Wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Dr(this,dr).size!==0}undo(){Dr(this,Ue).undo(),oi(this,rr,Wn).call(this,{hasSomethingToUndo:Dr(this,Ue).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:oi(this,zr,Ja).call(this)})}redo(){Dr(this,Ue).redo(),oi(this,rr,Wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Dr(this,Ue).hasSomethingToRedo(),isEmpty:oi(this,zr,Ja).call(this)})}addCommands(Lr){Dr(this,Ue).add(Lr),oi(this,rr,Wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:oi(this,zr,Ja).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Lr=[...Dr(this,dr)],Hr=()=>{for(const ci of Lr)ci.remove()},jr=()=>{for(const ci of Lr)oi(this,Ir,jl).call(this,ci)};this.addCommands({cmd:Hr,undo:jr,mustExec:!0})}commitOrRemove(){var Lr;(Lr=Dr(this,Ve))==null||Lr.commitOrRemove()}selectAll(){for(const Lr of Dr(this,dr))Lr.commit();oi(this,Gr,Vl).call(this,Dr(this,ze).values())}unselectAll(){if(Dr(this,Ve)){Dr(this,Ve).commitOrRemove();return}if(Dr(this,dr).size!==0){for(const Lr of Dr(this,dr))Lr.unselect();Dr(this,dr).clear(),oi(this,rr,Wn).call(this,{hasSelectedEditor:!1})}}isActive(Lr){return Dr(this,Ve)===Lr}getActive(){return Dr(this,Ve)}getMode(){return Dr(this,vr)}};let ke=Qr;Ve=new WeakMap,ze=new WeakMap,He=new WeakMap,$e=new WeakMap,Ue=new WeakMap,Xe=new WeakMap,nr=new WeakMap,Ge=new WeakMap,St=new WeakMap,mr=new WeakMap,pr=new WeakMap,vr=new WeakMap,dr=new WeakMap,gr=new WeakMap,sr=new WeakMap,tr=new WeakMap,hr=new WeakMap,Sr=new WeakMap,Je=new WeakMap,Ze=new WeakMap,Ye=new WeakMap,We=new WeakMap,or=new WeakMap,fr=new WeakSet,Nh=function(){Dr(this,or).addEventListener("keydown",Dr(this,hr))},yr=new WeakSet,Bl=function(){Dr(this,or).removeEventListener("keydown",Dr(this,hr))},Ar=new WeakSet,Bh=function(){document.addEventListener("copy",Dr(this,gr)),document.addEventListener("cut",Dr(this,sr)),document.addEventListener("paste",Dr(this,tr))},ar=new WeakSet,jh=function(){document.removeEventListener("copy",Dr(this,gr)),document.removeEventListener("cut",Dr(this,sr)),document.removeEventListener("paste",Dr(this,tr))},rr=new WeakSet,Wn=function(Lr){Object.entries(Lr).some(([jr,ci])=>Dr(this,We)[jr]!==ci)&&Dr(this,St).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Dr(this,We),Lr)})},ur=new WeakSet,Ka=function(Lr){Dr(this,St).dispatch("annotationeditorparamschanged",{source:this,details:Lr})},wr=new WeakSet,Vh=function(){if(!Dr(this,pr)){yi(this,pr,!0);for(const Lr of Dr(this,He).values())Lr.enable()}},kr=new WeakSet,zh=function(){if(this.unselectAll(),Dr(this,pr)){yi(this,pr,!1);for(const Lr of Dr(this,He).values())Lr.disable()}},Ir=new WeakSet,jl=function(Lr){const Hr=Dr(this,He).get(Lr.pageIndex);Hr?Hr.addOrRebuild(Lr):this.addEditor(Lr)},zr=new WeakSet,Ja=function(){if(Dr(this,ze).size===0)return!0;if(Dr(this,ze).size===1)for(const Lr of Dr(this,ze).values())return Lr.isEmpty();return!1},Gr=new WeakSet,Vl=function(Lr){Dr(this,dr).clear();for(const Hr of Lr)Hr.isEmpty()||(Dr(this,dr).add(Hr),Hr.select());oi(this,rr,Wn).call(this,{hasSelectedEditor:!0})},dn(ke,"_keyboardManager",new Te([[["ctrl+a","mac+meta+a"],Qr.prototype.selectAll],[["ctrl+z","mac+meta+z"],Qr.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Qr.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Qr.prototype.delete],[["Escape","mac+Escape"],Qr.prototype.unselectAll]])),e.AnnotationEditorUIManager=ke},(t,e,r)=>{var gr,sr,tr,hr,Sr,Je,Ze,Ye,We,va,fr,Bs,yr,ls;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=$e,e.getColorValues=St,e.getCurrentTransform=mr,e.getCurrentTransformInverse=pr,e.getFilenameFromUrl=Be,e.getPdfFilenameFromUrl=je,e.getRGB=Ge,e.getXfaPageViewport=nr,e.isDataScheme=Me,e.isPdfFile=Oe,e.isValidFetchUrl=ze,e.loadScript=He,e.setLayerDimensions=vr;var _e=r(7),Se=r(1);const Ae="http://www.w3.org/2000/svg",Re="pdfjs_internal_id_";e.AnnotationPrefix=Re;const dr=class{};let Ee=dr;dn(Ee,"CSS",96),dn(Ee,"PDF",72),dn(Ee,"PDF_TO_CSS_UNITS",dr.CSS/dr.PDF),e.PixelsPerInch=Ee;class Ce extends _e.BaseFilterFactory{constructor({docId:ar,ownerDocument:Qe=globalThis.document}={}){super();ri(this,We);ri(this,fr);ri(this,yr);ri(this,gr,void 0);ri(this,sr,void 0);ri(this,tr,void 0);ri(this,hr,void 0);ri(this,Sr,void 0);ri(this,Je,void 0);ri(this,Ze,void 0);ri(this,Ye,0);yi(this,tr,ar),yi(this,hr,Qe)}addFilter(ar){if(!ar)return"none";let Qe=Dr(this,We,va).get(ar);if(Qe)return Qe;let rr,er,ur,Cr;if(ar.length===1){const Ir=ar[0],Vr=new Array(256);for(let zr=0;zr<256;zr++)Vr[zr]=Ir[zr]/255;Cr=rr=er=ur=Vr.join(",")}else{const[Ir,Vr,zr]=ar,$r=new Array(256),Gr=new Array(256),ii=new Array(256);for(let Qr=0;Qr<256;Qr++)$r[Qr]=Ir[Qr]/255,Gr[Qr]=Vr[Qr]/255,ii[Qr]=zr[Qr]/255;rr=$r.join(","),er=Gr.join(","),ur=ii.join(","),Cr=`${rr}${er}${ur}`}if(Qe=Dr(this,We,va).get(Cr),Qe)return Dr(this,We,va).set(ar,Qe),Qe;const wr=`g_${Dr(this,tr)}_transfer_map_${jo(this,Ye)._++}`,Or=`url(#${wr})`;Dr(this,We,va).set(ar,Or),Dr(this,We,va).set(Cr,Or);const kr=Dr(this,hr).createElementNS(Ae,"filter",Ae);kr.setAttribute("id",wr),kr.setAttribute("color-interpolation-filters","sRGB");const Pr=Dr(this,hr).createElementNS(Ae,"feComponentTransfer");return kr.append(Pr),oi(this,yr,ls).call(this,Pr,"feFuncR",rr),oi(this,yr,ls).call(this,Pr,"feFuncG",er),oi(this,yr,ls).call(this,Pr,"feFuncB",ur),Dr(this,fr,Bs).append(kr),Or}addHCMFilter(ar,Qe){var zr;const rr=`${ar}-${Qe}`;if(Dr(this,Je)===rr)return Dr(this,Ze);if(yi(this,Je,rr),yi(this,Ze,"none"),(zr=Dr(this,Sr))==null||zr.remove(),!ar||!Qe)return Dr(this,Ze);Dr(this,fr,Bs).style.color=ar,ar=getComputedStyle(Dr(this,fr,Bs)).getPropertyValue("color");const er=Ge(ar);ar=Se.Util.makeHexColor(...er),Dr(this,fr,Bs).style.color=Qe,Qe=getComputedStyle(Dr(this,fr,Bs)).getPropertyValue("color");const ur=Ge(Qe);if(Qe=Se.Util.makeHexColor(...ur),Dr(this,fr,Bs).style.color="",ar==="#000000"&&Qe==="#ffffff"||ar===Qe)return Dr(this,Ze);const Cr=new Array(256);for(let $r=0;$r<=255;$r++){const Gr=$r/255;Cr[$r]=Gr<=.03928?Gr/12.92:((Gr+.055)/1.055)**2.4}const wr=Cr.join(","),Or=`g_${Dr(this,tr)}_hcm_filter`,kr=yi(this,Sr,Dr(this,hr).createElementNS(Ae,"filter",Ae));kr.setAttribute("id",Or),kr.setAttribute("color-interpolation-filters","sRGB");let Pr=Dr(this,hr).createElementNS(Ae,"feComponentTransfer");kr.append(Pr),oi(this,yr,ls).call(this,Pr,"feFuncR",wr),oi(this,yr,ls).call(this,Pr,"feFuncG",wr),oi(this,yr,ls).call(this,Pr,"feFuncB",wr);const Ir=Dr(this,hr).createElementNS(Ae,"feColorMatrix");Ir.setAttribute("type","matrix"),Ir.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),kr.append(Ir),Pr=Dr(this,hr).createElementNS(Ae,"feComponentTransfer"),kr.append(Pr);const Vr=($r,Gr)=>{const ii=er[$r]/255,Qr=ur[$r]/255,di=new Array(Gr+1);for(let Lr=0;Lr<=Gr;Lr++)di[Lr]=ii+Lr/Gr*(Qr-ii);return di.join(",")};return oi(this,yr,ls).call(this,Pr,"feFuncR",Vr(0,5)),oi(this,yr,ls).call(this,Pr,"feFuncG",Vr(1,5)),oi(this,yr,ls).call(this,Pr,"feFuncB",Vr(2,5)),Dr(this,fr,Bs).append(kr),yi(this,Ze,`url(#${Or})`),Dr(this,Ze)}destroy(ar=!1){ar&&Dr(this,Ze)||(Dr(this,sr)&&(Dr(this,sr).parentNode.parentNode.remove(),yi(this,sr,null)),Dr(this,gr)&&(Dr(this,gr).clear(),yi(this,gr,null)),yi(this,Ye,0))}}gr=new WeakMap,sr=new WeakMap,tr=new WeakMap,hr=new WeakMap,Sr=new WeakMap,Je=new WeakMap,Ze=new WeakMap,Ye=new WeakMap,We=new WeakSet,va=function(){return Dr(this,gr)||yi(this,gr,new Map)},fr=new WeakSet,Bs=function(){if(!Dr(this,sr)){const ar=Dr(this,hr).createElement("div"),{style:Qe}=ar;Qe.visibility="hidden",Qe.contain="strict",Qe.width=Qe.height=0,Qe.position="absolute",Qe.top=Qe.left=0,Qe.zIndex=-1;const rr=Dr(this,hr).createElementNS(Ae,"svg");rr.setAttribute("width",0),rr.setAttribute("height",0),yi(this,sr,Dr(this,hr).createElementNS(Ae,"defs")),ar.append(rr),rr.append(Dr(this,sr)),Dr(this,hr).body.append(ar)}return Dr(this,sr)},yr=new WeakSet,ls=function(ar,Qe,rr){const er=Dr(this,hr).createElementNS(Ae,Qe);er.setAttribute("type","discrete"),er.setAttribute("tableValues",rr),ar.append(er)},e.DOMFilterFactory=Ce;class Te extends _e.BaseCanvasFactory{constructor({ownerDocument:cr=globalThis.document}={}){super(),this._document=cr}_createCanvas(cr,ar){const Qe=this._document.createElement("canvas");return Qe.width=cr,Qe.height=ar,Qe}}e.DOMCanvasFactory=Te;async function De(Ar,cr=!1){if(ze(Ar,document.baseURI)){const ar=await fetch(Ar);if(!ar.ok)throw new Error(ar.statusText);return cr?new Uint8Array(await ar.arrayBuffer()):(0,Se.stringToBytes)(await ar.text())}return new Promise((ar,Qe)=>{const rr=new XMLHttpRequest;rr.open("GET",Ar,!0),cr&&(rr.responseType="arraybuffer"),rr.onreadystatechange=()=>{if(rr.readyState===XMLHttpRequest.DONE){if(rr.status===200||rr.status===0){let er;if(cr&&rr.response?er=new Uint8Array(rr.response):!cr&&rr.responseText&&(er=(0,Se.stringToBytes)(rr.responseText)),er){ar(er);return}}Qe(new Error(rr.statusText))}},rr.send(null)})}class ke extends _e.BaseCMapReaderFactory{_fetchData(cr,ar){return De(cr,this.isCompressed).then(Qe=>({cMapData:Qe,compressionType:ar}))}}e.DOMCMapReaderFactory=ke;class Pe extends _e.BaseStandardFontDataFactory{_fetchData(cr){return De(cr,!0)}}e.DOMStandardFontDataFactory=Pe;class xe extends _e.BaseSVGFactory{_createSVG(cr){return document.createElementNS(Ae,cr)}}e.DOMSVGFactory=xe;class Fe{constructor({viewBox:cr,scale:ar,rotation:Qe,offsetX:rr=0,offsetY:er=0,dontFlip:ur=!1}){this.viewBox=cr,this.scale=ar,this.rotation=Qe,this.offsetX=rr,this.offsetY=er;const Cr=(cr[2]+cr[0])/2,wr=(cr[3]+cr[1])/2;let Or,kr,Pr,Ir;switch(Qe%=360,Qe<0&&(Qe+=360),Qe){case 180:Or=-1,kr=0,Pr=0,Ir=1;break;case 90:Or=0,kr=1,Pr=1,Ir=0;break;case 270:Or=0,kr=-1,Pr=-1,Ir=0;break;case 0:Or=1,kr=0,Pr=0,Ir=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ur&&(Pr=-Pr,Ir=-Ir);let Vr,zr,$r,Gr;Or===0?(Vr=Math.abs(wr-cr[1])*ar+rr,zr=Math.abs(Cr-cr[0])*ar+er,$r=(cr[3]-cr[1])*ar,Gr=(cr[2]-cr[0])*ar):(Vr=Math.abs(Cr-cr[0])*ar+rr,zr=Math.abs(wr-cr[1])*ar+er,$r=(cr[2]-cr[0])*ar,Gr=(cr[3]-cr[1])*ar),this.transform=[Or*ar,kr*ar,Pr*ar,Ir*ar,Vr-Or*ar*Cr-Pr*ar*wr,zr-kr*ar*Cr-Ir*ar*wr],this.width=$r,this.height=Gr}get rawDims(){const{viewBox:cr}=this;return(0,Se.shadow)(this,"rawDims",{pageWidth:cr[2]-cr[0],pageHeight:cr[3]-cr[1],pageX:cr[0],pageY:cr[1]})}clone({scale:cr=this.scale,rotation:ar=this.rotation,offsetX:Qe=this.offsetX,offsetY:rr=this.offsetY,dontFlip:er=!1}={}){return new Fe({viewBox:this.viewBox.slice(),scale:cr,rotation:ar,offsetX:Qe,offsetY:rr,dontFlip:er})}convertToViewportPoint(cr,ar){return Se.Util.applyTransform([cr,ar],this.transform)}convertToViewportRectangle(cr){const ar=Se.Util.applyTransform([cr[0],cr[1]],this.transform),Qe=Se.Util.applyTransform([cr[2],cr[3]],this.transform);return[ar[0],ar[1],Qe[0],Qe[1]]}convertToPdfPoint(cr,ar){return Se.Util.applyInverseTransform([cr,ar],this.transform)}}e.PageViewport=Fe;class Ie extends Se.BaseException{constructor(cr,ar,Qe=0){super(cr,"RenderingCancelledException"),this.type=ar,this.extraDelay=Qe}}e.RenderingCancelledException=Ie;function Me(Ar){const cr=Ar.length;let ar=0;for(;ar<cr&&Ar[ar].trim()==="";)ar++;return Ar.substring(ar,ar+5).toLowerCase()==="data:"}function Oe(Ar){return typeof Ar=="string"&&/\.pdf$/i.test(Ar)}function Be(Ar,cr=!1){return cr||([Ar]=Ar.split(/[#?]/,1)),Ar.substring(Ar.lastIndexOf("/")+1)}function je(Ar,cr="document.pdf"){if(typeof Ar!="string")return cr;if(Me(Ar))return(0,Se.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),cr;const ar=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Qe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,rr=ar.exec(Ar);let er=Qe.exec(rr[1])||Qe.exec(rr[2])||Qe.exec(rr[3]);if(er&&(er=er[0],er.includes("%")))try{er=Qe.exec(decodeURIComponent(er))[0]}catch{}return er||cr}class Ve{constructor(){dn(this,"started",Object.create(null));dn(this,"times",[])}time(cr){cr in this.started&&(0,Se.warn)(`Timer is already running for ${cr}`),this.started[cr]=Date.now()}timeEnd(cr){cr in this.started||(0,Se.warn)(`Timer has not been started for ${cr}`),this.times.push({name:cr,start:this.started[cr],end:Date.now()}),delete this.started[cr]}toString(){const cr=[];let ar=0;for(const{name:Qe}of this.times)ar=Math.max(Qe.length,ar);for(const{name:Qe,start:rr,end:er}of this.times)cr.push(`${Qe.padEnd(ar)} ${er-rr}ms
`);return cr.join("")}}e.StatTimer=Ve;function ze(Ar,cr){try{const{protocol:ar}=cr?new URL(Ar,cr):new URL(Ar);return ar==="http:"||ar==="https:"}catch{return!1}}function He(Ar,cr=!1){return new Promise((ar,Qe)=>{const rr=document.createElement("script");rr.src=Ar,rr.onload=function(er){cr&&rr.remove(),ar(er)},rr.onerror=function(){Qe(new Error(`Cannot load script at: ${rr.src}`))},(document.head||document.documentElement).append(rr)})}function $e(Ar){console.log("Deprecated API usage: "+Ar)}let Ue;class Xe{static toDateObject(cr){if(!cr||typeof cr!="string")return null;Ue||(Ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ar=Ue.exec(cr);if(!ar)return null;const Qe=parseInt(ar[1],10);let rr=parseInt(ar[2],10);rr=rr>=1&&rr<=12?rr-1:0;let er=parseInt(ar[3],10);er=er>=1&&er<=31?er:1;let ur=parseInt(ar[4],10);ur=ur>=0&&ur<=23?ur:0;let Cr=parseInt(ar[5],10);Cr=Cr>=0&&Cr<=59?Cr:0;let wr=parseInt(ar[6],10);wr=wr>=0&&wr<=59?wr:0;const Or=ar[7]||"Z";let kr=parseInt(ar[8],10);kr=kr>=0&&kr<=23?kr:0;let Pr=parseInt(ar[9],10)||0;return Pr=Pr>=0&&Pr<=59?Pr:0,Or==="-"?(ur+=kr,Cr+=Pr):Or==="+"&&(ur-=kr,Cr-=Pr),new Date(Date.UTC(Qe,rr,er,ur,Cr,wr))}}e.PDFDateString=Xe;function nr(Ar,{scale:cr=1,rotation:ar=0}){const{width:Qe,height:rr}=Ar.attributes.style,er=[0,0,parseInt(Qe),parseInt(rr)];return new Fe({viewBox:er,scale:cr,rotation:ar})}function Ge(Ar){if(Ar.startsWith("#")){const cr=parseInt(Ar.slice(1),16);return[(cr&16711680)>>16,(cr&65280)>>8,cr&255]}return Ar.startsWith("rgb(")?Ar.slice(4,-1).split(",").map(cr=>parseInt(cr)):Ar.startsWith("rgba(")?Ar.slice(5,-1).split(",").map(cr=>parseInt(cr)).slice(0,3):((0,Se.warn)(`Not a valid color format: "${Ar}"`),[0,0,0])}function St(Ar){const cr=document.createElement("span");cr.style.visibility="hidden",document.body.append(cr);for(const ar of Ar.keys()){cr.style.color=ar;const Qe=window.getComputedStyle(cr).color;Ar.set(ar,Ge(Qe))}cr.remove()}function mr(Ar){const{a:cr,b:ar,c:Qe,d:rr,e:er,f:ur}=Ar.getTransform();return[cr,ar,Qe,rr,er,ur]}function pr(Ar){const{a:cr,b:ar,c:Qe,d:rr,e:er,f:ur}=Ar.getTransform().invertSelf();return[cr,ar,Qe,rr,er,ur]}function vr(Ar,cr,ar=!1,Qe=!0){if(cr instanceof Fe){const{pageWidth:rr,pageHeight:er}=cr.rawDims,{style:ur}=Ar,Cr=`calc(var(--scale-factor) * ${rr}px)`,wr=`calc(var(--scale-factor) * ${er}px)`;!ar||cr.rotation%180===0?(ur.width=Cr,ur.height=wr):(ur.width=wr,ur.height=Cr)}Qe&&Ar.setAttribute("data-main-rotation",cr.rotation)}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var _e=r(1);class Se{constructor(){this.constructor===Se&&(0,_e.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(De){return"none"}addHCMFilter(De,ke){return"none"}destroy(De=!1){}}e.BaseFilterFactory=Se;class Ae{constructor(){this.constructor===Ae&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(De,ke){if(De<=0||ke<=0)throw new Error("Invalid canvas size");const Pe=this._createCanvas(De,ke);return{canvas:Pe,context:Pe.getContext("2d")}}reset(De,ke,Pe){if(!De.canvas)throw new Error("Canvas is not specified");if(ke<=0||Pe<=0)throw new Error("Invalid canvas size");De.canvas.width=ke,De.canvas.height=Pe}destroy(De){if(!De.canvas)throw new Error("Canvas is not specified");De.canvas.width=0,De.canvas.height=0,De.canvas=null,De.context=null}_createCanvas(De,ke){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=Ae;class Re{constructor({baseUrl:De=null,isCompressed:ke=!0}){this.constructor===Re&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=De,this.isCompressed=ke}async fetch({name:De}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!De)throw new Error("CMap name must be specified.");const ke=this.baseUrl+De+(this.isCompressed?".bcmap":""),Pe=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(ke,Pe).catch(xe=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ke}`)})}_fetchData(De,ke){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=Re;class Ee{constructor({baseUrl:De=null}){this.constructor===Ee&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=De}async fetch({filename:De}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!De)throw new Error("Font filename must be specified.");const ke=`${this.baseUrl}${De}`;return this._fetchData(ke).catch(Pe=>{throw new Error(`Unable to load font data at: ${ke}`)})}_fetchData(De){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=Ee;class Ce{constructor(){this.constructor===Ce&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(De,ke,Pe=!1){if(De<=0||ke<=0)throw new Error("Invalid SVG dimensions");const xe=this._createSVG("svg:svg");return xe.setAttribute("version","1.1"),Pe||(xe.setAttribute("width",`${De}px`),xe.setAttribute("height",`${ke}px`)),xe.setAttribute("preserveAspectRatio","none"),xe.setAttribute("viewBox",`0 0 ${De} ${ke}`),xe}createElement(De){if(typeof De!="string")throw new Error("Invalid SVG element type");return this._createSVG(De)}_createSVG(De){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=Ce},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var _e=r(1);const Se=3285377520,Ae=4294901760,Re=65535;class Ee{constructor(Te){this.h1=Te?Te&4294967295:Se,this.h2=Te?Te&4294967295:Se}update(Te){let De,ke;if(typeof Te=="string"){De=new Uint8Array(Te.length*2),ke=0;for(let $e=0,Ue=Te.length;$e<Ue;$e++){const Xe=Te.charCodeAt($e);Xe<=255?De[ke++]=Xe:(De[ke++]=Xe>>>8,De[ke++]=Xe&255)}}else if((0,_e.isArrayBuffer)(Te))De=Te.slice(),ke=De.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Pe=ke>>2,xe=ke-Pe*4,Fe=new Uint32Array(De.buffer,0,Pe);let Ie=0,Me=0,Oe=this.h1,Be=this.h2;const je=3432918353,Ve=461845907,ze=je&Re,He=Ve&Re;for(let $e=0;$e<Pe;$e++)$e&1?(Ie=Fe[$e],Ie=Ie*je&Ae|Ie*ze&Re,Ie=Ie<<15|Ie>>>17,Ie=Ie*Ve&Ae|Ie*He&Re,Oe^=Ie,Oe=Oe<<13|Oe>>>19,Oe=Oe*5+3864292196):(Me=Fe[$e],Me=Me*je&Ae|Me*ze&Re,Me=Me<<15|Me>>>17,Me=Me*Ve&Ae|Me*He&Re,Be^=Me,Be=Be<<13|Be>>>19,Be=Be*5+3864292196);switch(Ie=0,xe){case 3:Ie^=De[Pe*4+2]<<16;case 2:Ie^=De[Pe*4+1]<<8;case 1:Ie^=De[Pe*4],Ie=Ie*je&Ae|Ie*ze&Re,Ie=Ie<<15|Ie>>>17,Ie=Ie*Ve&Ae|Ie*He&Re,Pe&1?Oe^=Ie:Be^=Ie}this.h1=Oe,this.h2=Be}hexdigest(){let Te=this.h1,De=this.h2;return Te^=De>>>1,Te=Te*3981806797&Ae|Te*36045&Re,De=De*4283543511&Ae|((De<<16|Te>>>16)*2950163797&Ae)>>>16,Te^=De>>>1,Te=Te*444984403&Ae|Te*60499&Re,De=De*3301882366&Ae|((De<<16|Te>>>16)*3120437893&Ae)>>>16,Te^=De>>>1,(Te>>>0).toString(16).padStart(8,"0")+(De>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=Ee},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var _e=r(1),Se=r(10);class Ae{constructor({ownerDocument:Ce=globalThis.document,styleElement:Te=null}){this._document=Ce,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Ce){this.nativeFontFaces.push(Ce),this._document.fonts.add(Ce)}insertRule(Ce){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Te=this.styleElement.sheet;Te.insertRule(Ce,Te.cssRules.length)}clear(){for(const Ce of this.nativeFontFaces)this._document.fonts.delete(Ce);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(Ce){if(Ce.attached||Ce.missingFile)return;if(Ce.attached=!0,this.isFontLoadingAPISupported){const De=Ce.createNativeFontFace();if(De){this.addNativeFontFace(De);try{await De.loaded}catch(ke){throw(0,_e.warn)(`Failed to load font '${De.family}': '${ke}'.`),Ce.disableFontFace=!0,ke}}return}const Te=Ce.createFontFaceRule();if(Te){if(this.insertRule(Te),this.isSyncFontLoadingSupported)return;await new Promise(De=>{const ke=this._queueLoadingCallback(De);this._prepareFontLoadEvent(Ce,ke)})}}get isFontLoadingAPISupported(){var Te;const Ce=!!((Te=this._document)!=null&&Te.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",Ce)}get isSyncFontLoadingSupported(){let Ce=!1;return(Se.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Ce=!0),(0,_e.shadow)(this,"isSyncFontLoadingSupported",Ce)}_queueLoadingCallback(Ce){function Te(){for((0,_e.assert)(!ke.done,"completeRequest() cannot be called twice."),ke.done=!0;De.length>0&&De[0].done;){const Pe=De.shift();setTimeout(Pe.callback,0)}}const{loadingRequests:De}=this,ke={done:!1,complete:Te,callback:Ce};return De.push(ke),ke}get _loadTestFont(){const Ce=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_e.shadow)(this,"_loadTestFont",Ce)}_prepareFontLoadEvent(Ce,Te){function De(Ge,St){return Ge.charCodeAt(St)<<24|Ge.charCodeAt(St+1)<<16|Ge.charCodeAt(St+2)<<8|Ge.charCodeAt(St+3)&255}function ke(Ge,St,mr,pr){const vr=Ge.substring(0,St),dr=Ge.substring(St+mr);return vr+pr+dr}let Pe,xe;const Fe=this._document.createElement("canvas");Fe.width=1,Fe.height=1;const Ie=Fe.getContext("2d");let Me=0;function Oe(Ge,St){if(++Me>30){(0,_e.warn)("Load test font never loaded."),St();return}if(Ie.font="30px "+Ge,Ie.fillText(".",0,20),Ie.getImageData(0,0,1,1).data[3]>0){St();return}setTimeout(Oe.bind(null,Ge,St))}const Be=`lt${Date.now()}${this.loadTestFontId++}`;let je=this._loadTestFont;je=ke(je,976,Be.length,Be);const ze=16,He=1482184792;let $e=De(je,ze);for(Pe=0,xe=Be.length-3;Pe<xe;Pe+=4)$e=$e-He+De(Be,Pe)|0;Pe<Be.length&&($e=$e-He+De(Be+"XXX",Pe)|0),je=ke(je,ze,4,(0,_e.string32)($e));const Ue=`url(data:font/opentype;base64,${btoa(je)});`,Xe=`@font-face {font-family:"${Be}";src:${Ue}}`;this.insertRule(Xe);const nr=this._document.createElement("div");nr.style.visibility="hidden",nr.style.width=nr.style.height="10px",nr.style.position="absolute",nr.style.top=nr.style.left="0px";for(const Ge of[Ce.loadedName,Be]){const St=this._document.createElement("span");St.textContent="Hi",St.style.fontFamily=Ge,nr.append(St)}this._document.body.append(nr),Oe(Be,()=>{nr.remove(),Te.complete()})}}e.FontLoader=Ae;class Re{constructor(Ce,{isEvalSupported:Te=!0,disableFontFace:De=!1,ignoreErrors:ke=!1,inspectFont:Pe=null}){this.compiledGlyphs=Object.create(null);for(const xe in Ce)this[xe]=Ce[xe];this.isEvalSupported=Te!==!1,this.disableFontFace=De===!0,this.ignoreErrors=ke===!0,this._inspectFont=Pe}createNativeFontFace(){var Te;if(!this.data||this.disableFontFace)return null;let Ce;if(!this.cssFontInfo)Ce=new FontFace(this.loadedName,this.data,{});else{const De={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(De.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Ce=new FontFace(this.cssFontInfo.fontFamily,this.data,De)}return(Te=this._inspectFont)==null||Te.call(this,this),Ce}createFontFaceRule(){var ke;if(!this.data||this.disableFontFace)return null;const Ce=(0,_e.bytesToString)(this.data),Te=`url(data:${this.mimetype};base64,${btoa(Ce)});`;let De;if(!this.cssFontInfo)De=`@font-face {font-family:"${this.loadedName}";src:${Te}}`;else{let Pe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Pe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),De=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Pe}src:${Te}}`}return(ke=this._inspectFont)==null||ke.call(this,this,Te),De}getPathGenerator(Ce,Te){if(this.compiledGlyphs[Te]!==void 0)return this.compiledGlyphs[Te];let De;try{De=Ce.get(this.loadedName+"_path_"+Te)}catch(ke){if(!this.ignoreErrors)throw ke;return(0,_e.warn)(`getPathGenerator - ignoring character: "${ke}".`),this.compiledGlyphs[Te]=function(Pe,xe){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const ke=[];for(const Pe of De){const xe=Pe.args!==void 0?Pe.args.join(","):"";ke.push("c.",Pe.cmd,"(",xe,`);
`)}return this.compiledGlyphs[Te]=new Function("c","size",ke.join(""))}return this.compiledGlyphs[Te]=function(ke,Pe){for(const xe of De)xe.cmd==="scale"&&(xe.args=[Pe,-Pe]),ke[xe.cmd].apply(ke,xe.args)}}}e.FontFaceObject=Re},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r},(t,e,r)=>{var tr,zl;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var _e=r(1),Se=r(6),Ae=r(12),Re=r(13),Ee=r(10);const Ce=16,Te=100,De=4096,ke=15,Pe=10,xe=1e3,Fe=16;function Ie(Je,Ze){if(Je._removeMirroring)throw new Error("Context is already forwarding operations.");Je.__originalSave=Je.save,Je.__originalRestore=Je.restore,Je.__originalRotate=Je.rotate,Je.__originalScale=Je.scale,Je.__originalTranslate=Je.translate,Je.__originalTransform=Je.transform,Je.__originalSetTransform=Je.setTransform,Je.__originalResetTransform=Je.resetTransform,Je.__originalClip=Je.clip,Je.__originalMoveTo=Je.moveTo,Je.__originalLineTo=Je.lineTo,Je.__originalBezierCurveTo=Je.bezierCurveTo,Je.__originalRect=Je.rect,Je.__originalClosePath=Je.closePath,Je.__originalBeginPath=Je.beginPath,Je._removeMirroring=()=>{Je.save=Je.__originalSave,Je.restore=Je.__originalRestore,Je.rotate=Je.__originalRotate,Je.scale=Je.__originalScale,Je.translate=Je.__originalTranslate,Je.transform=Je.__originalTransform,Je.setTransform=Je.__originalSetTransform,Je.resetTransform=Je.__originalResetTransform,Je.clip=Je.__originalClip,Je.moveTo=Je.__originalMoveTo,Je.lineTo=Je.__originalLineTo,Je.bezierCurveTo=Je.__originalBezierCurveTo,Je.rect=Je.__originalRect,Je.closePath=Je.__originalClosePath,Je.beginPath=Je.__originalBeginPath,delete Je._removeMirroring},Je.save=function(){Ze.save(),this.__originalSave()},Je.restore=function(){Ze.restore(),this.__originalRestore()},Je.translate=function(We,or){Ze.translate(We,or),this.__originalTranslate(We,or)},Je.scale=function(We,or){Ze.scale(We,or),this.__originalScale(We,or)},Je.transform=function(We,or,fr,_r,yr,xr){Ze.transform(We,or,fr,_r,yr,xr),this.__originalTransform(We,or,fr,_r,yr,xr)},Je.setTransform=function(We,or,fr,_r,yr,xr){Ze.setTransform(We,or,fr,_r,yr,xr),this.__originalSetTransform(We,or,fr,_r,yr,xr)},Je.resetTransform=function(){Ze.resetTransform(),this.__originalResetTransform()},Je.rotate=function(We){Ze.rotate(We),this.__originalRotate(We)},Je.clip=function(We){Ze.clip(We),this.__originalClip(We)},Je.moveTo=function(Ye,We){Ze.moveTo(Ye,We),this.__originalMoveTo(Ye,We)},Je.lineTo=function(Ye,We){Ze.lineTo(Ye,We),this.__originalLineTo(Ye,We)},Je.bezierCurveTo=function(Ye,We,or,fr,_r,yr){Ze.bezierCurveTo(Ye,We,or,fr,_r,yr),this.__originalBezierCurveTo(Ye,We,or,fr,_r,yr)},Je.rect=function(Ye,We,or,fr){Ze.rect(Ye,We,or,fr),this.__originalRect(Ye,We,or,fr)},Je.closePath=function(){Ze.closePath(),this.__originalClosePath()},Je.beginPath=function(){Ze.beginPath(),this.__originalBeginPath()}}class Me{constructor(Ze){this.canvasFactory=Ze,this.cache=Object.create(null)}getCanvas(Ze,Ye,We){let or;return this.cache[Ze]!==void 0?(or=this.cache[Ze],this.canvasFactory.reset(or,Ye,We)):(or=this.canvasFactory.create(Ye,We),this.cache[Ze]=or),or}delete(Ze){delete this.cache[Ze]}clear(){for(const Ze in this.cache){const Ye=this.cache[Ze];this.canvasFactory.destroy(Ye),delete this.cache[Ze]}}}function Oe(Je,Ze,Ye,We,or,fr,_r,yr,xr,Ar){const[cr,ar,Qe,rr,er,ur]=(0,Se.getCurrentTransform)(Je);if(ar===0&&Qe===0){const Or=_r*cr+er,kr=Math.round(Or),Pr=yr*rr+ur,Ir=Math.round(Pr),Vr=(_r+xr)*cr+er,zr=Math.abs(Math.round(Vr)-kr)||1,$r=(yr+Ar)*rr+ur,Gr=Math.abs(Math.round($r)-Ir)||1;return Je.setTransform(Math.sign(cr),0,0,Math.sign(rr),kr,Ir),Je.drawImage(Ze,Ye,We,or,fr,0,0,zr,Gr),Je.setTransform(cr,ar,Qe,rr,er,ur),[zr,Gr]}if(cr===0&&rr===0){const Or=yr*Qe+er,kr=Math.round(Or),Pr=_r*ar+ur,Ir=Math.round(Pr),Vr=(yr+Ar)*Qe+er,zr=Math.abs(Math.round(Vr)-kr)||1,$r=(_r+xr)*ar+ur,Gr=Math.abs(Math.round($r)-Ir)||1;return Je.setTransform(0,Math.sign(ar),Math.sign(Qe),0,kr,Ir),Je.drawImage(Ze,Ye,We,or,fr,0,0,Gr,zr),Je.setTransform(cr,ar,Qe,rr,er,ur),[Gr,zr]}Je.drawImage(Ze,Ye,We,or,fr,_r,yr,xr,Ar);const Cr=Math.hypot(cr,ar),wr=Math.hypot(Qe,rr);return[Cr*xr,wr*Ar]}function Be(Je){const{width:Ze,height:Ye}=Je;if(Ze>xe||Ye>xe)return null;const We=1e3,or=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),fr=Ze+1;let _r=new Uint8Array(fr*(Ye+1)),yr,xr,Ar;const cr=Ze+7&-8;let ar=new Uint8Array(cr*Ye),Qe=0;for(const wr of Je.data){let Or=128;for(;Or>0;)ar[Qe++]=wr&Or?0:255,Or>>=1}let rr=0;for(Qe=0,ar[Qe]!==0&&(_r[0]=1,++rr),xr=1;xr<Ze;xr++)ar[Qe]!==ar[Qe+1]&&(_r[xr]=ar[Qe]?2:1,++rr),Qe++;for(ar[Qe]!==0&&(_r[xr]=2,++rr),yr=1;yr<Ye;yr++){Qe=yr*cr,Ar=yr*fr,ar[Qe-cr]!==ar[Qe]&&(_r[Ar]=ar[Qe]?1:8,++rr);let wr=(ar[Qe]?4:0)+(ar[Qe-cr]?8:0);for(xr=1;xr<Ze;xr++)wr=(wr>>2)+(ar[Qe+1]?4:0)+(ar[Qe-cr+1]?8:0),or[wr]&&(_r[Ar+xr]=or[wr],++rr),Qe++;if(ar[Qe-cr]!==ar[Qe]&&(_r[Ar+xr]=ar[Qe]?2:4,++rr),rr>We)return null}for(Qe=cr*(Ye-1),Ar=yr*fr,ar[Qe]!==0&&(_r[Ar]=8,++rr),xr=1;xr<Ze;xr++)ar[Qe]!==ar[Qe+1]&&(_r[Ar+xr]=ar[Qe]?4:8,++rr),Qe++;if(ar[Qe]!==0&&(_r[Ar+xr]=4,++rr),rr>We)return null;const er=new Int32Array([0,fr,-1,0,-fr,0,0,0,1]),ur=new Path2D;for(yr=0;rr&&yr<=Ye;yr++){let wr=yr*fr;const Or=wr+Ze;for(;wr<Or&&!_r[wr];)wr++;if(wr===Or)continue;ur.moveTo(wr%fr,yr);const kr=wr;let Pr=_r[wr];do{const Ir=er[Pr];do wr+=Ir;while(!_r[wr]);const Vr=_r[wr];Vr!==5&&Vr!==10?(Pr=Vr,_r[wr]=0):(Pr=Vr&51*Pr>>4,_r[wr]&=Pr>>2|Pr<<2),ur.lineTo(wr%fr,wr/fr|0),_r[wr]||--rr}while(kr!==wr);--yr}return ar=null,_r=null,function(wr){wr.save(),wr.scale(1/Ze,-1/Ye),wr.translate(0,-Ye),wr.fill(ur),wr.beginPath(),wr.restore()}}class je{constructor(Ze,Ye){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Ze,Ye])}clone(){const Ze=Object.create(this);return Ze.clipBox=this.clipBox.slice(),Ze}setCurrentPoint(Ze,Ye){this.x=Ze,this.y=Ye}updatePathMinMax(Ze,Ye,We){[Ye,We]=_e.Util.applyTransform([Ye,We],Ze),this.minX=Math.min(this.minX,Ye),this.minY=Math.min(this.minY,We),this.maxX=Math.max(this.maxX,Ye),this.maxY=Math.max(this.maxY,We)}updateRectMinMax(Ze,Ye){const We=_e.Util.applyTransform(Ye,Ze),or=_e.Util.applyTransform(Ye.slice(2),Ze);this.minX=Math.min(this.minX,We[0],or[0]),this.minY=Math.min(this.minY,We[1],or[1]),this.maxX=Math.max(this.maxX,We[0],or[0]),this.maxY=Math.max(this.maxY,We[1],or[1])}updateScalingPathMinMax(Ze,Ye){_e.Util.scaleMinMax(Ze,Ye),this.minX=Math.min(this.minX,Ye[0]),this.maxX=Math.max(this.maxX,Ye[1]),this.minY=Math.min(this.minY,Ye[2]),this.maxY=Math.max(this.maxY,Ye[3])}updateCurvePathMinMax(Ze,Ye,We,or,fr,_r,yr,xr,Ar,cr){const ar=_e.Util.bezierBoundingBox(Ye,We,or,fr,_r,yr,xr,Ar);if(cr){cr[0]=Math.min(cr[0],ar[0],ar[2]),cr[1]=Math.max(cr[1],ar[0],ar[2]),cr[2]=Math.min(cr[2],ar[1],ar[3]),cr[3]=Math.max(cr[3],ar[1],ar[3]);return}this.updateRectMinMax(Ze,ar)}getPathBoundingBox(Ze=Ae.PathType.FILL,Ye=null){const We=[this.minX,this.minY,this.maxX,this.maxY];if(Ze===Ae.PathType.STROKE){Ye||(0,_e.unreachable)("Stroke bounding box must include transform.");const or=_e.Util.singularValueDecompose2dScale(Ye),fr=or[0]*this.lineWidth/2,_r=or[1]*this.lineWidth/2;We[0]-=fr,We[1]-=_r,We[2]+=fr,We[3]+=_r}return We}updateClipFromPath(){const Ze=_e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Ze||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Ze){this.clipBox=Ze,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Ze=Ae.PathType.FILL,Ye=null){return _e.Util.intersect(this.clipBox,this.getPathBoundingBox(Ze,Ye))}}function Ve(Je,Ze){if(typeof ImageData<"u"&&Ze instanceof ImageData){Je.putImageData(Ze,0,0);return}const Ye=Ze.height,We=Ze.width,or=Ye%Fe,fr=(Ye-or)/Fe,_r=or===0?fr:fr+1,yr=Je.createImageData(We,Fe);let xr=0,Ar;const cr=Ze.data,ar=yr.data;let Qe,rr,er,ur;if(Ze.kind===_e.ImageKind.GRAYSCALE_1BPP){const Cr=cr.byteLength,wr=new Uint32Array(ar.buffer,0,ar.byteLength>>2),Or=wr.length,kr=We+7>>3,Pr=4294967295,Ir=_e.FeatureTest.isLittleEndian?4278190080:255;for(Qe=0;Qe<_r;Qe++){for(er=Qe<fr?Fe:or,Ar=0,rr=0;rr<er;rr++){const Vr=Cr-xr;let zr=0;const $r=Vr>kr?We:Vr*8-7,Gr=$r&-8;let ii=0,Qr=0;for(;zr<Gr;zr+=8)Qr=cr[xr++],wr[Ar++]=Qr&128?Pr:Ir,wr[Ar++]=Qr&64?Pr:Ir,wr[Ar++]=Qr&32?Pr:Ir,wr[Ar++]=Qr&16?Pr:Ir,wr[Ar++]=Qr&8?Pr:Ir,wr[Ar++]=Qr&4?Pr:Ir,wr[Ar++]=Qr&2?Pr:Ir,wr[Ar++]=Qr&1?Pr:Ir;for(;zr<$r;zr++)ii===0&&(Qr=cr[xr++],ii=128),wr[Ar++]=Qr&ii?Pr:Ir,ii>>=1}for(;Ar<Or;)wr[Ar++]=0;Je.putImageData(yr,0,Qe*Fe)}}else if(Ze.kind===_e.ImageKind.RGBA_32BPP){for(rr=0,ur=We*Fe*4,Qe=0;Qe<fr;Qe++)ar.set(cr.subarray(xr,xr+ur)),xr+=ur,Je.putImageData(yr,0,rr),rr+=Fe;Qe<_r&&(ur=We*or*4,ar.set(cr.subarray(xr,xr+ur)),Je.putImageData(yr,0,rr))}else if(Ze.kind===_e.ImageKind.RGB_24BPP)for(er=Fe,ur=We*er,Qe=0;Qe<_r;Qe++){for(Qe>=fr&&(er=or,ur=We*er),Ar=0,rr=ur;rr--;)ar[Ar++]=cr[xr++],ar[Ar++]=cr[xr++],ar[Ar++]=cr[xr++],ar[Ar++]=255;Je.putImageData(yr,0,Qe*Fe)}else throw new Error(`bad image kind: ${Ze.kind}`)}function ze(Je,Ze){if(Ze.bitmap){Je.drawImage(Ze.bitmap,0,0);return}const Ye=Ze.height,We=Ze.width,or=Ye%Fe,fr=(Ye-or)/Fe,_r=or===0?fr:fr+1,yr=Je.createImageData(We,Fe);let xr=0;const Ar=Ze.data,cr=yr.data;for(let ar=0;ar<_r;ar++){const Qe=ar<fr?Fe:or;({srcPos:xr}=(0,Re.convertBlackAndWhiteToRGBA)({src:Ar,srcPos:xr,dest:cr,width:We,height:Qe,nonBlackColor:0})),Je.putImageData(yr,0,ar*Fe)}}function He(Je,Ze){const Ye=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const We of Ye)Je[We]!==void 0&&(Ze[We]=Je[We]);Je.setLineDash!==void 0&&(Ze.setLineDash(Je.getLineDash()),Ze.lineDashOffset=Je.lineDashOffset)}function $e(Je){Je.strokeStyle=Je.fillStyle="#000000",Je.fillRule="nonzero",Je.globalAlpha=1,Je.lineWidth=1,Je.lineCap="butt",Je.lineJoin="miter",Je.miterLimit=10,Je.globalCompositeOperation="source-over",Je.font="10px sans-serif",Je.setLineDash!==void 0&&(Je.setLineDash([]),Je.lineDashOffset=0),Ee.isNodeJS||(Je.filter="none")}function Ue(Je,Ze,Ye,We){const or=Je.length;for(let fr=3;fr<or;fr+=4){const _r=Je[fr];if(_r===0)Je[fr-3]=Ze,Je[fr-2]=Ye,Je[fr-1]=We;else if(_r<255){const yr=255-_r;Je[fr-3]=Je[fr-3]*_r+Ze*yr>>8,Je[fr-2]=Je[fr-2]*_r+Ye*yr>>8,Je[fr-1]=Je[fr-1]*_r+We*yr>>8}}}function Xe(Je,Ze,Ye){const We=Je.length,or=1/255;for(let fr=3;fr<We;fr+=4){const _r=Ye?Ye[Je[fr]]:Je[fr];Ze[fr]=Ze[fr]*_r*or|0}}function nr(Je,Ze,Ye){const We=Je.length;for(let or=3;or<We;or+=4){const fr=Je[or-3]*77+Je[or-2]*152+Je[or-1]*28;Ze[or]=Ye?Ze[or]*Ye[fr>>8]>>8:Ze[or]*fr>>16}}function Ge(Je,Ze,Ye,We,or,fr,_r,yr,xr,Ar,cr){const ar=!!fr,Qe=ar?fr[0]:0,rr=ar?fr[1]:0,er=ar?fr[2]:0;let ur;or==="Luminosity"?ur=nr:ur=Xe;const wr=Math.min(We,Math.ceil(1048576/Ye));for(let Or=0;Or<We;Or+=wr){const kr=Math.min(wr,We-Or),Pr=Je.getImageData(yr-Ar,Or+(xr-cr),Ye,kr),Ir=Ze.getImageData(yr,Or+xr,Ye,kr);ar&&Ue(Pr.data,Qe,rr,er),ur(Pr.data,Ir.data,_r),Ze.putImageData(Ir,yr,Or+xr)}}function St(Je,Ze,Ye,We){const or=We[0],fr=We[1],_r=We[2]-or,yr=We[3]-fr;_r===0||yr===0||(Ge(Ze.context,Ye,_r,yr,Ze.subtype,Ze.backdrop,Ze.transferMap,or,fr,Ze.offsetX,Ze.offsetY),Je.save(),Je.globalAlpha=1,Je.globalCompositeOperation="source-over",Je.setTransform(1,0,0,1,0,0),Je.drawImage(Ye.canvas,0,0),Je.restore())}function mr(Je,Ze){const Ye=_e.Util.singularValueDecompose2dScale(Je);Ye[0]=Math.fround(Ye[0]),Ye[1]=Math.fround(Ye[1]);const We=Math.fround((globalThis.devicePixelRatio||1)*Se.PixelsPerInch.PDF_TO_CSS_UNITS);return Ze!==void 0?Ze:Ye[0]<=We||Ye[1]<=We}const pr=["butt","round","square"],vr=["miter","round","bevel"],dr={},gr={},Sr=class{constructor(Ze,Ye,We,or,fr,{optionalContentConfig:_r,markedContentStack:yr=null},xr){ri(this,tr);this.ctx=Ze,this.current=new je(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ye,this.objs=We,this.canvasFactory=or,this.filterFactory=fr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=yr||[],this.optionalContentConfig=_r,this.cachedCanvases=new Me(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Ze,Ye=null){return typeof Ze=="string"?Ze.startsWith("g_")?this.commonObjs.get(Ze):this.objs.get(Ze):Ye}beginDrawing({transform:Ze,viewport:Ye,transparency:We=!1,background:or=null}){const fr=this.ctx.canvas.width,_r=this.ctx.canvas.height,yr=this.ctx.fillStyle;if(this.ctx.fillStyle=or||"#ffffff",this.ctx.fillRect(0,0,fr,_r),this.ctx.fillStyle=yr,We){const xr=this.cachedCanvases.getCanvas("transparent",fr,_r);this.compositeCtx=this.ctx,this.transparentCanvas=xr.canvas,this.ctx=xr.context,this.ctx.save(),this.ctx.transform(...(0,Se.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),$e(this.ctx),Ze&&(this.ctx.transform(...Ze),this.outputScaleX=Ze[0],this.outputScaleY=Ze[0]),this.ctx.transform(...Ye.transform),this.viewportScale=Ye.scale,this.baseTransform=(0,Se.getCurrentTransform)(this.ctx)}executeOperatorList(Ze,Ye,We,or){const fr=Ze.argsArray,_r=Ze.fnArray;let yr=Ye||0;const xr=fr.length;if(xr===yr)return yr;const Ar=xr-yr>Pe&&typeof We=="function",cr=Ar?Date.now()+ke:0;let ar=0;const Qe=this.commonObjs,rr=this.objs;let er;for(;;){if(or!==void 0&&yr===or.nextBreakPoint)return or.breakIt(yr,We),yr;if(er=_r[yr],er!==_e.OPS.dependency)this[er].apply(this,fr[yr]);else for(const ur of fr[yr]){const Cr=ur.startsWith("g_")?Qe:rr;if(!Cr.has(ur))return Cr.get(ur,We),yr}if(yr++,yr===xr)return yr;if(Ar&&++ar>Pe){if(Date.now()>cr)return We(),yr;ar=0}}}endDrawing(Ze=null){oi(this,tr,zl).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Ye of this._cachedBitmapsMap.values()){for(const We of Ye.values())typeof HTMLCanvasElement<"u"&&We instanceof HTMLCanvasElement&&(We.width=We.height=0);Ye.clear()}if(this._cachedBitmapsMap.clear(),Ze){const Ye=this.filterFactory.addHCMFilter(Ze.foreground,Ze.background);if(Ye!=="none"){const We=this.ctx.filter;this.ctx.filter=Ye,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=We}}}_scaleImage(Ze,Ye){const We=Ze.width,or=Ze.height;let fr=Math.max(Math.hypot(Ye[0],Ye[1]),1),_r=Math.max(Math.hypot(Ye[2],Ye[3]),1),yr=We,xr=or,Ar="prescale1",cr,ar;for(;fr>2&&yr>1||_r>2&&xr>1;){let Qe=yr,rr=xr;fr>2&&yr>1&&(Qe=yr>=16384?Math.floor(yr/2)-1||1:Math.ceil(yr/2),fr/=yr/Qe),_r>2&&xr>1&&(rr=xr>=16384?Math.floor(xr/2)-1||1:Math.ceil(xr)/2,_r/=xr/rr),cr=this.cachedCanvases.getCanvas(Ar,Qe,rr),ar=cr.context,ar.clearRect(0,0,Qe,rr),ar.drawImage(Ze,0,0,yr,xr,0,0,Qe,rr),Ze=cr.canvas,yr=Qe,xr=rr,Ar=Ar==="prescale1"?"prescale2":"prescale1"}return{img:Ze,paintWidth:yr,paintHeight:xr}}_createMaskCanvas(Ze){const Ye=this.ctx,{width:We,height:or}=Ze,fr=this.current.fillColor,_r=this.current.patternFill,yr=(0,Se.getCurrentTransform)(Ye);let xr,Ar,cr,ar;if((Ze.bitmap||Ze.data)&&Ze.count>1){const zr=Ze.bitmap||Ze.data.buffer;Ar=JSON.stringify(_r?yr:[yr.slice(0,4),fr]),xr=this._cachedBitmapsMap.get(zr),xr||(xr=new Map,this._cachedBitmapsMap.set(zr,xr));const $r=xr.get(Ar);if($r&&!_r){const Gr=Math.round(Math.min(yr[0],yr[2])+yr[4]),ii=Math.round(Math.min(yr[1],yr[3])+yr[5]);return{canvas:$r,offsetX:Gr,offsetY:ii}}cr=$r}cr||(ar=this.cachedCanvases.getCanvas("maskCanvas",We,or),ze(ar.context,Ze));let Qe=_e.Util.transform(yr,[1/We,0,0,-1/or,0,0]);Qe=_e.Util.transform(Qe,[1,0,0,1,0,-or]);const rr=_e.Util.applyTransform([0,0],Qe),er=_e.Util.applyTransform([We,or],Qe),ur=_e.Util.normalizeRect([rr[0],rr[1],er[0],er[1]]),Cr=Math.round(ur[2]-ur[0])||1,wr=Math.round(ur[3]-ur[1])||1,Or=this.cachedCanvases.getCanvas("fillCanvas",Cr,wr),kr=Or.context,Pr=Math.min(rr[0],er[0]),Ir=Math.min(rr[1],er[1]);kr.translate(-Pr,-Ir),kr.transform(...Qe),cr||(cr=this._scaleImage(ar.canvas,(0,Se.getCurrentTransformInverse)(kr)),cr=cr.img,xr&&_r&&xr.set(Ar,cr)),kr.imageSmoothingEnabled=mr((0,Se.getCurrentTransform)(kr),Ze.interpolate),Oe(kr,cr,0,0,cr.width,cr.height,0,0,We,or),kr.globalCompositeOperation="source-in";const Vr=_e.Util.transform((0,Se.getCurrentTransformInverse)(kr),[1,0,0,1,-Pr,-Ir]);return kr.fillStyle=_r?fr.getPattern(Ye,this,Vr,Ae.PathType.FILL):fr,kr.fillRect(0,0,We,or),xr&&!_r&&(this.cachedCanvases.delete("fillCanvas"),xr.set(Ar,Or.canvas)),{canvas:Or.canvas,offsetX:Math.round(Pr),offsetY:Math.round(Ir)}}setLineWidth(Ze){Ze!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Ze,this.ctx.lineWidth=Ze}setLineCap(Ze){this.ctx.lineCap=pr[Ze]}setLineJoin(Ze){this.ctx.lineJoin=vr[Ze]}setMiterLimit(Ze){this.ctx.miterLimit=Ze}setDash(Ze,Ye){const We=this.ctx;We.setLineDash!==void 0&&(We.setLineDash(Ze),We.lineDashOffset=Ye)}setRenderingIntent(Ze){}setFlatness(Ze){}setGState(Ze){for(const[Ye,We]of Ze)switch(Ye){case"LW":this.setLineWidth(We);break;case"LC":this.setLineCap(We);break;case"LJ":this.setLineJoin(We);break;case"ML":this.setMiterLimit(We);break;case"D":this.setDash(We[0],We[1]);break;case"RI":this.setRenderingIntent(We);break;case"FL":this.setFlatness(We);break;case"Font":this.setFont(We[0],We[1]);break;case"CA":this.current.strokeAlpha=We;break;case"ca":this.current.fillAlpha=We,this.ctx.globalAlpha=We;break;case"BM":this.ctx.globalCompositeOperation=We;break;case"SMask":this.current.activeSMask=We?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(We);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Ze=this.inSMaskMode;this.current.activeSMask&&!Ze?this.beginSMaskMode():!this.current.activeSMask&&Ze&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Ze=this.ctx.canvas.width,Ye=this.ctx.canvas.height,We="smaskGroupAt"+this.groupLevel,or=this.cachedCanvases.getCanvas(We,Ze,Ye);this.suspendedCtx=this.ctx,this.ctx=or.context;const fr=this.ctx;fr.setTransform(...(0,Se.getCurrentTransform)(this.suspendedCtx)),He(this.suspendedCtx,fr),Ie(fr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),He(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Ze){if(!this.current.activeSMask)return;Ze?(Ze[0]=Math.floor(Ze[0]),Ze[1]=Math.floor(Ze[1]),Ze[2]=Math.ceil(Ze[2]),Ze[3]=Math.ceil(Ze[3])):Ze=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ye=this.current.activeSMask,We=this.suspendedCtx;St(We,Ye,this.ctx,Ze),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(He(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Ze=this.current;this.stateStack.push(Ze),this.current=Ze.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),He(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Ze,Ye,We,or,fr,_r){this.ctx.transform(Ze,Ye,We,or,fr,_r),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Ze,Ye,We){const or=this.ctx,fr=this.current;let _r=fr.x,yr=fr.y,xr,Ar;const cr=(0,Se.getCurrentTransform)(or),ar=cr[0]===0&&cr[3]===0||cr[1]===0&&cr[2]===0,Qe=ar?We.slice(0):null;for(let rr=0,er=0,ur=Ze.length;rr<ur;rr++)switch(Ze[rr]|0){case _e.OPS.rectangle:_r=Ye[er++],yr=Ye[er++];const Cr=Ye[er++],wr=Ye[er++],Or=_r+Cr,kr=yr+wr;or.moveTo(_r,yr),Cr===0||wr===0?or.lineTo(Or,kr):(or.lineTo(Or,yr),or.lineTo(Or,kr),or.lineTo(_r,kr)),ar||fr.updateRectMinMax(cr,[_r,yr,Or,kr]),or.closePath();break;case _e.OPS.moveTo:_r=Ye[er++],yr=Ye[er++],or.moveTo(_r,yr),ar||fr.updatePathMinMax(cr,_r,yr);break;case _e.OPS.lineTo:_r=Ye[er++],yr=Ye[er++],or.lineTo(_r,yr),ar||fr.updatePathMinMax(cr,_r,yr);break;case _e.OPS.curveTo:xr=_r,Ar=yr,_r=Ye[er+4],yr=Ye[er+5],or.bezierCurveTo(Ye[er],Ye[er+1],Ye[er+2],Ye[er+3],_r,yr),fr.updateCurvePathMinMax(cr,xr,Ar,Ye[er],Ye[er+1],Ye[er+2],Ye[er+3],_r,yr,Qe),er+=6;break;case _e.OPS.curveTo2:xr=_r,Ar=yr,or.bezierCurveTo(_r,yr,Ye[er],Ye[er+1],Ye[er+2],Ye[er+3]),fr.updateCurvePathMinMax(cr,xr,Ar,_r,yr,Ye[er],Ye[er+1],Ye[er+2],Ye[er+3],Qe),_r=Ye[er+2],yr=Ye[er+3],er+=4;break;case _e.OPS.curveTo3:xr=_r,Ar=yr,_r=Ye[er+2],yr=Ye[er+3],or.bezierCurveTo(Ye[er],Ye[er+1],_r,yr,_r,yr),fr.updateCurvePathMinMax(cr,xr,Ar,Ye[er],Ye[er+1],_r,yr,_r,yr,Qe),er+=4;break;case _e.OPS.closePath:or.closePath();break}ar&&fr.updateScalingPathMinMax(cr,Qe),fr.setCurrentPoint(_r,yr)}closePath(){this.ctx.closePath()}stroke(Ze=!0){const Ye=this.ctx,We=this.current.strokeColor;Ye.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof We=="object"&&(We==null?void 0:We.getPattern)?(Ye.save(),Ye.strokeStyle=We.getPattern(Ye,this,(0,Se.getCurrentTransformInverse)(Ye),Ae.PathType.STROKE),this.rescaleAndStroke(!1),Ye.restore()):this.rescaleAndStroke(!0)),Ze&&this.consumePath(this.current.getClippedPathBoundingBox()),Ye.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Ze=!0){const Ye=this.ctx,We=this.current.fillColor,or=this.current.patternFill;let fr=!1;or&&(Ye.save(),Ye.fillStyle=We.getPattern(Ye,this,(0,Se.getCurrentTransformInverse)(Ye),Ae.PathType.FILL),fr=!0);const _r=this.current.getClippedPathBoundingBox();this.contentVisible&&_r!==null&&(this.pendingEOFill?(Ye.fill("evenodd"),this.pendingEOFill=!1):Ye.fill()),fr&&Ye.restore(),Ze&&this.consumePath(_r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dr}eoClip(){this.pendingClip=gr}beginText(){this.current.textMatrix=_e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Ze=this.pendingTextPaths,Ye=this.ctx;if(Ze===void 0){Ye.beginPath();return}Ye.save(),Ye.beginPath();for(const We of Ze)Ye.setTransform(...We.transform),Ye.translate(We.x,We.y),We.addToPath(Ye,We.fontSize);Ye.restore(),Ye.clip(),Ye.beginPath(),delete this.pendingTextPaths}setCharSpacing(Ze){this.current.charSpacing=Ze}setWordSpacing(Ze){this.current.wordSpacing=Ze}setHScale(Ze){this.current.textHScale=Ze/100}setLeading(Ze){this.current.leading=-Ze}setFont(Ze,Ye){const We=this.commonObjs.get(Ze),or=this.current;if(!We)throw new Error(`Can't find font for ${Ze}`);if(or.fontMatrix=We.fontMatrix||_e.FONT_IDENTITY_MATRIX,(or.fontMatrix[0]===0||or.fontMatrix[3]===0)&&(0,_e.warn)("Invalid font matrix for font "+Ze),Ye<0?(Ye=-Ye,or.fontDirection=-1):or.fontDirection=1,this.current.font=We,this.current.fontSize=Ye,We.isType3Font)return;const fr=We.loadedName||"sans-serif";let _r="normal";We.black?_r="900":We.bold&&(_r="bold");const yr=We.italic?"italic":"normal",xr=`"${fr}", ${We.fallbackName}`;let Ar=Ye;Ye<Ce?Ar=Ce:Ye>Te&&(Ar=Te),this.current.fontSizeScale=Ye/Ar,this.ctx.font=`${yr} ${_r} ${Ar}px ${xr}`}setTextRenderingMode(Ze){this.current.textRenderingMode=Ze}setTextRise(Ze){this.current.textRise=Ze}moveText(Ze,Ye){this.current.x=this.current.lineX+=Ze,this.current.y=this.current.lineY+=Ye}setLeadingMoveText(Ze,Ye){this.setLeading(-Ye),this.moveText(Ze,Ye)}setTextMatrix(Ze,Ye,We,or,fr,_r){this.current.textMatrix=[Ze,Ye,We,or,fr,_r],this.current.textMatrixScale=Math.hypot(Ze,Ye),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Ze,Ye,We,or){const fr=this.ctx,_r=this.current,yr=_r.font,xr=_r.textRenderingMode,Ar=_r.fontSize/_r.fontSizeScale,cr=xr&_e.TextRenderingMode.FILL_STROKE_MASK,ar=!!(xr&_e.TextRenderingMode.ADD_TO_PATH_FLAG),Qe=_r.patternFill&&!yr.missingFile;let rr;(yr.disableFontFace||ar||Qe)&&(rr=yr.getPathGenerator(this.commonObjs,Ze)),yr.disableFontFace||Qe?(fr.save(),fr.translate(Ye,We),fr.beginPath(),rr(fr,Ar),or&&fr.setTransform(...or),(cr===_e.TextRenderingMode.FILL||cr===_e.TextRenderingMode.FILL_STROKE)&&fr.fill(),(cr===_e.TextRenderingMode.STROKE||cr===_e.TextRenderingMode.FILL_STROKE)&&fr.stroke(),fr.restore()):((cr===_e.TextRenderingMode.FILL||cr===_e.TextRenderingMode.FILL_STROKE)&&fr.fillText(Ze,Ye,We),(cr===_e.TextRenderingMode.STROKE||cr===_e.TextRenderingMode.FILL_STROKE)&&fr.strokeText(Ze,Ye,We)),ar&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Se.getCurrentTransform)(fr),x:Ye,y:We,fontSize:Ar,addToPath:rr})}get isFontSubpixelAAEnabled(){const{context:Ze}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Ze.scale(1.5,1),Ze.fillText("I",0,10);const Ye=Ze.getImageData(0,0,10,10).data;let We=!1;for(let or=3;or<Ye.length;or+=4)if(Ye[or]>0&&Ye[or]<255){We=!0;break}return(0,_e.shadow)(this,"isFontSubpixelAAEnabled",We)}showText(Ze){const Ye=this.current,We=Ye.font;if(We.isType3Font)return this.showType3Text(Ze);const or=Ye.fontSize;if(or===0)return;const fr=this.ctx,_r=Ye.fontSizeScale,yr=Ye.charSpacing,xr=Ye.wordSpacing,Ar=Ye.fontDirection,cr=Ye.textHScale*Ar,ar=Ze.length,Qe=We.vertical,rr=Qe?1:-1,er=We.defaultVMetrics,ur=or*Ye.fontMatrix[0],Cr=Ye.textRenderingMode===_e.TextRenderingMode.FILL&&!We.disableFontFace&&!Ye.patternFill;fr.save(),fr.transform(...Ye.textMatrix),fr.translate(Ye.x,Ye.y+Ye.textRise),Ar>0?fr.scale(cr,-1):fr.scale(cr,1);let wr;if(Ye.patternFill){fr.save();const Vr=Ye.fillColor.getPattern(fr,this,(0,Se.getCurrentTransformInverse)(fr),Ae.PathType.FILL);wr=(0,Se.getCurrentTransform)(fr),fr.restore(),fr.fillStyle=Vr}let Or=Ye.lineWidth;const kr=Ye.textMatrixScale;if(kr===0||Or===0){const Vr=Ye.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;(Vr===_e.TextRenderingMode.STROKE||Vr===_e.TextRenderingMode.FILL_STROKE)&&(Or=this.getSinglePixelWidth())}else Or/=kr;if(_r!==1&&(fr.scale(_r,_r),Or/=_r),fr.lineWidth=Or,We.isInvalidPDFjsFont){const Vr=[];let zr=0;for(const $r of Ze)Vr.push($r.unicode),zr+=$r.width;fr.fillText(Vr.join(""),0,0),Ye.x+=zr*ur*cr,fr.restore(),this.compose();return}let Pr=0,Ir;for(Ir=0;Ir<ar;++Ir){const Vr=Ze[Ir];if(typeof Vr=="number"){Pr+=rr*Vr*or/1e3;continue}let zr=!1;const $r=(Vr.isSpace?xr:0)+yr,Gr=Vr.fontChar,ii=Vr.accent;let Qr,di,Lr=Vr.width;if(Qe){const jr=Vr.vmetric||er,ci=-(Vr.vmetric?jr[1]:Lr*.5)*ur,vi=jr[2]*ur;Lr=jr?-jr[0]:Lr,Qr=ci/_r,di=(Pr+vi)/_r}else Qr=Pr/_r,di=0;if(We.remeasure&&Lr>0){const jr=fr.measureText(Gr).width*1e3/or*_r;if(Lr<jr&&this.isFontSubpixelAAEnabled){const ci=Lr/jr;zr=!0,fr.save(),fr.scale(ci,1),Qr/=ci}else Lr!==jr&&(Qr+=(Lr-jr)/2e3*or/_r)}if(this.contentVisible&&(Vr.isInFont||We.missingFile)){if(Cr&&!ii)fr.fillText(Gr,Qr,di);else if(this.paintChar(Gr,Qr,di,wr),ii){const jr=Qr+or*ii.offset.x/_r,ci=di-or*ii.offset.y/_r;this.paintChar(ii.fontChar,jr,ci,wr)}}let Hr;Qe?Hr=Lr*ur-$r*Ar:Hr=Lr*ur+$r*Ar,Pr+=Hr,zr&&fr.restore()}Qe?Ye.y-=Pr:Ye.x+=Pr*cr,fr.restore(),this.compose()}showType3Text(Ze){const Ye=this.ctx,We=this.current,or=We.font,fr=We.fontSize,_r=We.fontDirection,yr=or.vertical?1:-1,xr=We.charSpacing,Ar=We.wordSpacing,cr=We.textHScale*_r,ar=We.fontMatrix||_e.FONT_IDENTITY_MATRIX,Qe=Ze.length,rr=We.textRenderingMode===_e.TextRenderingMode.INVISIBLE;let er,ur,Cr,wr;if(!(rr||fr===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Ye.save(),Ye.transform(...We.textMatrix),Ye.translate(We.x,We.y),Ye.scale(cr,_r),er=0;er<Qe;++er){if(ur=Ze[er],typeof ur=="number"){wr=yr*ur*fr/1e3,this.ctx.translate(wr,0),We.x+=wr*cr;continue}const Or=(ur.isSpace?Ar:0)+xr,kr=or.charProcOperatorList[ur.operatorListId];if(!kr){(0,_e.warn)(`Type3 character "${ur.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ur,this.save(),Ye.scale(fr,fr),Ye.transform(...ar),this.executeOperatorList(kr),this.restore()),Cr=_e.Util.applyTransform([ur.width,0],ar)[0]*fr+Or,Ye.translate(Cr,0),We.x+=Cr*cr}Ye.restore(),this.processingType3=null}}setCharWidth(Ze,Ye){}setCharWidthAndBounds(Ze,Ye,We,or,fr,_r){this.ctx.rect(We,or,fr-We,_r-or),this.ctx.clip(),this.endPath()}getColorN_Pattern(Ze){let Ye;if(Ze[0]==="TilingPattern"){const We=Ze[1],or=this.baseTransform||(0,Se.getCurrentTransform)(this.ctx),fr={createCanvasGraphics:_r=>new Sr(_r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Ye=new Ae.TilingPattern(Ze,We,this.ctx,fr,or)}else Ye=this._getPattern(Ze[1],Ze[2]);return Ye}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Ze,Ye,We){const or=_e.Util.makeHexColor(Ze,Ye,We);this.ctx.strokeStyle=or,this.current.strokeColor=or}setFillRGBColor(Ze,Ye,We){const or=_e.Util.makeHexColor(Ze,Ye,We);this.ctx.fillStyle=or,this.current.fillColor=or,this.current.patternFill=!1}_getPattern(Ze,Ye=null){let We;return this.cachedPatterns.has(Ze)?We=this.cachedPatterns.get(Ze):(We=(0,Ae.getShadingPattern)(this.getObject(Ze)),this.cachedPatterns.set(Ze,We)),Ye&&(We.matrix=Ye),We}shadingFill(Ze){if(!this.contentVisible)return;const Ye=this.ctx;this.save();const We=this._getPattern(Ze);Ye.fillStyle=We.getPattern(Ye,this,(0,Se.getCurrentTransformInverse)(Ye),Ae.PathType.SHADING);const or=(0,Se.getCurrentTransformInverse)(Ye);if(or){const fr=Ye.canvas,_r=fr.width,yr=fr.height,xr=_e.Util.applyTransform([0,0],or),Ar=_e.Util.applyTransform([0,yr],or),cr=_e.Util.applyTransform([_r,0],or),ar=_e.Util.applyTransform([_r,yr],or),Qe=Math.min(xr[0],Ar[0],cr[0],ar[0]),rr=Math.min(xr[1],Ar[1],cr[1],ar[1]),er=Math.max(xr[0],Ar[0],cr[0],ar[0]),ur=Math.max(xr[1],Ar[1],cr[1],ar[1]);this.ctx.fillRect(Qe,rr,er-Qe,ur-rr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Ze,Ye){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Ze)&&Ze.length===6&&this.transform(...Ze),this.baseTransform=(0,Se.getCurrentTransform)(this.ctx),Ye)){const We=Ye[2]-Ye[0],or=Ye[3]-Ye[1];this.ctx.rect(Ye[0],Ye[1],We,or),this.current.updateRectMinMax((0,Se.getCurrentTransform)(this.ctx),Ye),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Ze){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ye=this.ctx;Ze.isolated||(0,_e.info)("TODO: Support non-isolated groups."),Ze.knockout&&(0,_e.warn)("Knockout groups not supported.");const We=(0,Se.getCurrentTransform)(Ye);if(Ze.matrix&&Ye.transform(...Ze.matrix),!Ze.bbox)throw new Error("Bounding box is required.");let or=_e.Util.getAxialAlignedBoundingBox(Ze.bbox,(0,Se.getCurrentTransform)(Ye));const fr=[0,0,Ye.canvas.width,Ye.canvas.height];or=_e.Util.intersect(or,fr)||[0,0,0,0];const _r=Math.floor(or[0]),yr=Math.floor(or[1]);let xr=Math.max(Math.ceil(or[2])-_r,1),Ar=Math.max(Math.ceil(or[3])-yr,1),cr=1,ar=1;xr>De&&(cr=xr/De,xr=De),Ar>De&&(ar=Ar/De,Ar=De),this.current.startNewPathAndClipBox([0,0,xr,Ar]);let Qe="groupAt"+this.groupLevel;Ze.smask&&(Qe+="_smask_"+this.smaskCounter++%2);const rr=this.cachedCanvases.getCanvas(Qe,xr,Ar),er=rr.context;er.scale(1/cr,1/ar),er.translate(-_r,-yr),er.transform(...We),Ze.smask?this.smaskStack.push({canvas:rr.canvas,context:er,offsetX:_r,offsetY:yr,scaleX:cr,scaleY:ar,subtype:Ze.smask.subtype,backdrop:Ze.smask.backdrop,transferMap:Ze.smask.transferMap||null,startTransformInverse:null}):(Ye.setTransform(1,0,0,1,0,0),Ye.translate(_r,yr),Ye.scale(cr,ar),Ye.save()),He(Ye,er),this.ctx=er,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ye),this.groupLevel++}endGroup(Ze){if(!this.contentVisible)return;this.groupLevel--;const Ye=this.ctx,We=this.groupStack.pop();if(this.ctx=We,this.ctx.imageSmoothingEnabled=!1,Ze.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const or=(0,Se.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...or);const fr=_e.Util.getAxialAlignedBoundingBox([0,0,Ye.canvas.width,Ye.canvas.height],or);this.ctx.drawImage(Ye.canvas,0,0),this.ctx.restore(),this.compose(fr)}}beginAnnotation(Ze,Ye,We,or,fr){if(oi(this,tr,zl).call(this),$e(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Ye)&&Ye.length===4){const _r=Ye[2]-Ye[0],yr=Ye[3]-Ye[1];if(fr&&this.annotationCanvasMap){We=We.slice(),We[4]-=Ye[0],We[5]-=Ye[1],Ye=Ye.slice(),Ye[0]=Ye[1]=0,Ye[2]=_r,Ye[3]=yr;const[xr,Ar]=_e.Util.singularValueDecompose2dScale((0,Se.getCurrentTransform)(this.ctx)),{viewportScale:cr}=this,ar=Math.ceil(_r*this.outputScaleX*cr),Qe=Math.ceil(yr*this.outputScaleY*cr);this.annotationCanvas=this.canvasFactory.create(ar,Qe);const{canvas:rr,context:er}=this.annotationCanvas;this.annotationCanvasMap.set(Ze,rr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=er,this.ctx.setTransform(xr,0,0,-Ar,0,yr*Ar),$e(this.ctx)}else $e(this.ctx),this.ctx.rect(Ye[0],Ye[1],_r,yr),this.ctx.clip(),this.endPath()}this.current=new je(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...We),this.transform(...or)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Ze){if(!this.contentVisible)return;const Ye=Ze.count;Ze=this.getObject(Ze.data,Ze),Ze.count=Ye;const We=this.ctx,or=this.processingType3;if(or&&(or.compiled===void 0&&(or.compiled=Be(Ze)),or.compiled)){or.compiled(We);return}const fr=this._createMaskCanvas(Ze),_r=fr.canvas;We.save(),We.setTransform(1,0,0,1,0,0),We.drawImage(_r,fr.offsetX,fr.offsetY),We.restore(),this.compose()}paintImageMaskXObjectRepeat(Ze,Ye,We=0,or=0,fr,_r){if(!this.contentVisible)return;Ze=this.getObject(Ze.data,Ze);const yr=this.ctx;yr.save();const xr=(0,Se.getCurrentTransform)(yr);yr.transform(Ye,We,or,fr,0,0);const Ar=this._createMaskCanvas(Ze);yr.setTransform(1,0,0,1,Ar.offsetX-xr[4],Ar.offsetY-xr[5]);for(let cr=0,ar=_r.length;cr<ar;cr+=2){const Qe=_e.Util.transform(xr,[Ye,We,or,fr,_r[cr],_r[cr+1]]),[rr,er]=_e.Util.applyTransform([0,0],Qe);yr.drawImage(Ar.canvas,rr,er)}yr.restore(),this.compose()}paintImageMaskXObjectGroup(Ze){if(!this.contentVisible)return;const Ye=this.ctx,We=this.current.fillColor,or=this.current.patternFill;for(const fr of Ze){const{data:_r,width:yr,height:xr,transform:Ar}=fr,cr=this.cachedCanvases.getCanvas("maskCanvas",yr,xr),ar=cr.context;ar.save();const Qe=this.getObject(_r,fr);ze(ar,Qe),ar.globalCompositeOperation="source-in",ar.fillStyle=or?We.getPattern(ar,this,(0,Se.getCurrentTransformInverse)(Ye),Ae.PathType.FILL):We,ar.fillRect(0,0,yr,xr),ar.restore(),Ye.save(),Ye.transform(...Ar),Ye.scale(1,-1),Oe(Ye,cr.canvas,0,0,yr,xr,0,-1,1,1),Ye.restore()}this.compose()}paintImageXObject(Ze){if(!this.contentVisible)return;const Ye=this.getObject(Ze);if(!Ye){(0,_e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Ye)}paintImageXObjectRepeat(Ze,Ye,We,or){if(!this.contentVisible)return;const fr=this.getObject(Ze);if(!fr){(0,_e.warn)("Dependent image isn't ready yet");return}const _r=fr.width,yr=fr.height,xr=[];for(let Ar=0,cr=or.length;Ar<cr;Ar+=2)xr.push({transform:[Ye,0,0,We,or[Ar],or[Ar+1]],x:0,y:0,w:_r,h:yr});this.paintInlineImageXObjectGroup(fr,xr)}applyTransferMapsToCanvas(Ze){return this.current.transferMaps!=="none"&&(Ze.filter=this.current.transferMaps,Ze.drawImage(Ze.canvas,0,0),Ze.filter="none"),Ze.canvas}applyTransferMapsToBitmap(Ze){if(this.current.transferMaps==="none")return Ze.bitmap;const{bitmap:Ye,width:We,height:or}=Ze,fr=this.cachedCanvases.getCanvas("inlineImage",We,or),_r=fr.context;return _r.filter=this.current.transferMaps,_r.drawImage(Ye,0,0),_r.filter="none",fr.canvas}paintInlineImageXObject(Ze){if(!this.contentVisible)return;const Ye=Ze.width,We=Ze.height,or=this.ctx;this.save(),Ee.isNodeJS||(or.filter="none"),or.scale(1/Ye,-1/We);let fr;if(Ze.bitmap)fr=this.applyTransferMapsToBitmap(Ze);else if(typeof HTMLElement=="function"&&Ze instanceof HTMLElement||!Ze.data)fr=Ze;else{const xr=this.cachedCanvases.getCanvas("inlineImage",Ye,We).context;Ve(xr,Ze),fr=this.applyTransferMapsToCanvas(xr)}const _r=this._scaleImage(fr,(0,Se.getCurrentTransformInverse)(or));or.imageSmoothingEnabled=mr((0,Se.getCurrentTransform)(or),Ze.interpolate),Oe(or,_r.img,0,0,_r.paintWidth,_r.paintHeight,0,-We,Ye,We),this.compose(),this.restore()}paintInlineImageXObjectGroup(Ze,Ye){if(!this.contentVisible)return;const We=this.ctx;let or;if(Ze.bitmap)or=Ze.bitmap;else{const fr=Ze.width,_r=Ze.height,xr=this.cachedCanvases.getCanvas("inlineImage",fr,_r).context;Ve(xr,Ze),or=this.applyTransferMapsToCanvas(xr)}for(const fr of Ye)We.save(),We.transform(...fr.transform),We.scale(1,-1),Oe(We,or,fr.x,fr.y,fr.w,fr.h,0,-1,1,1),We.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Ze){}markPointProps(Ze,Ye){}beginMarkedContent(Ze){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Ze,Ye){Ze==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ye)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Ze){const Ye=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ze);const We=this.ctx;this.pendingClip&&(Ye||(this.pendingClip===gr?We.clip("evenodd"):We.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),We.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Ze=(0,Se.getCurrentTransform)(this.ctx);if(Ze[1]===0&&Ze[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Ze[0]),Math.abs(Ze[3]));else{const Ye=Math.abs(Ze[0]*Ze[3]-Ze[2]*Ze[1]),We=Math.hypot(Ze[0],Ze[2]),or=Math.hypot(Ze[1],Ze[3]);this._cachedGetSinglePixelWidth=Math.max(We,or)/Ye}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Ze}=this.current,Ye=(0,Se.getCurrentTransform)(this.ctx);let We,or;if(Ye[1]===0&&Ye[2]===0){const fr=Math.abs(Ye[0]),_r=Math.abs(Ye[3]);if(Ze===0)We=1/fr,or=1/_r;else{const yr=fr*Ze,xr=_r*Ze;We=yr<1?1/yr:1,or=xr<1?1/xr:1}}else{const fr=Math.abs(Ye[0]*Ye[3]-Ye[2]*Ye[1]),_r=Math.hypot(Ye[0],Ye[1]),yr=Math.hypot(Ye[2],Ye[3]);if(Ze===0)We=yr/fr,or=_r/fr;else{const xr=Ze*fr;We=yr>xr?yr/xr:1,or=_r>xr?_r/xr:1}}this._cachedScaleForStroking=[We,or]}return this._cachedScaleForStroking}rescaleAndStroke(Ze){const{ctx:Ye}=this,{lineWidth:We}=this.current,[or,fr]=this.getScaleForStroking();if(Ye.lineWidth=We||1,or===1&&fr===1){Ye.stroke();return}let _r,yr,xr;Ze&&(_r=(0,Se.getCurrentTransform)(Ye),yr=Ye.getLineDash().slice(),xr=Ye.lineDashOffset),Ye.scale(or,fr);const Ar=Math.max(or,fr);Ye.setLineDash(Ye.getLineDash().map(cr=>cr/Ar)),Ye.lineDashOffset/=Ar,Ye.stroke(),Ze&&(Ye.setTransform(..._r),Ye.setLineDash(yr),Ye.lineDashOffset=xr)}isContentVisible(){for(let Ze=this.markedContentStack.length-1;Ze>=0;Ze--)if(!this.markedContentStack[Ze].visible)return!1;return!0}};let sr=Sr;tr=new WeakSet,zl=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},e.CanvasGraphics=sr;for(const Je in _e.OPS)sr.prototype[Je]!==void 0&&(sr.prototype[_e.OPS[Je]]=sr.prototype[Je])},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=xe;var _e=r(1),Se=r(6);const Ae={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=Ae;function Re(Me,Oe){if(!Oe)return;const Be=Oe[2]-Oe[0],je=Oe[3]-Oe[1],Ve=new Path2D;Ve.rect(Oe[0],Oe[1],Be,je),Me.clip(Ve)}class Ee{constructor(){this.constructor===Ee&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class Ce extends Ee{constructor(Oe){super(),this._type=Oe[1],this._bbox=Oe[2],this._colorStops=Oe[3],this._p0=Oe[4],this._p1=Oe[5],this._r0=Oe[6],this._r1=Oe[7],this.matrix=null}_createGradient(Oe){let Be;this._type==="axial"?Be=Oe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Be=Oe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const je of this._colorStops)Be.addColorStop(je[0],je[1]);return Be}getPattern(Oe,Be,je,Ve){let ze;if(Ve===Ae.STROKE||Ve===Ae.FILL){const He=Be.current.getClippedPathBoundingBox(Ve,(0,Se.getCurrentTransform)(Oe))||[0,0,0,0],$e=Math.ceil(He[2]-He[0])||1,Ue=Math.ceil(He[3]-He[1])||1,Xe=Be.cachedCanvases.getCanvas("pattern",$e,Ue,!0),nr=Xe.context;nr.clearRect(0,0,nr.canvas.width,nr.canvas.height),nr.beginPath(),nr.rect(0,0,nr.canvas.width,nr.canvas.height),nr.translate(-He[0],-He[1]),je=_e.Util.transform(je,[1,0,0,1,He[0],He[1]]),nr.transform(...Be.baseTransform),this.matrix&&nr.transform(...this.matrix),Re(nr,this._bbox),nr.fillStyle=this._createGradient(nr),nr.fill(),ze=Oe.createPattern(Xe.canvas,"no-repeat");const Ge=new DOMMatrix(je);ze.setTransform(Ge)}else Re(Oe,this._bbox),ze=this._createGradient(Oe);return ze}}function Te(Me,Oe,Be,je,Ve,ze,He,$e){const Ue=Oe.coords,Xe=Oe.colors,nr=Me.data,Ge=Me.width*4;let St;Ue[Be+1]>Ue[je+1]&&(St=Be,Be=je,je=St,St=ze,ze=He,He=St),Ue[je+1]>Ue[Ve+1]&&(St=je,je=Ve,Ve=St,St=He,He=$e,$e=St),Ue[Be+1]>Ue[je+1]&&(St=Be,Be=je,je=St,St=ze,ze=He,He=St);const mr=(Ue[Be]+Oe.offsetX)*Oe.scaleX,pr=(Ue[Be+1]+Oe.offsetY)*Oe.scaleY,vr=(Ue[je]+Oe.offsetX)*Oe.scaleX,dr=(Ue[je+1]+Oe.offsetY)*Oe.scaleY,gr=(Ue[Ve]+Oe.offsetX)*Oe.scaleX,sr=(Ue[Ve+1]+Oe.offsetY)*Oe.scaleY;if(pr>=sr)return;const tr=Xe[ze],hr=Xe[ze+1],Sr=Xe[ze+2],Je=Xe[He],Ze=Xe[He+1],Ye=Xe[He+2],We=Xe[$e],or=Xe[$e+1],fr=Xe[$e+2],_r=Math.round(pr),yr=Math.round(sr);let xr,Ar,cr,ar,Qe,rr,er,ur;for(let Cr=_r;Cr<=yr;Cr++){if(Cr<dr){let Ir;Cr<pr?Ir=0:Ir=(pr-Cr)/(pr-dr),xr=mr-(mr-vr)*Ir,Ar=tr-(tr-Je)*Ir,cr=hr-(hr-Ze)*Ir,ar=Sr-(Sr-Ye)*Ir}else{let Ir;Cr>sr?Ir=1:dr===sr?Ir=0:Ir=(dr-Cr)/(dr-sr),xr=vr-(vr-gr)*Ir,Ar=Je-(Je-We)*Ir,cr=Ze-(Ze-or)*Ir,ar=Ye-(Ye-fr)*Ir}let wr;Cr<pr?wr=0:Cr>sr?wr=1:wr=(pr-Cr)/(pr-sr),Qe=mr-(mr-gr)*wr,rr=tr-(tr-We)*wr,er=hr-(hr-or)*wr,ur=Sr-(Sr-fr)*wr;const Or=Math.round(Math.min(xr,Qe)),kr=Math.round(Math.max(xr,Qe));let Pr=Ge*Cr+Or*4;for(let Ir=Or;Ir<=kr;Ir++)wr=(xr-Ir)/(xr-Qe),wr<0?wr=0:wr>1&&(wr=1),nr[Pr++]=Ar-(Ar-rr)*wr|0,nr[Pr++]=cr-(cr-er)*wr|0,nr[Pr++]=ar-(ar-ur)*wr|0,nr[Pr++]=255}}function De(Me,Oe,Be){const je=Oe.coords,Ve=Oe.colors;let ze,He;switch(Oe.type){case"lattice":const $e=Oe.verticesPerRow,Ue=Math.floor(je.length/$e)-1,Xe=$e-1;for(ze=0;ze<Ue;ze++){let nr=ze*$e;for(let Ge=0;Ge<Xe;Ge++,nr++)Te(Me,Be,je[nr],je[nr+1],je[nr+$e],Ve[nr],Ve[nr+1],Ve[nr+$e]),Te(Me,Be,je[nr+$e+1],je[nr+1],je[nr+$e],Ve[nr+$e+1],Ve[nr+1],Ve[nr+$e])}break;case"triangles":for(ze=0,He=je.length;ze<He;ze+=3)Te(Me,Be,je[ze],je[ze+1],je[ze+2],Ve[ze],Ve[ze+1],Ve[ze+2]);break;default:throw new Error("illegal figure")}}class ke extends Ee{constructor(Oe){super(),this._coords=Oe[2],this._colors=Oe[3],this._figures=Oe[4],this._bounds=Oe[5],this._bbox=Oe[7],this._background=Oe[8],this.matrix=null}_createMeshCanvas(Oe,Be,je){const $e=Math.floor(this._bounds[0]),Ue=Math.floor(this._bounds[1]),Xe=Math.ceil(this._bounds[2])-$e,nr=Math.ceil(this._bounds[3])-Ue,Ge=Math.min(Math.ceil(Math.abs(Xe*Oe[0]*1.1)),3e3),St=Math.min(Math.ceil(Math.abs(nr*Oe[1]*1.1)),3e3),mr=Xe/Ge,pr=nr/St,vr={coords:this._coords,colors:this._colors,offsetX:-$e,offsetY:-Ue,scaleX:1/mr,scaleY:1/pr},dr=Ge+2*2,gr=St+2*2,sr=je.getCanvas("mesh",dr,gr,!1),tr=sr.context,hr=tr.createImageData(Ge,St);if(Be){const Je=hr.data;for(let Ze=0,Ye=Je.length;Ze<Ye;Ze+=4)Je[Ze]=Be[0],Je[Ze+1]=Be[1],Je[Ze+2]=Be[2],Je[Ze+3]=255}for(const Je of this._figures)De(hr,Je,vr);return tr.putImageData(hr,2,2),{canvas:sr.canvas,offsetX:$e-2*mr,offsetY:Ue-2*pr,scaleX:mr,scaleY:pr}}getPattern(Oe,Be,je,Ve){Re(Oe,this._bbox);let ze;if(Ve===Ae.SHADING)ze=_e.Util.singularValueDecompose2dScale((0,Se.getCurrentTransform)(Oe));else if(ze=_e.Util.singularValueDecompose2dScale(Be.baseTransform),this.matrix){const $e=_e.Util.singularValueDecompose2dScale(this.matrix);ze=[ze[0]*$e[0],ze[1]*$e[1]]}const He=this._createMeshCanvas(ze,Ve===Ae.SHADING?null:this._background,Be.cachedCanvases);return Ve!==Ae.SHADING&&(Oe.setTransform(...Be.baseTransform),this.matrix&&Oe.transform(...this.matrix)),Oe.translate(He.offsetX,He.offsetY),Oe.scale(He.scaleX,He.scaleY),Oe.createPattern(He.canvas,"no-repeat")}}class Pe extends Ee{getPattern(){return"hotpink"}}function xe(Me){switch(Me[0]){case"RadialAxial":return new Ce(Me);case"Mesh":return new ke(Me);case"Dummy":return new Pe}throw new Error(`Unknown IR type: ${Me[0]}`)}const Fe={COLORED:1,UNCOLORED:2};class Ie{static get MAX_PATTERN_SIZE(){return(0,_e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Oe,Be,je,Ve,ze){this.operatorList=Oe[2],this.matrix=Oe[3]||[1,0,0,1,0,0],this.bbox=Oe[4],this.xstep=Oe[5],this.ystep=Oe[6],this.paintType=Oe[7],this.tilingType=Oe[8],this.color=Be,this.ctx=je,this.canvasGraphicsFactory=Ve,this.baseTransform=ze}createPatternCanvas(Oe){const Be=this.operatorList,je=this.bbox,Ve=this.xstep,ze=this.ystep,He=this.paintType,$e=this.tilingType,Ue=this.color,Xe=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+$e);const nr=je[0],Ge=je[1],St=je[2],mr=je[3],pr=_e.Util.singularValueDecompose2dScale(this.matrix),vr=_e.Util.singularValueDecompose2dScale(this.baseTransform),dr=[pr[0]*vr[0],pr[1]*vr[1]],gr=this.getSizeAndScale(Ve,this.ctx.canvas.width,dr[0]),sr=this.getSizeAndScale(ze,this.ctx.canvas.height,dr[1]),tr=Oe.cachedCanvases.getCanvas("pattern",gr.size,sr.size,!0),hr=tr.context,Sr=Xe.createCanvasGraphics(hr);Sr.groupLevel=Oe.groupLevel,this.setFillAndStrokeStyleToContext(Sr,He,Ue);let Je=nr,Ze=Ge,Ye=St,We=mr;return nr<0&&(Je=0,Ye+=Math.abs(nr)),Ge<0&&(Ze=0,We+=Math.abs(Ge)),hr.translate(-(gr.scale*Je),-(sr.scale*Ze)),Sr.transform(gr.scale,0,0,sr.scale,0,0),hr.save(),this.clipBbox(Sr,Je,Ze,Ye,We),Sr.baseTransform=(0,Se.getCurrentTransform)(Sr.ctx),Sr.executeOperatorList(Be),Sr.endDrawing(),{canvas:tr.canvas,scaleX:gr.scale,scaleY:sr.scale,offsetX:Je,offsetY:Ze}}getSizeAndScale(Oe,Be,je){Oe=Math.abs(Oe);const Ve=Math.max(Ie.MAX_PATTERN_SIZE,Be);let ze=Math.ceil(Oe*je);return ze>=Ve?ze=Ve:je=ze/Oe,{scale:je,size:ze}}clipBbox(Oe,Be,je,Ve,ze){const He=Ve-Be,$e=ze-je;Oe.ctx.rect(Be,je,He,$e),Oe.current.updateRectMinMax((0,Se.getCurrentTransform)(Oe.ctx),[Be,je,Ve,ze]),Oe.clip(),Oe.endPath()}setFillAndStrokeStyleToContext(Oe,Be,je){const Ve=Oe.ctx,ze=Oe.current;switch(Be){case Fe.COLORED:const He=this.ctx;Ve.fillStyle=He.fillStyle,Ve.strokeStyle=He.strokeStyle,ze.fillColor=He.fillStyle,ze.strokeColor=He.strokeStyle;break;case Fe.UNCOLORED:const $e=_e.Util.makeHexColor(je[0],je[1],je[2]);Ve.fillStyle=$e,Ve.strokeStyle=$e,ze.fillColor=$e,ze.strokeColor=$e;break;default:throw new _e.FormatError(`Unsupported paint type: ${Be}`)}}getPattern(Oe,Be,je,Ve){let ze=je;Ve!==Ae.SHADING&&(ze=_e.Util.transform(ze,Be.baseTransform),this.matrix&&(ze=_e.Util.transform(ze,this.matrix)));const He=this.createPatternCanvas(Be);let $e=new DOMMatrix(ze);$e=$e.translate(He.offsetX,He.offsetY),$e=$e.scale(1/He.scaleX,1/He.scaleY);const Ue=Oe.createPattern(He.canvas,"repeat");return Ue.setTransform($e),Ue}}e.TilingPattern=Ie},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=Ae,e.convertToRGBA=Se,e.grayToRGBA=Ee;var _e=r(1);function Se(Ce){switch(Ce.kind){case _e.ImageKind.GRAYSCALE_1BPP:return Ae(Ce);case _e.ImageKind.RGB_24BPP:return Re(Ce)}return null}function Ae({src:Ce,srcPos:Te=0,dest:De,width:ke,height:Pe,nonBlackColor:xe=4294967295,inverseDecode:Fe=!1}){const Ie=_e.FeatureTest.isLittleEndian?4278190080:255,[Me,Oe]=Fe?[xe,Ie]:[Ie,xe],Be=ke>>3,je=ke&7,Ve=Ce.length;De=new Uint32Array(De.buffer);let ze=0;for(let He=0;He<Pe;He++){for(const Ue=Te+Be;Te<Ue;Te++){const Xe=Te<Ve?Ce[Te]:255;De[ze++]=Xe&128?Oe:Me,De[ze++]=Xe&64?Oe:Me,De[ze++]=Xe&32?Oe:Me,De[ze++]=Xe&16?Oe:Me,De[ze++]=Xe&8?Oe:Me,De[ze++]=Xe&4?Oe:Me,De[ze++]=Xe&2?Oe:Me,De[ze++]=Xe&1?Oe:Me}if(je===0)continue;const $e=Te<Ve?Ce[Te++]:255;for(let Ue=0;Ue<je;Ue++)De[ze++]=$e&1<<7-Ue?Oe:Me}return{srcPos:Te,destPos:ze}}function Re({src:Ce,srcPos:Te=0,dest:De,destPos:ke=0,width:Pe,height:xe}){let Fe=0;const Ie=Ce.length>>2,Me=new Uint32Array(Ce.buffer,Te,Ie);if(_e.FeatureTest.isLittleEndian){for(;Fe<Ie-2;Fe+=3,ke+=4){const Oe=Me[Fe],Be=Me[Fe+1],je=Me[Fe+2];De[ke]=Oe|4278190080,De[ke+1]=Oe>>>24|Be<<8|4278190080,De[ke+2]=Be>>>16|je<<16|4278190080,De[ke+3]=je>>>8|4278190080}for(let Oe=Fe*4,Be=Ce.length;Oe<Be;Oe+=3)De[ke++]=Ce[Oe]|Ce[Oe+1]<<8|Ce[Oe+2]<<16|4278190080}else{for(;Fe<Ie-2;Fe+=3,ke+=4){const Oe=Me[Fe],Be=Me[Fe+1],je=Me[Fe+2];De[ke]=Oe|255,De[ke+1]=Oe<<24|Be>>>8|255,De[ke+2]=Be<<16|je>>>16|255,De[ke+3]=je<<8|255}for(let Oe=Fe*4,Be=Ce.length;Oe<Be;Oe+=3)De[ke++]=Ce[Oe]<<24|Ce[Oe+1]<<16|Ce[Oe+2]<<8|255}return{srcPos:Te,destPos:ke}}function Ee(Ce,Te){if(_e.FeatureTest.isLittleEndian)for(let De=0,ke=Ce.length;De<ke;De++)Te[De]=Ce[De]*65793|4278190080;else for(let De=0,ke=Ce.length;De<ke;De++)Te[De]=Ce[De]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var _e=r(1);const Se={UNKNOWN:0,DATA:1,ERROR:2},Ae={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Re(Ce){switch(Ce instanceof Error||typeof Ce=="object"&&Ce!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Ce.name){case"AbortException":return new _e.AbortException(Ce.message);case"MissingPDFException":return new _e.MissingPDFException(Ce.message);case"PasswordException":return new _e.PasswordException(Ce.message,Ce.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(Ce.message,Ce.status);case"UnknownErrorException":return new _e.UnknownErrorException(Ce.message,Ce.details);default:return new _e.UnknownErrorException(Ce.message,Ce.toString())}}class Ee{constructor(Te,De,ke){this.sourceName=Te,this.targetName=De,this.comObj=ke,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Pe=>{const xe=Pe.data;if(xe.targetName!==this.sourceName)return;if(xe.stream){this._processStreamMessage(xe);return}if(xe.callback){const Ie=xe.callbackId,Me=this.callbackCapabilities[Ie];if(!Me)throw new Error(`Cannot resolve callback ${Ie}`);if(delete this.callbackCapabilities[Ie],xe.callback===Se.DATA)Me.resolve(xe.data);else if(xe.callback===Se.ERROR)Me.reject(Re(xe.reason));else throw new Error("Unexpected callback case");return}const Fe=this.actionHandler[xe.action];if(!Fe)throw new Error(`Unknown action from worker: ${xe.action}`);if(xe.callbackId){const Ie=this.sourceName,Me=xe.sourceName;new Promise(function(Oe){Oe(Fe(xe.data))}).then(function(Oe){ke.postMessage({sourceName:Ie,targetName:Me,callback:Se.DATA,callbackId:xe.callbackId,data:Oe})},function(Oe){ke.postMessage({sourceName:Ie,targetName:Me,callback:Se.ERROR,callbackId:xe.callbackId,reason:Re(Oe)})});return}if(xe.streamId){this._createStreamSink(xe);return}Fe(xe.data)},ke.addEventListener("message",this._onComObjOnMessage)}on(Te,De){const ke=this.actionHandler;if(ke[Te])throw new Error(`There is already an actionName called "${Te}"`);ke[Te]=De}send(Te,De,ke){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Te,data:De},ke)}sendWithPromise(Te,De,ke){const Pe=this.callbackId++,xe=(0,_e.createPromiseCapability)();this.callbackCapabilities[Pe]=xe;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Te,callbackId:Pe,data:De},ke)}catch(Fe){xe.reject(Fe)}return xe.promise}sendWithStream(Te,De,ke,Pe){const xe=this.streamId++,Fe=this.sourceName,Ie=this.targetName,Me=this.comObj;return new ReadableStream({start:Oe=>{const Be=(0,_e.createPromiseCapability)();return this.streamControllers[xe]={controller:Oe,startCall:Be,pullCall:null,cancelCall:null,isClosed:!1},Me.postMessage({sourceName:Fe,targetName:Ie,action:Te,streamId:xe,data:De,desiredSize:Oe.desiredSize},Pe),Be.promise},pull:Oe=>{const Be=(0,_e.createPromiseCapability)();return this.streamControllers[xe].pullCall=Be,Me.postMessage({sourceName:Fe,targetName:Ie,stream:Ae.PULL,streamId:xe,desiredSize:Oe.desiredSize}),Be.promise},cancel:Oe=>{(0,_e.assert)(Oe instanceof Error,"cancel must have a valid reason");const Be=(0,_e.createPromiseCapability)();return this.streamControllers[xe].cancelCall=Be,this.streamControllers[xe].isClosed=!0,Me.postMessage({sourceName:Fe,targetName:Ie,stream:Ae.CANCEL,streamId:xe,reason:Re(Oe)}),Be.promise}},ke)}_createStreamSink(Te){const De=Te.streamId,ke=this.sourceName,Pe=Te.sourceName,xe=this.comObj,Fe=this,Ie=this.actionHandler[Te.action],Me={enqueue(Oe,Be=1,je){if(this.isCancelled)return;const Ve=this.desiredSize;this.desiredSize-=Be,Ve>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.ENQUEUE,streamId:De,chunk:Oe},je)},close(){this.isCancelled||(this.isCancelled=!0,xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.CLOSE,streamId:De}),delete Fe.streamSinks[De])},error(Oe){(0,_e.assert)(Oe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.ERROR,streamId:De,reason:Re(Oe)}))},sinkCapability:(0,_e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:Te.desiredSize,ready:null};Me.sinkCapability.resolve(),Me.ready=Me.sinkCapability.promise,this.streamSinks[De]=Me,new Promise(function(Oe){Oe(Ie(Te.data,Me))}).then(function(){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.START_COMPLETE,streamId:De,success:!0})},function(Oe){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.START_COMPLETE,streamId:De,reason:Re(Oe)})})}_processStreamMessage(Te){const De=Te.streamId,ke=this.sourceName,Pe=Te.sourceName,xe=this.comObj,Fe=this.streamControllers[De],Ie=this.streamSinks[De];switch(Te.stream){case Ae.START_COMPLETE:Te.success?Fe.startCall.resolve():Fe.startCall.reject(Re(Te.reason));break;case Ae.PULL_COMPLETE:Te.success?Fe.pullCall.resolve():Fe.pullCall.reject(Re(Te.reason));break;case Ae.PULL:if(!Ie){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.PULL_COMPLETE,streamId:De,success:!0});break}Ie.desiredSize<=0&&Te.desiredSize>0&&Ie.sinkCapability.resolve(),Ie.desiredSize=Te.desiredSize,new Promise(function(Me){Me(Ie.onPull&&Ie.onPull())}).then(function(){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.PULL_COMPLETE,streamId:De,success:!0})},function(Me){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.PULL_COMPLETE,streamId:De,reason:Re(Me)})});break;case Ae.ENQUEUE:if((0,_e.assert)(Fe,"enqueue should have stream controller"),Fe.isClosed)break;Fe.controller.enqueue(Te.chunk);break;case Ae.CLOSE:if((0,_e.assert)(Fe,"close should have stream controller"),Fe.isClosed)break;Fe.isClosed=!0,Fe.controller.close(),this._deleteStreamController(Fe,De);break;case Ae.ERROR:(0,_e.assert)(Fe,"error should have stream controller"),Fe.controller.error(Re(Te.reason)),this._deleteStreamController(Fe,De);break;case Ae.CANCEL_COMPLETE:Te.success?Fe.cancelCall.resolve():Fe.cancelCall.reject(Re(Te.reason)),this._deleteStreamController(Fe,De);break;case Ae.CANCEL:if(!Ie)break;new Promise(function(Me){Me(Ie.onCancel&&Ie.onCancel(Re(Te.reason)))}).then(function(){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.CANCEL_COMPLETE,streamId:De,success:!0})},function(Me){xe.postMessage({sourceName:ke,targetName:Pe,stream:Ae.CANCEL_COMPLETE,streamId:De,reason:Re(Me)})}),Ie.sinkCapability.reject(Re(Te.reason)),Ie.isCancelled=!0,delete this.streamSinks[De];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(Te,De){await Promise.allSettled([Te.startCall&&Te.startCall.promise,Te.pullCall&&Te.pullCall.promise,Te.cancelCall&&Te.cancelCall.promise]),delete this.streamControllers[De]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=Ee},(t,e,r)=>{var Ae,Re;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var _e=r(1);class Se{constructor({parsedData:Ce,rawData:Te}){ri(this,Ae,void 0);ri(this,Re,void 0);yi(this,Ae,Ce),yi(this,Re,Te)}getRaw(){return Dr(this,Re)}get(Ce){var Te;return(Te=Dr(this,Ae).get(Ce))!=null?Te:null}getAll(){return(0,_e.objectFromMap)(Dr(this,Ae))}has(Ce){return Dr(this,Ae).has(Ce)}}Ae=new WeakMap,Re=new WeakMap,e.Metadata=Se},(t,e,r)=>{var Ce,Te,De,ke,Pe,xe,Hl;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var _e=r(1),Se=r(8);const Ae=Symbol("INTERNAL");class Re{constructor(Me,Oe){ri(this,Ce,!0);this.name=Me,this.intent=Oe}get visible(){return Dr(this,Ce)}_setVisible(Me,Oe){Me!==Ae&&(0,_e.unreachable)("Internal method `_setVisible` called."),yi(this,Ce,Oe)}}Ce=new WeakMap;class Ee{constructor(Me){ri(this,xe);ri(this,Te,null);ri(this,De,new Map);ri(this,ke,null);ri(this,Pe,null);if(this.name=null,this.creator=null,Me!==null){this.name=Me.name,this.creator=Me.creator,yi(this,Pe,Me.order);for(const Oe of Me.groups)Dr(this,De).set(Oe.id,new Re(Oe.name,Oe.intent));if(Me.baseState==="OFF")for(const Oe of Dr(this,De).values())Oe._setVisible(Ae,!1);for(const Oe of Me.on)Dr(this,De).get(Oe)._setVisible(Ae,!0);for(const Oe of Me.off)Dr(this,De).get(Oe)._setVisible(Ae,!1);yi(this,ke,this.getHash())}}isVisible(Me){if(Dr(this,De).size===0)return!0;if(!Me)return(0,_e.warn)("Optional content group not defined."),!0;if(Me.type==="OCG")return Dr(this,De).has(Me.id)?Dr(this,De).get(Me.id).visible:((0,_e.warn)(`Optional content group not found: ${Me.id}`),!0);if(Me.type==="OCMD"){if(Me.expression)return oi(this,xe,Hl).call(this,Me.expression);if(!Me.policy||Me.policy==="AnyOn"){for(const Oe of Me.ids){if(!Dr(this,De).has(Oe))return(0,_e.warn)(`Optional content group not found: ${Oe}`),!0;if(Dr(this,De).get(Oe).visible)return!0}return!1}else if(Me.policy==="AllOn"){for(const Oe of Me.ids){if(!Dr(this,De).has(Oe))return(0,_e.warn)(`Optional content group not found: ${Oe}`),!0;if(!Dr(this,De).get(Oe).visible)return!1}return!0}else if(Me.policy==="AnyOff"){for(const Oe of Me.ids){if(!Dr(this,De).has(Oe))return(0,_e.warn)(`Optional content group not found: ${Oe}`),!0;if(!Dr(this,De).get(Oe).visible)return!0}return!1}else if(Me.policy==="AllOff"){for(const Oe of Me.ids){if(!Dr(this,De).has(Oe))return(0,_e.warn)(`Optional content group not found: ${Oe}`),!0;if(Dr(this,De).get(Oe).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${Me.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${Me.type}.`),!0}setVisibility(Me,Oe=!0){if(!Dr(this,De).has(Me)){(0,_e.warn)(`Optional content group not found: ${Me}`);return}Dr(this,De).get(Me)._setVisible(Ae,!!Oe),yi(this,Te,null)}get hasInitialVisibility(){return this.getHash()===Dr(this,ke)}getOrder(){return Dr(this,De).size?Dr(this,Pe)?Dr(this,Pe).slice():[...Dr(this,De).keys()]:null}getGroups(){return Dr(this,De).size>0?(0,_e.objectFromMap)(Dr(this,De)):null}getGroup(Me){return Dr(this,De).get(Me)||null}getHash(){if(Dr(this,Te)!==null)return Dr(this,Te);const Me=new Se.MurmurHash3_64;for(const[Oe,Be]of Dr(this,De))Me.update(`${Oe}:${Be.visible}`);return yi(this,Te,Me.hexdigest())}}Te=new WeakMap,De=new WeakMap,ke=new WeakMap,Pe=new WeakMap,xe=new WeakSet,Hl=function(Me){const Oe=Me.length;if(Oe<2)return!0;const Be=Me[0];for(let je=1;je<Oe;je++){const Ve=Me[je];let ze;if(Array.isArray(Ve))ze=oi(this,xe,Hl).call(this,Ve);else if(Dr(this,De).has(Ve))ze=Dr(this,De).get(Ve).visible;else return(0,_e.warn)(`Optional content group not found: ${Ve}`),!0;switch(Be){case"And":if(!ze)return!1;break;case"Or":if(ze)return!0;break;case"Not":return!ze;default:return!0}}return Be==="And"},e.OptionalContentConfig=Ee},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var _e=r(1),Se=r(6);class Ae{constructor({length:Te,initialData:De,progressiveDone:ke=!1,contentDispositionFilename:Pe=null,disableRange:xe=!1,disableStream:Fe=!1},Ie){if((0,_e.assert)(Ie,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ke,this._contentDispositionFilename=Pe,(De==null?void 0:De.length)>0){const Me=De instanceof Uint8Array&&De.byteLength===De.buffer.byteLength?De.buffer:new Uint8Array(De).buffer;this._queuedChunks.push(Me)}this._pdfDataRangeTransport=Ie,this._isStreamingSupported=!Fe,this._isRangeSupported=!xe,this._contentLength=Te,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Me,Oe)=>{this._onReceiveData({begin:Me,chunk:Oe})}),this._pdfDataRangeTransport.addProgressListener((Me,Oe)=>{this._onProgress({loaded:Me,total:Oe})}),this._pdfDataRangeTransport.addProgressiveReadListener(Me=>{this._onReceiveData({chunk:Me})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Te,chunk:De}){const ke=De instanceof Uint8Array&&De.byteLength===De.buffer.byteLength?De.buffer:new Uint8Array(De).buffer;if(Te===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ke):this._queuedChunks.push(ke);else{const Pe=this._rangeReaders.some(function(xe){return xe._begin!==Te?!1:(xe._enqueue(ke),!0)});(0,_e.assert)(Pe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Te,De;return(De=(Te=this._fullRequestReader)==null?void 0:Te._loaded)!=null?De:0}_onProgress(Te){var De,ke,Pe,xe;Te.total===void 0?(ke=(De=this._rangeReaders[0])==null?void 0:De.onProgress)==null||ke.call(De,{loaded:Te.loaded}):(xe=(Pe=this._fullRequestReader)==null?void 0:Pe.onProgress)==null||xe.call(Pe,{loaded:Te.loaded,total:Te.total})}_onProgressiveDone(){var Te;(Te=this._fullRequestReader)==null||Te.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Te){const De=this._rangeReaders.indexOf(Te);De>=0&&this._rangeReaders.splice(De,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Te=this._queuedChunks;return this._queuedChunks=null,new Re(this,Te,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Te,De){if(De<=this._progressiveDataLength)return null;const ke=new Ee(this,Te,De);return this._pdfDataRangeTransport.requestDataRange(Te,De),this._rangeReaders.push(ke),ke}cancelAllRequests(Te){var De;(De=this._fullRequestReader)==null||De.cancel(Te);for(const ke of this._rangeReaders.slice(0))ke.cancel(Te);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=Ae;class Re{constructor(Te,De,ke=!1,Pe=null){this._stream=Te,this._done=ke||!1,this._filename=(0,Se.isPdfFile)(Pe)?Pe:null,this._queuedChunks=De||[],this._loaded=0;for(const xe of this._queuedChunks)this._loaded+=xe.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Te._fullRequestReader=this,this.onProgress=null}_enqueue(Te){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Te,done:!1}):this._queuedChunks.push(Te),this._loaded+=Te.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Te=(0,_e.createPromiseCapability)();return this._requests.push(Te),Te.promise}cancel(Te){this._done=!0;for(const De of this._requests)De.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ee{constructor(Te,De,ke){this._stream=Te,this._begin=De,this._end=ke,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Te){if(!this._done){if(this._requests.length===0)this._queuedChunk=Te;else{this._requests.shift().resolve({value:Te,done:!1});for(const ke of this._requests)ke.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const De=this._queuedChunk;return this._queuedChunk=null,{value:De,done:!1}}if(this._done)return{value:void 0,done:!0};const Te=(0,_e.createPromiseCapability)();return this._requests.push(Te),Te.promise}cancel(Te){this._done=!0;for(const De of this._requests)De.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(Se){const Ae=[],Re={items:Ae,styles:Object.create(null)};function Ee(Ce){var ke;if(!Ce)return;let Te=null;const De=Ce.name;if(De==="#text")Te=Ce.value;else if(r.shouldBuildText(De))(ke=Ce==null?void 0:Ce.attributes)!=null&&ke.textContent?Te=Ce.attributes.textContent:Ce.value&&(Te=Ce.value);else return;if(Te!==null&&Ae.push({str:Te}),!!Ce.children)for(const Pe of Ce.children)Ee(Pe)}return Ee(Se),Re}static shouldBuildText(Se){return!(Se==="textarea"||Se==="input"||Se==="option"||Se==="select")}}e.XfaText=r},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var _e=r(7);const Se=function(Te){return new Promise((De,ke)=>{require$$5.readFile(Te,(xe,Fe)=>{if(xe||!Fe){ke(new Error(xe));return}De(new Uint8Array(Fe))})})};class Ae extends _e.BaseFilterFactory{}e.NodeFilterFactory=Ae;class Re extends _e.BaseCanvasFactory{_createCanvas(De,ke){return require$$5.createCanvas(De,ke)}}e.NodeCanvasFactory=Re;class Ee extends _e.BaseCMapReaderFactory{_fetchData(De,ke){return Se(De).then(Pe=>({cMapData:Pe,compressionType:ke}))}}e.NodeCMapReaderFactory=Ee;class Ce extends _e.BaseStandardFontDataFactory{_fetchData(De){return Se(De)}}e.NodeStandardFontDataFactory=Ce},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var _e=r(1),Se=r(22);const Ae=require$$5,Re=require$$5,Ee=require$$5,Ce=require$$5,Te=/^file:\/\/\/[a-zA-Z]:\//;function De(je){const Ve=Ce.parse(je);return Ve.protocol==="file:"||Ve.host?Ve:/^[a-z]:[/\\]/i.test(je)?Ce.parse(`file:///${je}`):(Ve.host||(Ve.protocol="file:"),Ve)}class ke{constructor(Ve){this.source=Ve,this.url=De(Ve.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Ve.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Ve,ze;return(ze=(Ve=this._fullRequestReader)==null?void 0:Ve._loaded)!=null?ze:0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Oe(this):new Ie(this),this._fullRequestReader}getRangeReader(Ve,ze){if(ze<=this._progressiveDataLength)return null;const He=this.isFsUrl?new Be(this,Ve,ze):new Me(this,Ve,ze);return this._rangeRequestReaders.push(He),He}cancelAllRequests(Ve){var ze;(ze=this._fullRequestReader)==null||ze.cancel(Ve);for(const He of this._rangeRequestReaders.slice(0))He.cancel(Ve)}}e.PDFNodeStream=ke;class Pe{constructor(Ve){this._url=Ve.url,this._done=!1,this._storedError=null,this.onProgress=null;const ze=Ve.source;this._contentLength=ze.length,this._loaded=0,this._filename=null,this._disableRange=ze.disableRange||!1,this._rangeChunkSize=ze.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ze.disableStream,this._isRangeSupported=!ze.disableRange,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)(),this._headersCapability=(0,_e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var He;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ve=this._readableStream.read();return Ve===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=Ve.length,(He=this.onProgress)==null||He.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Ve).buffer,done:!1})}cancel(Ve){if(!this._readableStream){this._error(Ve);return}this._readableStream.destroy(Ve)}_error(Ve){this._storedError=Ve,this._readCapability.resolve()}_setReadableStream(Ve){this._readableStream=Ve,Ve.on("readable",()=>{this._readCapability.resolve()}),Ve.on("end",()=>{Ve.destroy(),this._done=!0,this._readCapability.resolve()}),Ve.on("error",ze=>{this._error(ze)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xe{constructor(Ve){this._url=Ve.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)();const ze=Ve.source;this._isStreamingSupported=!ze.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var He;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Ve=this._readableStream.read();return Ve===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=Ve.length,(He=this.onProgress)==null||He.call(this,{loaded:this._loaded}),{value:new Uint8Array(Ve).buffer,done:!1})}cancel(Ve){if(!this._readableStream){this._error(Ve);return}this._readableStream.destroy(Ve)}_error(Ve){this._storedError=Ve,this._readCapability.resolve()}_setReadableStream(Ve){this._readableStream=Ve,Ve.on("readable",()=>{this._readCapability.resolve()}),Ve.on("end",()=>{Ve.destroy(),this._done=!0,this._readCapability.resolve()}),Ve.on("error",ze=>{this._error(ze)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Fe(je,Ve){return{protocol:je.protocol,auth:je.auth,host:je.hostname,port:je.port,path:je.path,method:"GET",headers:Ve}}class Ie extends Pe{constructor(Ve){super(Ve);const ze=He=>{if(He.statusCode===404){const nr=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=nr,this._headersCapability.reject(nr);return}this._headersCapability.resolve(),this._setReadableStream(He);const $e=nr=>this._readableStream.headers[nr.toLowerCase()],{allowRangeRequests:Ue,suggestedLength:Xe}=(0,Se.validateRangeRequestCapabilities)({getResponseHeader:$e,isHttp:Ve.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ue,this._contentLength=Xe||this._contentLength,this._filename=(0,Se.extractFilenameFromHeader)($e)};this._request=null,this._url.protocol==="http:"?this._request=Re.request(Fe(this._url,Ve.httpHeaders),ze):this._request=Ee.request(Fe(this._url,Ve.httpHeaders),ze),this._request.on("error",He=>{this._storedError=He,this._headersCapability.reject(He)}),this._request.end()}}class Me extends xe{constructor(Ve,ze,He){super(Ve),this._httpHeaders={};for(const Ue in Ve.httpHeaders){const Xe=Ve.httpHeaders[Ue];Xe!==void 0&&(this._httpHeaders[Ue]=Xe)}this._httpHeaders.Range=`bytes=${ze}-${He-1}`;const $e=Ue=>{if(Ue.statusCode===404){const Xe=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Xe;return}this._setReadableStream(Ue)};this._request=null,this._url.protocol==="http:"?this._request=Re.request(Fe(this._url,this._httpHeaders),$e):this._request=Ee.request(Fe(this._url,this._httpHeaders),$e),this._request.on("error",Ue=>{this._storedError=Ue}),this._request.end()}}class Oe extends Pe{constructor(Ve){super(Ve);let ze=decodeURIComponent(this._url.path);Te.test(this._url.href)&&(ze=ze.replace(/^\//,"")),Ae.lstat(ze,(He,$e)=>{if(He){He.code==="ENOENT"&&(He=new _e.MissingPDFException(`Missing PDF "${ze}".`)),this._storedError=He,this._headersCapability.reject(He);return}this._contentLength=$e.size,this._setReadableStream(Ae.createReadStream(ze)),this._headersCapability.resolve()})}}class Be extends xe{constructor(Ve,ze,He){super(Ve);let $e=decodeURIComponent(this._url.path);Te.test(this._url.href)&&($e=$e.replace(/^\//,"")),this._setReadableStream(Ae.createReadStream($e,{start:ze,end:He-1}))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=Ce,e.extractFilenameFromHeader=Ee,e.validateRangeRequestCapabilities=Re,e.validateResponseStatus=Te;var _e=r(1),Se=r(23),Ae=r(6);function Re({getResponseHeader:De,isHttp:ke,rangeChunkSize:Pe,disableRange:xe}){const Fe={allowRangeRequests:!1,suggestedLength:void 0},Ie=parseInt(De("Content-Length"),10);return!Number.isInteger(Ie)||(Fe.suggestedLength=Ie,Ie<=2*Pe)||xe||!ke||De("Accept-Ranges")!=="bytes"||(De("Content-Encoding")||"identity")!=="identity"||(Fe.allowRangeRequests=!0),Fe}function Ee(De){const ke=De("Content-Disposition");if(ke){let Pe=(0,Se.getFilenameFromContentDispositionHeader)(ke);if(Pe.includes("%"))try{Pe=decodeURIComponent(Pe)}catch{}if((0,Ae.isPdfFile)(Pe))return Pe}return null}function Ce(De,ke){return De===404||De===0&&ke.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+ke+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${De}) while retrieving PDF "${ke}".`,De)}function Te(De){return De===200||De===206}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=Se;var _e=r(1);function Se(Ae){let Re=!0,Ee=Ce("filename\\*","i").exec(Ae);if(Ee){Ee=Ee[1];let Ie=Pe(Ee);return Ie=unescape(Ie),Ie=xe(Ie),Ie=Fe(Ie),De(Ie)}if(Ee=ke(Ae),Ee){const Ie=Fe(Ee);return De(Ie)}if(Ee=Ce("filename","i").exec(Ae),Ee){Ee=Ee[1];let Ie=Pe(Ee);return Ie=Fe(Ie),De(Ie)}function Ce(Ie,Me){return new RegExp("(?:^|;)\\s*"+Ie+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Me)}function Te(Ie,Me){if(Ie){if(!/^[\x00-\xFF]+$/.test(Me))return Me;try{const Oe=new TextDecoder(Ie,{fatal:!0}),Be=(0,_e.stringToBytes)(Me);Me=Oe.decode(Be),Re=!1}catch{}}return Me}function De(Ie){return Re&&/[\x80-\xff]/.test(Ie)&&(Ie=Te("utf-8",Ie),Re&&(Ie=Te("iso-8859-1",Ie))),Ie}function ke(Ie){const Me=[];let Oe;const Be=Ce("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Oe=Be.exec(Ie))!==null;){let[,Ve,ze,He]=Oe;if(Ve=parseInt(Ve,10),Ve in Me){if(Ve===0)break;continue}Me[Ve]=[ze,He]}const je=[];for(let Ve=0;Ve<Me.length&&Ve in Me;++Ve){let[ze,He]=Me[Ve];He=Pe(He),ze&&(He=unescape(He),Ve===0&&(He=xe(He))),je.push(He)}return je.join("")}function Pe(Ie){if(Ie.startsWith('"')){const Me=Ie.slice(1).split('\\"');for(let Oe=0;Oe<Me.length;++Oe){const Be=Me[Oe].indexOf('"');Be!==-1&&(Me[Oe]=Me[Oe].slice(0,Be),Me.length=Oe+1),Me[Oe]=Me[Oe].replaceAll(/\\(.)/g,"$1")}Ie=Me.join('"')}return Ie}function xe(Ie){const Me=Ie.indexOf("'");if(Me===-1)return Ie;const Oe=Ie.slice(0,Me),je=Ie.slice(Me+1).replace(/^[^']*'/,"");return Te(Oe,je)}function Fe(Ie){return!Ie.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ie)?Ie:Ie.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Me,Oe,Be,je){if(Be==="q"||Be==="Q")return je=je.replaceAll("_"," "),je=je.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ve,ze){return String.fromCharCode(parseInt(ze,16))}),Te(Oe,je);try{je=atob(je)}catch{}return Te(Oe,je)})}return""}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var _e=r(1),Se=r(22);const Ae=200,Re=206;function Ee(Pe){const xe=Pe.response;return typeof xe!="string"?xe:(0,_e.stringToBytes)(xe).buffer}class Ce{constructor(xe,Fe={}){this.url=xe,this.isHttp=/^https?:/i.test(xe),this.httpHeaders=this.isHttp&&Fe.httpHeaders||Object.create(null),this.withCredentials=Fe.withCredentials||!1,this.getXhr=Fe.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(xe,Fe,Ie){const Me={begin:xe,end:Fe};for(const Oe in Ie)Me[Oe]=Ie[Oe];return this.request(Me)}requestFull(xe){return this.request(xe)}request(xe){const Fe=this.getXhr(),Ie=this.currXhrId++,Me=this.pendingRequests[Ie]={xhr:Fe};Fe.open("GET",this.url),Fe.withCredentials=this.withCredentials;for(const Oe in this.httpHeaders){const Be=this.httpHeaders[Oe];Be!==void 0&&Fe.setRequestHeader(Oe,Be)}return this.isHttp&&"begin"in xe&&"end"in xe?(Fe.setRequestHeader("Range",`bytes=${xe.begin}-${xe.end-1}`),Me.expectedStatus=Re):Me.expectedStatus=Ae,Fe.responseType="arraybuffer",xe.onError&&(Fe.onerror=function(Oe){xe.onError(Fe.status)}),Fe.onreadystatechange=this.onStateChange.bind(this,Ie),Fe.onprogress=this.onProgress.bind(this,Ie),Me.onHeadersReceived=xe.onHeadersReceived,Me.onDone=xe.onDone,Me.onError=xe.onError,Me.onProgress=xe.onProgress,Fe.send(null),Ie}onProgress(xe,Fe){var Me;const Ie=this.pendingRequests[xe];!Ie||(Me=Ie.onProgress)==null||Me.call(Ie,Fe)}onStateChange(xe,Fe){var Ve,ze,He;const Ie=this.pendingRequests[xe];if(!Ie)return;const Me=Ie.xhr;if(Me.readyState>=2&&Ie.onHeadersReceived&&(Ie.onHeadersReceived(),delete Ie.onHeadersReceived),Me.readyState!==4||!(xe in this.pendingRequests))return;if(delete this.pendingRequests[xe],Me.status===0&&this.isHttp){(Ve=Ie.onError)==null||Ve.call(Ie,Me.status);return}const Oe=Me.status||Ae;if(!(Oe===Ae&&Ie.expectedStatus===Re)&&Oe!==Ie.expectedStatus){(ze=Ie.onError)==null||ze.call(Ie,Me.status);return}const je=Ee(Me);if(Oe===Re){const $e=Me.getResponseHeader("Content-Range"),Ue=/bytes (\d+)-(\d+)\/(\d+)/.exec($e);Ie.onDone({begin:parseInt(Ue[1],10),chunk:je})}else je?Ie.onDone({begin:0,chunk:je}):(He=Ie.onError)==null||He.call(Ie,Me.status)}getRequestXhr(xe){return this.pendingRequests[xe].xhr}isPendingRequest(xe){return xe in this.pendingRequests}abortRequest(xe){const Fe=this.pendingRequests[xe].xhr;delete this.pendingRequests[xe],Fe.abort()}}class Te{constructor(xe){this._source=xe,this._manager=new Ce(xe.url,{httpHeaders:xe.httpHeaders,withCredentials:xe.withCredentials}),this._rangeChunkSize=xe.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(xe){const Fe=this._rangeRequestReaders.indexOf(xe);Fe>=0&&this._rangeRequestReaders.splice(Fe,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new De(this._manager,this._source),this._fullRequestReader}getRangeReader(xe,Fe){const Ie=new ke(this._manager,xe,Fe);return Ie.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ie),Ie}cancelAllRequests(xe){var Fe;(Fe=this._fullRequestReader)==null||Fe.cancel(xe);for(const Ie of this._rangeRequestReaders.slice(0))Ie.cancel(xe)}}e.PDFNetworkStream=Te;class De{constructor(xe,Fe){this._manager=xe;const Ie={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Fe.url,this._fullRequestId=xe.requestFull(Ie),this._headersReceivedCapability=(0,_e.createPromiseCapability)(),this._disableRange=Fe.disableRange||!1,this._contentLength=Fe.length,this._rangeChunkSize=Fe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const xe=this._fullRequestId,Fe=this._manager.getRequestXhr(xe),Ie=Be=>Fe.getResponseHeader(Be),{allowRangeRequests:Me,suggestedLength:Oe}=(0,Se.validateRangeRequestCapabilities)({getResponseHeader:Ie,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Me&&(this._isRangeSupported=!0),this._contentLength=Oe||this._contentLength,this._filename=(0,Se.extractFilenameFromHeader)(Ie),this._isRangeSupported&&this._manager.abortRequest(xe),this._headersReceivedCapability.resolve()}_onDone(xe){if(xe&&(this._requests.length>0?this._requests.shift().resolve({value:xe.chunk,done:!1}):this._cachedChunks.push(xe.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Fe of this._requests)Fe.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(xe){this._storedError=(0,Se.createResponseStatusError)(xe,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Fe of this._requests)Fe.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(xe){var Fe;(Fe=this.onProgress)==null||Fe.call(this,{loaded:xe.loaded,total:xe.lengthComputable?xe.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const xe=(0,_e.createPromiseCapability)();return this._requests.push(xe),xe.promise}cancel(xe){this._done=!0,this._headersReceivedCapability.reject(xe);for(const Fe of this._requests)Fe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ke{constructor(xe,Fe,Ie){this._manager=xe;const Me={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xe.url,this._requestId=xe.requestRange(Fe,Ie,Me),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var xe;(xe=this.onClosed)==null||xe.call(this,this)}_onDone(xe){const Fe=xe.chunk;this._requests.length>0?this._requests.shift().resolve({value:Fe,done:!1}):this._queuedChunk=Fe,this._done=!0;for(const Ie of this._requests)Ie.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(xe){this._storedError=(0,Se.createResponseStatusError)(xe,this._url);for(const Fe of this._requests)Fe.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(xe){var Fe;this.isStreamingSupported||(Fe=this.onProgress)==null||Fe.call(this,{loaded:xe.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Fe=this._queuedChunk;return this._queuedChunk=null,{value:Fe,done:!1}}if(this._done)return{value:void 0,done:!0};const xe=(0,_e.createPromiseCapability)();return this._requests.push(xe),xe.promise}cancel(xe){this._done=!0;for(const Fe of this._requests)Fe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var _e=r(1),Se=r(22);function Ae(ke,Pe,xe){return{method:"GET",headers:ke,signal:xe.signal,mode:"cors",credentials:Pe?"include":"same-origin",redirect:"follow"}}function Re(ke){const Pe=new Headers;for(const xe in ke){const Fe=ke[xe];Fe!==void 0&&Pe.append(xe,Fe)}return Pe}function Ee(ke){return ke instanceof Uint8Array?ke.buffer:ke instanceof ArrayBuffer?ke:((0,_e.warn)(`getArrayBuffer - unexpected data format: ${ke}`),new Uint8Array(ke).buffer)}class Ce{constructor(Pe){this.source=Pe,this.isHttp=/^https?:/i.test(Pe.url),this.httpHeaders=this.isHttp&&Pe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Pe,xe;return(xe=(Pe=this._fullRequestReader)==null?void 0:Pe._loaded)!=null?xe:0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Te(this),this._fullRequestReader}getRangeReader(Pe,xe){if(xe<=this._progressiveDataLength)return null;const Fe=new De(this,Pe,xe);return this._rangeRequestReaders.push(Fe),Fe}cancelAllRequests(Pe){var xe;(xe=this._fullRequestReader)==null||xe.cancel(Pe);for(const Fe of this._rangeRequestReaders.slice(0))Fe.cancel(Pe)}}e.PDFFetchStream=Ce;class Te{constructor(Pe){this._stream=Pe,this._reader=null,this._loaded=0,this._filename=null;const xe=Pe.source;this._withCredentials=xe.withCredentials||!1,this._contentLength=xe.length,this._headersCapability=(0,_e.createPromiseCapability)(),this._disableRange=xe.disableRange||!1,this._rangeChunkSize=xe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!xe.disableStream,this._isRangeSupported=!xe.disableRange,this._headers=Re(this._stream.httpHeaders);const Fe=xe.url;fetch(Fe,Ae(this._headers,this._withCredentials,this._abortController)).then(Ie=>{if(!(0,Se.validateResponseStatus)(Ie.status))throw(0,Se.createResponseStatusError)(Ie.status,Fe);this._reader=Ie.body.getReader(),this._headersCapability.resolve();const Me=je=>Ie.headers.get(je),{allowRangeRequests:Oe,suggestedLength:Be}=(0,Se.validateRangeRequestCapabilities)({getResponseHeader:Me,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Oe,this._contentLength=Be||this._contentLength,this._filename=(0,Se.extractFilenameFromHeader)(Me),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Fe;await this._headersCapability.promise;const{value:Pe,done:xe}=await this._reader.read();return xe?{value:Pe,done:xe}:(this._loaded+=Pe.byteLength,(Fe=this.onProgress)==null||Fe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ee(Pe),done:!1})}cancel(Pe){var xe;(xe=this._reader)==null||xe.cancel(Pe),this._abortController.abort()}}class De{constructor(Pe,xe,Fe){this._stream=Pe,this._reader=null,this._loaded=0;const Ie=Pe.source;this._withCredentials=Ie.withCredentials||!1,this._readCapability=(0,_e.createPromiseCapability)(),this._isStreamingSupported=!Ie.disableStream,this._abortController=new AbortController,this._headers=Re(this._stream.httpHeaders),this._headers.append("Range",`bytes=${xe}-${Fe-1}`);const Me=Ie.url;fetch(Me,Ae(this._headers,this._withCredentials,this._abortController)).then(Oe=>{if(!(0,Se.validateResponseStatus)(Oe.status))throw(0,Se.createResponseStatusError)(Oe.status,Me);this._readCapability.resolve(),this._reader=Oe.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Fe;await this._readCapability.promise;const{value:Pe,done:xe}=await this._reader.read();return xe?{value:Pe,done:xe}:(this._loaded+=Pe.byteLength,(Fe=this.onProgress)==null||Fe.call(this,{loaded:this._loaded}),{value:Ee(Pe),done:!1})}cancel(Pe){var xe;(xe=this._reader)==null||xe.cancel(Pe),this._abortController.abort()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=Ie,e.updateTextLayer=Me;var _e=r(1),Se=r(6);const Ae=1e5,Re=30,Ee=.8,Ce=new Map;function Te(Oe,Be){let je;if(Be&&_e.FeatureTest.isOffscreenCanvasSupported)je=new OffscreenCanvas(Oe,Oe).getContext("2d",{alpha:!1});else{const Ve=document.createElement("canvas");Ve.width=Ve.height=Oe,je=Ve.getContext("2d",{alpha:!1})}return je}function De(Oe,Be){const je=Ce.get(Oe);if(je)return je;const Ve=Te(Re,Be);Ve.font=`${Re}px ${Oe}`;const ze=Ve.measureText("");let He=ze.fontBoundingBoxAscent,$e=Math.abs(ze.fontBoundingBoxDescent);if(He){const Xe=He/(He+$e);return Ce.set(Oe,Xe),Ve.canvas.width=Ve.canvas.height=0,Xe}Ve.strokeStyle="red",Ve.clearRect(0,0,Re,Re),Ve.strokeText("g",0,0);let Ue=Ve.getImageData(0,0,Re,Re).data;$e=0;for(let Xe=Ue.length-1-3;Xe>=0;Xe-=4)if(Ue[Xe]>0){$e=Math.ceil(Xe/4/Re);break}Ve.clearRect(0,0,Re,Re),Ve.strokeText("A",0,Re),Ue=Ve.getImageData(0,0,Re,Re).data,He=0;for(let Xe=0,nr=Ue.length;Xe<nr;Xe+=4)if(Ue[Xe]>0){He=Re-Math.floor(Xe/4/Re);break}if(Ve.canvas.width=Ve.canvas.height=0,He){const Xe=He/(He+$e);return Ce.set(Oe,Xe),Xe}return Ce.set(Oe,Ee),Ee}function ke(Oe,Be,je){const Ve=document.createElement("span"),ze={angle:0,canvasWidth:0,hasText:Be.str!=="",hasEOL:Be.hasEOL,fontSize:0};Oe._textDivs.push(Ve);const He=_e.Util.transform(Oe._transform,Be.transform);let $e=Math.atan2(He[1],He[0]);const Ue=je[Be.fontName];Ue.vertical&&($e+=Math.PI/2);const Xe=Math.hypot(He[2],He[3]),nr=Xe*De(Ue.fontFamily,Oe._isOffscreenCanvasSupported);let Ge,St;$e===0?(Ge=He[4],St=He[5]-nr):(Ge=He[4]+nr*Math.sin($e),St=He[5]-nr*Math.cos($e));const mr="calc(var(--scale-factor)*",pr=Ve.style;Oe._container===Oe._rootContainer?(pr.left=`${(100*Ge/Oe._pageWidth).toFixed(2)}%`,pr.top=`${(100*St/Oe._pageHeight).toFixed(2)}%`):(pr.left=`${mr}${Ge.toFixed(2)}px)`,pr.top=`${mr}${St.toFixed(2)}px)`),pr.fontSize=`${mr}${Xe.toFixed(2)}px)`,pr.fontFamily=Ue.fontFamily,ze.fontSize=Xe,Ve.setAttribute("role","presentation"),Ve.textContent=Be.str,Ve.dir=Be.dir,Oe._fontInspectorEnabled&&(Ve.dataset.fontName=Be.fontName),$e!==0&&(ze.angle=$e*(180/Math.PI));let vr=!1;if(Be.str.length>1)vr=!0;else if(Be.str!==" "&&Be.transform[0]!==Be.transform[3]){const dr=Math.abs(Be.transform[0]),gr=Math.abs(Be.transform[3]);dr!==gr&&Math.max(dr,gr)/Math.min(dr,gr)>1.5&&(vr=!0)}vr&&(ze.canvasWidth=Ue.vertical?Be.height:Be.width),Oe._textDivProperties.set(Ve,ze),Oe._isReadableStream&&Oe._layoutText(Ve)}function Pe(Oe){const{div:Be,scale:je,properties:Ve,ctx:ze,prevFontSize:He,prevFontFamily:$e}=Oe,{style:Ue}=Be;let Xe="";if(Ve.canvasWidth!==0&&Ve.hasText){const{fontFamily:nr}=Ue,{canvasWidth:Ge,fontSize:St}=Ve;(He!==St||$e!==nr)&&(ze.font=`${St*je}px ${nr}`,Oe.prevFontSize=St,Oe.prevFontFamily=nr);const{width:mr}=ze.measureText(Be.textContent);mr>0&&(Xe=`scaleX(${Ge*je/mr})`)}Ve.angle!==0&&(Xe=`rotate(${Ve.angle}deg) ${Xe}`),Xe.length>0&&(Ue.transform=Xe)}function xe(Oe){if(Oe._canceled)return;const Be=Oe._textDivs,je=Oe._capability;if(Be.length>Ae){je.resolve();return}if(!Oe._isReadableStream)for(const ze of Be)Oe._layoutText(ze);je.resolve()}class Fe{constructor({textContentSource:Be,container:je,viewport:Ve,textDivs:ze,textDivProperties:He,textContentItemsStr:$e,isOffscreenCanvasSupported:Ue}){var mr;this._textContentSource=Be,this._isReadableStream=Be instanceof ReadableStream,this._container=this._rootContainer=je,this._textDivs=ze||[],this._textContentItemsStr=$e||[],this._isOffscreenCanvasSupported=Ue,this._fontInspectorEnabled=!!((mr=globalThis.FontInspector)!=null&&mr.enabled),this._reader=null,this._textDivProperties=He||new WeakMap,this._canceled=!1,this._capability=(0,_e.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Ve.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Te(0,Ue)};const{pageWidth:Xe,pageHeight:nr,pageX:Ge,pageY:St}=Ve.rawDims;this._transform=[1,0,0,-1,-Ge,St+nr],this._pageWidth=Xe,this._pageHeight=nr,(0,Se.setLayerDimensions)(je,Ve),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new _e.AbortException("TextLayer task cancelled."))}_processItems(Be,je){for(const Ve of Be){if(Ve.str===void 0){if(Ve.type==="beginMarkedContentProps"||Ve.type==="beginMarkedContent"){const ze=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ve.id!==null&&this._container.setAttribute("id",`${Ve.id}`),ze.append(this._container)}else Ve.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ve.str),ke(this,Ve,je)}}_layoutText(Be){const je=this._layoutTextParams.properties=this._textDivProperties.get(Be);if(this._layoutTextParams.div=Be,Pe(this._layoutTextParams),je.hasText&&this._container.append(Be),je.hasEOL){const Ve=document.createElement("br");Ve.setAttribute("role","presentation"),this._container.append(Ve)}}_render(){const Be=(0,_e.createPromiseCapability)();let je=Object.create(null);if(this._isReadableStream){const Ve=()=>{this._reader.read().then(({value:ze,done:He})=>{if(He){Be.resolve();return}Object.assign(je,ze.styles),this._processItems(ze.items,je),Ve()},Be.reject)};this._reader=this._textContentSource.getReader(),Ve()}else if(this._textContentSource){const{items:Ve,styles:ze}=this._textContentSource;this._processItems(Ve,ze),Be.resolve()}else throw new Error('No "textContentSource" parameter specified.');Be.promise.then(()=>{je=null,xe(this)},this._capability.reject)}}e.TextLayerRenderTask=Fe;function Ie(Oe){!Oe.textContentSource&&(Oe.textContent||Oe.textContentStream)&&((0,Se.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Oe.textContentSource=Oe.textContent||Oe.textContentStream);const{container:Be,viewport:je}=Oe,Ve=getComputedStyle(Be),ze=Ve.getPropertyValue("visibility"),He=parseFloat(Ve.getPropertyValue("--scale-factor"));ze==="visible"&&(!He||Math.abs(He-je.scale)>1e-15)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const $e=new Fe(Oe);return $e._render(),$e}function Me({container:Oe,viewport:Be,textDivs:je,textDivProperties:Ve,isOffscreenCanvasSupported:ze,mustRotate:He=!0,mustRescale:$e=!0}){if(He&&(0,Se.setLayerDimensions)(Oe,{rotation:Be.rotation}),$e){const Ue=Te(0,ze),nr={prevFontSize:null,prevFontFamily:null,div:null,scale:Be.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ue};for(const Ge of je)nr.properties=Ve.get(Ge),nr.div=Ge,Pe(nr)}}},(t,e,r)=>{var Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Ul,je,Hh,ze,$l,$e,ql;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var _e=r(1),Se=r(5),Ae=r(28),Re=r(29),Ee=r(6);const Xe=class{constructor(Ge){ri(this,Oe);ri(this,je);ri(this,ze);ri(this,$e);ri(this,Te,void 0);ri(this,De,!1);ri(this,ke,this.pointerup.bind(this));ri(this,Pe,this.pointerdown.bind(this));ri(this,xe,new Map);ri(this,Fe,!1);ri(this,Ie,!1);ri(this,Me,void 0);Xe._initialized||(Xe._initialized=!0,Ae.FreeTextEditor.initialize(Ge.l10n),Re.InkEditor.initialize(Ge.l10n)),Ge.uiManager.registerEditorTypes([Ae.FreeTextEditor,Re.InkEditor]),yi(this,Me,Ge.uiManager),this.pageIndex=Ge.pageIndex,this.div=Ge.div,yi(this,Te,Ge.accessibilityManager),Dr(this,Me).addLayer(this)}get isEmpty(){return Dr(this,xe).size===0}updateToolbar(Ge){Dr(this,Me).updateToolbar(Ge)}updateMode(Ge=Dr(this,Me).getMode()){oi(this,$e,ql).call(this),Ge===_e.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Dr(this,Me).unselectAll(),Ge!==_e.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ge===_e.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ge===_e.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(Ge){if(!Ge&&Dr(this,Me).getMode()!==_e.AnnotationEditorType.INK)return;if(!Ge){for(const mr of Dr(this,xe).values())if(mr.isEmpty()){mr.setInBackground();return}}oi(this,ze,$l).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Ge){Dr(this,Me).setEditingState(Ge)}addCommands(Ge){Dr(this,Me).addCommands(Ge)}enable(){this.div.style.pointerEvents="auto";for(const Ge of Dr(this,xe).values())Ge.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Ge of Dr(this,xe).values())Ge.disableEditing();oi(this,$e,ql).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(Ge){Dr(this,Me).getActive()!==Ge&&Dr(this,Me).setActiveEditor(Ge)}enableClick(){this.div.addEventListener("pointerdown",Dr(this,Pe)),this.div.addEventListener("pointerup",Dr(this,ke))}disableClick(){this.div.removeEventListener("pointerdown",Dr(this,Pe)),this.div.removeEventListener("pointerup",Dr(this,ke))}attach(Ge){Dr(this,xe).set(Ge.id,Ge)}detach(Ge){var St;Dr(this,xe).delete(Ge.id),(St=Dr(this,Te))==null||St.removePointerInTextLayer(Ge.contentDiv)}remove(Ge){Dr(this,Me).removeEditor(Ge),this.detach(Ge),Ge.div.style.display="none",setTimeout(()=>{Ge.div.style.display="",Ge.div.remove(),Ge.isAttachedToDOM=!1,document.activeElement===document.body&&Dr(this,Me).focusMainContainer()},0),Dr(this,Ie)||this.addInkEditorIfNeeded(!1)}add(Ge){if(oi(this,Oe,Ul).call(this,Ge),Dr(this,Me).addEditor(Ge),this.attach(Ge),!Ge.isAttachedToDOM){const St=Ge.render();this.div.append(St),Ge.isAttachedToDOM=!0}this.moveEditorInDOM(Ge),Ge.onceAdded(),Dr(this,Me).addToAnnotationStorage(Ge)}moveEditorInDOM(Ge){var St;(St=Dr(this,Te))==null||St.moveElementInDOM(this.div,Ge.div,Ge.contentDiv,!0)}addOrRebuild(Ge){Ge.needsToBeRebuilt()?Ge.rebuild():this.add(Ge)}addANewEditor(Ge){const St=()=>{this.addOrRebuild(Ge)},mr=()=>{Ge.remove()};this.addCommands({cmd:St,undo:mr,mustExec:!0})}addUndoableEditor(Ge){const St=()=>{this.addOrRebuild(Ge)},mr=()=>{Ge.remove()};this.addCommands({cmd:St,undo:mr,mustExec:!1})}getNextId(){return Dr(this,Me).getId()}deserialize(Ge){switch(Ge.annotationType){case _e.AnnotationEditorType.FREETEXT:return Ae.FreeTextEditor.deserialize(Ge,this,Dr(this,Me));case _e.AnnotationEditorType.INK:return Re.InkEditor.deserialize(Ge,this,Dr(this,Me))}return null}setSelected(Ge){Dr(this,Me).setSelected(Ge)}toggleSelected(Ge){Dr(this,Me).toggleSelected(Ge)}isSelected(Ge){return Dr(this,Me).isSelected(Ge)}unselect(Ge){Dr(this,Me).unselect(Ge)}pointerup(Ge){const{isMac:St}=_e.FeatureTest.platform;if(!(Ge.button!==0||Ge.ctrlKey&&St)&&Ge.target===this.div&&!!Dr(this,Fe)){if(yi(this,Fe,!1),!Dr(this,De)){yi(this,De,!0);return}oi(this,ze,$l).call(this,Ge)}}pointerdown(Ge){const{isMac:St}=_e.FeatureTest.platform;if(Ge.button!==0||Ge.ctrlKey&&St||Ge.target!==this.div)return;yi(this,Fe,!0);const mr=Dr(this,Me).getActive();yi(this,De,!mr||mr.isEmpty())}drop(Ge){const St=Ge.dataTransfer.getData("text/plain"),mr=Dr(this,Me).getEditor(St);if(!mr)return;Ge.preventDefault(),Ge.dataTransfer.dropEffect="move",oi(this,Oe,Ul).call(this,mr);const pr=this.div.getBoundingClientRect(),vr=Ge.clientX-pr.x,dr=Ge.clientY-pr.y;mr.translate(vr-mr.startX,dr-mr.startY),this.moveEditorInDOM(mr),mr.div.focus()}dragover(Ge){Ge.preventDefault()}destroy(){var Ge,St;((Ge=Dr(this,Me).getActive())==null?void 0:Ge.parent)===this&&Dr(this,Me).setActiveEditor(null);for(const mr of Dr(this,xe).values())(St=Dr(this,Te))==null||St.removePointerInTextLayer(mr.contentDiv),mr.setParent(null),mr.isAttachedToDOM=!1,mr.div.remove();this.div=null,Dr(this,xe).clear(),Dr(this,Me).removeLayer(this)}render({viewport:Ge}){this.viewport=Ge,(0,Ee.setLayerDimensions)(this.div,Ge),(0,Se.bindEvents)(this,this.div,["dragover","drop"]);for(const St of Dr(this,Me).getEditors(this.pageIndex))this.add(St);this.updateMode()}update({viewport:Ge}){Dr(this,Me).commitOrRemove(),this.viewport=Ge,(0,Ee.setLayerDimensions)(this.div,{rotation:Ge.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ge,pageHeight:St}=this.viewport.rawDims;return[Ge,St]}};let Ce=Xe;Te=new WeakMap,De=new WeakMap,ke=new WeakMap,Pe=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Me=new WeakMap,Oe=new WeakSet,Ul=function(Ge){var St;Ge.parent!==this&&(this.attach(Ge),(St=Ge.parent)==null||St.detach(Ge),Ge.setParent(this),Ge.div&&Ge.isAttachedToDOM&&(Ge.div.remove(),this.div.append(Ge.div)))},je=new WeakSet,Hh=function(Ge){switch(Dr(this,Me).getMode()){case _e.AnnotationEditorType.FREETEXT:return new Ae.FreeTextEditor(Ge);case _e.AnnotationEditorType.INK:return new Re.InkEditor(Ge)}return null},ze=new WeakSet,$l=function(Ge){const St=this.getNextId(),mr=oi(this,je,Hh).call(this,{parent:this,id:St,x:Ge.offsetX,y:Ge.offsetY,uiManager:Dr(this,Me)});return mr&&this.add(mr),mr},$e=new WeakSet,ql=function(){yi(this,Ie,!0);for(const Ge of Dr(this,xe).values())Ge.isEmpty()&&Ge.remove();yi(this,Ie,!1)},dn(Ce,"_initialized",!1),e.AnnotationEditorLayer=Ce},(t,e,r)=>{var Ee,Ce,Te,De,ke,Pe,xe,Fe,Ie,Me,Uh,Be,$h,Ve,qh,He,Gl;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var _e=r(1),Se=r(5),Ae=r(4);const Ue=class extends Ae.AnnotationEditor{constructor(Ge){super({...Ge,name:"freeTextEditor"});ri(this,Me);ri(this,Be);ri(this,Ve);ri(this,He);ri(this,Ee,this.editorDivBlur.bind(this));ri(this,Ce,this.editorDivFocus.bind(this));ri(this,Te,this.editorDivInput.bind(this));ri(this,De,this.editorDivKeydown.bind(this));ri(this,ke,void 0);ri(this,Pe,"");ri(this,xe,`${this.id}-editor`);ri(this,Fe,!1);ri(this,Ie,void 0);yi(this,ke,Ge.color||Ue._defaultColor||Ae.AnnotationEditor._defaultLineColor),yi(this,Ie,Ge.fontSize||Ue._defaultFontSize)}static initialize(Ge){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(mr=>[mr,Ge.get(mr)]));const St=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(St.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ge,St){switch(Ge){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:Ue._defaultFontSize=St;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:Ue._defaultColor=St;break}}updateParams(Ge,St){switch(Ge){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:oi(this,Me,Uh).call(this,St);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:oi(this,Be,$h).call(this,St);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,Ue._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,Ue._defaultColor||Ae.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,Dr(this,Ie)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,Dr(this,ke)]]}getInitialTranslation(){const Ge=this.parentScale;return[-Ue._internalPadding*Ge,-(Ue._internalPadding+Dr(this,Ie))*Ge]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Dr(this,De)),this.editorDiv.addEventListener("focus",Dr(this,Ce)),this.editorDiv.addEventListener("blur",Dr(this,Ee)),this.editorDiv.addEventListener("input",Dr(this,Te)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Dr(this,xe)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Dr(this,De)),this.editorDiv.removeEventListener("focus",Dr(this,Ce)),this.editorDiv.removeEventListener("blur",Dr(this,Ee)),this.editorDiv.removeEventListener("input",Dr(this,Te)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ge){super.focusin(Ge),Ge.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){!this.isInEditMode()||(super.commit(),Dr(this,Fe)||(yi(this,Fe,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),yi(this,Pe,oi(this,Ve,qh).call(this).trimEnd()),oi(this,He,Gl).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Ge){this.enableEditMode(),this.editorDiv.focus()}keydown(Ge){Ge.target===this.div&&Ge.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Ge){Ue._keyboardManager.exec(this,Ge)}editorDivFocus(Ge){this.isEditing=!0}editorDivBlur(Ge){this.isEditing=!1}editorDivInput(Ge){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ge,St;this.width&&(Ge=this.x,St=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Dr(this,xe)),this.enableEditing(),Ue._l10nPromise.get("editor_free_text2_aria_label").then(pr=>{var vr;return(vr=this.editorDiv)==null?void 0:vr.setAttribute("aria-label",pr)}),Ue._l10nPromise.get("free_text2_default_content").then(pr=>{var vr;return(vr=this.editorDiv)==null?void 0:vr.setAttribute("default-content",pr)}),this.editorDiv.contentEditable=!0;const{style:mr}=this.editorDiv;if(mr.fontSize=`calc(${Dr(this,Ie)}px * var(--scale-factor))`,mr.color=Dr(this,ke),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Se.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[pr,vr]=this.parentDimensions;this.setAt(Ge*pr,St*vr,this.width*pr,this.height*vr);for(const dr of Dr(this,Pe).split(`
`)){const gr=document.createElement("div");gr.append(dr?document.createTextNode(dr):document.createElement("br")),this.editorDiv.append(gr)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ge,St,mr){const pr=super.deserialize(Ge,St,mr);return yi(pr,Ie,Ge.fontSize),yi(pr,ke,_e.Util.makeHexColor(...Ge.color)),yi(pr,Pe,Ge.value),pr}serialize(){if(this.isEmpty())return null;const Ge=Ue._internalPadding*this.parentScale,St=this.getRect(Ge,Ge),mr=Ae.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Dr(this,ke));return{annotationType:_e.AnnotationEditorType.FREETEXT,color:mr,fontSize:Dr(this,Ie),value:Dr(this,Pe),pageIndex:this.pageIndex,rect:St,rotation:this.rotation}}};let Re=Ue;Ee=new WeakMap,Ce=new WeakMap,Te=new WeakMap,De=new WeakMap,ke=new WeakMap,Pe=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Me=new WeakSet,Uh=function(Ge){const St=pr=>{this.editorDiv.style.fontSize=`calc(${pr}px * var(--scale-factor))`,this.translate(0,-(pr-Dr(this,Ie))*this.parentScale),yi(this,Ie,pr),oi(this,He,Gl).call(this)},mr=Dr(this,Ie);this.addCommands({cmd:()=>{St(Ge)},undo:()=>{St(mr)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Be=new WeakSet,$h=function(Ge){const St=Dr(this,ke);this.addCommands({cmd:()=>{yi(this,ke,this.editorDiv.style.color=Ge)},undo:()=>{yi(this,ke,this.editorDiv.style.color=St)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ve=new WeakSet,qh=function(){const Ge=this.editorDiv.getElementsByTagName("div");if(Ge.length===0)return this.editorDiv.innerText;const St=[];for(const mr of Ge)St.push(mr.innerText.replace(/\r\n?|\n/,""));return St.join(`
`)},He=new WeakSet,Gl=function(){const[Ge,St]=this.parentDimensions;let mr;if(this.isAttachedToDOM)mr=this.div.getBoundingClientRect();else{const{currentLayer:pr,div:vr}=this,dr=vr.style.display;vr.style.display="hidden",pr.div.append(this.div),mr=vr.getBoundingClientRect(),vr.remove(),vr.style.display=dr}this.width=mr.width/Ge,this.height=mr.height/St},dn(Re,"_freeTextDefaultContent",""),dn(Re,"_l10nPromise"),dn(Re,"_internalPadding",0),dn(Re,"_defaultColor",null),dn(Re,"_defaultFontSize",10),dn(Re,"_keyboardManager",new Se.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ue.prototype.commitOrRemove]])),dn(Re,"_type","freetext"),e.FreeTextEditor=Re},(t,e,r)=>{var Te,De,ke,Pe,xe,Fe,Ie,Me,Oe,Be,je,Ve,ze,He,$e,Gh,Xe,Wh,Ge,Xh,mr,Yh,vr,Wl,gr,Kh,tr,Jh,Sr,Qh,Ze,hs,We,Xl,fr,zo,yr,Ho,Ar,ya,ar,Yl,rr,Uo,ur,Kl,wr,Zh,kr,ec,Ir,tc,zr,Jl,Gr,$o,Qr,ba,Lr,Ql;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return Ae.fitCurve}});var _e=r(1),Se=r(4),Ae=r(30),Re=r(5);const Ee=16,jr=class extends Se.AnnotationEditor{constructor(qr){super({...qr,name:"inkEditor"});ri(this,$e);ri(this,Xe);ri(this,Ge);ri(this,mr);ri(this,vr);ri(this,gr);ri(this,tr);ri(this,Sr);ri(this,Ze);ri(this,We);ri(this,fr);ri(this,yr);ri(this,Ar);ri(this,ar);ri(this,rr);ri(this,wr);ri(this,kr);ri(this,Ir);ri(this,zr);ri(this,Gr);ri(this,Qr);ri(this,Lr);ri(this,Te,0);ri(this,De,0);ri(this,ke,0);ri(this,Pe,this.canvasPointermove.bind(this));ri(this,xe,this.canvasPointerleave.bind(this));ri(this,Fe,this.canvasPointerup.bind(this));ri(this,Ie,this.canvasPointerdown.bind(this));ri(this,Me,!1);ri(this,Oe,!1);ri(this,Be,null);ri(this,je,null);ri(this,Ve,0);ri(this,ze,0);ri(this,He,null);this.color=qr.color||null,this.thickness=qr.thickness||null,this.opacity=qr.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(qr){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ni=>[ni,qr.get(ni)]))}static updateDefaultParams(qr,ni){switch(qr){case _e.AnnotationEditorParamsType.INK_THICKNESS:jr._defaultThickness=ni;break;case _e.AnnotationEditorParamsType.INK_COLOR:jr._defaultColor=ni;break;case _e.AnnotationEditorParamsType.INK_OPACITY:jr._defaultOpacity=ni/100;break}}updateParams(qr,ni){switch(qr){case _e.AnnotationEditorParamsType.INK_THICKNESS:oi(this,$e,Gh).call(this,ni);break;case _e.AnnotationEditorParamsType.INK_COLOR:oi(this,Xe,Wh).call(this,ni);break;case _e.AnnotationEditorParamsType.INK_OPACITY:oi(this,Ge,Xh).call(this,ni);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,jr._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,jr._defaultColor||Se.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(jr._defaultOpacity*100)]]}get propertiesToUpdate(){var qr;return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||jr._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||jr._defaultColor||Se.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((qr=this.opacity)!=null?qr:jr._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(oi(this,fr,zo).call(this),oi(this,yr,Ho).call(this)),this.isAttachedToDOM||(this.parent.add(this),oi(this,Ar,ya).call(this)),oi(this,Qr,ba).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Dr(this,je).disconnect(),yi(this,je,null),super.remove())}setParent(qr){!this.parent&&qr?this._uiManager.removeShouldRescale(this):this.parent&&qr===null&&this._uiManager.addShouldRescale(this),super.setParent(qr)}onScaleChanging(){const[qr,ni]=this.parentDimensions,fi=this.width*qr,Ai=this.height*ni;this.setDimensions(fi,Ai)}enableEditMode(){Dr(this,Me)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Dr(this,Ie)),this.canvas.addEventListener("pointerup",Dr(this,Fe)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Dr(this,Ie)),this.canvas.removeEventListener("pointerup",Dr(this,Fe)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Dr(this,Me)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),yi(this,Me,!0),this.div.classList.add("disabled"),oi(this,Qr,ba).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(qr){super.focusin(qr),this.enableEditMode()}canvasPointerdown(qr){qr.button!==0||!this.isInEditMode()||Dr(this,Me)||(this.setInForeground(),qr.type!=="mouse"&&this.div.focus(),qr.stopPropagation(),this.canvas.addEventListener("pointerleave",Dr(this,xe)),this.canvas.addEventListener("pointermove",Dr(this,Pe)),oi(this,gr,Kh).call(this,qr.offsetX,qr.offsetY))}canvasPointermove(qr){qr.stopPropagation(),oi(this,tr,Jh).call(this,qr.offsetX,qr.offsetY)}canvasPointerup(qr){qr.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(qr.stopPropagation(),oi(this,We,Xl).call(this,qr),this.setInBackground())}canvasPointerleave(qr){oi(this,We,Xl).call(this,qr),this.setInBackground()}render(){if(this.div)return this.div;let qr,ni;this.width&&(qr=this.x,ni=this.y),super.render(),jr._l10nPromise.get("editor_ink2_aria_label").then(Ri=>{var ki;return(ki=this.div)==null?void 0:ki.setAttribute("aria-label",Ri)});const[fi,Ai,Di,Oi]=oi(this,mr,Yh).call(this);if(this.setAt(fi,Ai,0,0),this.setDims(Di,Oi),oi(this,fr,zo).call(this),this.width){const[Ri,ki]=this.parentDimensions;this.setAt(qr*Ri,ni*ki,this.width*Ri,this.height*ki),yi(this,Oe,!0),oi(this,Ar,ya).call(this),this.setDims(this.width*Ri,this.height*ki),oi(this,Ze,hs).call(this),oi(this,Lr,Ql).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return oi(this,yr,Ho).call(this),this.div}setDimensions(qr,ni){const fi=Math.round(qr),Ai=Math.round(ni);if(Dr(this,Ve)===fi&&Dr(this,ze)===Ai)return;yi(this,Ve,fi),yi(this,ze,Ai),this.canvas.style.visibility="hidden",Dr(this,Te)&&Math.abs(Dr(this,Te)-qr/ni)>.01&&(ni=Math.ceil(qr/Dr(this,Te)),this.setDims(qr,ni));const[Di,Oi]=this.parentDimensions;this.width=qr/Di,this.height=ni/Oi,Dr(this,Me)&&oi(this,ar,Yl).call(this,qr,ni),oi(this,Ar,ya).call(this),oi(this,Ze,hs).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(qr,ni,fi){var Ti,si;const Ai=super.deserialize(qr,ni,fi);Ai.thickness=qr.thickness,Ai.color=_e.Util.makeHexColor(...qr.color),Ai.opacity=qr.opacity;const[Di,Oi]=Ai.pageDimensions,Ri=Ai.width*Di,ki=Ai.height*Oi,Ci=Ai.parentScale,wi=qr.thickness/2;yi(Ai,Te,Ri/ki),yi(Ai,Me,!0),yi(Ai,Ve,Math.round(Ri)),yi(Ai,ze,Math.round(ki));for(const{bezier:Si}of qr.paths){const hi=[];Ai.paths.push(hi);let xi=Ci*(Si[0]-wi),ji=Ci*(ki-Si[1]-wi);for(let Ii=2,Vi=Si.length;Ii<Vi;Ii+=6){const tn=Ci*(Si[Ii]-wi),qi=Ci*(ki-Si[Ii+1]-wi),Ji=Ci*(Si[Ii+2]-wi),an=Ci*(ki-Si[Ii+3]-wi),Gi=Ci*(Si[Ii+4]-wi),Wi=Ci*(ki-Si[Ii+5]-wi);hi.push([[xi,ji],[tn,qi],[Ji,an],[Gi,Wi]]),xi=Gi,ji=Wi}const Li=oi(this,ur,Kl).call(this,hi);Ai.bezierPath2D.push(Li)}const Yi=oi(Ti=Ai,zr,Jl).call(Ti);return yi(Ai,ke,Math.max(Ee,Yi[2]-Yi[0])),yi(Ai,De,Math.max(Ee,Yi[3]-Yi[1])),oi(si=Ai,ar,Yl).call(si,Ri,ki),Ai}serialize(){if(this.isEmpty())return null;const qr=this.getRect(0,0),ni=this.rotation%180===0?qr[3]-qr[1]:qr[2]-qr[0],fi=Se.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:fi,thickness:this.thickness,opacity:this.opacity,paths:oi(this,wr,Zh).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ni),pageIndex:this.pageIndex,rect:qr,rotation:this.rotation}}};let Ce=jr;Te=new WeakMap,De=new WeakMap,ke=new WeakMap,Pe=new WeakMap,xe=new WeakMap,Fe=new WeakMap,Ie=new WeakMap,Me=new WeakMap,Oe=new WeakMap,Be=new WeakMap,je=new WeakMap,Ve=new WeakMap,ze=new WeakMap,He=new WeakMap,$e=new WeakSet,Gh=function(qr){const ni=this.thickness;this.addCommands({cmd:()=>{this.thickness=qr,oi(this,Qr,ba).call(this)},undo:()=>{this.thickness=ni,oi(this,Qr,ba).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Xe=new WeakSet,Wh=function(qr){const ni=this.color;this.addCommands({cmd:()=>{this.color=qr,oi(this,Ze,hs).call(this)},undo:()=>{this.color=ni,oi(this,Ze,hs).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ge=new WeakSet,Xh=function(qr){qr/=100;const ni=this.opacity;this.addCommands({cmd:()=>{this.opacity=qr,oi(this,Ze,hs).call(this)},undo:()=>{this.opacity=ni,oi(this,Ze,hs).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mr=new WeakSet,Yh=function(){const{parentRotation:qr,parentDimensions:[ni,fi]}=this;switch(qr){case 90:return[0,fi,fi,ni];case 180:return[ni,fi,ni,fi];case 270:return[ni,0,fi,ni];default:return[0,0,ni,fi]}},vr=new WeakSet,Wl=function(){const{ctx:qr,color:ni,opacity:fi,thickness:Ai,parentScale:Di,scaleFactor:Oi}=this;qr.lineWidth=Ai*Di/Oi,qr.lineCap="round",qr.lineJoin="round",qr.miterLimit=10,qr.strokeStyle=`${ni}${(0,Re.opacityToHex)(fi)}`},gr=new WeakSet,Kh=function(qr,ni){var fi;this.isEditing=!0,Dr(this,Oe)||(yi(this,Oe,!0),oi(this,Ar,ya).call(this),this.thickness||(this.thickness=jr._defaultThickness),this.color||(this.color=jr._defaultColor||Se.AnnotationEditor._defaultLineColor),(fi=this.opacity)!=null||(this.opacity=jr._defaultOpacity)),this.currentPath.push([qr,ni]),yi(this,Be,null),oi(this,vr,Wl).call(this),this.ctx.beginPath(),this.ctx.moveTo(qr,ni),yi(this,He,()=>{!Dr(this,He)||(Dr(this,Be)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):oi(this,Ze,hs).call(this),this.ctx.lineTo(...Dr(this,Be)),yi(this,Be,null),this.ctx.stroke()),window.requestAnimationFrame(Dr(this,He)))}),window.requestAnimationFrame(Dr(this,He))},tr=new WeakSet,Jh=function(qr,ni){const[fi,Ai]=this.currentPath.at(-1);qr===fi&&ni===Ai||(this.currentPath.push([qr,ni]),yi(this,Be,[qr,ni]))},Sr=new WeakSet,Qh=function(qr,ni){var Ci;this.ctx.closePath(),yi(this,He,null),qr=Math.min(Math.max(qr,0),this.canvas.width),ni=Math.min(Math.max(ni,0),this.canvas.height);const[fi,Ai]=this.currentPath.at(-1);(qr!==fi||ni!==Ai)&&this.currentPath.push([qr,ni]);let Di;if(this.currentPath.length!==1)Di=(0,Ae.fitCurve)(this.currentPath,30,null);else{const wi=[qr,ni];Di=[[wi,wi.slice(),wi.slice(),wi]]}const Oi=oi(Ci=jr,ur,Kl).call(Ci,Di);this.currentPath.length=0;const Ri=()=>{this.paths.push(Di),this.bezierPath2D.push(Oi),this.rebuild()},ki=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(oi(this,fr,zo).call(this),oi(this,yr,Ho).call(this)),oi(this,Qr,ba).call(this))};this.addCommands({cmd:Ri,undo:ki,mustExec:!0})},Ze=new WeakSet,hs=function(){if(this.isEmpty()){oi(this,rr,Uo).call(this);return}oi(this,vr,Wl).call(this);const{canvas:qr,ctx:ni}=this;ni.setTransform(1,0,0,1,0,0),ni.clearRect(0,0,qr.width,qr.height),oi(this,rr,Uo).call(this);for(const fi of this.bezierPath2D)ni.stroke(fi)},We=new WeakSet,Xl=function(qr){oi(this,Sr,Qh).call(this,qr.offsetX,qr.offsetY),this.canvas.removeEventListener("pointerleave",Dr(this,xe)),this.canvas.removeEventListener("pointermove",Dr(this,Pe)),this.addToAnnotationStorage()},fr=new WeakSet,zo=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",jr._l10nPromise.get("editor_ink_canvas_aria_label").then(qr=>{var ni;return(ni=this.canvas)==null?void 0:ni.setAttribute("aria-label",qr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},yr=new WeakSet,Ho=function(){yi(this,je,new ResizeObserver(qr=>{const ni=qr[0].contentRect;ni.width&&ni.height&&this.setDimensions(ni.width,ni.height)})),Dr(this,je).observe(this.div)},Ar=new WeakSet,ya=function(){if(!Dr(this,Oe))return;const[qr,ni]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*qr),this.canvas.height=Math.ceil(this.height*ni),oi(this,rr,Uo).call(this)},ar=new WeakSet,Yl=function(qr,ni){const fi=oi(this,Gr,$o).call(this),Ai=(qr-fi)/Dr(this,ke),Di=(ni-fi)/Dr(this,De);this.scaleFactor=Math.min(Ai,Di)},rr=new WeakSet,Uo=function(){const qr=oi(this,Gr,$o).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+qr,this.translationY*this.scaleFactor+qr)},ur=new WeakSet,Kl=function(qr){const ni=new Path2D;for(let fi=0,Ai=qr.length;fi<Ai;fi++){const[Di,Oi,Ri,ki]=qr[fi];fi===0&&ni.moveTo(...Di),ni.bezierCurveTo(Oi[0],Oi[1],Ri[0],Ri[1],ki[0],ki[1])}return ni},wr=new WeakSet,Zh=function(qr,ni,fi,Ai){const Oi=[],Ri=this.thickness/2;let ki,Ci;for(const wi of this.paths){ki=[],Ci=[];for(let Yi=0,Ti=wi.length;Yi<Ti;Yi++){const[si,Si,hi,xi]=wi[Yi],ji=qr*(si[0]+ni)+Ri,Li=Ai-qr*(si[1]+fi)-Ri,Ii=qr*(Si[0]+ni)+Ri,Vi=Ai-qr*(Si[1]+fi)-Ri,tn=qr*(hi[0]+ni)+Ri,qi=Ai-qr*(hi[1]+fi)-Ri,Ji=qr*(xi[0]+ni)+Ri,an=Ai-qr*(xi[1]+fi)-Ri;Yi===0&&(ki.push(ji,Li),Ci.push(ji,Li)),ki.push(Ii,Vi,tn,qi,Ji,an),oi(this,kr,ec).call(this,ji,Li,Ii,Vi,tn,qi,Ji,an,4,Ci)}Oi.push({bezier:ki,points:Ci})}return Oi},kr=new WeakSet,ec=function(qr,ni,fi,Ai,Di,Oi,Ri,ki,Ci,wi){if(oi(this,Ir,tc).call(this,qr,ni,fi,Ai,Di,Oi,Ri,ki)){wi.push(Ri,ki);return}for(let Yi=1;Yi<Ci-1;Yi++){const Ti=Yi/Ci,si=1-Ti;let Si=Ti*qr+si*fi,hi=Ti*ni+si*Ai,xi=Ti*fi+si*Di,ji=Ti*Ai+si*Oi;const Li=Ti*Di+si*Ri,Ii=Ti*Oi+si*ki;Si=Ti*Si+si*xi,hi=Ti*hi+si*ji,xi=Ti*xi+si*Li,ji=Ti*ji+si*Ii,Si=Ti*Si+si*xi,hi=Ti*hi+si*ji,wi.push(Si,hi)}wi.push(Ri,ki)},Ir=new WeakSet,tc=function(qr,ni,fi,Ai,Di,Oi,Ri,ki){const wi=(3*fi-2*qr-Ri)**2,Yi=(3*Ai-2*ni-ki)**2,Ti=(3*Di-qr-2*Ri)**2,si=(3*Oi-ni-2*ki)**2;return Math.max(wi,Ti)+Math.max(Yi,si)<=10},zr=new WeakSet,Jl=function(){let qr=1/0,ni=-1/0,fi=1/0,Ai=-1/0;for(const Di of this.paths)for(const[Oi,Ri,ki,Ci]of Di){const wi=_e.Util.bezierBoundingBox(...Oi,...Ri,...ki,...Ci);qr=Math.min(qr,wi[0]),fi=Math.min(fi,wi[1]),ni=Math.max(ni,wi[2]),Ai=Math.max(Ai,wi[3])}return[qr,fi,ni,Ai]},Gr=new WeakSet,$o=function(){return Dr(this,Me)?Math.ceil(this.thickness*this.parentScale):0},Qr=new WeakSet,ba=function(qr=!1){if(this.isEmpty())return;if(!Dr(this,Me)){oi(this,Ze,hs).call(this);return}const ni=oi(this,zr,Jl).call(this),fi=oi(this,Gr,$o).call(this);yi(this,ke,Math.max(Ee,ni[2]-ni[0])),yi(this,De,Math.max(Ee,ni[3]-ni[1]));const Ai=Math.ceil(fi+Dr(this,ke)*this.scaleFactor),Di=Math.ceil(fi+Dr(this,De)*this.scaleFactor),[Oi,Ri]=this.parentDimensions;this.width=Ai/Oi,this.height=Di/Ri,yi(this,Te,Ai/Di),oi(this,Lr,Ql).call(this);const ki=this.translationX,Ci=this.translationY;this.translationX=-ni[0],this.translationY=-ni[1],oi(this,Ar,ya).call(this),oi(this,Ze,hs).call(this),yi(this,Ve,Ai),yi(this,ze,Di),this.setDims(Ai,Di);const wi=qr?fi/this.scaleFactor/2:0;this.translate(ki-this.translationX-wi,Ci-this.translationY-wi)},Lr=new WeakSet,Ql=function(){const{style:qr}=this.div;Dr(this,Te)>=1?(qr.minHeight=`${Ee}px`,qr.minWidth=`${Math.round(Dr(this,Te)*Ee)}px`):(qr.minWidth=`${Ee}px`,qr.minHeight=`${Math.round(Ee/Dr(this,Te))}px`)},ri(Ce,ur),dn(Ce,"_defaultColor",null),dn(Ce,"_defaultOpacity",1),dn(Ce,"_defaultThickness",1),dn(Ce,"_l10nPromise"),dn(Ce,"_type","ink"),e.InkEditor=Ce},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const _e=r(31);e.fitCurve=_e},t=>{function e(Fe,Ie,Me){if(!Array.isArray(Fe))throw new TypeError("First argument should be an array");if(Fe.forEach(Ve=>{if(!Array.isArray(Ve)||Ve.some(ze=>typeof ze!="number")||Ve.length!==Fe[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Fe=Fe.filter((Ve,ze)=>ze===0||!Ve.every((He,$e)=>He===Fe[ze-1][$e])),Fe.length<2)return[];const Oe=Fe.length,Be=ke(Fe[1],Fe[0]),je=ke(Fe[Oe-2],Fe[Oe-1]);return r(Fe,Be,je,Ie,Me)}function r(Fe,Ie,Me,Oe,Be){var Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr;if(Fe.length===2)return vr=Pe.vectorLen(Pe.subtract(Fe[0],Fe[1]))/3,Ve=[Fe[0],Pe.addArrays(Fe[0],Pe.mulItems(Ie,vr)),Pe.addArrays(Fe[1],Pe.mulItems(Me,vr)),Fe[1]],[Ve];if(ze=Ee(Fe),[Ve,$e,Xe]=_e(Fe,ze,ze,Ie,Me,Be),$e===0||$e<Oe)return[Ve];if($e<Oe*Oe)for(He=ze,Ue=$e,nr=Xe,dr=0;dr<20;dr++){if(He=Ae(Ve,Fe,He),[Ve,$e,Xe]=_e(Fe,ze,He,Ie,Me,Be),$e<Oe)return[Ve];if(Xe===nr){let gr=$e/Ue;if(gr>.9999&&gr<1.0001)break}Ue=$e,nr=Xe}return pr=[],Ge=Pe.subtract(Fe[Xe-1],Fe[Xe+1]),Ge.every(gr=>gr===0)&&(Ge=Pe.subtract(Fe[Xe-1],Fe[Xe]),[Ge[0],Ge[1]]=[-Ge[1],Ge[0]]),St=Pe.normalize(Ge),mr=Pe.mulItems(St,-1),pr=pr.concat(r(Fe.slice(0,Xe+1),Ie,St,Oe,Be)),pr=pr.concat(r(Fe.slice(Xe),mr,Me,Oe,Be)),pr}function _e(Fe,Ie,Me,Oe,Be,je){var Ve,ze,He;return Ve=Se(Fe,Me,Oe,Be),[ze,He]=Ce(Fe,Ve,Ie),je&&je({bez:Ve,points:Fe,params:Ie,maxErr:ze,maxPoint:He}),[Ve,ze,He]}function Se(Fe,Ie,Me,Oe){var Be,je,Ve,ze,He,$e,Ue,Xe,nr,Ge,St,mr,pr,vr,dr,gr,sr,tr=Fe[0],hr=Fe[Fe.length-1];for(Be=[tr,null,null,hr],je=Pe.zeros_Xx2x2(Ie.length),pr=0,vr=Ie.length;pr<vr;pr++)gr=Ie[pr],sr=1-gr,Ve=je[pr],Ve[0]=Pe.mulItems(Me,3*gr*(sr*sr)),Ve[1]=Pe.mulItems(Oe,3*sr*(gr*gr));for(ze=[[0,0],[0,0]],He=[0,0],pr=0,vr=Fe.length;pr<vr;pr++)gr=Ie[pr],Ve=je[pr],ze[0][0]+=Pe.dot(Ve[0],Ve[0]),ze[0][1]+=Pe.dot(Ve[0],Ve[1]),ze[1][0]+=Pe.dot(Ve[0],Ve[1]),ze[1][1]+=Pe.dot(Ve[1],Ve[1]),dr=Pe.subtract(Fe[pr],xe.q([tr,tr,hr,hr],gr)),He[0]+=Pe.dot(Ve[0],dr),He[1]+=Pe.dot(Ve[1],dr);return $e=ze[0][0]*ze[1][1]-ze[1][0]*ze[0][1],Ue=ze[0][0]*He[1]-ze[1][0]*He[0],Xe=He[0]*ze[1][1]-He[1]*ze[0][1],nr=$e===0?0:Xe/$e,Ge=$e===0?0:Ue/$e,mr=Pe.vectorLen(Pe.subtract(tr,hr)),St=1e-6*mr,nr<St||Ge<St?(Be[1]=Pe.addArrays(tr,Pe.mulItems(Me,mr/3)),Be[2]=Pe.addArrays(hr,Pe.mulItems(Oe,mr/3))):(Be[1]=Pe.addArrays(tr,Pe.mulItems(Me,nr)),Be[2]=Pe.addArrays(hr,Pe.mulItems(Oe,Ge))),Be}function Ae(Fe,Ie,Me){return Me.map((Oe,Be)=>Re(Fe,Ie[Be],Oe))}function Re(Fe,Ie,Me){var Oe=Pe.subtract(xe.q(Fe,Me),Ie),Be=xe.qprime(Fe,Me),je=Pe.mulMatrix(Oe,Be),Ve=Pe.sum(Pe.squareItems(Be))+2*Pe.mulMatrix(Oe,xe.qprimeprime(Fe,Me));return Ve===0?Me:Me-je/Ve}function Ee(Fe){var Ie=[],Me,Oe,Be;return Fe.forEach((je,Ve)=>{Me=Ve?Oe+Pe.vectorLen(Pe.subtract(je,Be)):0,Ie.push(Me),Oe=Me,Be=je}),Ie=Ie.map(je=>je/Oe),Ie}function Ce(Fe,Ie,Me){var Oe,Be,je,Ve,ze,He,$e,Ue;Be=0,je=Math.floor(Fe.length/2);const Xe=Te(Ie,10);for(ze=0,He=Fe.length;ze<He;ze++)$e=Fe[ze],Ue=De(Ie,Me[ze],Xe,10),Ve=Pe.subtract(xe.q(Ie,Ue),$e),Oe=Ve[0]*Ve[0]+Ve[1]*Ve[1],Oe>Be&&(Be=Oe,je=ze);return[Be,je]}var Te=function(Fe,Ie){for(var Me,Oe=[0],Be=Fe[0],je=0,Ve=1;Ve<=Ie;Ve++)Me=xe.q(Fe,Ve/Ie),je+=Pe.vectorLen(Pe.subtract(Me,Be)),Oe.push(je),Be=Me;return Oe=Oe.map(ze=>ze/je),Oe};function De(Fe,Ie,Me,Oe){if(Ie<0)return 0;if(Ie>1)return 1;for(var Be,je,Ve,ze,He,$e=1;$e<=Oe;$e++)if(Ie<=Me[$e]){ze=($e-1)/Oe,Ve=$e/Oe,je=Me[$e-1],Be=Me[$e],He=(Ie-je)/(Be-je)*(Ve-ze)+ze;break}return He}function ke(Fe,Ie){return Pe.normalize(Pe.subtract(Fe,Ie))}class Pe{static zeros_Xx2x2(Ie){for(var Me=[];Ie--;)Me.push([0,0]);return Me}static mulItems(Ie,Me){return Ie.map(Oe=>Oe*Me)}static mulMatrix(Ie,Me){return Ie.reduce((Oe,Be,je)=>Oe+Be*Me[je],0)}static subtract(Ie,Me){return Ie.map((Oe,Be)=>Oe-Me[Be])}static addArrays(Ie,Me){return Ie.map((Oe,Be)=>Oe+Me[Be])}static addItems(Ie,Me){return Ie.map(Oe=>Oe+Me)}static sum(Ie){return Ie.reduce((Me,Oe)=>Me+Oe)}static dot(Ie,Me){return Pe.mulMatrix(Ie,Me)}static vectorLen(Ie){return Math.hypot(...Ie)}static divItems(Ie,Me){return Ie.map(Oe=>Oe/Me)}static squareItems(Ie){return Ie.map(Me=>Me*Me)}static normalize(Ie){return this.divItems(Ie,this.vectorLen(Ie))}}class xe{static q(Ie,Me){var Oe=1-Me,Be=Pe.mulItems(Ie[0],Oe*Oe*Oe),je=Pe.mulItems(Ie[1],3*Oe*Oe*Me),Ve=Pe.mulItems(Ie[2],3*Oe*Me*Me),ze=Pe.mulItems(Ie[3],Me*Me*Me);return Pe.addArrays(Pe.addArrays(Be,je),Pe.addArrays(Ve,ze))}static qprime(Ie,Me){var Oe=1-Me,Be=Pe.mulItems(Pe.subtract(Ie[1],Ie[0]),3*Oe*Oe),je=Pe.mulItems(Pe.subtract(Ie[2],Ie[1]),6*Oe*Me),Ve=Pe.mulItems(Pe.subtract(Ie[3],Ie[2]),3*Me*Me);return Pe.addArrays(Pe.addArrays(Be,je),Ve)}static qprimeprime(Ie,Me){return Pe.addArrays(Pe.mulItems(Pe.addArrays(Pe.subtract(Ie[2],Pe.mulItems(Ie[1],2)),Ie[0]),6*(1-Me)),Pe.mulItems(Pe.addArrays(Pe.subtract(Ie[3],Pe.mulItems(Ie[2],2)),Ie[1]),6*Me))}}t.exports=e,t.exports.fitCubic=r,t.exports.createTangent=ke},(t,e,r)=>{var Ze,Gs,We,rc,_r,Zl,xr,eh;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var _e=r(1),Se=r(6),Ae=r(3),Re=r(33),Ee=r(34);const Ce=1e3,Te=9,De=new WeakSet;function ke(ar){return{width:ar[2]-ar[0],height:ar[3]-ar[1]}}class Pe{static create(Qe){switch(Qe.data.annotationType){case _e.AnnotationType.LINK:return new Fe(Qe);case _e.AnnotationType.TEXT:return new Ie(Qe);case _e.AnnotationType.WIDGET:switch(Qe.data.fieldType){case"Tx":return new Oe(Qe);case"Btn":return Qe.data.radioButton?new je(Qe):Qe.data.checkBox?new Be(Qe):new Ve(Qe);case"Ch":return new ze(Qe)}return new Me(Qe);case _e.AnnotationType.POPUP:return new He(Qe);case _e.AnnotationType.FREETEXT:return new Ue(Qe);case _e.AnnotationType.LINE:return new Xe(Qe);case _e.AnnotationType.SQUARE:return new nr(Qe);case _e.AnnotationType.CIRCLE:return new Ge(Qe);case _e.AnnotationType.POLYLINE:return new St(Qe);case _e.AnnotationType.CARET:return new pr(Qe);case _e.AnnotationType.INK:return new vr(Qe);case _e.AnnotationType.POLYGON:return new mr(Qe);case _e.AnnotationType.HIGHLIGHT:return new dr(Qe);case _e.AnnotationType.UNDERLINE:return new gr(Qe);case _e.AnnotationType.SQUIGGLY:return new sr(Qe);case _e.AnnotationType.STRIKEOUT:return new tr(Qe);case _e.AnnotationType.STAMP:return new hr(Qe);case _e.AnnotationType.FILEATTACHMENT:return new Sr(Qe);default:return new xe(Qe)}}}class xe{constructor(Qe,{isRenderable:rr=!1,ignoreBorder:er=!1,createQuadrilaterals:ur=!1}={}){this.isRenderable=rr,this.data=Qe.data,this.layer=Qe.layer,this.page=Qe.page,this.viewport=Qe.viewport,this.linkService=Qe.linkService,this.downloadManager=Qe.downloadManager,this.imageResourcesPath=Qe.imageResourcesPath,this.renderForms=Qe.renderForms,this.svgFactory=Qe.svgFactory,this.annotationStorage=Qe.annotationStorage,this.enableScripting=Qe.enableScripting,this.hasJSActions=Qe.hasJSActions,this._fieldObjects=Qe.fieldObjects,rr&&(this.container=this._createContainer(er)),ur&&(this.quadrilaterals=this._createQuadrilaterals(er))}_createContainer(Qe=!1){const{data:rr,page:er,viewport:ur}=this,Cr=document.createElement("section");Cr.setAttribute("data-annotation-id",rr.id),rr.noRotate&&Cr.classList.add("norotate");const{pageWidth:wr,pageHeight:Or,pageX:kr,pageY:Pr}=ur.rawDims,{width:Ir,height:Vr}=ke(rr.rect),zr=_e.Util.normalizeRect([rr.rect[0],er.view[3]-rr.rect[1]+er.view[1],rr.rect[2],er.view[3]-rr.rect[3]+er.view[1]]);if(!Qe&&rr.borderStyle.width>0){Cr.style.borderWidth=`${rr.borderStyle.width}px`;const Gr=rr.borderStyle.horizontalCornerRadius,ii=rr.borderStyle.verticalCornerRadius;if(Gr>0||ii>0){const di=`calc(${Gr}px * var(--scale-factor)) / calc(${ii}px * var(--scale-factor))`;Cr.style.borderRadius=di}else if(this instanceof je){const di=`calc(${Ir}px * var(--scale-factor)) / calc(${Vr}px * var(--scale-factor))`;Cr.style.borderRadius=di}switch(rr.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:Cr.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:Cr.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:Cr.style.borderBottomStyle="solid";break}const Qr=rr.borderColor||null;Qr?Cr.style.borderColor=_e.Util.makeHexColor(Qr[0]|0,Qr[1]|0,Qr[2]|0):Cr.style.borderWidth=0}Cr.style.left=`${100*(zr[0]-kr)/wr}%`,Cr.style.top=`${100*(zr[1]-Pr)/Or}%`;const{rotation:$r}=rr;return rr.hasOwnCanvas||$r===0?(Cr.style.width=`${100*Ir/wr}%`,Cr.style.height=`${100*Vr/Or}%`):this.setRotation($r,Cr),Cr}setRotation(Qe,rr=this.container){const{pageWidth:er,pageHeight:ur}=this.viewport.rawDims,{width:Cr,height:wr}=ke(this.data.rect);let Or,kr;Qe%180===0?(Or=100*Cr/er,kr=100*wr/ur):(Or=100*wr/er,kr=100*Cr/ur),rr.style.width=`${Or}%`,rr.style.height=`${kr}%`,rr.setAttribute("data-main-rotation",(360-Qe)%360)}get _commonActions(){const Qe=(rr,er,ur)=>{const Cr=ur.detail[rr];ur.target.style[er]=Re.ColorConverters[`${Cr[0]}_HTML`](Cr.slice(1))};return(0,_e.shadow)(this,"_commonActions",{display:rr=>{const er=rr.detail.display%2===1;this.container.style.visibility=er?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:er,print:rr.detail.display===0||rr.detail.display===3})},print:rr=>{this.annotationStorage.setValue(this.data.id,{print:rr.detail.print})},hidden:rr=>{this.container.style.visibility=rr.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:rr.detail.hidden})},focus:rr=>{setTimeout(()=>rr.target.focus({preventScroll:!1}),0)},userName:rr=>{rr.target.title=rr.detail.userName},readonly:rr=>{rr.detail.readonly?rr.target.setAttribute("readonly",""):rr.target.removeAttribute("readonly")},required:rr=>{this._setRequired(rr.target,rr.detail.required)},bgColor:rr=>{Qe("bgColor","backgroundColor",rr)},fillColor:rr=>{Qe("fillColor","backgroundColor",rr)},fgColor:rr=>{Qe("fgColor","color",rr)},textColor:rr=>{Qe("textColor","color",rr)},borderColor:rr=>{Qe("borderColor","borderColor",rr)},strokeColor:rr=>{Qe("strokeColor","borderColor",rr)},rotation:rr=>{const er=rr.detail.rotation;this.setRotation(er),this.annotationStorage.setValue(this.data.id,{rotation:er})}})}_dispatchEventFromSandbox(Qe,rr){const er=this._commonActions;for(const ur of Object.keys(rr.detail)){const Cr=Qe[ur]||er[ur];Cr==null||Cr(rr)}}_setDefaultPropertiesFromJS(Qe){if(!this.enableScripting)return;const rr=this.annotationStorage.getRawValue(this.data.id);if(!rr)return;const er=this._commonActions;for(const[ur,Cr]of Object.entries(rr)){const wr=er[ur];if(wr){const Or={detail:{[ur]:Cr},target:Qe};wr(Or),delete rr[ur]}}}_createQuadrilaterals(Qe=!1){if(!this.data.quadPoints)return null;const rr=[],er=this.data.rect;for(const ur of this.data.quadPoints)this.data.rect=[ur[2].x,ur[2].y,ur[1].x,ur[1].y],rr.push(this._createContainer(Qe));return this.data.rect=er,rr}_createPopup(Qe,rr){let er=this.container;this.quadrilaterals&&(Qe=Qe||this.quadrilaterals,er=this.quadrilaterals[0]),Qe||(Qe=document.createElement("div"),Qe.classList.add("popupTriggerArea"),er.append(Qe));const Cr=new $e({container:er,trigger:Qe,color:rr.color,titleObj:rr.titleObj,modificationDate:rr.modificationDate,contentsObj:rr.contentsObj,richText:rr.richText,hideWrapper:!0}).render();Cr.style.left="100%",er.append(Cr)}_renderQuadrilaterals(Qe){for(const rr of this.quadrilaterals)rr.classList.add(Qe);return this.quadrilaterals}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Qe,rr=null){const er=[];if(this._fieldObjects){const ur=this._fieldObjects[Qe];if(ur)for(const{page:Cr,id:wr,exportValues:Or}of ur){if(Cr===-1||wr===rr)continue;const kr=typeof Or=="string"?Or:null,Pr=document.querySelector(`[data-element-id="${wr}"]`);if(Pr&&!De.has(Pr)){(0,_e.warn)(`_getElementsByName - element not allowed: ${wr}`);continue}er.push({id:wr,exportValue:kr,domElement:Pr})}return er}for(const ur of document.getElementsByName(Qe)){const{exportValue:Cr}=ur,wr=ur.getAttribute("data-element-id");wr!==rr&&(!De.has(ur)||er.push({id:wr,exportValue:Cr,domElement:ur}))}return er}}class Fe extends xe{constructor(rr,er=null){super(rr,{isRenderable:!0,ignoreBorder:!!(er!=null&&er.ignoreBorder),createQuadrilaterals:!0});ri(this,Ze);ri(this,We);this.isTooltipOnly=rr.data.isTooltipOnly}render(){const{data:rr,linkService:er}=this,ur=document.createElement("a");ur.setAttribute("data-element-id",rr.id);let Cr=!1;return rr.url?(er.addLinkAttributes(ur,rr.url,rr.newWindow),Cr=!0):rr.action?(this._bindNamedAction(ur,rr.action),Cr=!0):rr.attachment?(this._bindAttachment(ur,rr.attachment),Cr=!0):rr.setOCGState?(oi(this,We,rc).call(this,ur,rr.setOCGState),Cr=!0):rr.dest?(this._bindLink(ur,rr.dest),Cr=!0):(rr.actions&&(rr.actions.Action||rr.actions["Mouse Up"]||rr.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ur,rr),Cr=!0),rr.resetForm?(this._bindResetFormAction(ur,rr.resetForm),Cr=!0):this.isTooltipOnly&&!Cr&&(this._bindLink(ur,""),Cr=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((wr,Or)=>{const kr=Or===0?ur:ur.cloneNode();return wr.append(kr),wr}):(this.container.classList.add("linkAnnotation"),Cr&&this.container.append(ur),this.container)}_bindLink(rr,er){rr.href=this.linkService.getDestinationHash(er),rr.onclick=()=>(er&&this.linkService.goToDestination(er),!1),(er||er==="")&&oi(this,Ze,Gs).call(this)}_bindNamedAction(rr,er){rr.href=this.linkService.getAnchorUrl(""),rr.onclick=()=>(this.linkService.executeNamedAction(er),!1),oi(this,Ze,Gs).call(this)}_bindAttachment(rr,er){rr.href=this.linkService.getAnchorUrl(""),rr.onclick=()=>{var ur;return(ur=this.downloadManager)==null||ur.openOrDownloadData(this.container,er.content,er.filename),!1},oi(this,Ze,Gs).call(this)}_bindJSAction(rr,er){rr.href=this.linkService.getAnchorUrl("");const ur=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Cr of Object.keys(er.actions)){const wr=ur.get(Cr);!wr||(rr[wr]=()=>{var Or;return(Or=this.linkService.eventBus)==null||Or.dispatch("dispatcheventinsandbox",{source:this,detail:{id:er.id,name:Cr}}),!1})}rr.onclick||(rr.onclick=()=>!1),oi(this,Ze,Gs).call(this)}_bindResetFormAction(rr,er){const ur=rr.onclick;if(ur||(rr.href=this.linkService.getAnchorUrl("")),oi(this,Ze,Gs).call(this),!this._fieldObjects){(0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ur||(rr.onclick=()=>!1);return}rr.onclick=()=>{var Vr;ur==null||ur();const{fields:Cr,refs:wr,include:Or}=er,kr=[];if(Cr.length!==0||wr.length!==0){const zr=new Set(wr);for(const $r of Cr){const Gr=this._fieldObjects[$r]||[];for(const{id:ii}of Gr)zr.add(ii)}for(const $r of Object.values(this._fieldObjects))for(const Gr of $r)zr.has(Gr.id)===Or&&kr.push(Gr)}else for(const zr of Object.values(this._fieldObjects))kr.push(...zr);const Pr=this.annotationStorage,Ir=[];for(const zr of kr){const{id:$r}=zr;switch(Ir.push($r),zr.type){case"text":{const ii=zr.defaultValue||"";Pr.setValue($r,{value:ii});break}case"checkbox":case"radiobutton":{const ii=zr.defaultValue===zr.exportValues;Pr.setValue($r,{value:ii});break}case"combobox":case"listbox":{const ii=zr.defaultValue||"";Pr.setValue($r,{value:ii});break}default:continue}const Gr=document.querySelector(`[data-element-id="${$r}"]`);if(Gr){if(!De.has(Gr)){(0,_e.warn)(`_bindResetFormAction - element not allowed: ${$r}`);continue}}else continue;Gr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Vr=this.linkService.eventBus)==null||Vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ir,name:"ResetForm"}})),!1}}}Ze=new WeakSet,Gs=function(){this.container.setAttribute("data-internal-link","")},We=new WeakSet,rc=function(rr,er){rr.href=this.linkService.getAnchorUrl(""),rr.onclick=()=>(this.linkService.executeSetOCGState(er),!1),oi(this,Ze,Gs).call(this)};class Ie extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr})}render(){this.container.classList.add("textAnnotation");const Qe=document.createElement("img");return Qe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Qe.alt="[{{type}} Annotation]",Qe.dataset.l10nId="text_annotation_type",Qe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Qe,this.data),this.container.append(Qe),this.container}}class Me extends xe{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Qe){const{isWin:rr,isMac:er}=_e.FeatureTest.platform;return rr&&Qe.ctrlKey||er&&Qe.metaKey}_setEventListener(Qe,rr,er,ur){rr.includes("mouse")?Qe.addEventListener(rr,Cr=>{var wr;(wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:er,value:ur(Cr),shift:Cr.shiftKey,modifier:this._getKeyModifier(Cr)}})}):Qe.addEventListener(rr,Cr=>{var wr;(wr=this.linkService.eventBus)==null||wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:er,value:ur(Cr)}})})}_setEventListeners(Qe,rr,er){var ur;for(const[Cr,wr]of rr)(wr==="Action"||((ur=this.data.actions)==null?void 0:ur[wr]))&&this._setEventListener(Qe,Cr,wr,er)}_setBackgroundColor(Qe){const rr=this.data.backgroundColor||null;Qe.style.backgroundColor=rr===null?"transparent":_e.Util.makeHexColor(rr[0],rr[1],rr[2])}_setTextStyle(Qe){const rr=["left","center","right"],{fontColor:er}=this.data.defaultAppearanceData,ur=this.data.defaultAppearanceData.fontSize||Te,Cr=Qe.style;let wr;const Or=2,kr=Pr=>Math.round(10*Pr)/10;if(this.data.multiLine){const Pr=Math.abs(this.data.rect[3]-this.data.rect[1]-Or),Ir=Math.round(Pr/(_e.LINE_FACTOR*ur))||1,Vr=Pr/Ir;wr=Math.min(ur,kr(Vr/_e.LINE_FACTOR))}else{const Pr=Math.abs(this.data.rect[3]-this.data.rect[1]-Or);wr=Math.min(ur,kr(Pr/_e.LINE_FACTOR))}Cr.fontSize=`calc(${wr}px * var(--scale-factor))`,Cr.color=_e.Util.makeHexColor(er[0],er[1],er[2]),this.data.textAlignment!==null&&(Cr.textAlign=rr[this.data.textAlignment])}_setRequired(Qe,rr){rr?Qe.setAttribute("required",!0):Qe.removeAttribute("required"),Qe.setAttribute("aria-required",rr)}}class Oe extends Me{constructor(Qe){const rr=Qe.renderForms||!Qe.data.hasAppearance&&!!Qe.data.fieldValue;super(Qe,{isRenderable:rr})}setPropertyOnSiblings(Qe,rr,er,ur){const Cr=this.annotationStorage;for(const wr of this._getElementsByName(Qe.name,Qe.id))wr.domElement&&(wr.domElement[rr]=er),Cr.setValue(wr.id,{[ur]:er})}render(){var ur;const Qe=this.annotationStorage,rr=this.data.id;this.container.classList.add("textWidgetAnnotation");let er=null;if(this.renderForms){const Cr=Qe.getValue(rr,{value:this.data.fieldValue});let wr=Cr.formattedValue||Cr.value||"";const Or=Qe.getValue(rr,{charLimit:this.data.maxLen}).charLimit;Or&&wr.length>Or&&(wr=wr.slice(0,Or));const kr={userValue:wr,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(er=document.createElement("textarea"),er.textContent=wr,this.data.doNotScroll&&(er.style.overflowY="hidden")):(er=document.createElement("input"),er.type="text",er.setAttribute("value",wr),this.data.doNotScroll&&(er.style.overflowX="hidden")),De.add(er),er.setAttribute("data-element-id",rr),er.disabled=this.data.readOnly,er.name=this.data.fieldName,er.tabIndex=Ce,this._setRequired(er,this.data.required),Or&&(er.maxLength=Or),er.addEventListener("input",Ir=>{Qe.setValue(rr,{value:Ir.target.value}),this.setPropertyOnSiblings(er,"value",Ir.target.value,"value")}),er.addEventListener("resetform",Ir=>{var zr;const Vr=(zr=this.data.defaultFieldValue)!=null?zr:"";er.value=kr.userValue=Vr,kr.formattedValue=null});let Pr=Ir=>{const{formattedValue:Vr}=kr;Vr!=null&&(Ir.target.value=Vr),Ir.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){er.addEventListener("focus",Vr=>{const{target:zr}=Vr;kr.userValue&&(zr.value=kr.userValue),kr.lastCommittedValue=zr.value,kr.commitKey=1}),er.addEventListener("updatefromsandbox",Vr=>{const zr={value($r){var Gr;kr.userValue=(Gr=$r.detail.value)!=null?Gr:"",Qe.setValue(rr,{value:kr.userValue.toString()}),$r.target.value=kr.userValue},formattedValue($r){const{formattedValue:Gr}=$r.detail;kr.formattedValue=Gr,Gr!=null&&$r.target!==document.activeElement&&($r.target.value=Gr),Qe.setValue(rr,{formattedValue:Gr})},selRange($r){$r.target.setSelectionRange(...$r.detail.selRange)},charLimit:$r=>{var di;const{charLimit:Gr}=$r.detail,{target:ii}=$r;if(Gr===0){ii.removeAttribute("maxLength");return}ii.setAttribute("maxLength",Gr);let Qr=kr.userValue;!Qr||Qr.length<=Gr||(Qr=Qr.slice(0,Gr),ii.value=kr.userValue=Qr,Qe.setValue(rr,{value:Qr}),(di=this.linkService.eventBus)==null||di.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rr,name:"Keystroke",value:Qr,willCommit:!0,commitKey:1,selStart:ii.selectionStart,selEnd:ii.selectionEnd}}))}};this._dispatchEventFromSandbox(zr,Vr)}),er.addEventListener("keydown",Vr=>{var Gr;kr.commitKey=1;let zr=-1;if(Vr.key==="Escape"?zr=0:Vr.key==="Enter"&&!this.data.multiLine?zr=2:Vr.key==="Tab"&&(kr.commitKey=3),zr===-1)return;const{value:$r}=Vr.target;kr.lastCommittedValue!==$r&&(kr.lastCommittedValue=$r,kr.userValue=$r,(Gr=this.linkService.eventBus)==null||Gr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rr,name:"Keystroke",value:$r,willCommit:!0,commitKey:zr,selStart:Vr.target.selectionStart,selEnd:Vr.target.selectionEnd}}))});const Ir=Pr;Pr=null,er.addEventListener("blur",Vr=>{var $r;if(!Vr.relatedTarget)return;const{value:zr}=Vr.target;kr.userValue=zr,kr.lastCommittedValue!==zr&&(($r=this.linkService.eventBus)==null||$r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rr,name:"Keystroke",value:zr,willCommit:!0,commitKey:kr.commitKey,selStart:Vr.target.selectionStart,selEnd:Vr.target.selectionEnd}})),Ir(Vr)}),(ur=this.data.actions)!=null&&ur.Keystroke&&er.addEventListener("beforeinput",Vr=>{var Hr;kr.lastCommittedValue=null;const{data:zr,target:$r}=Vr,{value:Gr,selectionStart:ii,selectionEnd:Qr}=$r;let di=ii,Lr=Qr;switch(Vr.inputType){case"deleteWordBackward":{const jr=Gr.substring(0,ii).match(/\w*[^\w]*$/);jr&&(di-=jr[0].length);break}case"deleteWordForward":{const jr=Gr.substring(ii).match(/^[^\w]*\w*/);jr&&(Lr+=jr[0].length);break}case"deleteContentBackward":ii===Qr&&(di-=1);break;case"deleteContentForward":ii===Qr&&(Lr+=1);break}Vr.preventDefault(),(Hr=this.linkService.eventBus)==null||Hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rr,name:"Keystroke",value:Gr,change:zr||"",willCommit:!1,selStart:di,selEnd:Lr}})}),this._setEventListeners(er,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Vr=>Vr.target.value)}if(Pr&&er.addEventListener("blur",Pr),this.data.comb){const Vr=(this.data.rect[2]-this.data.rect[0])/Or;er.classList.add("comb"),er.style.letterSpacing=`calc(${Vr}px * var(--scale-factor) - 1ch)`}}else er=document.createElement("div"),er.textContent=this.data.fieldValue,er.style.verticalAlign="middle",er.style.display="table-cell";return this._setTextStyle(er),this._setBackgroundColor(er),this._setDefaultPropertiesFromJS(er),this.container.append(er),this.container}}class Be extends Me{constructor(Qe){super(Qe,{isRenderable:Qe.renderForms})}render(){const Qe=this.annotationStorage,rr=this.data,er=rr.id;let ur=Qe.getValue(er,{value:rr.exportValue===rr.fieldValue}).value;typeof ur=="string"&&(ur=ur!=="Off",Qe.setValue(er,{value:ur})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Cr=document.createElement("input");return De.add(Cr),Cr.setAttribute("data-element-id",er),Cr.disabled=rr.readOnly,this._setRequired(Cr,this.data.required),Cr.type="checkbox",Cr.name=rr.fieldName,ur&&Cr.setAttribute("checked",!0),Cr.setAttribute("exportValue",rr.exportValue),Cr.tabIndex=Ce,Cr.addEventListener("change",wr=>{const{name:Or,checked:kr}=wr.target;for(const Pr of this._getElementsByName(Or,er)){const Ir=kr&&Pr.exportValue===rr.exportValue;Pr.domElement&&(Pr.domElement.checked=Ir),Qe.setValue(Pr.id,{value:Ir})}Qe.setValue(er,{value:kr})}),Cr.addEventListener("resetform",wr=>{const Or=rr.defaultFieldValue||"Off";wr.target.checked=Or===rr.exportValue}),this.enableScripting&&this.hasJSActions&&(Cr.addEventListener("updatefromsandbox",wr=>{const Or={value(kr){kr.target.checked=kr.detail.value!=="Off",Qe.setValue(er,{value:kr.target.checked})}};this._dispatchEventFromSandbox(Or,wr)}),this._setEventListeners(Cr,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wr=>wr.target.checked)),this._setBackgroundColor(Cr),this._setDefaultPropertiesFromJS(Cr),this.container.append(Cr),this.container}}class je extends Me{constructor(Qe){super(Qe,{isRenderable:Qe.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Qe=this.annotationStorage,rr=this.data,er=rr.id;let ur=Qe.getValue(er,{value:rr.fieldValue===rr.buttonValue}).value;typeof ur=="string"&&(ur=ur!==rr.buttonValue,Qe.setValue(er,{value:ur}));const Cr=document.createElement("input");if(De.add(Cr),Cr.setAttribute("data-element-id",er),Cr.disabled=rr.readOnly,this._setRequired(Cr,this.data.required),Cr.type="radio",Cr.name=rr.fieldName,ur&&Cr.setAttribute("checked",!0),Cr.tabIndex=Ce,Cr.addEventListener("change",wr=>{const{name:Or,checked:kr}=wr.target;for(const Pr of this._getElementsByName(Or,er))Qe.setValue(Pr.id,{value:!1});Qe.setValue(er,{value:kr})}),Cr.addEventListener("resetform",wr=>{const Or=rr.defaultFieldValue;wr.target.checked=Or!=null&&Or===rr.buttonValue}),this.enableScripting&&this.hasJSActions){const wr=rr.buttonValue;Cr.addEventListener("updatefromsandbox",Or=>{const kr={value:Pr=>{const Ir=wr===Pr.detail.value;for(const Vr of this._getElementsByName(Pr.target.name)){const zr=Ir&&Vr.id===er;Vr.domElement&&(Vr.domElement.checked=zr),Qe.setValue(Vr.id,{value:zr})}}};this._dispatchEventFromSandbox(kr,Or)}),this._setEventListeners(Cr,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Or=>Or.target.checked)}return this._setBackgroundColor(Cr),this._setDefaultPropertiesFromJS(Cr),this.container.append(Cr),this.container}}class Ve extends Fe{constructor(Qe){super(Qe,{ignoreBorder:Qe.data.hasAppearance})}render(){const Qe=super.render();Qe.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Qe.title=this.data.alternativeText);const rr=Qe.lastChild;return this.enableScripting&&this.hasJSActions&&rr&&(this._setDefaultPropertiesFromJS(rr),rr.addEventListener("updatefromsandbox",er=>{this._dispatchEventFromSandbox({},er)})),Qe}}class ze extends Me{constructor(Qe){super(Qe,{isRenderable:Qe.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Qe=this.annotationStorage,rr=this.data.id,er=Qe.getValue(rr,{value:this.data.fieldValue}),ur=document.createElement("select");De.add(ur),ur.setAttribute("data-element-id",rr),ur.disabled=this.data.readOnly,this._setRequired(ur,this.data.required),ur.name=this.data.fieldName,ur.tabIndex=Ce;let Cr=this.data.combo&&this.data.options.length>0;this.data.combo||(ur.size=this.data.options.length,this.data.multiSelect&&(ur.multiple=!0)),ur.addEventListener("resetform",Ir=>{const Vr=this.data.defaultFieldValue;for(const zr of ur.options)zr.selected=zr.value===Vr});for(const Ir of this.data.options){const Vr=document.createElement("option");Vr.textContent=Ir.displayValue,Vr.value=Ir.exportValue,er.value.includes(Ir.exportValue)&&(Vr.setAttribute("selected",!0),Cr=!1),ur.append(Vr)}let wr=null;if(Cr){const Ir=document.createElement("option");Ir.value=" ",Ir.setAttribute("hidden",!0),Ir.setAttribute("selected",!0),ur.prepend(Ir),wr=()=>{Ir.remove(),ur.removeEventListener("input",wr),wr=null},ur.addEventListener("input",wr)}const Or=Ir=>{const Vr=Ir?"value":"textContent",{options:zr,multiple:$r}=ur;return $r?Array.prototype.filter.call(zr,Gr=>Gr.selected).map(Gr=>Gr[Vr]):zr.selectedIndex===-1?null:zr[zr.selectedIndex][Vr]};let kr=Or(!1);const Pr=Ir=>{const Vr=Ir.target.options;return Array.prototype.map.call(Vr,zr=>({displayValue:zr.textContent,exportValue:zr.value}))};return this.enableScripting&&this.hasJSActions?(ur.addEventListener("updatefromsandbox",Ir=>{const Vr={value(zr){wr==null||wr();const $r=zr.detail.value,Gr=new Set(Array.isArray($r)?$r:[$r]);for(const ii of ur.options)ii.selected=Gr.has(ii.value);Qe.setValue(rr,{value:Or(!0)}),kr=Or(!1)},multipleSelection(zr){ur.multiple=!0},remove(zr){const $r=ur.options,Gr=zr.detail.remove;$r[Gr].selected=!1,ur.remove(Gr),$r.length>0&&Array.prototype.findIndex.call($r,Qr=>Qr.selected)===-1&&($r[0].selected=!0),Qe.setValue(rr,{value:Or(!0),items:Pr(zr)}),kr=Or(!1)},clear(zr){for(;ur.length!==0;)ur.remove(0);Qe.setValue(rr,{value:null,items:[]}),kr=Or(!1)},insert(zr){const{index:$r,displayValue:Gr,exportValue:ii}=zr.detail.insert,Qr=ur.children[$r],di=document.createElement("option");di.textContent=Gr,di.value=ii,Qr?Qr.before(di):ur.append(di),Qe.setValue(rr,{value:Or(!0),items:Pr(zr)}),kr=Or(!1)},items(zr){const{items:$r}=zr.detail;for(;ur.length!==0;)ur.remove(0);for(const Gr of $r){const{displayValue:ii,exportValue:Qr}=Gr,di=document.createElement("option");di.textContent=ii,di.value=Qr,ur.append(di)}ur.options.length>0&&(ur.options[0].selected=!0),Qe.setValue(rr,{value:Or(!0),items:Pr(zr)}),kr=Or(!1)},indices(zr){const $r=new Set(zr.detail.indices);for(const Gr of zr.target.options)Gr.selected=$r.has(Gr.index);Qe.setValue(rr,{value:Or(!0)}),kr=Or(!1)},editable(zr){zr.target.disabled=!zr.detail.editable}};this._dispatchEventFromSandbox(Vr,Ir)}),ur.addEventListener("input",Ir=>{var zr;const Vr=Or(!0);Qe.setValue(rr,{value:Vr}),Ir.preventDefault(),(zr=this.linkService.eventBus)==null||zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rr,name:"Keystroke",value:kr,changeEx:Vr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ur,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ir=>Ir.target.value)):ur.addEventListener("input",function(Ir){Qe.setValue(rr,{value:Or(!0)})}),this.data.combo&&this._setTextStyle(ur),this._setBackgroundColor(ur),this._setDefaultPropertiesFromJS(ur),this.container.append(ur),this.container}}const fr=class extends xe{constructor(Qe){var ur,Cr,wr;const{data:rr}=Qe,er=!fr.IGNORE_TYPES.has(rr.parentType)&&!!(((ur=rr.titleObj)==null?void 0:ur.str)||((Cr=rr.contentsObj)==null?void 0:Cr.str)||((wr=rr.richText)==null?void 0:wr.str));super(Qe,{isRenderable:er})}render(){this.container.classList.add("popupAnnotation");const Qe=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(Qe.length===0)return this.container;const rr=new $e({container:this.container,trigger:Array.from(Qe),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),er=this.page,ur=_e.Util.normalizeRect([this.data.parentRect[0],er.view[3]-this.data.parentRect[1]+er.view[1],this.data.parentRect[2],er.view[3]-this.data.parentRect[3]+er.view[1]]),Cr=ur[0]+this.data.parentRect[2]-this.data.parentRect[0],wr=ur[1],{pageWidth:Or,pageHeight:kr,pageX:Pr,pageY:Ir}=this.viewport.rawDims;return this.container.style.left=`${100*(Cr-Pr)/Or}%`,this.container.style.top=`${100*(wr-Ir)/kr}%`,this.container.append(rr.render()),this.container}};let He=fr;dn(He,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class $e{constructor(Qe){this.container=Qe.container,this.trigger=Qe.trigger,this.color=Qe.color,this.titleObj=Qe.titleObj,this.modificationDate=Qe.modificationDate,this.contentsObj=Qe.contentsObj,this.richText=Qe.richText,this.hideWrapper=Qe.hideWrapper||!1,this.pinned=!1}render(){var Or,kr;const rr=document.createElement("div");rr.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?rr:this.container,this.hideElement.hidden=!0;const er=document.createElement("div");er.classList.add("popup");const ur=this.color;if(ur){const Pr=.7*(255-ur[0])+ur[0],Ir=.7*(255-ur[1])+ur[1],Vr=.7*(255-ur[2])+ur[2];er.style.backgroundColor=_e.Util.makeHexColor(Pr|0,Ir|0,Vr|0)}const Cr=document.createElement("h1");Cr.dir=this.titleObj.dir,Cr.textContent=this.titleObj.str,er.append(Cr);const wr=Se.PDFDateString.toDateObject(this.modificationDate);if(wr){const Pr=document.createElement("span");Pr.classList.add("popupDate"),Pr.textContent="{{date}}, {{time}}",Pr.dataset.l10nId="annotation_date_string",Pr.dataset.l10nArgs=JSON.stringify({date:wr.toLocaleDateString(),time:wr.toLocaleTimeString()}),er.append(Pr)}if(((Or=this.richText)==null?void 0:Or.str)&&(!((kr=this.contentsObj)!=null&&kr.str)||this.contentsObj.str===this.richText.str))Ee.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:er}),er.lastChild.classList.add("richText","popupContent");else{const Pr=this._formatContents(this.contentsObj);er.append(Pr)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Pr of this.trigger)Pr.addEventListener("click",this._toggle.bind(this)),Pr.addEventListener("mouseover",this._show.bind(this,!1)),Pr.addEventListener("mouseout",this._hide.bind(this,!1));return er.addEventListener("click",this._hide.bind(this,!0)),rr.append(er),rr}_formatContents({str:Qe,dir:rr}){const er=document.createElement("p");er.classList.add("popupContent"),er.dir=rr;const ur=Qe.split(/(?:\r\n?|\n)/);for(let Cr=0,wr=ur.length;Cr<wr;++Cr){const Or=ur[Cr];er.append(document.createTextNode(Or)),Cr<wr-1&&er.append(document.createElement("br"))}return er}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Qe=!1){Qe&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Qe=!0){Qe&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Ue extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0}),this.textContent=Qe.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Qe=document.createElement("div");Qe.classList.add("annotationTextContent"),Qe.setAttribute("role","comment");for(const rr of this.textContent){const er=document.createElement("span");er.textContent=rr,Qe.append(er)}this.container.append(Qe)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Xe extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const Qe=this.data,{width:rr,height:er}=ke(Qe.rect),ur=this.svgFactory.create(rr,er,!0),Cr=this.svgFactory.createElement("svg:line");return Cr.setAttribute("x1",Qe.rect[2]-Qe.lineCoordinates[0]),Cr.setAttribute("y1",Qe.rect[3]-Qe.lineCoordinates[1]),Cr.setAttribute("x2",Qe.rect[2]-Qe.lineCoordinates[2]),Cr.setAttribute("y2",Qe.rect[3]-Qe.lineCoordinates[3]),Cr.setAttribute("stroke-width",Qe.borderStyle.width||1),Cr.setAttribute("stroke","transparent"),Cr.setAttribute("fill","transparent"),ur.append(Cr),this.container.append(ur),this._createPopup(Cr,Qe),this.container}}class nr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const Qe=this.data,{width:rr,height:er}=ke(Qe.rect),ur=this.svgFactory.create(rr,er,!0),Cr=Qe.borderStyle.width,wr=this.svgFactory.createElement("svg:rect");return wr.setAttribute("x",Cr/2),wr.setAttribute("y",Cr/2),wr.setAttribute("width",rr-Cr),wr.setAttribute("height",er-Cr),wr.setAttribute("stroke-width",Cr||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),ur.append(wr),this.container.append(ur),this._createPopup(wr,Qe),this.container}}class Ge extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const Qe=this.data,{width:rr,height:er}=ke(Qe.rect),ur=this.svgFactory.create(rr,er,!0),Cr=Qe.borderStyle.width,wr=this.svgFactory.createElement("svg:ellipse");return wr.setAttribute("cx",rr/2),wr.setAttribute("cy",er/2),wr.setAttribute("rx",rr/2-Cr/2),wr.setAttribute("ry",er/2-Cr/2),wr.setAttribute("stroke-width",Cr||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),ur.append(wr),this.container.append(ur),this._createPopup(wr,Qe),this.container}}class St extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Qe=this.data,{width:rr,height:er}=ke(Qe.rect),ur=this.svgFactory.create(rr,er,!0);let Cr=[];for(const Or of Qe.vertices){const kr=Or.x-Qe.rect[0],Pr=Qe.rect[3]-Or.y;Cr.push(kr+","+Pr)}Cr=Cr.join(" ");const wr=this.svgFactory.createElement(this.svgElementName);return wr.setAttribute("points",Cr),wr.setAttribute("stroke-width",Qe.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),ur.append(wr),this.container.append(ur),this._createPopup(wr,Qe),this.container}}class mr extends St{constructor(Qe){super(Qe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class vr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Qe=this.data,{width:rr,height:er}=ke(Qe.rect),ur=this.svgFactory.create(rr,er,!0);for(const Cr of Qe.inkLists){let wr=[];for(const kr of Cr){const Pr=kr.x-Qe.rect[0],Ir=Qe.rect[3]-kr.y;wr.push(`${Pr},${Ir}`)}wr=wr.join(" ");const Or=this.svgFactory.createElement(this.svgElementName);Or.setAttribute("points",wr),Or.setAttribute("stroke-width",Qe.borderStyle.width||1),Or.setAttribute("stroke","transparent"),Or.setAttribute("fill","transparent"),this._createPopup(Or,Qe),ur.append(Or)}return this.container.append(ur),this.container}}class dr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class gr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class sr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class tr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class hr extends xe{constructor(Qe){var er,ur,Cr;const rr=!!(Qe.data.hasPopup||((er=Qe.data.titleObj)==null?void 0:er.str)||((ur=Qe.data.contentsObj)==null?void 0:ur.str)||((Cr=Qe.data.richText)==null?void 0:Cr.str));super(Qe,{isRenderable:rr,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Sr extends xe{constructor(Qe){var ur;super(Qe,{isRenderable:!0});const{filename:rr,content:er}=this.data.file;this.filename=(0,Se.getFilenameFromUrl)(rr,!0),this.content=er,(ur=this.linkService.eventBus)==null||ur.dispatch("fileattachmentannotation",{source:this,filename:rr,content:er})}render(){var rr,er;this.container.classList.add("fileAttachmentAnnotation");let Qe;return this.data.hasAppearance?Qe=document.createElement("div"):(Qe=document.createElement("img"),Qe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),Qe.classList.add("popupTriggerArea"),Qe.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((rr=this.data.titleObj)==null?void 0:rr.str)||((er=this.data.contentsObj)==null?void 0:er.str)||this.data.richText)&&this._createPopup(Qe,this.data),this.container.append(Qe),this.container}_download(){var Qe;(Qe=this.downloadManager)==null||Qe.openOrDownloadData(this.container,this.content,this.filename)}}const cr=class{static render(Qe){var kr,Pr;const{annotations:rr,div:er,viewport:ur,accessibilityManager:Cr}=Qe;(0,Se.setLayerDimensions)(er,ur);const wr={data:null,layer:er,page:Qe.page,viewport:ur,linkService:Qe.linkService,downloadManager:Qe.downloadManager,imageResourcesPath:Qe.imageResourcesPath||"",renderForms:Qe.renderForms!==!1,svgFactory:new Se.DOMSVGFactory,annotationStorage:Qe.annotationStorage||new Ae.AnnotationStorage,enableScripting:Qe.enableScripting===!0,hasJSActions:Qe.hasJSActions,fieldObjects:Qe.fieldObjects};let Or=0;for(const Ir of rr){if(Ir.noHTML)continue;if(Ir.annotationType!==_e.AnnotationType.POPUP){const{width:$r,height:Gr}=ke(Ir.rect);if($r<=0||Gr<=0)continue}wr.data=Ir;const Vr=Pe.create(wr);if(!Vr.isRenderable)continue;const zr=Vr.render();if(Ir.hidden&&(zr.style.visibility="hidden"),Array.isArray(zr))for(const $r of zr)$r.style.zIndex=Or++,oi(kr=cr,_r,Zl).call(kr,$r,Ir.id,er,Cr);else zr.style.zIndex=Or++,Vr instanceof He?er.prepend(zr):oi(Pr=cr,_r,Zl).call(Pr,zr,Ir.id,er,Cr)}oi(this,xr,eh).call(this,er,Qe.annotationCanvasMap)}static update(Qe){const{annotationCanvasMap:rr,div:er,viewport:ur}=Qe;(0,Se.setLayerDimensions)(er,{rotation:ur.rotation}),oi(this,xr,eh).call(this,er,rr),er.hidden=!1}};let Je=cr;_r=new WeakSet,Zl=function(Qe,rr,er,ur){const Cr=Qe.firstChild||Qe;Cr.id=`${Se.AnnotationPrefix}${rr}`,er.append(Qe),ur==null||ur.moveElementInDOM(er,Qe,Cr,!1)},xr=new WeakSet,eh=function(Qe,rr){if(!!rr){for(const[er,ur]of rr){const Cr=Qe.querySelector(`[data-annotation-id="${er}"]`);if(!Cr)continue;const{firstChild:wr}=Cr;wr?wr.nodeName==="CANVAS"?wr.replaceWith(ur):wr.before(ur):Cr.append(ur)}rr.clear()}},ri(Je,_r),ri(Je,xr),e.AnnotationLayer=Je},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(Se){return Math.floor(Math.max(0,Math.min(1,Se))*255).toString(16).padStart(2,"0")}class _e{static CMYK_G([Ae,Re,Ee,Ce]){return["G",1-Math.min(1,.3*Ae+.59*Ee+.11*Re+Ce)]}static G_CMYK([Ae]){return["CMYK",0,0,0,1-Ae]}static G_RGB([Ae]){return["RGB",Ae,Ae,Ae]}static G_HTML([Ae]){const Re=r(Ae);return`#${Re}${Re}${Re}`}static RGB_G([Ae,Re,Ee]){return["G",.3*Ae+.59*Re+.11*Ee]}static RGB_HTML([Ae,Re,Ee]){const Ce=r(Ae),Te=r(Re),De=r(Ee);return`#${Ce}${Te}${De}`}static T_HTML(){return"#00000000"}static CMYK_RGB([Ae,Re,Ee,Ce]){return["RGB",1-Math.min(1,Ae+Ce),1-Math.min(1,Ee+Ce),1-Math.min(1,Re+Ce)]}static CMYK_HTML(Ae){const Re=this.CMYK_RGB(Ae).slice(1);return this.RGB_HTML(Re)}static RGB_CMYK([Ae,Re,Ee]){const Ce=1-Ae,Te=1-Re,De=1-Ee,ke=Math.min(Ce,Te,De);return["CMYK",Ce,Te,De,ke]}}e.ColorConverters=_e},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var _e=r(19);class Se{static setupStorage(Re,Ee,Ce,Te,De){const ke=Te.getValue(Ee,{value:null});switch(Ce.name){case"textarea":if(ke.value!==null&&(Re.textContent=ke.value),De==="print")break;Re.addEventListener("input",Pe=>{Te.setValue(Ee,{value:Pe.target.value})});break;case"input":if(Ce.attributes.type==="radio"||Ce.attributes.type==="checkbox"){if(ke.value===Ce.attributes.xfaOn?Re.setAttribute("checked",!0):ke.value===Ce.attributes.xfaOff&&Re.removeAttribute("checked"),De==="print")break;Re.addEventListener("change",Pe=>{Te.setValue(Ee,{value:Pe.target.checked?Pe.target.getAttribute("xfaOn"):Pe.target.getAttribute("xfaOff")})})}else{if(ke.value!==null&&Re.setAttribute("value",ke.value),De==="print")break;Re.addEventListener("input",Pe=>{Te.setValue(Ee,{value:Pe.target.value})})}break;case"select":if(ke.value!==null)for(const Pe of Ce.children)Pe.attributes.value===ke.value&&(Pe.attributes.selected=!0);Re.addEventListener("input",Pe=>{const xe=Pe.target.options,Fe=xe.selectedIndex===-1?"":xe[xe.selectedIndex].value;Te.setValue(Ee,{value:Fe})});break}}static setAttributes({html:Re,element:Ee,storage:Ce=null,intent:Te,linkService:De}){const{attributes:ke}=Ee,Pe=Re instanceof HTMLAnchorElement;ke.type==="radio"&&(ke.name=`${ke.name}-${Te}`);for(const[xe,Fe]of Object.entries(ke))if(Fe!=null)switch(xe){case"class":Fe.length&&Re.setAttribute(xe,Fe.join(" "));break;case"dataId":break;case"id":Re.setAttribute("data-element-id",Fe);break;case"style":Object.assign(Re.style,Fe);break;case"textContent":Re.textContent=Fe;break;default:(!Pe||xe!=="href"&&xe!=="newWindow")&&Re.setAttribute(xe,Fe)}Pe&&De.addLinkAttributes(Re,ke.href,ke.newWindow),Ce&&ke.dataId&&this.setupStorage(Re,ke.dataId,Ee,Ce)}static render(Re){var Ie;const Ee=Re.annotationStorage,Ce=Re.linkService,Te=Re.xfaHtml,De=Re.intent||"display",ke=document.createElement(Te.name);Te.attributes&&this.setAttributes({html:ke,element:Te,intent:De,linkService:Ce});const Pe=[[Te,-1,ke]],xe=Re.div;if(xe.append(ke),Re.viewport){const Me=`matrix(${Re.viewport.transform.join(",")})`;xe.style.transform=Me}De!=="richText"&&xe.setAttribute("class","xfaLayer xfaFont");const Fe=[];for(;Pe.length>0;){const[Me,Oe,Be]=Pe.at(-1);if(Oe+1===Me.children.length){Pe.pop();continue}const je=Me.children[++Pe.at(-1)[1]];if(je===null)continue;const{name:Ve}=je;if(Ve==="#text"){const He=document.createTextNode(je.value);Fe.push(He),Be.append(He);continue}let ze;if((Ie=je==null?void 0:je.attributes)!=null&&Ie.xmlns?ze=document.createElementNS(je.attributes.xmlns,Ve):ze=document.createElement(Ve),Be.append(ze),je.attributes&&this.setAttributes({html:ze,element:je,storage:Ee,intent:De,linkService:Ce}),je.children&&je.children.length>0)Pe.push([je,-1,ze]);else if(je.value){const He=document.createTextNode(je.value);_e.XfaText.shouldBuildText(Ve)&&Fe.push(He),ze.append(He)}}for(const Me of xe.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Me.setAttribute("readOnly",!0);return{textDivs:Fe}}static update(Re){const Ee=`matrix(${Re.viewport.transform.join(",")})`;Re.div.style.transform=Ee,Re.div.hidden=!1}}e.XfaLayer=Se},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var _e=r(6),Se=r(1),Ae=r(10);let Re=class{constructor(){(0,Se.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=Re;{let Ie=function(ze){let He=[];const $e=[];for(const Ue of ze){if(Ue.fn==="save"){He.push({fnId:92,fn:"group",items:[]}),$e.push(He),He=He.at(-1).items;continue}Ue.fn==="restore"?He=$e.pop():He.push(Ue)}return He},Me=function(ze){if(Number.isInteger(ze))return ze.toString();const He=ze.toFixed(10);let $e=He.length-1;if(He[$e]!=="0")return He;do $e--;while(He[$e]==="0");return He.substring(0,He[$e]==="."?$e:$e+1)},Oe=function(ze){if(ze[4]===0&&ze[5]===0){if(ze[1]===0&&ze[2]===0)return ze[0]===1&&ze[3]===1?"":`scale(${Me(ze[0])} ${Me(ze[3])})`;if(ze[0]===ze[3]&&ze[1]===-ze[2]){const He=Math.acos(ze[0])*180/Math.PI;return`rotate(${Me(He)})`}}else if(ze[0]===1&&ze[1]===0&&ze[2]===0&&ze[3]===1)return`translate(${Me(ze[4])} ${Me(ze[5])})`;return`matrix(${Me(ze[0])} ${Me(ze[1])} ${Me(ze[2])} ${Me(ze[3])} ${Me(ze[4])} ${Me(ze[5])})`};const Ee={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ce="http://www.w3.org/XML/1998/namespace",Te="http://www.w3.org/1999/xlink",De=["butt","round","square"],ke=["miter","round","bevel"],Pe=function(ze,He="",$e=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!$e)return URL.createObjectURL(new Blob([ze],{type:He}));const Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Xe=`data:${He};base64,`;for(let nr=0,Ge=ze.length;nr<Ge;nr+=3){const St=ze[nr]&255,mr=ze[nr+1]&255,pr=ze[nr+2]&255,vr=St>>2,dr=(St&3)<<4|mr>>4,gr=nr+1<Ge?(mr&15)<<2|pr>>6:64,sr=nr+2<Ge?pr&63:64;Xe+=Ue[vr]+Ue[dr]+Ue[gr]+Ue[sr]}return Xe},xe=function(){const ze=new Uint8Array([137,80,78,71,13,10,26,10]),He=12,$e=new Int32Array(256);for(let pr=0;pr<256;pr++){let vr=pr;for(let dr=0;dr<8;dr++)vr&1?vr=3988292384^vr>>1&2147483647:vr=vr>>1&2147483647;$e[pr]=vr}function Ue(pr,vr,dr){let gr=-1;for(let sr=vr;sr<dr;sr++){const tr=(gr^pr[sr])&255,hr=$e[tr];gr=gr>>>8^hr}return gr^-1}function Xe(pr,vr,dr,gr){let sr=gr;const tr=vr.length;dr[sr]=tr>>24&255,dr[sr+1]=tr>>16&255,dr[sr+2]=tr>>8&255,dr[sr+3]=tr&255,sr+=4,dr[sr]=pr.charCodeAt(0)&255,dr[sr+1]=pr.charCodeAt(1)&255,dr[sr+2]=pr.charCodeAt(2)&255,dr[sr+3]=pr.charCodeAt(3)&255,sr+=4,dr.set(vr,sr),sr+=vr.length;const hr=Ue(dr,gr+4,sr);dr[sr]=hr>>24&255,dr[sr+1]=hr>>16&255,dr[sr+2]=hr>>8&255,dr[sr+3]=hr&255}function nr(pr,vr,dr){let gr=1,sr=0;for(let tr=vr;tr<dr;++tr)gr=(gr+(pr[tr]&255))%65521,sr=(sr+gr)%65521;return sr<<16|gr}function Ge(pr){if(!Ae.isNodeJS)return St(pr);try{let vr;parseInt(process.versions.node)>=8?vr=pr:vr=Buffer.from(pr);const dr=require$$5.deflateSync(vr,{level:9});return dr instanceof Uint8Array?dr:new Uint8Array(dr)}catch(vr){(0,Se.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+vr)}return St(pr)}function St(pr){let vr=pr.length;const dr=65535,gr=Math.ceil(vr/dr),sr=new Uint8Array(2+vr+gr*5+4);let tr=0;sr[tr++]=120,sr[tr++]=156;let hr=0;for(;vr>dr;)sr[tr++]=0,sr[tr++]=255,sr[tr++]=255,sr[tr++]=0,sr[tr++]=0,sr.set(pr.subarray(hr,hr+dr),tr),tr+=dr,hr+=dr,vr-=dr;sr[tr++]=1,sr[tr++]=vr&255,sr[tr++]=vr>>8&255,sr[tr++]=~vr&65535&255,sr[tr++]=(~vr&65535)>>8&255,sr.set(pr.subarray(hr),tr),tr+=pr.length-hr;const Sr=nr(pr,0,pr.length);return sr[tr++]=Sr>>24&255,sr[tr++]=Sr>>16&255,sr[tr++]=Sr>>8&255,sr[tr++]=Sr&255,sr}function mr(pr,vr,dr,gr){const sr=pr.width,tr=pr.height;let hr,Sr,Je;const Ze=pr.data;switch(vr){case Se.ImageKind.GRAYSCALE_1BPP:Sr=0,hr=1,Je=sr+7>>3;break;case Se.ImageKind.RGB_24BPP:Sr=2,hr=8,Je=sr*3;break;case Se.ImageKind.RGBA_32BPP:Sr=6,hr=8,Je=sr*4;break;default:throw new Error("invalid format")}const Ye=new Uint8Array((1+Je)*tr);let We=0,or=0;for(let cr=0;cr<tr;++cr)Ye[We++]=0,Ye.set(Ze.subarray(or,or+Je),We),or+=Je,We+=Je;if(vr===Se.ImageKind.GRAYSCALE_1BPP&&gr){We=0;for(let cr=0;cr<tr;cr++){We++;for(let ar=0;ar<Je;ar++)Ye[We++]^=255}}const fr=new Uint8Array([sr>>24&255,sr>>16&255,sr>>8&255,sr&255,tr>>24&255,tr>>16&255,tr>>8&255,tr&255,hr,Sr,0,0,0]),_r=Ge(Ye),yr=ze.length+He*3+fr.length+_r.length,xr=new Uint8Array(yr);let Ar=0;return xr.set(ze,Ar),Ar+=ze.length,Xe("IHDR",fr,xr,Ar),Ar+=He+fr.length,Xe("IDATA",_r,xr,Ar),Ar+=He+_r.length,Xe("IEND",new Uint8Array(0),xr,Ar),Pe(xr,"image/png",dr)}return function(vr,dr,gr){const sr=vr.kind===void 0?Se.ImageKind.GRAYSCALE_1BPP:vr.kind;return mr(vr,sr,dr,gr)}}();class Fe{constructor(){this.fontSizeScale=1,this.fontWeight=Ee.fontWeight,this.fontSize=0,this.textMatrix=Se.IDENTITY_MATRIX,this.fontMatrix=Se.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Se.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Ee.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(He,$e){this.x=He,this.y=$e}}let Be=0,je=0,Ve=0;e.SVGGraphics=Re=class{constructor(ze,He,$e=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new Fe,this.transformMatrix=Se.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ze,this.objs=He,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!$e,this._operatorIdMapping=[];for(const Ue in Se.OPS)this._operatorIdMapping[Se.OPS[Ue]]=Ue}getObject(ze,He=null){return typeof ze=="string"?ze.startsWith("g_")?this.commonObjs.get(ze):this.objs.get(ze):He}save(){this.transformStack.push(this.transformMatrix);const ze=this.current;this.extraStack.push(ze),this.current=ze.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ze){this.save(),this.executeOpTree(ze),this.restore()}loadDependencies(ze){const He=ze.fnArray,$e=ze.argsArray;for(let Ue=0,Xe=He.length;Ue<Xe;Ue++)if(He[Ue]===Se.OPS.dependency)for(const nr of $e[Ue]){const Ge=nr.startsWith("g_")?this.commonObjs:this.objs,St=new Promise(mr=>{Ge.get(nr,mr)});this.current.dependencies.push(St)}return Promise.all(this.current.dependencies)}transform(ze,He,$e,Ue,Xe,nr){const Ge=[ze,He,$e,Ue,Xe,nr];this.transformMatrix=Se.Util.transform(this.transformMatrix,Ge),this.tgrp=null}getSVG(ze,He){this.viewport=He;const $e=this._initialize(He);return this.loadDependencies(ze).then(()=>(this.transformMatrix=Se.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ze)),$e))}convertOpList(ze){const He=this._operatorIdMapping,$e=ze.argsArray,Ue=ze.fnArray,Xe=[];for(let nr=0,Ge=Ue.length;nr<Ge;nr++){const St=Ue[nr];Xe.push({fnId:St,fn:He[St],args:$e[nr]})}return Ie(Xe)}executeOpTree(ze){for(const He of ze){const $e=He.fn,Ue=He.fnId,Xe=He.args;switch(Ue|0){case Se.OPS.beginText:this.beginText();break;case Se.OPS.dependency:break;case Se.OPS.setLeading:this.setLeading(Xe);break;case Se.OPS.setLeadingMoveText:this.setLeadingMoveText(Xe[0],Xe[1]);break;case Se.OPS.setFont:this.setFont(Xe);break;case Se.OPS.showText:this.showText(Xe[0]);break;case Se.OPS.showSpacedText:this.showText(Xe[0]);break;case Se.OPS.endText:this.endText();break;case Se.OPS.moveText:this.moveText(Xe[0],Xe[1]);break;case Se.OPS.setCharSpacing:this.setCharSpacing(Xe[0]);break;case Se.OPS.setWordSpacing:this.setWordSpacing(Xe[0]);break;case Se.OPS.setHScale:this.setHScale(Xe[0]);break;case Se.OPS.setTextMatrix:this.setTextMatrix(Xe[0],Xe[1],Xe[2],Xe[3],Xe[4],Xe[5]);break;case Se.OPS.setTextRise:this.setTextRise(Xe[0]);break;case Se.OPS.setTextRenderingMode:this.setTextRenderingMode(Xe[0]);break;case Se.OPS.setLineWidth:this.setLineWidth(Xe[0]);break;case Se.OPS.setLineJoin:this.setLineJoin(Xe[0]);break;case Se.OPS.setLineCap:this.setLineCap(Xe[0]);break;case Se.OPS.setMiterLimit:this.setMiterLimit(Xe[0]);break;case Se.OPS.setFillRGBColor:this.setFillRGBColor(Xe[0],Xe[1],Xe[2]);break;case Se.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Xe[0],Xe[1],Xe[2]);break;case Se.OPS.setStrokeColorN:this.setStrokeColorN(Xe);break;case Se.OPS.setFillColorN:this.setFillColorN(Xe);break;case Se.OPS.shadingFill:this.shadingFill(Xe[0]);break;case Se.OPS.setDash:this.setDash(Xe[0],Xe[1]);break;case Se.OPS.setRenderingIntent:this.setRenderingIntent(Xe[0]);break;case Se.OPS.setFlatness:this.setFlatness(Xe[0]);break;case Se.OPS.setGState:this.setGState(Xe[0]);break;case Se.OPS.fill:this.fill();break;case Se.OPS.eoFill:this.eoFill();break;case Se.OPS.stroke:this.stroke();break;case Se.OPS.fillStroke:this.fillStroke();break;case Se.OPS.eoFillStroke:this.eoFillStroke();break;case Se.OPS.clip:this.clip("nonzero");break;case Se.OPS.eoClip:this.clip("evenodd");break;case Se.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Se.OPS.paintImageXObject:this.paintImageXObject(Xe[0]);break;case Se.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Xe[0]);break;case Se.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Xe[0]);break;case Se.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Xe[0],Xe[1]);break;case Se.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Se.OPS.closePath:this.closePath();break;case Se.OPS.closeStroke:this.closeStroke();break;case Se.OPS.closeFillStroke:this.closeFillStroke();break;case Se.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Se.OPS.nextLine:this.nextLine();break;case Se.OPS.transform:this.transform(Xe[0],Xe[1],Xe[2],Xe[3],Xe[4],Xe[5]);break;case Se.OPS.constructPath:this.constructPath(Xe[0],Xe[1]);break;case Se.OPS.endPath:this.endPath();break;case 92:this.group(He.items);break;default:(0,Se.warn)(`Unimplemented operator ${$e}`);break}}}setWordSpacing(ze){this.current.wordSpacing=ze}setCharSpacing(ze){this.current.charSpacing=ze}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ze,He,$e,Ue,Xe,nr){const Ge=this.current;Ge.textMatrix=Ge.lineMatrix=[ze,He,$e,Ue,Xe,nr],Ge.textMatrixScale=Math.hypot(ze,He),Ge.x=Ge.lineX=0,Ge.y=Ge.lineY=0,Ge.xcoords=[],Ge.ycoords=[],Ge.tspan=this.svgFactory.createElement("svg:tspan"),Ge.tspan.setAttributeNS(null,"font-family",Ge.fontFamily),Ge.tspan.setAttributeNS(null,"font-size",`${Me(Ge.fontSize)}px`),Ge.tspan.setAttributeNS(null,"y",Me(-Ge.y)),Ge.txtElement=this.svgFactory.createElement("svg:text"),Ge.txtElement.append(Ge.tspan)}beginText(){const ze=this.current;ze.x=ze.lineX=0,ze.y=ze.lineY=0,ze.textMatrix=Se.IDENTITY_MATRIX,ze.lineMatrix=Se.IDENTITY_MATRIX,ze.textMatrixScale=1,ze.tspan=this.svgFactory.createElement("svg:tspan"),ze.txtElement=this.svgFactory.createElement("svg:text"),ze.txtgrp=this.svgFactory.createElement("svg:g"),ze.xcoords=[],ze.ycoords=[]}moveText(ze,He){const $e=this.current;$e.x=$e.lineX+=ze,$e.y=$e.lineY+=He,$e.xcoords=[],$e.ycoords=[],$e.tspan=this.svgFactory.createElement("svg:tspan"),$e.tspan.setAttributeNS(null,"font-family",$e.fontFamily),$e.tspan.setAttributeNS(null,"font-size",`${Me($e.fontSize)}px`),$e.tspan.setAttributeNS(null,"y",Me(-$e.y))}showText(ze){const He=this.current,$e=He.font,Ue=He.fontSize;if(Ue===0)return;const Xe=He.fontSizeScale,nr=He.charSpacing,Ge=He.wordSpacing,St=He.fontDirection,mr=He.textHScale*St,pr=$e.vertical,vr=pr?1:-1,dr=$e.defaultVMetrics,gr=Ue*He.fontMatrix[0];let sr=0;for(const Sr of ze){if(Sr===null){sr+=St*Ge;continue}else if(typeof Sr=="number"){sr+=vr*Sr*Ue/1e3;continue}const Je=(Sr.isSpace?Ge:0)+nr,Ze=Sr.fontChar;let Ye,We,or=Sr.width;if(pr){let _r;const yr=Sr.vmetric||dr;_r=Sr.vmetric?yr[1]:or*.5,_r=-_r*gr;const xr=yr[2]*gr;or=yr?-yr[0]:or,Ye=_r/Xe,We=(sr+xr)/Xe}else Ye=sr/Xe,We=0;(Sr.isInFont||$e.missingFile)&&(He.xcoords.push(He.x+Ye),pr&&He.ycoords.push(-He.y+We),He.tspan.textContent+=Ze);let fr;pr?fr=or*gr-Je*St:fr=or*gr+Je*St,sr+=fr}He.tspan.setAttributeNS(null,"x",He.xcoords.map(Me).join(" ")),pr?He.tspan.setAttributeNS(null,"y",He.ycoords.map(Me).join(" ")):He.tspan.setAttributeNS(null,"y",Me(-He.y)),pr?He.y-=sr:He.x+=sr*mr,He.tspan.setAttributeNS(null,"font-family",He.fontFamily),He.tspan.setAttributeNS(null,"font-size",`${Me(He.fontSize)}px`),He.fontStyle!==Ee.fontStyle&&He.tspan.setAttributeNS(null,"font-style",He.fontStyle),He.fontWeight!==Ee.fontWeight&&He.tspan.setAttributeNS(null,"font-weight",He.fontWeight);const tr=He.textRenderingMode&Se.TextRenderingMode.FILL_STROKE_MASK;if(tr===Se.TextRenderingMode.FILL||tr===Se.TextRenderingMode.FILL_STROKE?(He.fillColor!==Ee.fillColor&&He.tspan.setAttributeNS(null,"fill",He.fillColor),He.fillAlpha<1&&He.tspan.setAttributeNS(null,"fill-opacity",He.fillAlpha)):He.textRenderingMode===Se.TextRenderingMode.ADD_TO_PATH?He.tspan.setAttributeNS(null,"fill","transparent"):He.tspan.setAttributeNS(null,"fill","none"),tr===Se.TextRenderingMode.STROKE||tr===Se.TextRenderingMode.FILL_STROKE){const Sr=1/(He.textMatrixScale||1);this._setStrokeAttributes(He.tspan,Sr)}let hr=He.textMatrix;He.textRise!==0&&(hr=hr.slice(),hr[5]+=He.textRise),He.txtElement.setAttributeNS(null,"transform",`${Oe(hr)} scale(${Me(mr)}, -1)`),He.txtElement.setAttributeNS(Ce,"xml:space","preserve"),He.txtElement.append(He.tspan),He.txtgrp.append(He.txtElement),this._ensureTransformGroup().append(He.txtElement)}setLeadingMoveText(ze,He){this.setLeading(-He),this.moveText(ze,He)}addFontStyle(ze){if(!ze.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const He=Pe(ze.data,ze.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ze.loadedName}"; src: url(${He}); }
`}setFont(ze){const He=this.current,$e=this.commonObjs.get(ze[0]);let Ue=ze[1];He.font=$e,this.embedFonts&&!$e.missingFile&&!this.embeddedFonts[$e.loadedName]&&(this.addFontStyle($e),this.embeddedFonts[$e.loadedName]=$e),He.fontMatrix=$e.fontMatrix||Se.FONT_IDENTITY_MATRIX;let Xe="normal";$e.black?Xe="900":$e.bold&&(Xe="bold");const nr=$e.italic?"italic":"normal";Ue<0?(Ue=-Ue,He.fontDirection=-1):He.fontDirection=1,He.fontSize=Ue,He.fontFamily=$e.loadedName,He.fontWeight=Xe,He.fontStyle=nr,He.tspan=this.svgFactory.createElement("svg:tspan"),He.tspan.setAttributeNS(null,"y",Me(-He.y)),He.xcoords=[],He.ycoords=[]}endText(){var He;const ze=this.current;ze.textRenderingMode&Se.TextRenderingMode.ADD_TO_PATH_FLAG&&((He=ze.txtElement)==null?void 0:He.hasChildNodes())&&(ze.element=ze.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ze){ze>0&&(this.current.lineWidth=ze)}setLineCap(ze){this.current.lineCap=De[ze]}setLineJoin(ze){this.current.lineJoin=ke[ze]}setMiterLimit(ze){this.current.miterLimit=ze}setStrokeAlpha(ze){this.current.strokeAlpha=ze}setStrokeRGBColor(ze,He,$e){this.current.strokeColor=Se.Util.makeHexColor(ze,He,$e)}setFillAlpha(ze){this.current.fillAlpha=ze}setFillRGBColor(ze,He,$e){this.current.fillColor=Se.Util.makeHexColor(ze,He,$e),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ze){this.current.strokeColor=this._makeColorN_Pattern(ze)}setFillColorN(ze){this.current.fillColor=this._makeColorN_Pattern(ze)}shadingFill(ze){const He=this.viewport.width,$e=this.viewport.height,Ue=Se.Util.inverseTransform(this.transformMatrix),Xe=Se.Util.applyTransform([0,0],Ue),nr=Se.Util.applyTransform([0,$e],Ue),Ge=Se.Util.applyTransform([He,0],Ue),St=Se.Util.applyTransform([He,$e],Ue),mr=Math.min(Xe[0],nr[0],Ge[0],St[0]),pr=Math.min(Xe[1],nr[1],Ge[1],St[1]),vr=Math.max(Xe[0],nr[0],Ge[0],St[0]),dr=Math.max(Xe[1],nr[1],Ge[1],St[1]),gr=this.svgFactory.createElement("svg:rect");gr.setAttributeNS(null,"x",mr),gr.setAttributeNS(null,"y",pr),gr.setAttributeNS(null,"width",vr-mr),gr.setAttributeNS(null,"height",dr-pr),gr.setAttributeNS(null,"fill",this._makeShadingPattern(ze)),this.current.fillAlpha<1&&gr.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(gr)}_makeColorN_Pattern(ze){return ze[0]==="TilingPattern"?this._makeTilingPattern(ze):this._makeShadingPattern(ze)}_makeTilingPattern(ze){const He=ze[1],$e=ze[2],Ue=ze[3]||Se.IDENTITY_MATRIX,[Xe,nr,Ge,St]=ze[4],mr=ze[5],pr=ze[6],vr=ze[7],dr=`shading${Ve++}`,[gr,sr,tr,hr]=Se.Util.normalizeRect([...Se.Util.applyTransform([Xe,nr],Ue),...Se.Util.applyTransform([Ge,St],Ue)]),[Sr,Je]=Se.Util.singularValueDecompose2dScale(Ue),Ze=mr*Sr,Ye=pr*Je,We=this.svgFactory.createElement("svg:pattern");We.setAttributeNS(null,"id",dr),We.setAttributeNS(null,"patternUnits","userSpaceOnUse"),We.setAttributeNS(null,"width",Ze),We.setAttributeNS(null,"height",Ye),We.setAttributeNS(null,"x",`${gr}`),We.setAttributeNS(null,"y",`${sr}`);const or=this.svg,fr=this.transformMatrix,_r=this.current.fillColor,yr=this.current.strokeColor,xr=this.svgFactory.create(tr-gr,hr-sr);if(this.svg=xr,this.transformMatrix=Ue,vr===2){const Ar=Se.Util.makeHexColor(...He);this.current.fillColor=Ar,this.current.strokeColor=Ar}return this.executeOpTree(this.convertOpList($e)),this.svg=or,this.transformMatrix=fr,this.current.fillColor=_r,this.current.strokeColor=yr,We.append(xr.childNodes[0]),this.defs.append(We),`url(#${dr})`}_makeShadingPattern(ze){switch(typeof ze=="string"&&(ze=this.objs.get(ze)),ze[0]){case"RadialAxial":const He=`shading${Ve++}`,$e=ze[3];let Ue;switch(ze[1]){case"axial":const Xe=ze[4],nr=ze[5];Ue=this.svgFactory.createElement("svg:linearGradient"),Ue.setAttributeNS(null,"id",He),Ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ue.setAttributeNS(null,"x1",Xe[0]),Ue.setAttributeNS(null,"y1",Xe[1]),Ue.setAttributeNS(null,"x2",nr[0]),Ue.setAttributeNS(null,"y2",nr[1]);break;case"radial":const Ge=ze[4],St=ze[5],mr=ze[6],pr=ze[7];Ue=this.svgFactory.createElement("svg:radialGradient"),Ue.setAttributeNS(null,"id",He),Ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ue.setAttributeNS(null,"cx",St[0]),Ue.setAttributeNS(null,"cy",St[1]),Ue.setAttributeNS(null,"r",pr),Ue.setAttributeNS(null,"fx",Ge[0]),Ue.setAttributeNS(null,"fy",Ge[1]),Ue.setAttributeNS(null,"fr",mr);break;default:throw new Error(`Unknown RadialAxial type: ${ze[1]}`)}for(const Xe of $e){const nr=this.svgFactory.createElement("svg:stop");nr.setAttributeNS(null,"offset",Xe[0]),nr.setAttributeNS(null,"stop-color",Xe[1]),Ue.append(nr)}return this.defs.append(Ue),`url(#${He})`;case"Mesh":return(0,Se.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ze[0]}`)}}setDash(ze,He){this.current.dashArray=ze,this.current.dashPhase=He}constructPath(ze,He){const $e=this.current;let Ue=$e.x,Xe=$e.y,nr=[],Ge=0;for(const St of ze)switch(St|0){case Se.OPS.rectangle:Ue=He[Ge++],Xe=He[Ge++];const mr=He[Ge++],pr=He[Ge++],vr=Ue+mr,dr=Xe+pr;nr.push("M",Me(Ue),Me(Xe),"L",Me(vr),Me(Xe),"L",Me(vr),Me(dr),"L",Me(Ue),Me(dr),"Z");break;case Se.OPS.moveTo:Ue=He[Ge++],Xe=He[Ge++],nr.push("M",Me(Ue),Me(Xe));break;case Se.OPS.lineTo:Ue=He[Ge++],Xe=He[Ge++],nr.push("L",Me(Ue),Me(Xe));break;case Se.OPS.curveTo:Ue=He[Ge+4],Xe=He[Ge+5],nr.push("C",Me(He[Ge]),Me(He[Ge+1]),Me(He[Ge+2]),Me(He[Ge+3]),Me(Ue),Me(Xe)),Ge+=6;break;case Se.OPS.curveTo2:nr.push("C",Me(Ue),Me(Xe),Me(He[Ge]),Me(He[Ge+1]),Me(He[Ge+2]),Me(He[Ge+3])),Ue=He[Ge+2],Xe=He[Ge+3],Ge+=4;break;case Se.OPS.curveTo3:Ue=He[Ge+2],Xe=He[Ge+3],nr.push("C",Me(He[Ge]),Me(He[Ge+1]),Me(Ue),Me(Xe),Me(Ue),Me(Xe)),Ge+=4;break;case Se.OPS.closePath:nr.push("Z");break}nr=nr.join(" "),$e.path&&ze.length>0&&ze[0]!==Se.OPS.rectangle&&ze[0]!==Se.OPS.moveTo?nr=$e.path.getAttributeNS(null,"d")+nr:($e.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append($e.path)),$e.path.setAttributeNS(null,"d",nr),$e.path.setAttributeNS(null,"fill","none"),$e.element=$e.path,$e.setCurrentPoint(Ue,Xe)}endPath(){const ze=this.current;if(ze.path=null,!this.pendingClip)return;if(!ze.element){this.pendingClip=null;return}const He=`clippath${Be++}`,$e=this.svgFactory.createElement("svg:clipPath");$e.setAttributeNS(null,"id",He),$e.setAttributeNS(null,"transform",Oe(this.transformMatrix));const Ue=ze.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ue.setAttributeNS(null,"clip-rule","evenodd"):Ue.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,$e.append(Ue),this.defs.append($e),ze.activeClipUrl){ze.clipGroup=null;for(const Xe of this.extraStack)Xe.clipGroup=null;$e.setAttributeNS(null,"clip-path",ze.activeClipUrl)}ze.activeClipUrl=`url(#${He})`,this.tgrp=null}clip(ze){this.pendingClip=ze}closePath(){const ze=this.current;if(ze.path){const He=`${ze.path.getAttributeNS(null,"d")}Z`;ze.path.setAttributeNS(null,"d",He)}}setLeading(ze){this.current.leading=-ze}setTextRise(ze){this.current.textRise=ze}setTextRenderingMode(ze){this.current.textRenderingMode=ze}setHScale(ze){this.current.textHScale=ze/100}setRenderingIntent(ze){}setFlatness(ze){}setGState(ze){for(const[He,$e]of ze)switch(He){case"LW":this.setLineWidth($e);break;case"LC":this.setLineCap($e);break;case"LJ":this.setLineJoin($e);break;case"ML":this.setMiterLimit($e);break;case"D":this.setDash($e[0],$e[1]);break;case"RI":this.setRenderingIntent($e);break;case"FL":this.setFlatness($e);break;case"Font":this.setFont($e);break;case"CA":this.setStrokeAlpha($e);break;case"ca":this.setFillAlpha($e);break;default:(0,Se.warn)(`Unimplemented graphic state operator ${He}`);break}}fill(){const ze=this.current;ze.element&&(ze.element.setAttributeNS(null,"fill",ze.fillColor),ze.element.setAttributeNS(null,"fill-opacity",ze.fillAlpha),this.endPath())}stroke(){const ze=this.current;ze.element&&(this._setStrokeAttributes(ze.element),ze.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ze,He=1){const $e=this.current;let Ue=$e.dashArray;He!==1&&Ue.length>0&&(Ue=Ue.map(function(Xe){return He*Xe})),ze.setAttributeNS(null,"stroke",$e.strokeColor),ze.setAttributeNS(null,"stroke-opacity",$e.strokeAlpha),ze.setAttributeNS(null,"stroke-miterlimit",Me($e.miterLimit)),ze.setAttributeNS(null,"stroke-linecap",$e.lineCap),ze.setAttributeNS(null,"stroke-linejoin",$e.lineJoin),ze.setAttributeNS(null,"stroke-width",Me(He*$e.lineWidth)+"px"),ze.setAttributeNS(null,"stroke-dasharray",Ue.map(Me).join(" ")),ze.setAttributeNS(null,"stroke-dashoffset",Me(He*$e.dashPhase)+"px")}eoFill(){var ze;(ze=this.current.element)==null||ze.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ze;(ze=this.current.element)==null||ze.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ze=this.svgFactory.createElement("svg:rect");ze.setAttributeNS(null,"x","0"),ze.setAttributeNS(null,"y","0"),ze.setAttributeNS(null,"width","1px"),ze.setAttributeNS(null,"height","1px"),ze.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ze)}paintImageXObject(ze){const He=this.getObject(ze);if(!He){(0,Se.warn)(`Dependent image with object ID ${ze} is not ready yet`);return}this.paintInlineImageXObject(He)}paintInlineImageXObject(ze,He){const $e=ze.width,Ue=ze.height,Xe=xe(ze,this.forceDataSchema,!!He),nr=this.svgFactory.createElement("svg:rect");nr.setAttributeNS(null,"x","0"),nr.setAttributeNS(null,"y","0"),nr.setAttributeNS(null,"width",Me($e)),nr.setAttributeNS(null,"height",Me(Ue)),this.current.element=nr,this.clip("nonzero");const Ge=this.svgFactory.createElement("svg:image");Ge.setAttributeNS(Te,"xlink:href",Xe),Ge.setAttributeNS(null,"x","0"),Ge.setAttributeNS(null,"y",Me(-Ue)),Ge.setAttributeNS(null,"width",Me($e)+"px"),Ge.setAttributeNS(null,"height",Me(Ue)+"px"),Ge.setAttributeNS(null,"transform",`scale(${Me(1/$e)} ${Me(-1/Ue)})`),He?He.append(Ge):this._ensureTransformGroup().append(Ge)}paintImageMaskXObject(ze){const He=this.getObject(ze.data,ze);if(He.bitmap){(0,Se.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const $e=this.current,Ue=He.width,Xe=He.height,nr=$e.fillColor;$e.maskId=`mask${je++}`;const Ge=this.svgFactory.createElement("svg:mask");Ge.setAttributeNS(null,"id",$e.maskId);const St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x","0"),St.setAttributeNS(null,"y","0"),St.setAttributeNS(null,"width",Me(Ue)),St.setAttributeNS(null,"height",Me(Xe)),St.setAttributeNS(null,"fill",nr),St.setAttributeNS(null,"mask",`url(#${$e.maskId})`),this.defs.append(Ge),this._ensureTransformGroup().append(St),this.paintInlineImageXObject(He,Ge)}paintFormXObjectBegin(ze,He){if(Array.isArray(ze)&&ze.length===6&&this.transform(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5]),He){const $e=He[2]-He[0],Ue=He[3]-He[1],Xe=this.svgFactory.createElement("svg:rect");Xe.setAttributeNS(null,"x",He[0]),Xe.setAttributeNS(null,"y",He[1]),Xe.setAttributeNS(null,"width",Me($e)),Xe.setAttributeNS(null,"height",Me(Ue)),this.current.element=Xe,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ze){const He=this.svgFactory.create(ze.width,ze.height),$e=this.svgFactory.createElement("svg:defs");He.append($e),this.defs=$e;const Ue=this.svgFactory.createElement("svg:g");return Ue.setAttributeNS(null,"transform",Oe(ze.transform)),He.append(Ue),this.svg=Ue,He}_ensureClipGroup(){if(!this.current.clipGroup){const ze=this.svgFactory.createElement("svg:g");ze.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ze),this.current.clipGroup=ze}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Oe(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Ae.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Re.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return Ee.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Ce.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return Te.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return De.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return _e.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return Se.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return _e.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return Se.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(2),_e=__w_pdfjs_require__(6),Se=__w_pdfjs_require__(26),Ae=__w_pdfjs_require__(27),Re=__w_pdfjs_require__(5),Ee=__w_pdfjs_require__(32),Ce=__w_pdfjs_require__(14),Te=__w_pdfjs_require__(35),De=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf$1);const pdf=getDefaultExportFromCjs(pdf$1.exports),pdfjsLib=_mergeNamespaces({__proto__:null,default:pdf},[pdf$1.exports]),workerSrc=""+new URL("pdf.worker.81b554e7.js",import.meta.url).href;pdf$1.exports.GlobalWorkerOptions.workerSrc=workerSrc;const plugins_pdfjsLib_ts_gM0rh1ZaGz=defineNuxtPlugin(t=>({provide:{pdfjsLib}})),_plugins=[_nuxt_components_plugin_mjs_KR1HBZs4kY,node_modules_nuxt_dist_head_runtime_lib_vueuse_head_plugin_mjs_D7WGfuP1A0,node_modules_nuxt_dist_head_runtime_mixin_plugin_mjs_prWV5EzJWI,node_modules_nuxt_dist_pages_runtime_router_mjs_qNv5Ky2ZmB,plugins_fabric_ts_3RGrkwIGrZ,plugins_gasp_ts_dji8aXnUl1,plugins_jspdf_ts_pQPjTMUaLL,plugins_lottie_ts_q1asFBKAuo,plugins_pdfjsLib_ts_gM0rh1ZaGz],_sfc_main$1={__name:"nuxt-root",setup(t){const e=defineAsyncComponent(()=>__vitePreload(()=>import("./error-component.c1acd808.js"),[],import.meta.url).then(Ae=>Ae.default||Ae)),r=useNuxtApp(),_e=r.deferHydration();provide("_route",useRoute$1()),r.hooks.callHookWith(Ae=>Ae.map(Re=>Re()),"vue:setup");const Se=useError();return onErrorCaptured((Ae,Re,Ee)=>{r.hooks.callHook("vue:error",Ae,Re,Ee).catch(Ce=>console.error("[nuxt] Error in `vue:error` hook",Ce)),isNuxtError(Ae)&&(Ae.fatal||Ae.unhandled)&&callWithNuxt(r,showError,[Ae])}),(Ae,Re)=>{const Ee=resolveComponent("App");return openBlock(),createBlock(Suspense,{onResolve:unref(_e)},{default:withCtx(()=>[unref(Se)?(openBlock(),createBlock(unref(e),{key:0,error:unref(Se)},null,8,["error"])):(openBlock(),createBlock(Ee,{key:1}))]),_:1},8,["onResolve"])}}},interpolatePath=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,r=>{var _e;return((_e=t.params[r.slice(1)])==null?void 0:_e.toString())||""}),generateRouteKey=(t,e)=>{var Se;const r=e.route.matched.find(Ae=>{var Re;return((Re=Ae.components)==null?void 0:Re.default)===e.Component.type}),_e=(Se=t!=null?t:r==null?void 0:r.meta.key)!=null?Se:r&&interpolatePath(e.route,r);return typeof _e=="function"?_e(e.route):_e},wrapInKeepAlive=(t,e)=>({default:()=>t?h$1(KeepAlive,t===!0?{}:t,e):e}),Fragment=defineComponent({setup(t,{slots:e}){return()=>{var r;return(r=e.default)==null?void 0:r.call(e)}}}),_wrapIf=(t,e,r)=>({default:()=>e?h$1(t,e===!0?{}:e,r):h$1(Fragment,{},r)}),__nuxt_component_0=defineComponent({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e}){const r=useNuxtApp();return()=>h$1(RouterView,{name:t.name,route:t.route,...e},{default:_e=>{var Ee,Ce,Te,De;if(!_e.Component)return;const Se=generateRouteKey(t.pageKey,_e),Ae=(Ce=(Ee=t.transition)!=null?Ee:_e.route.meta.pageTransition)!=null?Ce:appPageTransition,Re=r.deferHydration();return _wrapIf(Transition,Ae,wrapInKeepAlive((De=(Te=t.keepalive)!=null?Te:_e.route.meta.keepalive)!=null?De:appKeepalive,h$1(Suspense,{onPending:()=>r.callHook("page:start",_e.Component),onResolve:()=>r.callHook("page:finish",_e.Component).finally(Re)},{default:()=>h$1(Component,{key:Se,routeProps:_e,pageKey:Se,hasTransition:!!Ae})}))).default()}})}}),Component=defineComponent({props:["routeProps","pageKey","hasTransition"],setup(t){const e=t.pageKey,r=t.routeProps.route,_e={};for(const Se in t.routeProps.route)_e[Se]=computed(()=>e===t.pageKey?t.routeProps.route[Se]:r[Se]);return provide("_route",reactive(_e)),()=>h$1(t.routeProps.Component)}}),layouts={default:()=>__vitePreload(()=>import("./default.50dd9160.js"),[],import.meta.url).then(t=>t.default||t),"no-layout":()=>__vitePreload(()=>import("./noLayout.ea0fd254.js"),["noLayout.ea0fd254.js","plugin-vueexport-helper.7fd59842.js"],import.meta.url).then(t=>t.default||t)},LayoutLoader=defineComponent({props:{name:String},async setup(t,e){const r=await layouts[t.name]().then(_e=>_e.default||_e);return()=>h$1(r,{},e.slots)}}),__nuxt_component_1=defineComponent({props:{name:{type:[String,Boolean,Object],default:null}},setup(t,e){const r=inject("_route"),_e=r===useRoute$1()?useRoute():r,Se=computed(()=>{var Ae,Re;return(Re=(Ae=unref(t.name))!=null?Ae:_e.meta.layout)!=null?Re:"default"});return()=>{var Ee;const Ae=Se.value&&Se.value in layouts,Re=(Ee=_e.meta.layoutTransition)!=null?Ee:appLayoutTransition;return _wrapIf(Transition,Ae&&Re,{default:()=>_wrapIf(LayoutLoader,Ae&&{key:Se.value,name:Se.value,hasTransition:!!Re},e.slots).default()}).default()}}}),app_vue_vue_type_style_index_0_lang="",_sfc_main={__name:"app",setup(t){return useRuntimeConfig(),useAppConfig(),(e,r)=>{const _e=__nuxt_component_0,Se=__nuxt_component_1;return openBlock(),createElementBlock("div",null,[createVNode(Se,null,{default:withCtx(()=>[createVNode(_e)]),_:1})])}}};globalThis.$fetch||(globalThis.$fetch=$fetch.create({baseURL:baseURL()}));let entry;const plugins=normalizePlugins(_plugins);entry=async function(){var Se;const r=Boolean((Se=window.__NUXT__)==null?void 0:Se.serverRendered)?createSSRApp(_sfc_main$1):createApp(_sfc_main$1);r.component("App",_sfc_main);const _e=createNuxtApp({vueApp:r});try{await applyPlugins(_e,plugins)}catch(Ae){await _e.callHook("app:error",Ae),_e.payload.error=_e.payload.error||Ae}try{await _e.hooks.callHook("app:created",r),await _e.hooks.callHook("app:beforeMount",r),r.mount("#__nuxt"),await _e.hooks.callHook("app:mounted",r),await nextTick()}catch(Ae){await _e.callHook("app:error",Ae),_e.payload.error=_e.payload.error||Ae}},entry().catch(t=>{console.error("Error while mounting app:",t)});export{withCtx as A,__nuxt_component_0$1 as B,commonjsGlobal as C,_typeof as D,renderSlot as E,Fragment$1 as F,__nuxt_component_1$1 as _,onBeforeMount as a,onUnmounted as b,createElementBlock as c,unref as d,computed as e,withAsyncContext as f,getCurrentInstance as g,createBaseVNode as h,defineComponent as i,onMounted as j,useHead as k,withDirectives as l,createVNode as m,normalizeStyle as n,openBlock as o,createCommentVNode as p,createStaticVNode as q,ref as r,pushScopeId as s,toDisplayString as t,useNuxtApp as u,vShow as v,watch as w,popScopeId as x,createTextVNode as y,renderList as z};
